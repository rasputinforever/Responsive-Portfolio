webpackJsonp([0],[,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(982)),o=a(n(983)),r=a(n(984)),s=a(n(985)),l=a(n(986)),c=a(n(987)),u=a(n(988)),d=a(n(989)),f=a(n(990)),p=a(n(991)),m=a(n(992)),h=a(n(993)),g=a(n(994)),_=a(n(995)),v={isDebugEnv:"undefined"!=typeof window&&-1!==window.location.search.indexOf("debug=true"),apiUri:"undefined"!=typeof window?"https://"+window.location.hostname+"/api":"",uploadApiUri:"https://upload.vie.hitbox.tv",playerUrl:"",edgeRoute:"edge.sf.hitbox.tv",staticUrl:"https://static.smashcast.tv",imgUrl:"https://edge.sf.hitbox.tv",chatHTTPUrl:"http://chatimages.hitbox.tv",chatHTTPSUrl:"https://chatimages1.hitbox.tv",liveImgUrl:"https://edge.sf.hitbox.tv/static/img/media/live",vkBaseUrl:"https://api.vk.com/method",baseUrl:"undefined"!=typeof window?"https://"+window.location.hostname:"",passwordCheckUrl:"https://pwcheck.smashcast.tv",fbApiVersion:"v2.8",fallbackImages:{teamCover:i.default,teamLogo:o.default,userCover:i.default,userLogo:o.default,userLogoSmall:r.default,subBadge:s.default,profileCard:l.default,liveMedia:c.default,videoMedia:u.default,eSportTeam:d.default,gameBoxCover:f.default,gameBoxGridCover:p.default,gameCover:m.default,discordServer:h.default},apps:{ios:{url:"https://itunes.apple.com/us/app/smashcast/id1216704004?ls=1&mt=8",icon:_.default},android:{url:"https://play.google.com/store/apps/details?id=smashcast.app",icon:g.default}},socials:[{name:"facebook",displayName:"Facebook",url:"https://facebook.com/Smashcast",icon:"facebook"},{name:"twitter",displayName:"Twitter",translation:"footer-twitter_link-blog-url",icon:"twitter"},{name:"vk",displayName:"VK",url:"https://vk.com/smashcast",icon:"vk"},{name:"instagram",displayName:"Instagram",url:"https://instagram.com/thesmashcast.tv",icon:"instagram"}]};t.default=v},function(e,t,n){e.exports=n(1206)()},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getName=function(e){return e&&e.name?e.name:null},t.getViews=function(e){return e&&e.views?e.views:0},t.getFollowers=function(e){return e&&e.followers?e.followers:0},t.getLogo=function(e){return e&&(e.logo?e.logo:null)},t.getBackgroundImage=function(e){return e&&e.backgroundImage?e.backgroundImage:null},t.isPartner=function(e){return!(!e||!e.isPartner)&&e.isPartner},t.subscriptionsAllowed=function(e){return!(!e||!e.subscriptionsAllowed)&&e.subscriptionsAllowed}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function a(e){return"function"==typeof e&&"string"==typeof e.styledComponentId}function i(){var e=Array.from(document.querySelectorAll("style[data-styled-components]"));if(e.length){for(var t=document.createDocumentFragment(),n=0,a=e.length;n<a;n+=1)t.appendChild(e[n].parentNode.removeChild(e[n]));document.head.appendChild(t)}}function o(e){return"string"==typeof e}function r(e){return e.displayName||e.name||"Component"}function s(e){return e.replace(fe,"-").replace(pe,"")}function l(e,t){for(var n=1540483477,a=t^e.length,i=e.length,o=0;i>=4;){var r=function(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)+(e.charCodeAt(t++)<<16)+(e.charCodeAt(t)<<24)}(e,o);r=u(r,n),r=u(r^=r>>>24,n),a=u(a,n),a^=r,o+=4,i-=4}switch(i){case 3:a^=c(e,o),a=u(a^=e.charCodeAt(o+2)<<16,n);break;case 2:a=u(a^=c(e,o),n);break;case 1:a=u(a^=e.charCodeAt(o),n)}return a^=a>>>13,a=u(a,n),(a^=a>>>15)>>>0}function c(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)}function u(e,t){return(65535&(e|=0))*(t|=0)+(((e>>>16)*t&65535)<<16)|0}n.d(t,"css",function(){return L}),n.d(t,"keyframes",function(){return Ce}),n.d(t,"injectGlobal",function(){return Me}),n.d(t,"isStyledComponent",function(){return a}),n.d(t,"consolidateStreamedStyles",function(){return i}),n.d(t,"ThemeProvider",function(){return _e}),n.d(t,"withTheme",function(){return $e}),n.d(t,"ServerStyleSheet",function(){return le}),n.d(t,"StyleSheetManager",function(){return ie});var d=n(1215),f=n.n(d),p=n(1217),m=n.n(p),h=n(1218),g=n.n(h),_=n(1),v=n.n(_),b=n(1219),y=n.n(b),w=n(1222),$=n.n(w),x=/([A-Z])/g,k=function(e){return e.replace(x,"-$1").toLowerCase()},S=/^ms-/,C=function(e){return k(e).replace(S,"-ms-")},M=function e(t,n){return t.reduce(function(t,a){return void 0===a||null===a||!1===a||""===a?t:Array.isArray(a)?[].concat(t,e(a,n)):a.hasOwnProperty("styledComponentId")?[].concat(t,["."+a.styledComponentId]):"function"==typeof a?n?t.concat.apply(t,e([a(n)],n)):t.concat(a):t.concat(f()(a)?function e(t,n){var a=Object.keys(t).filter(function(e){var n=t[e];return void 0!==n&&null!==n&&!1!==n&&""!==n}).map(function(n){return f()(t[n])?e(t[n],n):C(n)+": "+t[n]+";"}).join(" ");return n?n+" {\n  "+a+"\n}":a}(a):a.toString())},[])},E=new m.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!0}),T=[],P=g()(function(e){T.push(e)});E.use([P,function(e){if(-2===e){var t=T;return T=[],t}}]);var O=function(e,t,n){var a=e.join("").replace(/^\s*\/\/.*$/gm,"");return E(n||!t?"":t,t&&n?n+" "+t+" { "+a+" }":a)},j="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),A=j.length,I=function(e){var t="",n=void 0;for(n=e;n>A;n=Math.floor(n/A))t=j[n%A]+t;return j[n%A]+t},L=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return M(function(e,t){return t.reduce(function(t,n,a){return t.concat(n,e[a+1])},[e[0]])}(e,n))},U=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,D=function(e){var t=""+(e||""),n=[];return t.replace(U,function(e,t,a){return n.push({componentId:t,matchIndex:a}),e}),n.map(function(e,a){var i=e.componentId,o=e.matchIndex,r=n[a+1];return{componentId:i,cssFromDOM:r?t.slice(o,r.matchIndex):t.slice(o)}})},N=function(){return n.nc},R=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},F=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},z=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},H=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},V=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},q=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t+=1)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t];throw new Error("")},G=function(e,t,n){if(void 0===t||0===t.length)return!1;var a=e.cssRules.length,i=n<=a?n:a;try{e.insertRule(t,i)}catch(e){return!1}return!0},W=function(){function e(){R(this,e)}return e.prototype.toReactElement=function(){throw new Error("")},e.prototype.clone=function(){throw new Error("")},e.prototype.getComponentIds=function(){return Object.keys(this.components)},e}(),Y=void 0;Y=function(e){function t(n,a,i){R(this,t);var o=V(this,e.call(this)),r=N();r&&n.setAttribute("nonce",r);var s=D(i);return o.el=n,o.isLocal=a,o.ready=!1,o.componentSizes=[],o.size=s.length,o.components=s.reduce(function(e,t){return e[t.componentId]=t,e},{}),o}return z(t,e),t.prototype.replaceElement=function(){var e=this,t=this.el.cloneNode(!1);if(t.setAttribute(X,""),!this.el.parentNode)throw new Error("");this.el.parentNode.replaceChild(t,this.el),this.el=t,this.ready=!0;var n=q(t);Object.keys(this.components).forEach(function(t){for(var a=e.components[t],i=a.cssFromDOM,o=O([i]),r=o.length,s=0,l=0;l<r;l+=1)G(n,o[l],n.cssRules.length)&&(s+=1);a.componentIndex=e.componentSizes.length,a.css=o.join(" "),e.componentSizes.push(s)})},t.prototype.isSealed=function(){return this.size>=1e3},t.prototype.addComponent=function(e){this.ready||this.replaceElement(),this.components[e]={componentIndex:this.componentSizes.length,css:""},this.componentSizes.push(0),this.size+=1},t.prototype.inject=function(e,t){this.ready||this.replaceElement();for(var n=this.components[e],a=t.length,i=q(this.el),o=n.componentIndex,r=function(e,t){for(var n=0,a=0;a<=t;a+=1)n+=e[a];return n}(this.componentSizes,o),s=0,l=0;l<a;l+=1){var c=t[l];G(i,c,r+s)&&(n.css+=" "+c,s+=1)}this.componentSizes[o]+=s},t.prototype.toRawCSS=function(){return""},t.prototype.toHTML=function(){return""},t}(W);var K,J={create:function(){for(var e=[],t={},n=document.querySelectorAll("["+X+"]"),a=n.length,i=0;i<a;i+=1){var o=n[i],r=o.getAttribute(X);r&&r.trim().split(/\s+/).forEach(function(e){t[e]=!0}),e.push(new Y(o,"true"===o.getAttribute(Q),o.innerHTML))}return new ae(function(e){var t=document.createElement("style");if(t.type="text/css",t.setAttribute(X,""),t.setAttribute(Q,e?"true":"false"),!document.head)throw new Error("");return document.head.appendChild(t),new Y(t,e)},e,t)}},X="data-styled-components",Q="data-styled-components-is-local",Z="__styled-components-stylesheet__",ee=null,te=[],ne="undefined"!=typeof document,ae=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};R(this,e),this.hashes={},this.deferredInjections={},this.stylesCacheable=ne,this.tagConstructor=t,this.tags=n,this.names=a,this.constructComponentTagMap()}return e.prototype.constructComponentTagMap=function(){var e=this;this.componentTags={},this.tags.forEach(function(t){t.getComponentIds().forEach(function(n){e.componentTags[n]=t})})},e.prototype.getName=function(e){return this.hashes[e.toString()]},e.prototype.alreadyInjected=function(e,t){return!!this.names[t]&&(this.hashes[e.toString()]=t,!0)},e.prototype.hasInjectedComponent=function(e){return!!this.componentTags[e]},e.prototype.deferredInject=function(e,t,n){this===ee&&te.forEach(function(a){a.deferredInject(e,t,n)}),this.getOrCreateTag(e,t),this.deferredInjections[e]=n},e.prototype.inject=function(e,t,n,a,i){this===ee&&te.forEach(function(a){a.inject(e,t,n)});var o=this.getOrCreateTag(e,t),r=this.deferredInjections[e];r&&(o.inject(e,r),delete this.deferredInjections[e]),o.inject(e,n,i),a&&i&&(this.hashes[a.toString()]=i)},e.prototype.toHTML=function(){return this.tags.map(function(e){return e.toHTML()}).join("")},e.prototype.toReactElements=function(){return this.tags.map(function(e,t){return e.toReactElement("sc-"+t)})},e.prototype.getOrCreateTag=function(e,t){var n=this.componentTags[e];if(n)return n;var a=this.tags[this.tags.length-1],i=!a||a.isSealed()||a.isLocal!==t?this.createNewTag(t):a;return this.componentTags[e]=i,i.addComponent(e),i},e.prototype.createNewTag=function(e){var t=this.tagConstructor(e);return this.tags.push(t),t},e.reset=function(t){ee=e.create(t)},e.create=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:!ne)?le:J).create()},e.clone=function(t){var n=new e(t.tagConstructor,t.tags.map(function(e){return e.clone()}),B({},t.names));return n.hashes=B({},t.hashes),n.deferredInjections=B({},t.deferredInjections),te.push(n),n},F(e,null,[{key:"instance",get:function(){return ee||(ee=e.create())}}]),e}(),ie=function(e){function t(){return R(this,t),V(this,e.apply(this,arguments))}return z(t,e),t.prototype.getChildContext=function(){var e;return e={},e[Z]=this.props.sheet,e},t.prototype.render=function(){return v.a.Children.only(this.props.children)},t}(_.Component);ie.childContextTypes=(K={},K[Z]=y.a.oneOfType([y.a.instanceOf(ae),y.a.instanceOf(le)]).isRequired,K);var oe,re,se=function(){function e(t){R(this,e),this.emitted=!1,this.isLocal=t,this.isProduction=!0,this.components={},this.size=0,this.names=[]}return e.prototype.isSealed=function(){return this.emitted},e.prototype.getComponentIds=function(){return Object.keys(this.components)},e.prototype.addComponent=function(e){if(this.components[e])throw new Error("");this.components[e]={componentId:e,css:""},this.size+=1},e.prototype.concatenateCSS=function(){var e=this;return Object.keys(this.components).reduce(function(t,n){return t+e.components[n].css},"")},e.prototype.inject=function(e,t,n){var a=this.components[e];if(!a)throw new Error("");""===a.css&&(a.css="/* sc-component-id: "+e+" */\n");for(var i=t.length,o=0;o<i;o+=1){var r=t[o];a.css+=(r+"\n").replace(/\n*$/,"\n")}n&&this.names.push(n)},e.prototype.toHTML=function(){var e=['type="text/css"',X+'="'+this.names.join(" ")+'"',Q+'="'+(this.isLocal?"true":"false")+'"'],t=N();return t&&e.push('nonce="'+t+'"'),this.emitted=!0,"<style "+e.join(" ")+">"+this.concatenateCSS()+"</style>"},e.prototype.toReactElement=function(e){var t,n=(t={},t[X]=this.names.join(" "),t[Q]=this.isLocal.toString(),t),a=N();return a&&(n.nonce=a),this.emitted=!0,v.a.createElement("style",B({key:e,type:"text/css"},n,{dangerouslySetInnerHTML:{__html:this.concatenateCSS()}}))},e.prototype.clone=function(){var t=this,n=new e(this.isLocal);return n.names=[].concat(this.names),n.size=this.size,n.components=Object.keys(this.components).reduce(function(e,n){return e[n]=B({},t.components[n]),e},{}),n},e}(),le=function(){function e(){R(this,e),this.instance=ae.clone(ae.instance),this.isStreaming=!1}return e.prototype.collectStyles=function(e){if(this.closed)throw new Error("");return v.a.createElement(ie,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.closed||(te.splice(te.indexOf(this.instance),1),this.closed=!0),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.closed||(te.splice(te.indexOf(this.instance),1),this.closed=!0),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new Error("")},e.create=function(){return new ae(function(e){return new se(e)})},e}(),ce=/^((?:s(?:uppressContentEditableWarn|croll|pac)|(?:shape|image|text)Render|(?:letter|word)Spac|vHang|hang)ing|(?:on(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:Animation|Touch|Load|Drag)Start|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|TimeUpdate|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|MouseDown|P(?:rogress|laying)|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|KeyPress|DragEnd|Key(?:Down|Up)|(?:Wait|Seek)ing|(?:MouseU|Dro)p|Scroll|Paste|Focus|Abort|Drag|Play|Load|Blur)Captur|alignmentBaselin|(?:limitingConeAng|xlink(?:(?:Arcr|R)o|Tit)|s(?:urfaceSca|ty|ca)|unselectab|baseProfi|fontSty|(?:focus|dragg)ab|multip|profi|tit)l|d(?:ominantBaselin|efaultValu)|a(?:uto(?:Capitaliz|Revers|Sav)|dditiv)|(?:(?:formNoValid|xlinkActu|noValid|accumul|rot)a|autoComple|decelera)t|(?:(?:attribute|item)T|datat)yp|(?:attribute|glyph)Nam|playsInlin|(?:formE|e)ncTyp|(?:writing|input|edge)Mod|(?:xlinkTy|itemSco|keyTy|slo)p|(?:amplitu|mo)d|(?:xmlSpa|non)c|fillRul|(?:dateTi|na)m|r(?:esourc|ol)|xmlBas|wmod)e|(?:glyphOrientationHorizont|loc)al|(?:externalResourcesRequir|select|revers|mut)ed|c(?:o(?:lorInterpolationFilter|ntrol|ord)s|o(?:lor(?:Interpolation)?|ntent)|(?:ontentS(?:cript|tyle)Typ|o(?:ntentEditab|lorProfi)l|l(?:assNam|ipRul)|a(?:lcMod|ptur)|it)e|olorRendering|l(?:ipPathUnits|assID)|o(?:ntextMenu|ls)|h(?:eckedLink|a(?:llenge|rSet)|ildren|ecked)|ell(?:Spac|Padd)ing|(?:rossOrigi|olSpa)n|apHeight|lip(?:Path)?|ursor|[xy])|glyphOrientationVertical|d(?:angerouslySetInnerHTML|efaultChecked|ownload|isabled|isplay|[xy])|(?:s(?:trikethroughThickn|eaml)es|(?:und|ov)erlineThicknes|r(?:equiredExtension|adiu)|(?:requiredFeatur|tableValu|stitchTil|numOctav|filterR)e|key(?:(?:Splin|Tim)e|Param)|autoFocu|header|bia)s|(?:(?:st(?:rikethroughPosi|dDevia)|(?:und|ov)erlinePosi|(?:textDecor|elev)a|orienta)tio|(?:strokeLinejo|orig)i|formActio|zoomAndPa|onFocusI|directio|(?:vers|act)io|rowSpa|begi|ico)n|o(?:n(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:Animation|Touch|Load|Drag)Start|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|TimeUpdate|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|MouseDown|P(?:rogress|laying)|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|KeyPress|DragEnd|Key(?:Down|Up)|(?:Wait|Seek)ing|(?:MouseU|Dro)p|Scroll|Paste|Focus|Abort|Drag|Play|Load|Blur)|rient)|p(?:reserveA(?:spectRatio|lpha)|ointsAt[X-Z]|anose1)|(?:patternContent|ma(?:sk(?:Content)?|rker)|primitive|gradient|pattern|filter)Units|(?:gradientT|patternT|t)ransform|(?:(?:allowTranspar|baseFrequ)enc|re(?:ferrerPolic|adOnl)|(?:(?:st(?:roke|op)O|floodO|fillO|o)pac|integr|secur)it|visibilit|fontFamil|accessKe|propert|summar)y|(?:strokeMiterlimi|(?:specularConsta|repeatCou|fontVaria)n|(?:(?:specularE|e)xpon|renderingInt|asc)en|d(?:iffuseConsta|esce)n|(?:fontSizeAdju|lengthAdju|manife)s|baselineShif|vectorEffec|(?:(?:mar(?:ker|gin)|x)H|accentH|fontW)eigh|a(?:utoCorrec|bou)|markerStar|onFocusOu|in(?:tercep|lis)|restar|forma|heigh|lis)t|(?:(?:st(?:rokeDasho|artO)|o)ffs|acceptChars|formTarg|viewTarg|srcS)et|(?:(?:enableBackgrou|markerE)n|s(?:p(?:readMetho|ee)|ee)|formMetho|m(?:arkerMi|etho)|preloa|kin)d|k(?:ernel(?:UnitLength|Matrix)|[1-4])|(?:[xy]ChannelSelect|lightingCol|textAnch|floodCol|stopCol|operat|htmlF)or|(?:allowFullScre|hidd)en|strokeDasharray|systemLanguage|(?:strokeLineca|itemPro|useMa|wra|loo)p|v(?:Mathematical|ert(?:Origin[XY]|AdvY)|alues|ocab)|(?:pointerEve|keyPoi)nts|unicodeRange|(?:(?:allowReord|placehold|frameBord|paintOrd|post|ord)e|repeatDu|d(?:efe|u))r|mathematical|(?:vI|i)deographic|h(?:oriz(?:Origin|Adv)X|ttpEquiv)|u(?:nicodeBidi|[12])|(?:fontStretc|hig)h|(?:(?:mar(?:ker|gin)W|strokeW)id|azimu)th|vAlphabetic|mediaGroup|spellCheck|(?:unitsPerE|optimu|fro)m|r(?:adioGroup|e(?:sults|f[XY]|l)|ows|[xy])|(?:xmlnsXl|valueL)ink|a(?:rabicForm|l(?:phabetic|t)|sync)|pathLength|(?:text|m(?:in|ax))Length|innerHTML|xlinkShow|(?:xlinkHr|glyphR)ef|r(?:e(?:quired|sult|f))?|o(?:verflow|pen)|(?:tabInde|(?:sand|b)bo|viewBo)x|(?:(?:href|xml|src)La|kerni)ng|f(?:o(?:ntSize|rm)|il(?:ter|l))|autoPlay|unicode|p(?:attern|oints)|t(?:arget[XY]|o)|i(?:temRef|n2|s)|divisor|d(?:efault|ata|ir)?|srcDoc|s(?:coped|te(?:m[hv]|p)|pan)|(?:width|size)s|(?:stri|la)ng|prefix|itemID|s(?:t(?:roke|art)|hape|cope|rc)|a(?:ccept|s)|t(?:arget|ype)|typeof|width|value|x(?:mlns)?|label|m(?:edia|a(?:sk|x)|in)|size|href|k(?:ey)?|end|low|x[12]|i[dn]|y[12]|g[12]|by|f[xy]|[yz])$/,ue=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),de=function(e,t,n){var a=n&&e.theme===n.theme;return e.theme&&!a?e.theme:t},fe=/[[\].#*$><+~=|^:(),"'`-]+/g,pe=/(^-|-$)/g,me="__styled-components__",he=me+"next__",ge=y.a.shape({getTheme:y.a.func,subscribe:y.a.func,unsubscribe:y.a.func}),_e=function(e){function t(){R(this,t);var n=V(this,e.call(this));return n.unsubscribeToOuterId=-1,n.getTheme=n.getTheme.bind(n),n}return z(t,e),t.prototype.componentWillMount=function(){var e=this,t=this.context[he];void 0!==t&&(this.unsubscribeToOuterId=t.subscribe(function(t){e.outerTheme=t,void 0!==e.broadcast&&e.publish(e.props.theme)})),this.broadcast=function(e){var t={},n=0,a=e;return{publish:function(e){a=e;for(var n in t){var i=t[n];void 0!==i&&i(a)}},subscribe:function(e){var i=n;return t[i]=e,n+=1,e(a),i},unsubscribe:function(e){t[e]=void 0}}}(this.getTheme())},t.prototype.getChildContext=function(){var e,t=this;return B({},this.context,(e={},e[he]={getTheme:this.getTheme,subscribe:this.broadcast.subscribe,unsubscribe:this.broadcast.unsubscribe},e[me]=function(e){var n=t.broadcast.subscribe(e);return function(){return t.broadcast.unsubscribe(n)}},e))},t.prototype.componentWillReceiveProps=function(e){this.props.theme!==e.theme&&this.publish(e.theme)},t.prototype.componentWillUnmount=function(){-1!==this.unsubscribeToOuterId&&this.context[he].unsubscribe(this.unsubscribeToOuterId)},t.prototype.getTheme=function(e){var t=e||this.props.theme;if(function(e){return"function"==typeof e}(t))return t(this.outerTheme);if(!f()(t))throw new Error("");return B({},this.outerTheme,t)},t.prototype.publish=function(e){this.broadcast.publish(this.getTheme(e))},t.prototype.render=function(){return this.props.children?v.a.Children.only(this.props.children):null},t}(_.Component);_e.childContextTypes=(oe={},oe[me]=y.a.func,oe[he]=ge,oe),_e.contextTypes=(re={},re[he]=ge,re);var ve={},be=function e(t,n){for(var i=0;i<t.length;i+=1){var o=t[i];if(Array.isArray(o)&&!e(o))return!1;if("function"==typeof o&&!a(o))return!1}if(void 0!==n)for(var r in n)if("function"==typeof n[r])return!1;return!0},ye=void 0!==e&&e.hot&&!1,we=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],$e=function(e){var t,n=e.displayName||e.name||"Component",i="function"==typeof e&&!(e.prototype&&"isReactComponent"in e.prototype),o=a(e)||i,r=function(t){function n(){var e,a,i;R(this,n);for(var o=arguments.length,r=Array(o),s=0;s<o;s++)r[s]=arguments[s];return e=a=V(this,t.call.apply(t,[this].concat(r))),a.state={},a.unsubscribeId=-1,i=e,V(a,i)}return z(n,t),n.prototype.componentWillMount=function(){var e=this,t=this.constructor.defaultProps,n=this.context[he],a=de(this.props,void 0,t);if(void 0===n&&void 0!==a)this.setState({theme:a});else{var i=n.subscribe;this.unsubscribeId=i(function(n){var a=de(e.props,n,t);e.setState({theme:a})})}},n.prototype.componentWillReceiveProps=function(e){var t=this.constructor.defaultProps;this.setState(function(n){return{theme:de(e,n.theme,t)}})},n.prototype.componentWillUnmount=function(){-1!==this.unsubscribeId&&this.context[he].unsubscribe(this.unsubscribeId)},n.prototype.render=function(){var t=B({theme:this.state.theme},this.props);return o||(t.ref=t.innerRef,delete t.innerRef),v.a.createElement(e,t)},n}(v.a.Component);return r.displayName="WithTheme("+n+")",r.styledComponentId="withTheme",r.contextTypes=(t={},t[me]=y.a.func,t[he]=ge,t),$()(r,e)},xe=function(e,t,n){return function(){function a(e,t,n){R(this,a),this.rules=e,this.isStatic=!ye&&be(e,t),this.componentId=n,ae.instance.hasInjectedComponent(this.componentId)||ae.instance.deferredInject(n,!0,[""])}return a.prototype.generateAndInjectStyles=function(a,i){var o=this.isStatic,r=this.lastClassName;if(o&&void 0!==r)return r;var s=t(this.rules,a),c=l(this.componentId+s.join("")),u=i.stylesCacheable,d=i.getName(c);if(void 0!==d)return u&&(this.lastClassName=d),d;var f=e(c);if(u&&(this.lastClassName=d),i.alreadyInjected(c,f))return f;var p=n(s,"."+f);return i.inject(this.componentId,!0,p,c,f),f},a.generateName=function(t){return e(l(t))},a}()}(I,M,O),ke=function(e){return function t(n,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof a&&"function"!=typeof a)throw new Error("");var o=function(t){for(var o=arguments.length,r=Array(o>1?o-1:0),s=1;s<o;s++)r[s-1]=arguments[s];return n(a,i,e.apply(void 0,[t].concat(r)))};return o.withConfig=function(e){return t(n,a,B({},i,e))},o.attrs=function(e){return t(n,a,B({},i,{attrs:B({},i.attrs||{},e)}))},o}}(L),Se=function(e,t){var n={},i=function(e){function t(){var n,a,i;R(this,t);for(var o=arguments.length,r=Array(o),s=0;s<o;s++)r[s]=arguments[s];return n=a=V(this,e.call.apply(e,[this].concat(r))),a.attrs={},a.state={theme:null,generatedClassName:""},a.unsubscribeId=-1,i=n,V(a,i)}return z(t,e),t.prototype.unsubscribeFromContext=function(){-1!==this.unsubscribeId&&this.context[he].unsubscribe(this.unsubscribeId)},t.prototype.buildExecutionContext=function(e,t){var n=this.constructor.attrs,a=B({},t,{theme:e});return void 0===n?a:(this.attrs=Object.keys(n).reduce(function(e,t){var i=n[t];return e[t]="function"==typeof i?i(a):i,e},{}),B({},a,this.attrs))},t.prototype.generateAndInjectStyles=function(e,t){var n=this.constructor,a=n.attrs,i=n.componentStyle,o=(n.warnTooManyClasses,this.context[Z]||ae.instance);if(i.isStatic&&void 0===a)return i.generateAndInjectStyles(ve,o);var r=this.buildExecutionContext(e,t);return i.generateAndInjectStyles(r,o)},t.prototype.componentWillMount=function(){var e=this,t=this.constructor.componentStyle,n=this.context[he];if(t.isStatic){var a=this.generateAndInjectStyles(ve,this.props);this.setState({generatedClassName:a})}else if(void 0!==n){var i=n.subscribe;this.unsubscribeId=i(function(t){var n=de(e.props,t,e.constructor.defaultProps),a=e.generateAndInjectStyles(n,e.props);e.setState({theme:n,generatedClassName:a})})}else{var o=this.props.theme||{},r=this.generateAndInjectStyles(o,this.props);this.setState({theme:o,generatedClassName:r})}},t.prototype.componentWillReceiveProps=function(e){var t=this;this.constructor.componentStyle.isStatic||this.setState(function(n){var a=de(e,n.theme,t.constructor.defaultProps);return{theme:a,generatedClassName:t.generateAndInjectStyles(a,e)}})},t.prototype.componentWillUnmount=function(){this.unsubscribeFromContext()},t.prototype.render=function(){var e=this,t=this.props.innerRef,n=this.state.generatedClassName,i=this.constructor,r=i.styledComponentId,s=i.target,l=o(s),c=[this.props.className,r,this.attrs.className,n].filter(Boolean).join(" "),u=B({},this.attrs,{className:c});a(s)?u.innerRef=t:u.ref=t;var d=Object.keys(this.props).reduce(function(t,n){return"innerRef"===n||"className"===n||l&&!function(e){return ce.test(e)||ue(e.toLowerCase())}(n)||(t[n]=e.props[n]),t},u);return Object(_.createElement)(s,d)},t}(_.Component);return function a(l,c,u){var d,f=c.displayName,p=void 0===f?o(l)?"styled."+l:"Styled("+r(l)+")":f,m=c.componentId,h=void 0===m?function(t,a){var i="string"!=typeof t?"sc":s(t),o=void 0;if(t)o=i+"-"+e.generateName(i);else{var r=(n[i]||0)+1;n[i]=r,o=i+"-"+e.generateName(i+r)}return void 0!==a?a+"-"+o:o}(c.displayName,c.parentComponentId):m,g=c.ParentComponent,_=void 0===g?i:g,v=c.rules,b=c.attrs,w=c.displayName&&c.componentId?s(c.displayName)+"-"+c.componentId:h,$=new e(void 0===v?u:v.concat(u),b,w),x=function(e){function n(){return R(this,n),V(this,e.apply(this,arguments))}return z(n,e),n.withComponent=function(e){var t=c.componentId,i=H(c,["componentId"]),l=t&&t+"-"+(o(e)?e:s(r(e))),d=B({},i,{componentId:l,ParentComponent:n});return a(e,d,u)},F(n,null,[{key:"extend",get:function(){var e=c.rules,i=c.componentId,o=H(c,["rules","componentId"]),r=void 0===e?u:e.concat(u),s=B({},o,{rules:r,parentComponentId:i,ParentComponent:n});return t(a,l,s)}}]),n}(_);return x.contextTypes=(d={},d[me]=y.a.func,d[he]=ge,d[Z]=y.a.oneOfType([y.a.instanceOf(ae),y.a.instanceOf(le)]),d),x.displayName=p,x.styledComponentId=w,x.attrs=b,x.componentStyle=$,x.target=l,x}}(xe,ke),Ce=function(e,t,n){return function(a){for(var i=arguments.length,o=Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];var s=n.apply(void 0,[a].concat(o)),c=l(JSON.stringify(s).replace(/\s|\\n/g,"")),u=ae.instance.getName(c);if(u)return u;var d=e(c);if(ae.instance.alreadyInjected(c,d))return d;var f=t(s,d,"@keyframes");return ae.instance.inject("sc-keyframes-"+d,!0,f,c,d),d}}(I,O,L),Me=function(e,t){return function(n){for(var a=arguments.length,i=Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];var r=t.apply(void 0,[n].concat(i)),s="sc-global-"+l(JSON.stringify(r));ae.instance.hasInjectedComponent(s)||ae.instance.inject(s,!1,e(r))}}(O,L),Ee=function(e,t){var n=function(n){return t(e,n)};return we.forEach(function(e){n[e]=n(e)}),n}(Se,ke);t.default=Ee}.call(t,n(1214)(e))},function(e,t){e.exports=function(e){return void 0===e}},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=R.accessLevels;e.state("restorePassword",{url:"/restore?restorekey",parent:"home",views:{"viewMain@":{template:"<reset-password-form></reset-password-form>"}},access:n.anon,section:"restore",title:'{{"view_modal-login_header_reset-password" | translate}}',resolve:{isAuthenticated:["$state","$q","$location","loggedUser",function(e,t,n,a){var i=t.defer(),o=i.promise;return a.isAuthenticated()?(i.reject(),e.go("home.root"),n.search("restorekey",null)):i.resolve(),o}]}}),t.when("/signup?restorekey",["$state","$match",function(e,t){t.restoreKey||t.restorekey?e.go("restorePassword",t):e.go("login",{navsection:"signup"})}])}function o(e,t,n,a,i,o){var r="";t.$on("$stateChangeStart",function(s,l,c,u){function d(){i.setIntended(l.name,c),n.go("login"),s.preventDefault()}if(t.cachebuster=Math.round((new Date).getTime()/1e3),t.error=null,t.section=l.section,t.detached=l.detached,r=e.search(),"login"===u.name&&i.clearIntended(),"settings"===l.section||"community"===l.section||"admin"===l.section||l.requiresAuth){var f=c.tab?c.tab:l.tab;if("connections"===f&&(f="following"),!o.isAuthenticated())return void d();a.authorize({accessLevel:l.access,resource:f,resource_id:c.user||-1}).then(function(e){e||n.go("home.root"),s.preventDefault()}).catch(d)}}),t.$on("$stateChangeSuccess",function(){delete r.a,e.search(r)})}function r(e,t,n,a,i,o){var r=!1;e.subscribe(function(){var a=e.getState();a.loginModal&&!a.user?function(e,a){var s=void 0;if(!r){switch(r=!0,e){case d.TYPE_SIGNIN:s="popupLogin";break;case d.TYPE_SIGNUP:default:s="popupSignup"}o.trackEvent("interface",s),t.start(),t.action(n.SIGNIN,a?{signinPurpose:a}:null),e===d.TYPE_SIGNIN&&t.action(n.SHOW_LOGIN),i.open(u.loginModalOptions)}}(a.loginModal.type,a.loginModal.title):r=!1})}function s(e,t,n,a,i,o,r,s,l){var u=!1;a.subscribe(function(){var e=a.getState().user;e&&e._logout&&function(e){if(!u){u=!0;var n=function(){a.dispatch((0,c.reset)(!0)),u=!1,i.trackEvent("user","logout"),s.action(l.LOGOUT),t.transitionTo(t.current,r,{reload:!0,inherit:!0,notify:!0})},d=e.name,f=e.authToken;o.logout({user_name:d,authToken:f}).then(n).catch(n)}}(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTING_CONFIG=void 0;var l=a(n(0)),c=n(74),u=n(469),d=n(288),f=a(n(896)),p=a(n(980)),m=a(n(981)),h=a(n(996)),g=a(n(997)),_=a(n(998)),v=a(n(999)),b=a(n(1e3)),y=a(n(1001)),w=a(n(1002)),$=a(n(1003)),x=a(n(1004)),k=a(n(1005)),S=a(n(1006)),C=a(n(1007)),M=a(n(1010)),E=a(n(1012)),T=a(n(1014)),P=a(n(1016)),O=a(n(1019)),j=a(n(1022)),A=a(n(1025)),I=a(n(1027)),L=a(n(1029)),U=a(n(1031)),D=a(n(1033)),N=a(n(1034));s.$inject=["$rootScope","$state","$uibModal","$ngRedux","Analytics","Auth","$stateParams","authSigninStateDiagram","AuthSigninAction"],r.$inject=["$ngRedux","authSigninStateDiagram","AuthSigninAction","$translate","$uibModal","Analytics"],o.$inject=["$location","$rootScope","$state","Auth","IntendedState","loggedUser"],i.$inject=["$stateProvider","$urlRouterProvider"];var R=t.ROUTING_CONFIG={userRoles:{public:1,user:2,community:4,admin:8},accessLevels:{public:15,anon:1,user:14,community:12,admin:8}};t.default=l.default.module("htbx.auth",[f.default]).config(i).run(o).run(r).run(s).factory("Auth",p.default).factory("UserVerification",m.default).factory("RestorePassword",_.default).factory("User",h.default).factory("UserStore",x.default).factory("PasswordStrength",v.default).factory("checkPasswordCall",b.default).factory("ExternalAuth",y.default).factory("UserAccess",D.default).factory("Login",N.default).service("IntendedState",g.default).service("UserName",$.default).service("loggedUser",w.default).controller("LoginPageCtrl",k.default).directive("focusOnShow",S.default).component("legacyNote",C.default).component("htbxAuthFieldError",M.default).component("currentPasswordField",E.default).component("facebookLoginButton",T.default).component("newPasswordField",P.default).component("recaptchaCheckField",O.default).component("resetPasswordForm",j.default).component("tfaCodeField",A.default).component("userEmailField",I.default).component("userNameField",L.default).component("vkConnectButton",U.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"PermanentStore",function(){return o});var a=n(765),i=n.n(a),o=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storage=i.a,n.forEach(function(e){t.storage.addPlugin(e)}),this.mergeFromLegacy()}return e.prototype.set=function(e,t){return this.storage.set("ls/"+e,t)},e.prototype.remove=function(e){return this.storage.remove("ls/"+e)},e.prototype.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.storage.get("ls/"+e,t);return null===n?t:n},e.prototype.clear=function(){return this.storage.clearAll()},e.prototype.mergeFromLegacy=function(){var e=this;this.storage.each(function(t,n){n.startsWith("ls.")&&(e.set(n.replace("ls.",""),t),i.a.remove(n))})},e}();t.default=new o},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inputBorderHover=t.inputBorder=t.input=t.brands=t.greenDark=t.green=t.grayDark=t.graySuperLight=t.grayLight=t.grayCool=t.gray=t.redLight=t.red=t.orangeLight=t.orange=t.blueDark=t.blue=t.lineDark=t.lineLight=t.line=t.textLight=t.text=t.backgroundLight=t.background=t.secondary=t.primary=void 0;var a=n(180),i=t.primary="#208efc",o=t.secondary="#eb5055",r=t.background="#252729",s=t.backgroundLight="#F4F4F4",l=t.text="#333",c=t.textLight="#ccc",u=t.line="#ccc",d=t.lineLight=(0,a.hsl)(0,0,.85),f=t.lineDark="#333",p=t.blue=i,m=t.blueDark="#133c65",h=t.orange="#d60",g=t.orangeLight="#e06228",_=t.red=o,v=t.redLight="#f92020",b=t.gray="#999",y=t.grayCool="#BDCAD1",w=t.grayLight="#ccc",$=t.graySuperLight="#ddd",x=t.grayDark="#404040",k=t.green="#3a0",S=t.greenDark="#270",C=t.brands={facebook:"#3c5b9b",twitter:"#2daae1",reddit:"#5f99cf",vk:"#597ba5",instagram:"#f20069",youtube:"#cc231f",discord:"#7289da",discordHover:"#697ec4",discordRole:"#87909c"},M=t.input="#000",E=t.inputBorder="#ccc",T=t.inputBorderHover="#208efc";t.default={primary:i,secondary:o,background:r,backgroundLight:s,text:l,textLight:c,line:u,lineLight:d,lineDark:f,blue:p,blueDark:m,orange:h,orangeLight:g,red:_,redLight:v,gray:b,grayCool:y,grayLight:w,graySuperLight:$,grayDark:x,green:k,greenDark:S,brands:C,input:M,inputBorder:E,inputBorderHover:T}},,,,,,function(e,t,n){"use strict";function a(e){return null==e?"":""+e}function i(e,t,n){function a(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var r=a(o.shift());!e[r]&&n&&(e[r]=new n),e=e[r]}return i()?{}:{obj:e,k:a(o.shift())}}function o(e,t,n){var a=i(e,t,Object);a.obj[a.k]=n}function r(e,t){var n=i(e,t),a=n.obj,o=n.k;if(a)return a[o]}function s(e,t,n){for(var a in t)a in e?"string"==typeof e[a]||e[a]instanceof String||"string"==typeof t[a]||t[a]instanceof String?n&&(e[a]=t[a]):s(e[a],t[a],n):e[a]=t[a];return e}function l(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var i=n[a],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var i=n[a],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}function d(e){return e.charAt(0).toUpperCase()+e.slice(1)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var i=n[a],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var i=n[a],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}function m(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&e.whitelist.push("cimode"),e}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var i=n[a],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}function _(){}Object.defineProperty(t,"__esModule",{value:!0});var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n;console&&console[e]&&(n=console)[e].apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))}},y=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init(t,n)}return e.prototype.init=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||b,this.options=t,this.debug=t.debug},e.prototype.setDebug=function(e){this.debug=e},e.prototype.log=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)},e.prototype.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)},e.prototype.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")},e.prototype.deprecate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)},e.prototype.forward=function(e,t,n,a){return a&&!this.debug?null:("string"==typeof e[0]&&(e[0]=""+n+this.prefix+" "+e[0]),this.logger[t](e))},e.prototype.create=function(t){return new e(this.logger,v({prefix:this.prefix+":"+t+":"},this.options))},e}()),w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observers={}}return e.prototype.on=function(e,t){var n=this;e.split(" ").forEach(function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})},e.prototype.off=function(e,t){var n=this;this.observers[e]&&this.observers[e].forEach(function(){if(t){var a=n.observers[e].indexOf(t);a>-1&&n.observers[e].splice(a,1)}else delete n.observers[e]})},e.prototype.emit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];this.observers[e]&&[].concat(this.observers[e]).forEach(function(e){e.apply(void 0,n)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(t){var a;t.apply(t,(a=[e]).concat.apply(a,n))})},e}(),$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},k=function(e){function t(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i.data=n||{},i.options=a,i}return c(t,e),t.prototype.addNamespaces=function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)},t.prototype.removeNamespaces=function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)},t.prototype.getResource=function(e,t,n){var a=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).keySeparator||this.options.keySeparator;void 0===a&&(a=".");var i=[e,t];return n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(i=e.split(".")),r(this.data,i)},t.prototype.addResource=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},r=this.options.keySeparator;void 0===r&&(r=".");var s=[e,t];n&&(s=s.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(a=t,t=(s=e.split("."))[1]),this.addNamespaces(t),o(this.data,s,a),i.silent||this.emit("added",e,t,n,a)},t.prototype.addResources=function(e,t,n){for(var a in n)"string"==typeof n[a]&&this.addResource(e,t,a,n[a],{silent:!0});this.emit("added",e,t,n)},t.prototype.addResourceBundle=function(e,t,n,a,i){var l=[e,t];e.indexOf(".")>-1&&(a=n,n=t,t=(l=e.split("."))[1]),this.addNamespaces(t);var c=r(this.data,l)||{};a?s(c,n,i):c=x({},c,n),o(this.data,l,c),this.emit("added",e,t,n)},t.prototype.removeResourceBundle=function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)},t.prototype.hasResourceBundle=function(e,t){return void 0!==this.getResource(e,t)},t.prototype.getResourceBundle=function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?x({},this.getResource(e,t)):this.getResource(e,t)},t.prototype.toJSON=function(){return this.data},t}(w),S={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,a,i){var o=this;return e.forEach(function(e){o.processors[e]&&(t=o.processors[e].process(t,n,a,i))}),t}},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=function(e){function t(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return function(e,t,n){e.forEach(function(e){t[e]&&(n[e]=t[e])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],n,i),i.options=a,i.logger=y.create("translator"),i}return u(t,e),t.prototype.changeLanguage=function(e){e&&(this.language=e)},t.prototype.exists=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};return void 0!==this.resolve(e,t)},t.prototype.extractFromKey=function(e,t){var n=t.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var a=t.keySeparator||this.options.keySeparator||".",i=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var o=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),e=o.join(a)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}},t.prototype.translate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==(void 0===t?"undefined":M(t))&&(t=this.options.overloadTranslationOptionHandler(arguments)),void 0===e||null===e||""===e)return"";"number"==typeof e&&(e=String(e)),"string"==typeof e&&(e=[e]);var n=t.keySeparator||this.options.keySeparator||".",a=this.extractFromKey(e[e.length-1],t),i=a.key,o=a.namespaces,r=o[o.length-1],s=t.lng||this.language,l=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(s&&"cimode"===s.toLowerCase())return l?r+(t.nsSeparator||this.options.nsSeparator)+i:i;var c=this.resolve(e,t),u=Object.prototype.toString.apply(c),d=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays;if(c&&"string"!=typeof c&&["[object Number]","[object Function]","[object RegExp]"].indexOf(u)<0&&(!d||"[object Array]"!==u)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(i,c,t):"key '"+i+" ("+this.language+")' returned an object instead of string.";if(t.keySeparator||this.options.keySeparator){var f="[object Array]"===u?[]:{};for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(f[p]=this.translate(""+i+n+p,C({},t,{joinArrays:!1,ns:o})));c=f}}else if(d&&"[object Array]"===u)(c=c.join(d))&&(c=this.extendTranslation(c,i,t));else{var m=!1,h=!1;if(this.isValidLookup(c)||void 0===t.defaultValue||(m=!0,c=t.defaultValue),this.isValidLookup(c)||(h=!0,c=i),h||m){this.logger.log("missingKey",s,r,i,c);var g=[],_=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&_&&_[0])for(var v=0;v<_.length;v++)g.push(_[v]);else"all"===this.options.saveMissingTo?g=this.languageUtils.toResolveHierarchy(t.lng||this.language):g.push(t.lng||this.language);this.options.saveMissing&&(this.options.missingKeyHandler?this.options.missingKeyHandler(g,r,i,c):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(g,r,i,c)),this.emit("missingKey",g,r,i,c)}c=this.extendTranslation(c,i,t),h&&c===i&&this.options.appendNamespaceToMissingKey&&(c=r+":"+i),h&&this.options.parseMissingKeyHandler&&(c=this.options.parseMissingKeyHandler(c))}return c},t.prototype.extendTranslation=function(e,t,n){var a=this;n.interpolation&&this.interpolator.init(C({},n,{interpolation:C({},this.options.interpolation,n.interpolation)}));var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=C({},this.options.interpolation.defaultVariables,i)),e=this.interpolator.interpolate(e,i,n.lng||this.language),!1!==n.nest&&(e=this.interpolator.nest(e,function(){return a.translate.apply(a,arguments)},n)),n.interpolation&&this.interpolator.reset();var o=n.postProcess||this.options.postProcess,r="string"==typeof o?[o]:o;return void 0!==e&&r&&r.length&&!1!==n.applyPostProcessor&&(e=S.handle(r,e,t,n,this)),e},t.prototype.resolve=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=void 0;return"string"==typeof e&&(e=[e]),e.forEach(function(e){if(!t.isValidLookup(a)){var i=t.extractFromKey(e,n),o=i.key,r=i.namespaces;t.options.fallbackNS&&(r=r.concat(t.options.fallbackNS));var s=void 0!==n.count&&"string"!=typeof n.count,l=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,c=n.lngs?n.lngs:t.languageUtils.toResolveHierarchy(n.lng||t.language);r.forEach(function(e){t.isValidLookup(a)||c.forEach(function(i){if(!t.isValidLookup(a)){var r=o,c=[r],u=void 0;s&&(u=t.pluralResolver.getSuffix(i,n.count)),s&&l&&c.push(r+u),l&&c.push(r+=""+t.options.contextSeparator+n.context),s&&c.push(r+=u);for(var d=void 0;d=c.pop();)t.isValidLookup(a)||(a=t.getResource(i,e,d,n))}})})}}),a},t.prototype.isValidLookup=function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)},t.prototype.getResource=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(e,t,n,a)},t}(w),T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=y.create("languageUtils")}return e.prototype.getScriptPartFromCode=function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),this.formatLanguageCode(t.join("-")))},e.prototype.getLanguagePartFromCode=function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])},e.prototype.formatLanguageCode=function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(function(e){return e.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=d(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=d(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=d(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e},e.prototype.isWhitelisted=function(e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1},e.prototype.getFallbackCodes=function(e,t){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e.default),n||[]},e.prototype.toResolveHierarchy=function(e,t){var n=this,a=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isWhitelisted(e)?i.push(e):n.logger.warn("rejecting non-whitelisted language code: "+e))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),a.forEach(function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))}),i},e}(),P=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],O={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},j=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.languageUtils=t,this.options=n,this.logger=y.create("pluralResolver"),this.rules=function(){var e={};return P.forEach(function(t){t.lngs.forEach(function(n){e[n]={numbers:t.nr,plurals:O[t.fc]}})}),e}()}return e.prototype.addRule=function(e,t){this.rules[e]=t},e.prototype.getRule=function(e){return this.rules[this.languageUtils.getLanguagePartFromCode(e)]},e.prototype.needsPlural=function(e){var t=this.getRule(e);return t&&t.numbers.length>1},e.prototype.getSuffix=function(e,t){var n=this,a=this.getRule(e);if(a){if(1===a.numbers.length)return"0";var i=a.noAbs?a.plurals(t):a.plurals(Math.abs(t)),o=a.numbers[i];this.options.simplifyPluralSuffix&&2===a.numbers.length&&1===a.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var r=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_"+o.toString():r():"v2"===this.options.compatibilityJSON||2===a.numbers.length&&1===a.numbers[0]?r():2===a.numbers.length&&1===a.numbers[0]?r():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: "+e),""},e}(),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.logger=y.create("interpolator"),this.init(t,!0)}return e.prototype.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.escape=e.interpolation&&e.interpolation.escape||function(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return $[e]}):e}),e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.prefix=t.prefix?l(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?l(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?l(t.nestingPrefix):t.nestingPrefixEscaped||l("$t("),this.nestingSuffix=t.nestingSuffix?l(t.nestingSuffix):t.nestingSuffixEscaped||l(")"),this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.resetRegExp()},e.prototype.reset=function(){this.options&&this.init(this.options)},e.prototype.resetRegExp=function(){var e=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(e,"g");var t=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(t,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},e.prototype.interpolate=function(e,t,n){var i=this,o=void 0,s=void 0,l=void 0,c=function(e){if(e.indexOf(i.formatSeparator)<0)return r(t,e);var a=e.split(i.formatSeparator),o=a.shift().trim(),s=a.join(i.formatSeparator).trim();return i.format(r(t,o),s,n)};for(this.resetRegExp(),l=0;(o=this.regexpUnescape.exec(e))&&(s=c(o[1].trim()),e=e.replace(o[0],s),this.regexpUnescape.lastIndex=0,!(++l>=this.maxReplaces)););for(l=0;(o=this.regexp.exec(e))&&("string"!=typeof(s=c(o[1].trim()))&&(s=a(s)),s||(this.logger.warn("missed to pass in variable "+o[1]+" for interpolating "+e),s=""),s=function(e){return e.replace(/\$/g,"$$$$")}(this.escapeValue?this.escape(s):s),e=e.replace(o[0],s),this.regexp.lastIndex=0,!(++l>=this.maxReplaces)););return e},e.prototype.nest=function(e,t){function n(e){if(e.indexOf(",")<0)return e;var t=e.split(",");e=t.shift();var n=t.join(",");n=(n=this.interpolate(n,s)).replace(/'/g,'"');try{s=JSON.parse(n)}catch(t){this.logger.error("failed parsing options string in nesting for key "+e,t)}return e}var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=void 0,r=void 0,s=A({},i);for(s.applyPostProcessor=!1;o=this.nestingRegexp.exec(e);){if((r=t(n.call(this,o[1].trim()),s))&&o[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=a(r)),r||(this.logger.warn("missed to resolve "+o[1]+" for nesting "+e),r=""),e=e.replace(o[0],r),this.regexp.lastIndex=0}return e},e}(),L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},U=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=function(e){function t(n,a,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r.backend=n,r.store=a,r.languageUtils=i.languageUtils,r.options=o,r.logger=y.create("backendConnector"),r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(i,o.backend,o),r}return f(t,e),t.prototype.queueLoad=function(e,t,n){var a=this,i=[],o=[],r=[],s=[];return e.forEach(function(e){var n=!0;t.forEach(function(t){var r=e+"|"+t;a.store.hasResourceBundle(e,t)?a.state[r]=2:a.state[r]<0||(1===a.state[r]?o.indexOf(r)<0&&o.push(r):(a.state[r]=1,n=!1,o.indexOf(r)<0&&o.push(r),i.indexOf(r)<0&&i.push(r),s.indexOf(t)<0&&s.push(t)))}),n||r.push(e)}),(i.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:n}),{toLoad:i,pending:o,toLoadLanguages:r,toLoadNamespaces:s}},t.prototype.loaded=function(e,t,n){var a=this,o=e.split("|"),r=U(o,2),s=r[0],l=r[1];t&&this.emit("failedLoading",s,l,t),n&&this.store.addResourceBundle(s,l,n),this.state[e]=t?-1:2,this.queue.forEach(function(n){!function(e,t,n,a){var o=i(e,t,Object),r=o.obj,s=o.k;r[s]=r[s]||[],r[s].push(n)}(n.loaded,[s],l),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(a.emit("loaded",n.loaded),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.queue=this.queue.filter(function(e){return!e.done})},t.prototype.read=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,r=arguments[5];return e.length?this.backend[n](e,t,function(s,l){s&&l&&a<5?setTimeout(function(){i.read.call(i,e,t,n,a+1,2*o,r)},o):r(s,l)}):r(null,{})},t.prototype.load=function(e,t,n){var a=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();var i=L({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,n);if(!o.toLoad.length)return o.pending.length||n(),null;i.allowMultiLoading&&this.backend.readMulti?this.read(o.toLoadLanguages,o.toLoadNamespaces,"readMulti",null,null,function(e,t){e&&a.logger.warn("loading namespaces "+o.toLoadNamespaces.join(", ")+" for languages "+o.toLoadLanguages.join(", ")+" via multiloading failed",e),!e&&t&&a.logger.log("successfully loaded namespaces "+o.toLoadNamespaces.join(", ")+" for languages "+o.toLoadLanguages.join(", ")+" via multiloading",t),o.toLoad.forEach(function(n){var i=n.split("|"),o=U(i,2),s=o[0],l=o[1],c=r(t,[s,l]);if(c)a.loaded(n,e,c);else{var u="loading namespace "+l+" for language "+s+" via multiloading failed";a.loaded(n,u),a.logger.error(u)}})}):o.toLoad.forEach(function(e){a.loadOne(e)})},t.prototype.reload=function(e,t){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var a=L({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]),a.allowMultiLoading&&this.backend.readMulti?this.read(e,t,"readMulti",null,null,function(a,i){a&&n.logger.warn("reloading namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading failed",a),!a&&i&&n.logger.log("successfully reloaded namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading",i),e.forEach(function(e){t.forEach(function(t){var o=r(i,[e,t]);if(o)n.loaded(e+"|"+t,a,o);else{var s="reloading namespace "+t+" for language "+e+" via multiloading failed";n.loaded(e+"|"+t,s),n.logger.error(s)}})})}):e.forEach(function(e){t.forEach(function(t){n.loadOne(e+"|"+t,"re")})})},t.prototype.loadOne=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e.split("|"),i=U(a,2),o=i[0],r=i[1];this.read(o,r,"read",null,null,function(a,i){a&&t.logger.warn(n+"loading namespace "+r+" for language "+o+" failed",a),!a&&i&&t.logger.log(n+"loaded namespace "+r+" for language "+o,i),t.loaded(e,a,i)})},t.prototype.saveMissing=function(e,t,n,a){this.backend&&this.backend.create&&this.backend.create(e,t,n,a),e&&e[0]&&this.store.addResource(e[0],t,n,a)},t}(w),N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},R=function(e){function t(n,a,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r.cache=n,r.store=a,r.services=i,r.options=o,r.logger=y.create("cacheConnector"),r.cache&&r.cache.init&&r.cache.init(i,o.cache,o),r}return p(t,e),t.prototype.load=function(e,t,n){var a=this;if(!this.cache)return n&&n();var i=N({},this.cache.options,this.options.cache),o="string"==typeof e?this.services.languageUtils.toResolveHierarchy(e):e;i.enabled?this.cache.load(o,function(e,t){if(e&&a.logger.error("loading languages "+o.join(", ")+" from cache failed",e),t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))for(var r in t[i])if(Object.prototype.hasOwnProperty.call(t[i],r)&&"i18nStamp"!==r){var s=t[i][r];s&&a.store.addResourceBundle(i,r,s)}n&&n()}):n&&n()},t.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},t}(w),F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},B=new(function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=h(this,e.call(this));if(i.options=m(n),i.services={},i.logger=y,i.modules={external:[]},a&&!i.isInitialized&&!n.isClone){var o;if(!i.options.initImmediate)return o=i.init(n,a),h(i,o);setTimeout(function(){i.init(n,a)},0)}return i}return g(t,e),t.prototype.init=function(){function e(e){return e?"function"==typeof e?new e:e:null}var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1];if("function"==typeof n&&(a=n,n={}),this.options=F({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,saveMissingTo:"fallback",missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){return{defaultValue:e[1]}},interpolation:{escapeValue:!0,format:function(e,t,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}},this.options,m(n)),this.format=this.options.interpolation.format,a||(a=_),!this.options.isClone){this.modules.logger?y.init(e(this.modules.logger),this.options):y.init(null,this.options);var i=new T(this.options);this.store=new k(this.options.resources,this.options);var o=this.services;o.logger=y,o.resourceStore=this.store,o.resourceStore.on("added removed",function(e,t){o.cacheConnector.save()}),o.languageUtils=i,o.pluralResolver=new j(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new I(this.options),o.backendConnector=new D(e(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(e){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];t.emit.apply(t,[e].concat(a))}),o.backendConnector.on("loaded",function(e){o.cacheConnector.save()}),o.cacheConnector=new R(e(this.modules.cache),o.resourceStore,o,this.options),o.cacheConnector.on("*",function(e){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];t.emit.apply(t,[e].concat(a))}),this.modules.languageDetector&&(o.languageDetector=e(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.translator=new E(this.services,this.options),this.translator.on("*",function(e){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];t.emit.apply(t,[e].concat(a))}),this.modules.external.forEach(function(e){e.init&&e.init(t)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}});var r=function(){t.changeLanguage(t.options.lng,function(e,n){t.isInitialized=!0,t.logger.log("initialized",t.options),t.emit("initialized",t.options),a(e,n)})};return this.options.resources||!this.options.initImmediate?r():setTimeout(r,0),this},t.prototype.loadResources=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;if(this.options.resources)t(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return t();var n=[],a=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach(function(e){n.indexOf(e)<0&&n.push(e)})};this.language?a(this.language):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(e){return a(e)}),this.options.preload&&this.options.preload.forEach(function(e){return a(e)}),this.services.cacheConnector.load(n,this.options.ns,function(){e.services.backendConnector.load(n,e.options.ns,t)})}},t.prototype.reloadResources=function(e,t){e||(e=this.languages),t||(t=this.options.ns),this.services.backendConnector.reload(e,t)},t.prototype.use=function(e){return"backend"===e.type&&(this.modules.backend=e),"cache"===e.type&&(this.modules.cache=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"postProcessor"===e.type&&S.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this},t.prototype.changeLanguage=function(e,t){var n=this,a=function(e){e&&(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(e)),n.loadResources(function(a){!function(e,a){n.translator.changeLanguage(a),a&&(n.emit("languageChanged",a),n.logger.log("languageChanged",a)),t&&t(e,function(){return n.t.apply(n,arguments)})}(a,e)})};e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect())},t.prototype.getFixedT=function(e,t){var n=this,a=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="string"==typeof a?{defaultValue:a}:F({},a);return i.lng=i.lng||e.lng,i.lngs=i.lngs||e.lngs,i.ns=i.ns||e.ns,n.t(t,i)};return"string"==typeof e?a.lng=e:a.lngs=e,a.ns=t,a},t.prototype.t=function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)},t.prototype.exists=function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)},t.prototype.setDefaultNamespace=function(e){this.options.defaultNS=e},t.prototype.loadNamespaces=function(e,t){var n=this;if(!this.options.ns)return t&&t();"string"==typeof e&&(e=[e]),e.forEach(function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)}),this.loadResources(t)},t.prototype.loadLanguages=function(e,t){"string"==typeof e&&(e=[e]);var n=this.options.preload||[],a=e.filter(function(e){return n.indexOf(e)<0});if(!a.length)return t();this.options.preload=n.concat(a),this.loadResources(t)},t.prototype.dir=function(e){return e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr":"rtl"},t.prototype.createInstance=function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},t.prototype.cloneInstance=function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,i=F({},this.options,n,{isClone:!0}),o=new t(i,a);return["store","services","language"].forEach(function(t){o[t]=e[t]}),o.translator=new E(o.services,o.options),o.translator.on("*",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];o.emit.apply(o,[e].concat(n))}),o.init(i,a),o},t}(w)),z=B,H=(B.changeLanguage.bind(B),B.cloneInstance.bind(B),B.createInstance.bind(B),B.dir.bind(B),B.exists.bind(B),B.getFixedT.bind(B),B.init.bind(B),B.loadLanguages.bind(B),B.loadNamespaces.bind(B),B.loadResources.bind(B),B.off.bind(B),B.on.bind(B),B.setDefaultNamespace.bind(B),B.t.bind(B),B.use.bind(B),n(763),n(16)),V="undefined"!=typeof window?"https://"+window.location.hostname+"/api":"",q=n(124);n.d(t,"DEFAULT_LANGUAGE",function(){return G}),n.d(t,"I18n",function(){return W}),n.d(t,"i18next",function(){return K}),n.d(t,"getTranslation",function(){return J});var G=q.languages[0].id,W=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentLanguage="",this.languages={}}return e.prototype.init=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V;return this.currentLanguage=H.default.get("currentLanguage",""),this.i18n?Promise.resolve(this):fetch(t+"/i18n/"+this.currentLanguage).then(function(e){return e.json()}).then(function(t){var n=e.currentLanguage||Object.keys(t).find(function(e){return e!==G})||G;e.currentLanguage=n,H.default.set("currentLanguage",n);var a=t[n],i=t[G];return e.languages[n]={translation:a},e.languages[G]={translation:i},e.i18n=z.init({resources:e.languages,lng:n,fallbackLng:G,keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}}),e})},e.prototype.getCurrentLanguage=function(){return this.currentLanguage},e}(),Y=new W,K=function(){return Y.i18n},J=function(e,t){return K()?Y.i18n.t(e,t):e};t.default=Y},,,,,,function(e,t,n){var a=n(771)(n(285));e.exports=a},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1223));t.default=a.default},,,,function(e,t,n){"use strict";t.__esModule=!0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1546));t.default=a.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showOnMobile=t.hideOnMobile=t.roundedAvatar=t.userImageBorderRadius=t.mediaQueries=t.breakpoints=t.gutter=void 0;var a=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        display: none;\n    "],["\n        display: none;\n    "]),i=n(10),o=n(1649),r=(t.gutter=24,t.breakpoints={phone:660,mobile:800,desktop:960,detail:1360});r.maxWidth={phone:r.phone-1,mobile:r.mobile-1,desktop:r.desktop-1};var s=t.mediaQueries=(0,o.generateMedia)({phone:r.phone+"px",mobile:r.mobile+"px",desktop:r.desktop+"px",detail:r.detail+"px",maxWidthPhone:r.maxWidth.phone+"px",maxWidthMobile:r.maxWidth.mobile+"px",maxWidthDesktop:r.maxWidth.desktop+"px"}),l=t.userImageBorderRadius="50%";t.roundedAvatar=(0,i.css)(["border-radius:",";"],l),t.hideOnMobile=(0,i.css)(["",""],s.lessThan("maxWidthMobile")(a)),t.showOnMobile=(0,i.css)(["",""],s.greaterThan("mobile")(a))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatSignup=t.showSignup=t.showSignin=t.hide=t.show=void 0;var a=n(26),i=n(288),o=t.show=function(e){return{type:i.SHOW,data:{type:i.TYPE_SIGNUP,title:e}}};t.hide=function(){return{type:i.HIDE}},t.showSignin=function(e){return{type:i.SHOW,data:{type:i.TYPE_SIGNIN,title:e}}},t.showSignup=o,t.showChatSignup=function(){return{type:i.SHOW,data:{type:i.TYPE_SIGNUP,title:(0,a.getTranslation)("global_text_chat")}}}},function(e,t,n){var a=n(29),i=n(1188),o=n(450),r=Math.max,s=Math.min;e.exports=function(e,t,n){function l(t){var n=p,a=m;return p=m=void 0,b=t,g=e.apply(a,n)}function c(e){var n=e-v;return void 0===v||n>=t||n<0||w&&e-b>=h}function u(){var e=i();if(c(e))return d(e);_=setTimeout(u,function(e){var n=t-(e-v);return w?s(n,h-(e-b)):n}(e))}function d(e){return _=void 0,$&&p?l(e):(p=m=void 0,g)}function f(){var e=i(),n=c(e);if(p=arguments,m=this,v=e,n){if(void 0===_)return function(e){return b=e,_=setTimeout(u,t),y?l(e):g}(v);if(w)return _=setTimeout(u,t),l(v)}return void 0===_&&(_=setTimeout(u,t)),g}var p,m,h,g,_,v,b=0,y=!1,w=!1,$=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return t=o(t)||0,a(n)&&(y=!!n.leading,h=(w="maxWait"in n)?r(o(n.maxWait)||0,t):h,$="trailing"in n?!!n.trailing:$),f.cancel=function(){void 0!==_&&clearTimeout(_),b=0,p=v=m=_=void 0},f.flush=function(){return void 0===_?g:d(i())},f}},,,function(e,t,n){var a=n(284),i=0;e.exports=function(e){var t=++i;return a(e)+t}},,function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(184));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,a.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=a(n(1575)),o=a(n(1579)),r=a(n(184));t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,r.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},,,,,,function(e,t,n){var a=n(302),i=n(73),o=n(300),r=n(90),s=n(216),l=Math.max;e.exports=function(e,t,n,c){e=i(e)?e:s(e),n=n&&!c?r(n):0;var u=e.length;return n<0&&(n=l(u+n,0)),o(e)?n<=u&&e.indexOf(t,n)>-1:!!u&&a(e,t,n)>-1}},function(e,t,n){var a=n(278),i=n(519),o=n(55),r=n(23);e.exports=function(e,t){return(r(e)?a:i)(e,o(t,3))}},function(e,t,n){e.exports=n(1136)},,,function(e,t,n){"use strict";t.__esModule=!0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(602));t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,a.default)(e,i.key,i)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()},,,,function(e,t){e.exports=function(e){return null===e}},function(e,t,n){var a,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)&&a.length){var r=n.apply(null,a);r&&e.push(r)}else if("object"===i)for(var s in a)o.call(a,s)&&a[s]&&e.push(s)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?(n.default=n,e.exports=n):void 0!==(i=function(){return n}.apply(t,a=[]))&&(e.exports=i)}()},,,function(e,t,n){var a=n(349)("wks"),i=n(242),o=n(95).Symbol,r="function"==typeof o;(e.exports=function(e){return a[e]||(a[e]=r&&o[e]||(r?o:i)("Symbol."+e))}).store=a},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformUserDataToLegacyData=t.normalizeApiUserData=t.logout=t.reset=t.setUser=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(16)),i=n(468),o=(t.setUser=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){a.default.set("smashcast.session",e),t&&(e=o(e)),n({type:i.USER,data:e})}},t.reset=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){e&&(a.default.remove("smashcast.session"),a.default.remove("stats.selected_stats_series"),a.default.remove("smashcast.br")),t({type:i.RESET})}},t.logout=function(){return{type:i.LOGOUT}},t.normalizeApiUserData=function(e){return{id:e.user_id,name:e.user_name,authToken:e.authToken,logo:e.user_logo,logoSmall:e.user_logo_small,banned:!!parseInt(e.user_banned,10),partner:!!parseInt(e.user_partner,10),superadmin:!!parseInt(e.superadmin,10),app:e.app,followers:parseInt(e.followers,10),livestreamCount:parseInt(e.livestream_count,10)}});t.transformUserDataToLegacyData=function(e){return e?{user_id:e.id,user_name:e.name,authToken:e.authToken,user_logo:e.logo,user_logo_small:e.logoSmall,user_banned:e.banned,user_partner:e.partner,superadmin:e.superadmin,app:e.app,followers:parseInt(e.followers,10),livestream_count:e.livestreamCount}:null}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=t.isAuthenticated=function(e){return!!e};t.isSuperAdmin=function(e){return a(e)&&e.superadmin},t.getToken=function(e){return a(e)?e.authToken:null},t.getName=function(e){return a(e)?e.name:"UnknownSoldier"},t.getId=function(e){return a(e)?e.id:0},t.isPartner=function(e){return!!a(e)&&e.partner},t.getLivestreamCount=function(e){return a(e)?e.livestreamCount:0},t.getUserLogo=function(e){return a(e)?e.logo:null},t.getUserLogoSmall=function(e){return a(e)?e.logoSmall:null},t.getApp=function(e){return a(e)?e.app:null}},function(e,t,n){"use strict";"function"==typeof Symbol&&Symbol.iterator,e.exports=n(1445)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LIVE_STREAM:"1",VIDEO:"2"}},function(e,t,n){e.exports=n(1826)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"TEAM1",function(){return a}),n.d(t,"TEAM2",function(){return i});var a="TEAM1",i="TEAM2"},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.goToImageLog=t.goToFeed=t.goToUsers=t.goToChat=t.goToPrevious=t.setActive=t.reset=void 0;var a=n(172);t.reset=function(){return{type:a.RESET}},t.setActive=function(e){return{type:a.SET_ACTIVE,data:e||a.CHAT_TAB_CHAT}},t.goToPrevious=function(){return{type:a.GO_TO_PREVIOUS}},t.goToChat=function(){return{type:a.SET_ACTIVE,data:a.CHAT_TAB_CHAT}},t.goToUsers=function(){return{type:a.SET_ACTIVE,data:a.CHAT_TAB_USERS}},t.goToFeed=function(){return{type:a.SET_ACTIVE,data:a.CHAT_TAB_FEED}},t.goToImageLog=function(){return{type:a.SET_ACTIVE,data:a.CHAT_TAB_IMAGE_LOG}}},,function(e,t,n){var a=n(95),i=n(48),o=n(343),r=n(134),s=function(e,t,n){var l,c,u,d=e&s.F,f=e&s.G,p=e&s.S,m=e&s.P,h=e&s.B,g=e&s.W,_=f?i:i[t]||(i[t]={}),v=_.prototype,b=f?a:p?a[t]:(a[t]||{}).prototype;f&&(n=t);for(l in n)(c=!d&&b&&void 0!==b[l])&&l in _||(u=c?b[l]:n[l],_[l]=f&&"function"!=typeof b[l]?n[l]:h&&c?o(u,a):g&&b[l]==u?function(e){var t=function(t,n,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,a)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):m&&"function"==typeof u?o(Function.call,u):u,m&&((_.virtual||(_.virtual={}))[l]=u,e&s.R&&v&&!v[l]&&r(v,l,u)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var a=n(135),i=n(597),o=n(344),r=Object.defineProperty;t.f=n(111)?Object.defineProperty:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return r(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"DEFAULT",function(){return a}),n.d(t,"LOVE",function(){return i}),n.d(t,"HANDS",function(){return o}),n.d(t,"PRAY",function(){return r}),n.d(t,"CRY",function(){return s}),n.d(t,"LAUGH",function(){return l}),n.d(t,"SALT",function(){return c}),n.d(t,"SURPRISE",function(){return u}),n.d(t,"UJELLY",function(){return d}),n.d(t,"TEAM_LOGO",function(){return f}),n.d(t,"VALID_TYPES",function(){return p});var a="default",i="love",o="hands",r="pray",s="cry",l="laugh",c="salt",u="surprise",d="ujelly",f="team-logo",p={basic:[a,l,i,c,s,u,d],esports:[a,o,l,r,f]}},function(e,t,n){"use strict";function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledItemLanguage=t.StyledItemSpacer=t.StyledItem=t.StyledComponent=void 0;var i=a(["\n    .main-nav {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        box-shadow: inset 0 -1px 0 ",";\n        min-width: 320px;\n        font-size: 13px;\n        white-space: nowrap;\n        text-align: center;\n        background-color: #fff;\n        backface-visibility: hidden;\n        transition: all .2s ease-in-out;\n        z-index: 5000;\n    }\n"],["\n    .main-nav {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        box-shadow: inset 0 -1px 0 ",";\n        min-width: 320px;\n        font-size: 13px;\n        white-space: nowrap;\n        text-align: center;\n        background-color: #fff;\n        backface-visibility: hidden;\n        transition: all .2s ease-in-out;\n        z-index: 5000;\n    }\n"]),o=a(["\n        flex: 1;\n    "],["\n        flex: 1;\n    "]),r=a([""],[""]),s=n(10),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(20),u=n(40),d=n(142);(0,s.injectGlobal)(i,c.line),t.StyledComponent=l.default.div.withConfig({displayName:"MainNavstyles__StyledComponent",componentId:"sc-2t5vv9-0"})(["display:flex;flex-direction:row;justify-content:space-between;padding:0;width:100%;height:","px;transition:transform .2s ease-in-out;.main-nav--search-is-open &{transform:translateY(100%);}"],d.height);var f=t.StyledItem=l.default.div.withConfig({displayName:"MainNavstyles__StyledItem",componentId:"sc-2t5vv9-1"})(["position:relative;display:inline-block;height:","px;line-height:","px;color:",";"," ",""],d.height,d.height,d.itemColor,function(e){return e.square?"\n        width: 60px;\n    ":null},function(e){return e.hideOnMobile?u.hideOnMobile:null});t.StyledItemSpacer=l.default.div.withConfig({displayName:"MainNavstyles__StyledItemSpacer",componentId:"sc-2t5vv9-2"})(["",""],u.mediaQueries.greaterThan("mobile")(o)),(t.StyledItemLanguage=(0,l.default)(f).withConfig({displayName:"MainNavstyles__StyledItemLanguage",componentId:"sc-2t5vv9-3"})(["",""],u.hideOnMobile).extend.attrs({id:"language-select-target"})(r)).defaultProps={square:!0}},,,,,,function(e,t,n){var a=n(293),i=n(213);e.exports=function(e,t,n,o){var r=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),r?i(n,c,u):a(n,c,u)}return n}},function(e,t,n){var a=n(437),i=n(965),o=n(73);e.exports=function(e){return o(e)?a(e,!0):i(e)}},,function(e,t,n){var a=n(1161),i=n(447);e.exports=function(e,t){return null!=e&&i(e,t,a)}},,,,function(e,t,n){e.exports=!n(136)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var a=n(600),i=n(346);e.exports=function(e){return a(i(e))}},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"languages",function(){return o}),n.d(t,"find",function(){return r});var a=n(32),i=n.n(a),o=[{id:"en_US",name:"English",abbreviation:"en"},{id:"de_DE",name:"Deutsch",abbreviation:"de"},{id:"pl_PL",name:"Polski",abbreviation:"pl"},{id:"it_IT",name:"Italiano",abbreviation:"it"},{id:"ru_RU",name:"P",abbreviation:"ru"},{id:"pt_BR",name:"Portugus BR",abbreviation:"pt"},{id:"es_ES",name:"Espaol",abbreviation:"es"},{id:"fr_FR",name:"Francais",abbreviation:"fr"}],r=function(e){return i()(o,function(t){return t.id===e||t.id.substring(0,2)===e})||o[0]}},,,,,function(e,t,n){var a=n(439),i=n(281),o=n(159),r=n(23),s=n(73),l=n(160),c=n(211),u=n(210),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(r(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!a(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},,,function(e,t,n){e.exports=n(511)},function(e,t,n){var a=n(43),i=n(29);e.exports=function(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),a(e,t,{leading:o,maxWait:t,trailing:r})}},function(e,t,n){var a=n(96),i=n(183);e.exports=n(111)?function(e,t,n){return a.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var a=n(182);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";t.__esModule=!0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(602));t.default=function(e,t,n){return t in e?(0,a.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(158)),r=a(n(622)),s=a(n(337)),l=a(n(1750)),c=a(n(1751)),u=a(n(1752)),d=a(n(1754)),f=a(n(1755)),p=a(n(1756)),m=a(n(1757)),h=a(n(1758)),g=a(n(1759)),_=a(n(1760)),v=a(n(1761)),b=a(n(1762));t.default=i.default.module("htbx.media",[o.default,r.default,s.default]).constant("mediaExistsResolve",l.default).filter("isMediaAllowed",c.default).service("medias",u.default).factory("Media",p.default).factory("MediaStats",f.default).factory("MediaFeatured",d.default).factory("MediaFeaturedList",m.default).factory("MediaInfo",h.default).factory("MediaKey",g.default).factory("MediaStatus",_.default).factory("MediaAdminStatus",v.default).component("mediaViewers",b.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1806));t.default=a.default},function(e,t,n){var a,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a))e.push(n.apply(null,a));else if("object"===i)for(var r in a)o.call(a,r)&&a[r]&&e.push(r)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:void 0!==(i=function(){return n}.apply(t,a=[]))&&(e.exports=i)}()},function(e,t,n){"use strict";var a=n(2314),i=n(2315),o=n(680).decodeHTML,r="&(?:#x[a-f0-9]{1,8}|#[0-9]{1,8}|[a-z][a-z0-9]{1,31});",s=new RegExp("^(?:<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>|</[A-Za-z][A-Za-z0-9-]*\\s*[>]|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|[<][?].*?[?][>]|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)","i"),l=/[\\&]/,c="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",u=new RegExp("\\\\"+c+"|"+r,"gi"),d=new RegExp('[&<>"]',"g"),f=new RegExp(r+'|[&<>"]',"gi"),p=function(e){return 92===e.charCodeAt(0)?e.charAt(1):o(e)},m=function(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return e}};e.exports={unescapeString:function(e){return l.test(e)?e.replace(u,p):e},normalizeURI:function(e){try{return a(i(e))}catch(t){return e}},escapeXml:function(e,t){return d.test(e)?t?e.replace(f,m):e.replace(d,m):e},reHtmlTag:s,OPENTAG:"<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>",CLOSETAG:"</[A-Za-z][A-Za-z0-9-]*\\s*[>]",ENTITY:r,ESCAPABLE:c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.itemColor=t.height=void 0;var a=n(20);t.height=60,t.itemColor=a.text},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.denySubscriptions=t.allowSubscriptions=t.disablePartner=t.enablePartner=t.setBackgroundImage=t.setLogo=t.setFollowers=t.setViews=t.setName=t.reset=void 0;var a=n(467);t.reset=function(){return{type:a.RESET}},t.setName=function(e){return{type:a.NAME,data:e||null}},t.setViews=function(e){return{type:a.VIEWS,data:e||0}},t.setFollowers=function(e){return{type:a.FOLLOWERS,data:e||0}},t.setLogo=function(e){return{type:a.LOGO,data:e||null}},t.setBackgroundImage=function(e){return{type:a.BACKGROUND_IMAGE,data:e||null}},t.enablePartner=function(){return{type:a.IS_PARTNER,data:!0}},t.disablePartner=function(){return{type:a.IS_PARTNER,data:!1}},t.allowSubscriptions=function(){return{type:a.SUBSCRIPTIONS_ALLOWED,data:!0}},t.denySubscriptions=function(){return{type:a.SUBSCRIPTIONS_ALLOWED,data:!1}}},,,,,,,function(e,t,n){function a(e,t,n,r,s){var l=-1,c=e.length;for(n||(n=o),s||(s=[]);++l<c;){var u=e[l];t>0&&n(u)?t>1?a(u,t-1,n,r,s):i(s,u):r||(s[s.length]=u)}return s}var i=n(276),o=n(1120);e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RESET="chat/tab/RESET",t.SET_ACTIVE="chat/tab/SET_ACTIVE",t.GO_TO_PREVIOUS="chat/tab/GO_TO_PREVIOUS";var a=t.CHAT_TAB_CHAT="chat";t.CHAT_TAB_IMAGE_LOG="imageLog",t.CHAT_TAB_USERS="users",t.CHAT_TAB_FEED="feed",t.CHAT_TAB_DEFAULT=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/&gt;/g,">").replace(/&lt;/g,"<")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disableSubscriberMode=t.enableSubscriberMode=t.setSubscriptionData=t.resetSubscriptionData=t.disableSubscription=t.enableSubscription=t.disableOwner=t.setUserRole=t.resetUserRole=t.enableOwner=t.disableAdmin=t.enableAdmin=t.disableEditor=t.enableEditor=t.disableModerator=t.enableModerator=t.unflagAsBanned=t.flagAsBanned=t.reset=void 0;var a=n(533);t.reset=function(){return{type:a.RESET}},t.flagAsBanned=function(){return{type:a.IS_BANNED,data:!0}},t.unflagAsBanned=function(){return{type:a.IS_BANNED,data:!1}},t.enableModerator=function(){return{type:a.IS_MODERATOR,data:!0}},t.disableModerator=function(){return{type:a.IS_MODERATOR,data:!1}},t.enableEditor=function(){return{type:a.IS_EDITOR,data:!0}},t.disableEditor=function(){return{type:a.IS_EDITOR,data:!1}},t.enableAdmin=function(){return{type:a.IS_ADMIN,data:!0}},t.disableAdmin=function(){return{type:a.IS_ADMIN,data:!1}},t.enableOwner=function(){return{type:a.IS_OWNER,data:!0}},t.resetUserRole=function(){return{type:a.USER_ROLE,data:null}},t.setUserRole=function(e){return{type:a.USER_ROLE,data:e}},t.disableOwner=function(){return{type:a.IS_OWNER,data:!1}},t.enableSubscription=function(){return{type:a.IS_SUBSCRIBED,data:!0}},t.disableSubscription=function(){return{type:a.IS_SUBSCRIBED,data:!1}},t.resetSubscriptionData=function(){return{type:a.SUBSCRIPTION_DATA,data:null}},t.setSubscriptionData=function(e){return{type:a.SUBSCRIPTION_DATA,data:e}},t.enableSubscriberMode=function(){return{type:a.SUBSCRIBER_MODE,data:!0}},t.disableSubscriberMode=function(){return{type:a.SUBSCRIBER_MODE,data:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValid=t.getRandom=t.colors=void 0;var a=n(1261);t.colors=a.colors,t.getRandom=a.getRandom,t.isValid=a.isValid},,,,,function(e,t,n){"use strict";function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(e,t){if(!e)return t.toLowerCase();var n=e.split("-");if(n.length>1)return n.splice(1,0,t),n.reduce(function(e,t){return""+e+a(t)});var i=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===i?""+e+t:i}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var o=n[0],r=n[1],s=void 0===r?o:r,l=n[2],c=void 0===l?o:l,u=n[3];return function(e,t){for(var n={},a=0;a<t.length;a+=1)(t[a]||0===t[a])&&(n[i(e,ce[a])]=t[a]);return n}(e,[o,s,c,void 0===u?s:u])}function r(e){var t=parseFloat(e);return isNaN(t)?e:t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1em",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"perfectFourth";if("number"!=typeof e)throw new Error("Please provide a number of steps to the modularScale helper.");if("string"==typeof n&&!pe[n])throw new Error("Please pass a number or one of the predefined scales to the modularScale helper as the ratio.");var a="string"==typeof t?r(t):t,i="string"==typeof n?pe[n]:n;if("string"==typeof a)throw new Error('Invalid value passed as base to modularScale, expected number or em string but got "'+t+'"');return a*Math.pow(i,e)+"em"}function l(){var e;return e={},e[(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"&")+"::after"]={clear:"both",content:'""',display:"table"},e}function c(){return{display:"inline-block",maxWidth:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"}}function u(e){var t=e.fontFamily,n=e.fontFilePath,a=e.fontStretch,i=e.fontStyle,o=e.fontVariant,r=e.fontWeight,s=e.fileFormats,l=void 0===s?["eot","woff2","woff","ttf","svg"]:s,c=e.localFonts,u=e.unicodeRange;if(!t)throw new Error("fontFace expects a name of a font-family.");if(!n&&!c)throw new Error("fontFace expects either the path to the font file(s) or a name of a local copy.");if(c&&!Array.isArray(c))throw new Error("fontFace expects localFonts to be an array.");if(!Array.isArray(l))throw new Error("fontFace expects fileFormats to be an array.");var d={"@font-face":{fontFamily:t,src:function(e,t,n){var a=[];return t&&a.push(function(e){return e.map(function(e){return'local("'+e+'")'}).join(", ")}(t)),e&&a.push(function(e,t){return t.map(function(t){return'url("'+e+"."+t+'")'}).join(", ")}(e,n)),a.join(", ")}(n,c,l),unicodeRange:u,fontStretch:a,fontStyle:i,fontVariant:o,fontWeight:r}};return JSON.parse(JSON.stringify(d))}function d(){return{textIndent:"101%",overflow:"hidden",whiteSpace:"nowrap"}}function f(){return{border:"0",clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.3;return"\n    @media only screen and (-webkit-min-device-pixel-ratio: "+e+"),\n    only screen and (min--moz-device-pixel-ratio: "+e+"),\n    only screen and (-o-min-device-pixel-ratio: "+e+"/1),\n    only screen and (min-resolution: "+Math.round(96*e)+"dpi),\n    only screen and (min-resolution: "+e+"dppx)\n  "}function m(e){return e?ve:function(e,t){var n=ge({},e);return Object.keys(t).forEach(function(e){n[e]?n[e]=ge({},n[e],t[e]):n[e]=ge({},t[e])}),n}(ve,_e)}function h(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&";return t={},t[n+"::-webkit-input-placeholder"]=ge({},e),t[n+":-moz-placeholder"]=ge({},e),t[n+"::-moz-placeholder"]=ge({},e),t[n+":-ms-input-placeholder"]=ge({},e),t}function g(e){var t=e.colorStops,n=e.extent,a=e.fallback,i=e.position,o=e.shape;if(!t||t.length<2)throw new Error("radialGradient requries at least 2 color-stops to properly render.");return{backgroundColor:a||function(e){return e[0].split(" ")[0]}(t),backgroundImage:function(e){for(var t="",n=0;n<e.length;n+=1)t+=e[n],3===n&&(arguments.length<=n+1?void 0:arguments[n+1])&&((arguments.length<=1?void 0:arguments[1])||(arguments.length<=2?void 0:arguments[2])||(arguments.length<=3?void 0:arguments[3]))?(t=t.slice(0,-1),t+=", "+(arguments.length<=n+1?void 0:arguments[n+1])):3!==n||arguments.length<=n+1||!arguments[n+1]||(arguments.length<=1?void 0:arguments[1])||(arguments.length<=2?void 0:arguments[2])||(arguments.length<=3?void 0:arguments[3])?(arguments.length<=n+1?void 0:arguments[n+1])&&(t+=(arguments.length<=n+1?void 0:arguments[n+1])+" "):t+=""+(arguments.length<=n+1?void 0:arguments[n+1]);return t.trim()}(be,i,o,n,t.join(", "))}}function _(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"png",i=arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"_2x";if(!e)throw new Error("Please supply a filename to retinaImage() as the first argument.");var r=a.replace(/^\./,""),s=i?i+"."+r:""+e+o+"."+r;return n={backgroundImage:"url("+e+"."+r+")"},n[p()]={backgroundImage:"url("+s+")",backgroundSize:t},n}function v(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t={},t[n+"::-moz-selection"]=ge({},e),t[n+"::selection"]=ge({},e),t}function b(e){return ye[e]}function y(e){var t,n=e.pointingDirection,a=e.height,i=e.width,o=e.foregroundColor,r=e.backgroundColor,s=void 0===r?"transparent":r,l=parseFloat(a),c=parseFloat(i);if(isNaN(l)||isNaN(c))throw new Error("Passed an invalid value to `height` or `width`. Please provide a pixel based unit");return t={borderColor:s,width:"0",height:"0",borderWidth:we(n,l,c),borderStyle:"solid"},t["border"+$e[n]+"Color"]=o+" !important",t}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"break-word";return{overflowWrap:e,wordWrap:e,wordBreak:"break-word"===e?"break-all":e}}function $(e){return Math.round(255*e)}function x(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t,n){return $(e)+","+$(t)+","+$(n)};if(0===t)return a(n,n,n);var i=e%360/60,o=(1-Math.abs(2*n-1))*t,r=o*(1-Math.abs(i%2-1)),s=0,l=0,c=0;i>=0&&i<1?(s=o,l=r):i>=1&&i<2?(s=r,l=o):i>=2&&i<3?(l=o,c=r):i>=3&&i<4?(l=r,c=o):i>=4&&i<5?(s=r,c=o):i>=5&&i<6&&(s=o,c=r);var u=n-o/2;return a(s+u,l+u,c+u)}function k(e){if("string"!=typeof e)throw new Error("Passed an incorrect argument to a color function, please pass a string representation of a color.");var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return xe[t]?"#"+xe[t]:e}(e);if(t.match(ke))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(Se))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};var n=Ce.exec(t);if(n)return{red:parseInt(""+n[1],10),green:parseInt(""+n[2],10),blue:parseInt(""+n[3],10)};var a=Me.exec(t);if(a)return{red:parseInt(""+a[1],10),green:parseInt(""+a[2],10),blue:parseInt(""+a[3],10),alpha:parseFloat(""+a[4])};var i=Ee.exec(t);if(i){var o="rgb("+x(parseInt(""+i[1],10),parseInt(""+i[2],10)/100,parseInt(""+i[3],10)/100)+")",r=Ce.exec(o);return{red:parseInt(""+r[1],10),green:parseInt(""+r[2],10),blue:parseInt(""+r[3],10)}}var s=Te.exec(t);if(s){var l="rgb("+x(parseInt(""+s[1],10),parseInt(""+s[2],10)/100,parseInt(""+s[3],10)/100)+")",c=Ce.exec(l);return{red:parseInt(""+c[1],10),green:parseInt(""+c[2],10),blue:parseInt(""+c[3],10),alpha:parseFloat(""+s[4])}}throw new Error("Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.")}function S(e){return function(e){var t=e.red/255,n=e.green/255,a=e.blue/255,i=Math.max(t,n,a),o=Math.min(t,n,a),r=(i+o)/2;if(i===o)return void 0!==e.alpha?{hue:0,saturation:0,lightness:r,alpha:e.alpha}:{hue:0,saturation:0,lightness:r};var s=void 0,l=i-o,c=r>.5?l/(2-i-o):l/(i+o);switch(i){case t:s=(n-a)/l+(n<a?6:0);break;case n:s=(a-t)/l+2;break;default:s=(t-n)/l+4}return s*=60,void 0!==e.alpha?{hue:s,saturation:c,lightness:r,alpha:e.alpha}:{hue:s,saturation:c,lightness:r}}(k(e))}function C(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function M(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return Pe("#"+C(e)+C(t)+C(n));if("object"===(void 0===e?"undefined":he(e))&&void 0===t&&void 0===n)return Pe("#"+C(e.red)+C(e.green)+C(e.blue));throw new Error("Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).")}function E(e,t,n,a){if("string"==typeof e&&"number"==typeof t){var i=k(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof a)return a>=1?M(e,t,n):"rgba("+e+","+t+","+n+","+a+")";if("object"===(void 0===e?"undefined":he(e))&&void 0===t&&void 0===n&&void 0===a)return e.alpha>=1?M(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new Error("Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).")}function T(e){return C(Math.round(255*e))}function P(e,t,n){return Pe("#"+T(e)+T(t)+T(n))}function O(e,t,n){return x(e,t,n,P)}function j(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return O(e,t,n);if("object"===(void 0===e?"undefined":he(e))&&void 0===t&&void 0===n)return O(e.hue,e.saturation,e.lightness);throw new Error("Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).")}function A(e,t,n,a){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof a)return a>=1?O(e,t,n):"rgba("+x(e,t,n)+","+a+")";if("object"===(void 0===e?"undefined":he(e))&&void 0===t&&void 0===n&&void 0===a)return e.alpha>=1?O(e.hue,e.saturation,e.lightness):"rgba("+x(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new Error("Passed invalid arguments to hsla, please pass multiple numbers e.g. hsl(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).")}function I(e){if("object"!==(void 0===e?"undefined":he(e)))throw new Error(Le);if(je(e))return E(e);if(Oe(e))return M(e);if(Ie(e))return A(e);if(Ae(e))return j(e);throw new Error(Le)}function L(e,t,n){return function(){var a=n.concat(Array.prototype.slice.call(arguments));return a.length>=t?e.apply(this,a):L(e,t,a)}}function U(e){return L(e,e.length,[])}function D(e){var t=S(e);return I(ge({},t,{hue:(t.hue+180)%360}))}function N(e,t,n){return Math.max(e,Math.min(t,n))}function R(e){var t=k(e),n=Object.keys(t).map(function(e){var n=t[e]/255;return n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)});return.2126*n[0]+.7152*n[1]+.0722*n[2]}function F(e){return I(ge({},S(e),{saturation:0}))}function B(e){var t=k(e);return I(ge({},t,{red:255-t.red,green:255-t.green,blue:255-t.blue}))}function z(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=Array.isArray(t[0]);if(!a&&t.length>8)throw new Error("The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation");return{animation:t.map(function(e){if(a&&!Array.isArray(e)||!a&&Array.isArray(e))throw new Error("To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')");if(Array.isArray(e)&&e.length>8)throw new Error("The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation");return Array.isArray(e)?e.join(" "):e}).join(", ")}}function H(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{backgroundImage:t.join(", ")}}function V(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{background:t.join(", ")}}function q(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.apply(void 0,["borderColor"].concat(t))}function G(e,t){var n=a(e);if(!t&&0!==t)throw new Error("borderRadius expects a radius value as a string or number as the second argument.");if("Top"===n||"Bottom"===n){var i;return i={},i["border"+n+"RightRadius"]=t,i["border"+n+"LeftRadius"]=t,i}if("Left"===n||"Right"===n){var o;return o={},o["borderTop"+n+"Radius"]=t,o["borderBottom"+n+"Radius"]=t,o}throw new Error('borderRadius expects one of "top", "bottom", "left" or "right" as the first argument.')}function W(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.apply(void 0,["borderStyle"].concat(t))}function Y(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.apply(void 0,["borderWidth"].concat(t))}function K(e,t){return e(t?":"+t:"")}function J(e,t,n){if(!t)throw new Error("You must provide a template to this method.");if(0===e.length)return K(t,null);for(var a=[],i=0;i<e.length;i+=1){if(n&&n.indexOf(e[i])<0)throw new Error("You passed an unsupported selector state to this method.");a.push(K(t,e[i]))}return a=a.join(",")}function X(e){return"button"+e+',\n  input[type="button"]'+e+',\n  input[type="reset"]'+e+',\n  input[type="submit"]'+e}function Q(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return J(t,X,Je)}function Z(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.apply(void 0,["margin"].concat(t))}function ee(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.apply(void 0,["padding"].concat(t))}function te(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Xe.indexOf(e)>=0?ge({position:e},o.apply(void 0,[""].concat(n))):o.apply(void 0,["",e].concat(n))}function ne(e){return{height:e,width:arguments.length>1&&void 0!==arguments[1]?arguments[1]:e}}function ae(e){return'input[type="color"]'+e+',\n    input[type="date"]'+e+',\n    input[type="datetime"]'+e+',\n    input[type="datetime-local"]'+e+',\n    input[type="email"]'+e+',\n    input[type="month"]'+e+',\n    input[type="number"]'+e+',\n    input[type="password"]'+e+',\n    input[type="search"]'+e+',\n    input[type="tel"]'+e+',\n    input[type="text"]'+e+',\n    input[type="time"]'+e+',\n    input[type="url"]'+e+',\n    input[type="week"]'+e+",\n    input:not([type])"+e+",\n    textarea"+e}function ie(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return J(t,ae,Qe)}function oe(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{transition:t.join(", ")}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"adjustHue",function(){return Ue}),n.d(t,"animation",function(){return z}),n.d(t,"backgroundImages",function(){return H}),n.d(t,"backgrounds",function(){return V}),n.d(t,"borderColor",function(){return q}),n.d(t,"borderRadius",function(){return G}),n.d(t,"borderStyle",function(){return W}),n.d(t,"borderWidth",function(){return Y}),n.d(t,"buttons",function(){return Q}),n.d(t,"clearFix",function(){return l}),n.d(t,"complement",function(){return D}),n.d(t,"darken",function(){return De}),n.d(t,"desaturate",function(){return Ne}),n.d(t,"directionalProperty",function(){return o}),n.d(t,"ellipsis",function(){return c}),n.d(t,"em",function(){return fe}),n.d(t,"fontFace",function(){return u}),n.d(t,"getLuminance",function(){return R}),n.d(t,"grayscale",function(){return F}),n.d(t,"invert",function(){return B}),n.d(t,"hideText",function(){return d}),n.d(t,"hideVisually",function(){return f}),n.d(t,"hiDPI",function(){return p}),n.d(t,"hsl",function(){return j}),n.d(t,"hsla",function(){return A}),n.d(t,"lighten",function(){return Re}),n.d(t,"margin",function(){return Z}),n.d(t,"mix",function(){return Fe}),n.d(t,"modularScale",function(){return s}),n.d(t,"normalize",function(){return m}),n.d(t,"opacify",function(){return Be}),n.d(t,"padding",function(){return ee}),n.d(t,"parseToHsl",function(){return S}),n.d(t,"parseToRgb",function(){return k}),n.d(t,"placeholder",function(){return h}),n.d(t,"position",function(){return te}),n.d(t,"radialGradient",function(){return g}),n.d(t,"readableColor",function(){return ze}),n.d(t,"rem",function(){return me}),n.d(t,"retinaImage",function(){return _}),n.d(t,"rgb",function(){return M}),n.d(t,"rgba",function(){return E}),n.d(t,"saturate",function(){return He}),n.d(t,"selection",function(){return v}),n.d(t,"setHue",function(){return Ve}),n.d(t,"setLightness",function(){return qe}),n.d(t,"setSaturation",function(){return Ge}),n.d(t,"shade",function(){return We}),n.d(t,"size",function(){return ne}),n.d(t,"stripUnit",function(){return r}),n.d(t,"textInputs",function(){return ie}),n.d(t,"timingFunctions",function(){return b}),n.d(t,"tint",function(){return Ye}),n.d(t,"toColorString",function(){return I}),n.d(t,"transitions",function(){return oe}),n.d(t,"transparentize",function(){return Ke}),n.d(t,"triangle",function(){return y}),n.d(t,"wordWrap",function(){return w});var re,se,le,ce=["Top","Right","Bottom","Left"],ue=function(e,t){return e.substr(-t.length)===t},de=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"16px",a=t,i=n;if("string"==typeof t){if(!ue(t,"px"))throw new Error('Expected a string ending in "px" or a number passed as the first argument to '+e+'(), got "'+t+'" instead.');a=r(t)}if("string"==typeof n){if(!ue(n,"px"))throw new Error('Expected a string ending in "px" or a number passed as the second argument to '+e+'(), got "'+n+'" instead.');i=r(n)}if("string"==typeof a)throw new Error('Passed invalid pixel value ("'+t+'") to '+e+'(), please pass a value like "12px" or 12.');if("string"==typeof i)throw new Error('Passed invalid base value ("'+n+'") to '+e+'(), please pass a value like "12px" or 12.');return""+a/i+e}},fe=de("em"),pe={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4},me=de("rem"),he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_e=(re={html:{fontFamily:"sans-serif"},body:{margin:"0"}},re["a:active,\n  a:hover"]={outlineWidth:"0"},re["button,\n  input,\n  optgroup,\n  select,\n  textarea"]={fontFamily:"sans-serif",fontSize:"100%",lineHeight:"1.15"},re),ve=(le={html:{lineHeight:"1.15",textSizeAdjust:"100%"}},le["article,\n  aside,\n  footer,\n  header,\n  nav,\n  section"]={display:"block"},le.h1={fontSize:"2em",margin:"0.67em 0"},le["figcaption,\n  figure,\n  main"]={display:"block"},le.figure={margin:"1em 40px"},le.hr={boxSizing:"content-box",height:"0",overflow:"visible"},le.pre={fontFamily:"monospace, monospace",fontSize:"1em"},le.a={"background-color":"transparent","-webkit-text-decoration-skip":"objects"},le["abbr[title]"]=(se={borderBottom:"none",textDecoration:"underline"},se.textDecoration="underline dotted",se),le["b,\n  strong"]={fontWeight:"inherit"},le["code,\n  kbd,\n  samp"]={fontFamily:"monospace, monospace",fontSize:"1em"},le.dfn={fontStyle:"italic"},le.mark={backgroundColor:"#ff0",color:"#000"},le.small={fontSize:"80%"},le["sub,\n  sup"]={fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},le.sub={bottom:"-0.25em"},le.sup={top:"-0.5em"},le["audio,\n  video"]={display:"inline-block"},le["audio:not([controls])"]={display:"none",height:"0"},le.img={borderStyle:"none"},le["svg:not(:root)"]={overflow:"hidden"},le["button,\n  input,\n  optgroup,\n  select,\n  textarea"]={margin:"0"},le["button,\n  input"]={overflow:"visible"},le["button,\n  select"]={textTransform:"none"},le['button,\n  html [type="button"],\n  [type="reset"],\n  [type="submit"]']={"-webkit-appearance":"button"},le['button::-moz-focus-inner,\n  [type="button"]::-moz-focus-inner,\n  [type="reset"]::-moz-focus-inner,\n  [type="submit"]::-moz-focus-inner']={borderStyle:"none",padding:"0"},le['button:-moz-focusring,\n  [type="button"]:-moz-focusring,\n  [type="reset"]:-moz-focusring,\n  [type="submit"]:-moz-focusring']={outline:"1px dotted ButtonText"},le.fieldset={border:"1px solid #c0c0c0",margin:"0 2px",padding:"0.35em 0.625em 0.75em"},le.legend={boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:"0",whiteSpace:"normal"},le.progress={display:"inline-block",verticalAlign:"baseline"},le.textarea={overflow:"auto"},le['[type="checkbox"],\n  [type="radio"]']={boxSizing:"border-box",padding:"0"},le['[type="number"]::-webkit-inner-spin-button,\n  [type="number"]::-webkit-outer-spin-button']={height:"auto"},le['[type="search"]']={"-webkit-appearance":"textfield",outlineOffset:"-2px"},le['[type="search"]::-webkit-search-cancel-button,\n  [type="search"]::-webkit-search-decoration']={"-webkit-appearance":"none"},le["::-webkit-file-upload-button"]={"-webkit-appearance":"button",font:"inherit"},le["details,\n  menu"]={display:"block"},le.summary={display:"list-item"},le.canvas={display:"inline-block"},le.template={display:"none"},le["[hidden]"]={display:"none"},le),be=function(e,t){return e.raw=t,e}(["radial-gradient(","","","",")"],["radial-gradient(","","","",")"]),ye={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",easeInQuad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",easeOutCirc:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",easeOutExpo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"},we=function(e,t,n){switch(e){case"top":return"0 "+n/2+"px "+t+"px "+n/2+"px";case"left":return t/2+"px "+n+"px "+t/2+"px 0";case"bottom":return t+"px "+n/2+"px 0 "+n/2+"px";case"right":return t/2+"px 0 "+t/2+"px "+n+"px";default:throw new Error("Passed invalid argument to triangle, please pass correct poitingDirection e.g. 'right'.")}},$e={left:"Right",right:"Left",top:"Bottom",bottom:"Top"},xe={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ke=/^#[a-fA-F0-9]{6}$/,Se=/^#[a-fA-F0-9]{3}$/,Ce=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,Me=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/,Ee=/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/,Te=/^hsla\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/,Pe=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},Oe=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)},je=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha},Ae=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)},Ie=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha},Le="Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.",Ue=U(function(e,t){var n=S(t);return I(ge({},n,{hue:(n.hue+e)%360}))}),De=U(function(e,t){var n=S(t);return I(ge({},n,{lightness:N(0,1,n.lightness-e)}))}),Ne=U(function(e,t){var n=S(t);return I(ge({},n,{saturation:N(0,1,n.saturation-e)}))}),Re=U(function(e,t){var n=S(t);return I(ge({},n,{lightness:N(0,1,n.lightness+e)}))}),Fe=U(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=arguments[1],n=arguments[2],a=k(t),i=ge({},a,{alpha:"number"==typeof a.alpha?a.alpha:1}),o=k(n),r=ge({},o,{alpha:"number"==typeof o.alpha?o.alpha:1}),s=i.alpha-r.alpha,l=2*e-1,c=((l*s==-1?l:l+s)/(1+l*s)+1)/2,u=1-c;return E({red:Math.floor(i.red*c+r.red*u),green:Math.floor(i.green*c+r.green*u),blue:Math.floor(i.blue*c+r.blue*u),alpha:i.alpha+(r.alpha-i.alpha)*(e/1)})}),Be=U(function(e,t){var n=k(t),a="number"==typeof n.alpha?n.alpha:1;return E(ge({},n,{alpha:N(0,1,(100*a+100*e)/100)}))}),ze=U(function(e){return R(e)>.179?"#000":"#fff"}),He=U(function(e,t){var n=S(t);return I(ge({},n,{saturation:N(0,1,n.saturation+e)}))}),Ve=U(function(e,t){return I(ge({},S(t),{hue:e}))}),qe=U(function(e,t){return I(ge({},S(t),{lightness:e}))}),Ge=U(function(e,t){return I(ge({},S(t),{saturation:e}))}),We=U(function(e,t){if("number"!=typeof e||e>1||e<-1)throw new Error("Passed an incorrect argument to shade, please pass a percentage less than or equal to 1 and larger than or equal to -1.");if("string"!=typeof t)throw new Error("Passed an incorrect argument to a color function, please pass a string representation of a color.");return Fe(e,t,"rgb(0, 0, 0)")}),Ye=U(function(e,t){if("number"!=typeof e||e>1||e<-1)throw new Error("Passed an incorrect argument to tint, please pass a percentage less than or equal to 1 and larger than or equal to -1.");if("string"!=typeof t)throw new Error("Passed an incorrect argument to a color function, please pass a string representation of a color.");return Fe(e,t,"rgb(255, 255, 255)")}),Ke=U(function(e,t){var n=k(t),a="number"==typeof n.alpha?n.alpha:1;return E(ge({},n,{alpha:N(0,1,(100*a-100*e)/100)}))}),Je=[void 0,null,"active","focus","hover"],Xe=["absolute","fixed","relative","static","sticky"],Qe=[void 0,null,"active","focus","hover"]},,function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=a(n(1555)),o=a(n(1565)),r="function"==typeof o.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};t.default="function"==typeof o.default&&"symbol"===r(i.default)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":r(e)}},function(e,t){e.exports={}},function(e,t,n){e.exports=n(1582)()},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1808));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1876)),r=a(n(1896)),s=a(n(1900)),l=a(n(1906)),c=a(n(1911)),u=a(n(1913)),d=a(n(651)),f=a(n(1937)),p=a(n(1938)),m=a(n(1942)),h=a(n(1946)),g=a(n(1954)),_=a(n(1963)),v=a(n(1966)),b=a(n(1970)),y=a(n(1974)),w=a(n(1980)),$=a(n(619)),x=a(n(362)),k=a(n(1985)),S=a(n(1989)),C=a(n(1993)),M=a(n(1997)),E=a(n(2e3)),T=a(n(2004)),P=a(n(2009));n(2013),t.default=i.default.module("htbx.ui-elements",[o.default,r.default,s.default,l.default,c.default,u.default,d.default,f.default,p.default,m.default,h.default,g.default,_.default,v.default,b.default,y.default,w.default,$.default,x.default,S.default,C.default,k.default,M.default,E.default,T.default,P.default]).config(["$uibTooltipProvider",function(e){e.options({popupDelay:300})}]).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2)),r=n(15),s=a(n(189)),l=a(n(297)),c=a(n(470)),u=a(n(655)),d=a(n(2656)),f=a(n(138)),p=a(n(2672)),m=a(n(2673)),h=a(n(2674)),g=a(n(2675)),_=a(n(2676)),v=a(n(2677)),b=a(n(2678)),y=a(n(2679)),w=a(n(2680)),$=a(n(2681)),x=a(n(2682)),k=a(n(2683)),S=a(n(2684)),C=n(2685),M=n(2686),E=a(n(2687)),T=n(2688),P=n(2689),O=a(n(2690)),j=a(n(2691)),A=a(n(2692)),I=a(n(2693)),L=a(n(2694)),U=a(n(2696)),D=a(n(2698)),N=a(n(2699)),R=a(n(2702)),F=a(n(2705)),B=a(n(2707)),z=a(n(2710)),H=a(n(2714)),V=a(n(2717)),q=a(n(2720)),G=a(n(2723)),W=a(n(2726)),Y=a(n(2729)),K=a(n(2732)),J=a(n(2735)),X=a(n(2738)),Q=a(n(2742)),Z=a(n(2746)),ee=a(n(2749)),te=a(n(2751)),ne=a(n(2753)),ae=a(n(2756)),ie=a(n(2759)),oe=a(n(2762)),re=a(n(2764)),se=a(n(2765)),le=a(n(2766)),ce=a(n(2767)),ue=a(n(2768));n(2769),t.default=i.default.module("htbx.settings",[s.default,c.default,l.default,u.default,f.default,d.default]).constant("PartnershipAction",p.default).constant("PartnershipState",m.default).factory("ChatBanlist",h.default).factory("PartnershipDeletionStatus",g.default).factory("ChatModerations",_.default).factory("ChatModerators",v.default).factory("ChatIcon",b.default).factory("Forms",y.default).factory("Notifications",w.default).factory("VerifyEmail",$.default).factory("tfasetup",x.default).factory("tfastop",k.default).factory("tfavalidate",S.default).factory("FacebookPages",C.FacebookPagesFactory).factory("FacebookResetCache",C.FacebookResetCacheFactory).factory("FacebookAccount",C.FacebookAccountFactory).factory("FacebookPost",C.FacebookPostFactory).factory("TwitterAccount",M.TwitterAccountFactory).factory("TwitterPost",M.TwitterPostFactory).factory("YoutubeAccount",E.default).factory("OauthAccess",T.OauthAccessFactory).factory("OauthApps",T.OauthAppsFactory).factory("Editor",P.EditorFactory).factory("Editors",P.EditorsFactory).service("partnerState",O.default).service("partnershipStateDiagram",j.default).controller("SettingsCtrl",A.default).controller("NotificationsSettingsCtrl",I.default).controller("OAuthAppCtrl",L.default).controller("PayAccountSettingsCtrl",U.default).controller("SocialSettingsCtrl",D.default).directive("htbxSettingsPage",B.default).directive("emojiManager",z.default).component("verifyEmail",R.default).component("htbxEmailUnverified",N.default).component("htbxSettingsChannel",F.default).component("htbxSettingsNavigation",H.default).component("htbxSettingsTfa",V.default).component("htbxSettingsAccessDashboards",q.default).component("htbxSettingsAccessModerations",G.default).component("htbxSettingsOauth",W.default).component("htbxSettingsDeleteAccount",Y.default).component("htbxSettingsAddForm",K.default).component("htbxSettingsDashboardEditors",J.default).component("htbxSettingsChatBannedUsers",X.default).component("htbxSettingsChatBlacklist",Q.default).component("htbxSettingsChatModerators",Z.default).component("htbxSettingsStreamDelay",ee.default).component("htbxSettingsStreamIngest",te.default).component("htbxSettingsStreamRecordings",ne.default).component("htbxSettingsStreamVisibility",ae.default).component("htbxSettingsUserInfo",ie.default).component("htbxSettingsConnections",oe.default).config(["$stateProvider","$urlRouterProvider","mediaExistsResolve",function(e,t,n){var a=r.ROUTING_CONFIG.accessLevels,i=Object.assign({},{lazyload:["angularLoad",function(e){return e.loadScript(o.default.staticUrl+"/js/lazyload.js")}]},n);e.state("settings",{url:"/settings/:user",resolve:i,section:"settings",parent:"nav",views:{"viewMain@":{template:"<htbx-settings-page></htbx-settings-page>"}},access:a.admin,secure:!0}).state("settings.channel",{url:"/channel",section:"settings",views:{"viewSettings@settings":{template:"<htbx-settings-channel></htbx-settings-channel>"}},tab:"livestreams",title:'{{"global_menu_channel-settings" | translate}}',access:a.admin,secure:!0}).state("settings.chat",{url:"/chat",section:"settings",views:{"viewSettings@settings":{templateUrl:re.default}},tab:"chat",title:'{{"global_text_chat" | translate}}',access:a.admin,secure:!0}).state("settings.emotes",{url:"/emotes",section:"settings",views:{"viewSettings@settings":{template:"<emoji-manager></emoji-manager>"}},tab:"chat",subtab:"emotes",title:'{{"view_chat_header_channel-subscriber-emotes" | translate}}',access:a.admin,secure:!0}).state("settings.moderators",{url:"/moderators",section:"settings",views:{"viewSettings@settings":{template:'\n                            <div class="statistics">\n                                <htbx-settings-dashboard-editors></htbx-settings-dashboard-editors>\n                                <htbx-settings-chat-moderators></htbx-settings-chat-moderators>\n                            </div>\n                        '}},tab:"chat",subtab:"moderators",title:'{{"global_text_chat" | translate}}',access:a.admin,secure:!0}).state("settings.account",{url:"/account",section:"settings",views:{"viewSettings@settings":{templateUrl:se.default}},tab:"account",title:'{{"global_menu_account" | translate}}',access:a.admin,secure:!0,requiresMedia:!1}).state("settings.security",{url:"/security",section:"settings",views:{"viewSettings@settings":{templateUrl:le.default}},tab:"account",subtab:"security",title:'{{"global_menu_account" | translate}}',access:a.admin,secure:!0,requiresMedia:!1}).state("settings.notifications",{url:"/notifications",section:"settings",views:{"viewSettings@settings":{templateUrl:ce.default}},tab:"account",subtab:"notifications",title:'{{"global_menu_account" | translate}}',access:a.admin,secure:!0,requiresMedia:!1}).state("settings.connections",{url:"/connections",section:"settings",params:{addDiscordServer:null},views:{"viewSettings@settings":{template:"<htbx-settings-connections></htbx-settings-connections>"}},tab:"account",subtab:"connections",title:'{{"global_menu_account" | translate}}',access:a.admin,secure:!0,requiresMedia:!1}).state("settings.access",{url:"/access",section:"settings",views:{"viewSettings@settings":{templateUrl:ue.default}},tab:"account",subtab:"connections",title:'{{"global_menu_account" | translate}}',access:a.admin,secure:!0,requiresMedia:!1}).state("verifyemail",{url:"/verifyemail/:token",views:{viewNav:{template:"<htbx-main-nav></htbx-main-nav>"},viewMain:{template:"<verify-email></verify-email>"}},access:a.anon,section:"verifyemail",requiresMedia:!1}),t.when("/settings/:user",["$state","$match",function(e,t){e.go("settings.account",t)}]),t.when("/settings/:user/livestreams",["$state","$match",function(e,t){e.go("settings.channel",t)}]),t.when("/settings/:user/videos",["$state","$match",function(e,t){e.go("videomanager",t)}]),t.when("/settings/:user/statistics",["$state","$match",function(e,t){e.go("statistics",t)}]),t.when("/settings/:user/payments",["$state","$match",function(e,t){e.go("payments",t)}]),t.when("/settings/:user/account",["$state","$match",function(e,t){e.go("settings.account",t)}]),t.when("/settings/:user/teams",["$state","$match",function(e,t){e.go("community.teams",t)}])}]).name},,,,,,,,,,,,,function(e,t,n){(function(t){function n(e,t){return Array.prototype.slice.call(e,t||0)}function a(e,t){i(e,function(e,n){return t(e,n),!1})}function i(e,t){if(o(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var a in e)if(e.hasOwnProperty(a)&&t(e[a],a))return e[a]}function o(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}var r=Object.assign?Object.assign:function(e,t,n,i){for(var o=1;o<arguments.length;o++)a(Object(arguments[o]),function(t,n){e[n]=t});return e},s=function(){function e(){}return Object.create?function(e,t,a,i){var o=n(arguments,1);return r.apply(this,[Object.create(e)].concat(o))}:function(t,a,i,o){var s=n(arguments,1);return e.prototype=t,r.apply(this,[new e].concat(s))}}(),l=String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},c="undefined"!=typeof window?window:t;e.exports={assign:r,create:s,trim:l,bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:n,each:a,map:function(e,t){var n=o(e)?[]:{};return i(e,function(e,a){return n[a]=t(e,a),!1}),n},pluck:i,isList:o,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:c}}).call(t,n(7))},,,,,,,,,,function(e,t,n){var a=n(473);e.exports=function(e,t,n){"__proto__"==t&&a?a(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},,function(e,t,n){var a=n(75),i=n(295);e.exports=function(e){return a(function(t,n){var a=-1,o=n.length,r=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(o--,r):void 0,s&&i(n[0],n[1],s)&&(r=o<3?void 0:r,o=1),t=Object(t);++a<o;){var l=n[a];l&&e(t,l,a,r)}return t})}},,,,,,,function(e,t,n){var a=n(223);e.exports=function(e){return e&&e.length?a(e):[]}},function(e,t,n){var a=n(274),i=n(301),o=n(487),r=n(275),s=n(1135),l=n(209);e.exports=function(e,t,n){var c=-1,u=i,d=e.length,f=!0,p=[],m=p;if(n)f=!1,u=o;else if(d>=200){var h=t?null:s(e);if(h)return l(h);f=!1,u=r,m=new a}else m=t?[]:p;e:for(;++c<d;){var g=e[c],_=t?t(g):g;if(g=n||0!==g?g:0,f&&_==_){for(var v=m.length;v--;)if(m[v]===_)continue e;t&&m.push(_),p.push(g)}else u(m,_,n)||(m!==p&&m.push(_),p.push(g))}return p}},,,function(e,t,n){var a=n(278),i=n(519),o=n(55),r=n(23),s=n(1185);e.exports=function(e,t){return(r(e)?a:i)(e,s(o(t,3)))}},function(e,t,n){"use strict";e.exports=n(1208)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.denyWhisper=t.allowWhisper=t.disableStickyUserList=t.enableStickyUserList=t.hideImages=t.showImages=t.setFontSize=t.disableTimestamps=t.enableTimestamps=t.disableCompactMode=t.enableCompactMode=t.setNameColor=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(16)),i=n(175),o=n(536);t.setNameColor=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){e=e.toUpperCase(),(0,i.isValid)(e)||(e="58ACFA"),t&&a.default.set("chat.chatOptions.nameColor",e),n({type:o.SET_NAME_COLOR,data:e})}},t.enableCompactMode=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){e&&a.default.set("chat.chatOptions.compact",!0),t({type:o.SET_COMPACT_MODE,data:!0})}},t.disableCompactMode=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){e&&a.default.set("chat.chatOptions.compact",!1),t({type:o.SET_COMPACT_MODE,data:!1})}},t.enableTimestamps=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){e&&a.default.set("chat.chatOptions.timestamps",!0),t({type:o.SET_TIMESTAMPS,data:!0})}},t.disableTimestamps=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){e&&a.default.set("chat.chatOptions.timestamps",!1),t({type:o.SET_TIMESTAMPS,data:!1})}},t.setFontSize=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){if(e<0||e>4)throw new Error("fontSize needs to be a number between 0 and 4");t&&a.default.set("chat.chatOptions.fontSize",e),n({type:o.SET_FONT_SIZE,data:e})}},t.showImages=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){e&&a.default.set("chat.chatOptions.disableImages",!1),t({type:o.SET_SHOWING_IMAGES,data:!0})}},t.hideImages=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){e&&a.default.set("chat.chatOptions.disableImages",!0),t({type:o.SET_SHOWING_IMAGES,data:!1})}},t.enableStickyUserList=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){e&&a.default.set("chat.chatOptions.stickyUsers",!0),t({type:o.SET_STICKY_USER_LIST,data:!0})}},t.disableStickyUserList=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){e&&a.default.set("chat.chatOptions.stickyUsers",!1),t({type:o.SET_STICKY_USER_LIST,data:!1})}},t.allowWhisper=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){e&&a.default.set("chat.chatOptions.whisper",!0),t({type:o.SET_WHISPER,data:!0})}},t.denyWhisper=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){e&&a.default.set("chat.chatOptions.whisper",!1),t({type:o.SET_WHISPER,data:!1})}}},,,,,,,function(e,t,n){e.exports=n(1384)()},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(67)));n(1417);var r=function(e){var t=e.type,n=e.open,a=e.headerText,r=e.headerNote,s=e.headerNoteClick,l=e.children,c=null;return r&&(c=s?i.default.createElement("a",{onClick:s,href:"javascript:;",className:"chat-input-panel__header__note"},r):i.default.createElement("span",{className:"chat-input-panel__header__note"},r)),i.default.createElement("div",{className:(0,o.default)({"chat-input-panel":!0,"chat-input-panel--open":n},"chat-input-panel--type-"+t)},i.default.createElement("div",{className:"chat-input-panel__inner"},i.default.createElement("header",{className:"chat-input-panel__header"},i.default.createElement("span",{className:"chat-input-panel__header__text"},a),c),i.default.createElement("div",{className:"chat-input-panel__content"},l)))};r.defaultProps={type:"default",open:!1,headerNote:"",headerNoteClick:function(){},children:null},t.default=r},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(67)));n(1438);var r=function(e){var t=e.canUseLinks,n=e.children,a=e.href,r=e.target,s=e.className,l=(0,o.default)(s,"chat-input-link",{"chat-input-link--error":!t()});return t()?i.default.createElement("a",{href:a,target:r,className:l,rel:"noopener"},n):i.default.createElement("span",{className:l},n)};r.defaultProps={target:null,children:null,className:""},t.default=r},function(e,t,n){var a=n(88),i=n(65);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==a(e)}},function(e,t,n){var a=n(599),i=n(350);e.exports=Object.keys||function(e){return a(e,i)}},function(e,t){var n=0,a=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+a).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var a=n(346);e.exports=function(e){return Object(a(e))}},function(e,t,n){"use strict";var a=function(){};e.exports=a},function(e,t,n){var a,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a))e.push(n.apply(null,a));else if("object"===i)for(var r in a)o.call(a,r)&&a[r]&&e.push(r)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:void 0!==(i=function(){return n}.apply(t,a=[]))&&(e.exports=i)}()},function(e,t,n){e.exports=n(1606)()},function(e,t,n){e.exports=n(1639)()},function(e,t,n){"use strict";"function"==typeof Symbol&&Symbol.iterator,e.exports=n(1721)()},,function(e,t,n){var a=n(128);e.exports=function(e){return"function"==typeof e?e:a}},,,function(e,t,n){var a,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a))e.push(n.apply(null,a));else if("object"===i)for(var r in a)o.call(a,r)&&a[r]&&e.push(r)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:void 0!==(i=function(){return n}.apply(t,a=[]))&&(e.exports=i)}()},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.canUseDOM=t.slidesOnLeft=t.slidesOnRight=t.siblingDirection=t.getTotalSlides=t.getPostClones=t.getPreClones=t.getTrackLeft=t.getTrackAnimateCSS=t.getTrackCSS=t.checkSpecKeys=t.getSlideCount=t.checkNavigable=t.getNavigableIndexes=t.swipeEnd=t.swipeMove=t.swipeStart=t.keyHandler=t.changeSlide=t.slideHandler=t.initializedState=t.extractObject=t.canGoNext=t.getSwipeDirection=t.getHeight=t.getWidth=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.lazyStartIndex=t.getRequiredLazySlides=t.getOnDemandLazySlides=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=a(n(1)),r=a(n(27)),s=t.getOnDemandLazySlides=function(e){for(var t=[],n=l(e),a=c(e),i=n;i<a;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t},l=(t.getRequiredLazySlides=function(e){for(var t=[],n=l(e),a=c(e),i=n;i<a;i++)t.push(i);return t},t.lazyStartIndex=function(e){return e.currentSlide-u(e)}),c=t.lazyEndIndex=function(e){return e.currentSlide+d(e)},u=t.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},d=t.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},f=t.getWidth=function(e){return e&&e.offsetWidth||0},p=t.getHeight=function(e){return e&&e.offsetHeight||0},m=t.getSwipeDirection=function(e){var t,n,a,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,a=Math.atan2(n,t),(i=Math.round(180*a/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===o?i>=35&&i<=135?"up":"down":"vertical"},h=t.canGoNext=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1?t=!1:(e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1)),t},g=(t.extractObject=function(e,t){var n={};return t.forEach(function(t){return n[t]=e[t]}),n},t.initializedState=function(e){var t=o.default.Children.count(e.children),n=Math.ceil(f(r.default.findDOMNode(e.listRef))),a=Math.ceil(f(r.default.findDOMNode(e.trackRef))),i=void 0;if(e.vertical)i=n;else{var l=e.centerMode&&2*parseInt(e.centerPadding);"string"==typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(l*=n/100),i=Math.ceil((n-l)/e.slidesToShow)}var c=r.default.findDOMNode(e.listRef)&&p(r.default.findDOMNode(e.listRef).querySelector('[data-index="0"]')),u=c*e.slidesToShow,d=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(d=t-1-e.initialSlide);var m=e.lazyLoadedList||[],h=s({currentSlide:d,lazyLoadedList:m},e);m.concat(h);var g={slideCount:t,slideWidth:i,listWidth:n,trackWidth:a,currentSlide:d,slideHeight:c,listHeight:u,lazyLoadedList:m};return null===e.autoplaying&&e.autoplay&&(g.autoplaying="playing"),g},t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,a=e.fade,o=e.infinite,r=e.index,l=e.slideCount,c=e.lazyLoadedList,u=e.lazyLoad,d=e.currentSlide,f=e.centerMode,p=e.slidesToScroll,m=e.slidesToShow,g=e.useCSS;if(t&&n)return{};var _=r,v=void 0,b=void 0,x=void 0,k={},S={};if(a){if(!o&&(r<0||r>=l))return{};r<0?_=r+l:r>=l&&(_=r-l),u&&c.indexOf(_)<0&&c.push(_),k={animating:!0,currentSlide:_,lazyLoadedList:c},S={animating:!1}}else v=_,_<0?(v=_+l,o?l%p!=0&&(v=l-l%p):v=0):!h(e)&&_>d?_=v=d:f&&_>=l?(_=o?l:l-1,v=o?0:l-1):_>=l&&(v=_-l,o?l%p!=0&&(v=0):v=l-m),b=$(i({},e,{slideIndex:_})),x=$(i({},e,{slideIndex:v})),o||(b===x&&(_=v),b=x),u&&c.concat(s(i({},e,{currentSlide:_}))),g?(k={animating:!0,currentSlide:v,trackStyle:w(i({},e,{left:b})),lazyLoadedList:c},S={animating:!1,currentSlide:v,trackStyle:y(i({},e,{left:x})),swipeLeft:null}):k={currentSlide:v,trackStyle:y(i({},e,{left:x})),lazyLoadedList:c};return{state:k,nextState:S}},t.changeSlide=function(e,t){var n,a,o,r,s,l=e.slidesToScroll,c=e.slidesToShow,u=e.slideCount,d=e.currentSlide,f=e.lazyLoad,p=e.infinite;if(r=u%l!=0,n=r?0:(u-d)%l,"previous"===t.message)s=d-(o=0===n?l:c-n),f&&!p&&(s=-1==(a=d-o)?u-1:a);else if("next"===t.message)s=d+(o=0===n?l:n),f&&!p&&(s=(d+l)%u+n);else if("dots"===t.message){if((s=t.index*t.slidesToScroll)===t.currentSlide)return null}else if("children"===t.message){if((s=t.index)===t.currentSlide)return null;if(p){var m=C(i({},e,{targetSlide:s}));s>t.currentSlide&&"left"===m?s-=u:s<t.currentSlide&&"right"===m&&(s+=u)}}else if("index"===t.message&&(s=Number(t.index))===t.currentSlide)return null;return s},t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""},t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&e.preventDefault(),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}},t.swipeMove=function(e,t){var n=t.scrolling,a=t.animating,o=t.vertical,r=t.swipeToSlide,s=t.verticalSwiping,l=t.rtl,c=t.currentSlide,u=t.edgeFriction,d=t.edgeDragged,f=t.onEdge,p=t.swiped,g=t.swiping,_=t.slideCount,v=t.slidesToScroll,b=t.infinite,w=t.touchObject,x=t.swipeEvent,k=t.listHeight,S=t.listWidth;if(!n){if(a)return e.preventDefault();o&&r&&s&&e.preventDefault();var C=void 0,M={},E=$(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var T=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!s&&!g&&T>10)return{scrolling:!0};s&&(w.swipeLength=T);var P=(l?-1:1)*(w.curX>w.startX?1:-1);s&&(P=w.curY>w.startY?1:-1);var O=Math.ceil(_/v),j=m(t.touchObject,s),A=w.swipeLength;return b||(0===c&&"right"===j||c+1>=O&&"left"===j||!h(t)&&"left"===j)&&(A=w.swipeLength*u,!1===d&&f&&(f(j),M.edgeDragged=!0)),!p&&x&&(x(j),M.swiped=!0),C=o?E+A*(k/S)*P:l?E-A*P:E+A*P,s&&(C=E+A*P),M=i({},M,{touchObject:w,swipeLeft:C,trackStyle:y(i({},t,{left:C}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?M:(w.swipeLength>10&&(M.swiping=!0,e.preventDefault()),M)}},t.swipeEnd=function(e,t){var n=t.dragging,a=t.swipe,o=t.touchObject,r=t.listWidth,s=t.touchThreshold,l=t.verticalSwiping,c=t.listHeight,u=t.currentSlide,d=t.swipeToSlide,f=t.scrolling,p=t.onSwipe;if(!n)return a&&e.preventDefault(),{};var h=l?c/s:r/s,g=m(o,l),b={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f)return b;if(!o.swipeLength)return b;if(o.swipeLength>h){e.preventDefault(),p&&p(g);var y=void 0,x=void 0;switch(g){case"left":case"up":x=u+v(t),y=d?_(t,x):x,b.currentDirection=0;break;case"right":case"down":x=u-v(t),y=d?_(t,x):x,b.currentDirection=1;break;default:y=u}b.triggerSlideHandler=y}else{var k=$(t);b.trackStyle=w(i({},t,{left:k}))}return b},t.getNavigableIndexes=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,a=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=a+e.slidesToScroll,a+=Math.min(e.slidesToScroll,e.slidesToShow);return i}),_=t.checkNavigable=function(e,t){var n=g(e),a=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=a;break}a=n[i]}return t},v=t.getSlideCount=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n=void 0,a=r.default.findDOMNode(e.listRef).querySelectorAll(".slick-slide");if(Array.from(a).every(function(a){if(e.vertical){if(a.offsetTop+p(a)/2>-1*e.swipeLeft)return n=a,!1}else if(a.offsetLeft-t+f(a)/2>-1*e.swipeLeft)return n=a,!1;return!0}),!n)return 0;var i=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-i)||1}return e.slidesToScroll},b=t.checkSpecKeys=function(e,t){return t.reduce(function(t,n){return t&&e.hasOwnProperty(n)},!0)?null:console.error("Keys Missing:",e)},y=t.getTrackCSS=function(e){b(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var t=void 0,n=void 0,a=e.slideCount+2*e.slidesToShow;e.vertical?n=a*e.slideHeight:t=S(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var r=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=i({},o,{WebkitTransform:r,transform:s,msTransform:l})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),t&&(o.width=t),n&&(o.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o},w=t.getTrackAnimateCSS=function(e){b(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=y(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},$=t.getTrackLeft=function(e){if(e.unslick)return 0;b(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,a=e.slideIndex,i=e.trackRef,o=e.infinite,s=e.centerMode,l=e.slideCount,c=e.slidesToShow,u=e.slidesToScroll,d=e.slideWidth,f=e.listWidth,p=e.variableWidth,m=e.slideHeight,h=e.fade,g=e.vertical,_=0,v=0;if(h||1===e.slideCount)return 0;var y=0;if(o?(y=-x(e),l%u!=0&&a+u>l&&(y=-(a>l?c-(a-l):l%u)),s&&(y+=parseInt(c/2))):(l%u!=0&&a+u>l&&(y=c-l%u),s&&(y=parseInt(c/2))),_=y*d,v=y*m,t=g?a*m*-1+v:a*d*-1+_,!0===p){var w,$=r.default.findDOMNode(i);if(w=a+x(e),n=$&&$.childNodes[w],t=n?-1*n.offsetLeft:0,!0===s){w=o?a+x(e):a,n=$&&$.children[w],t=0;for(var k=0;k<w;k++)t-=$&&$.children[k]&&$.children[k].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(f-n.offsetWidth)/2}}return t},x=t.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},k=t.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},S=t.getTotalSlides=function(e){return 1===e.slideCount?1:x(e)+e.slideCount+k(e)},C=t.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+M(e)?"left":"right":e.targetSlide<e.currentSlide-E(e)?"right":"left"},M=t.slidesOnRight=function(e){var t=e.slidesToShow,n=e.centerMode,a=e.rtl,i=e.centerPadding;if(n){var o=(t-1)/2+1;return parseInt(i)>0&&(o+=1),a&&t%2==0&&(o+=1),o}return a?0:t-1},E=t.slidesOnLeft=function(e){var t=e.slidesToShow,n=e.centerMode,a=e.rtl,i=e.centerPadding;if(n){var o=(t-1)/2+1;return parseInt(i)>0&&(o+=1),a||t%2!=0||(o+=1),o}return a?t-1:0};t.canUseDOM=function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(448),i=n(55),o=n(90),r=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=r(s+l,0)),a(e,i(t,3),l)}},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.457 9.905l4.528 4.528c.389.393 1.1.468 1.493.08.393-.39.31-1.102-.079-1.494L8.872 8.491l4.527-4.528c.39-.392.472-1.104.08-1.493-.393-.389-1.105-.313-1.494.079L7.457 7.077l-4.57-4.57a1 1 0 00-1.42 1.408L6.043 8.49l-4.576 4.576a1 1 0 101.42 1.408l4.57-4.57z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M5.767 3.077l13.5 8.525a.5.5 0 010 .846l-13.5 8.525A.5.5 0 015 20.55V3.5a.5.5 0 01.767-.423z" fill="#303C42"></path></svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHOW="login-modal/SHOW",t.HIDE="login-modal/HIDE",t.TYPE_SIGNUP="signup",t.TYPE_SIGNIN="signin",t.TYPE_PASSWORD_RESET="password-reset"},function(e,t,n){function a(e,t,n,u,d){e!==t&&r(t,function(r,c){if(l(r))d||(d=new i),s(e,t,c,n,a,u,d);else{var f=u?u(e[c],r,c+"",e,t,d):void 0;void 0===f&&(f=r),o(e,c,f)}},c)}var i=n(204),o=n(472),r=n(290),s=n(963),l=n(29),c=n(105);e.exports=a},,function(e,t,n){var a=n(432);e.exports=function(e){var t=new e.constructor(e.byteLength);return new a(t).set(new a(e)),t}},,function(e,t,n){var a=n(213),i=n(125),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var r=e[t];o.call(e,t)&&i(r,n)&&(void 0!==n||t in e)||a(e,t,n)}},,function(e,t,n){var a=n(125),i=n(73),o=n(161),r=n(29);e.exports=function(e,t,n){if(!r(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&a(n[t],e)}},function(e,t,n){var a="/src/js/auth/components/new-password-field.component.ng-message.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<span ng-message=required> {{:: 'global_header_password-required' | translate}} </span> <span ng-message=minlength> {{:: 'view_signup_error_password-short' | translate}} </span> <span ng-message=passwordStrength> {{:: 'global_header_password-too-weak' | translate}} </span> <span ng-message=matchingPasswords> {{:: 'view_signup_error_password-nomatch' | translate}} </span> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(102)),r=a(n(87)),s=a(n(269)),l=a(n(15)),c=a(n(298)),u=a(n(1142)),d=a(n(1151)),f=a(n(529)),p=a(n(1274)),m=a(n(1456)),h=a(n(585)),g=a(n(1471)),_=a(n(1485)),v=a(n(586)),b=a(n(1497)),y=a(n(531)),w=a(n(1501)),$=a(n(1503)),x=a(n(1504)),k=a(n(1507)),S=a(n(1510)),C=a(n(1512)),M=a(n(1514)),E=a(n(1516)),T=a(n(1518)),P=a(n(1521)),O=a(n(1651)),j=a(n(1652)),A=a(n(617)),I=a(n(618)),L=a(n(1653));n(1654),t.default=i.default.module("chat",[o.default,r.default,s.default,l.default,g.default,c.default,v.default,u.default,_.default,d.default,f.default,b.default,y.default,m.default,h.default,p.default]).controller("ChatCtrl",w.default).factory("ChatSettings",O.default).factory("ChatChannel",j.default).service("userActions",$.default).directive("chatTabs",["reactDirective","$rootScope","userList","chatModOptions","chatOptions","$ngRedux",function(e,t,n,a,i,o){return e(P.default,["feedLink","unreadFeedItems","onClickBlacklist","newChatMessage","section","stateHref"],{},{store:o,$rootScope:t,userList:n,chatModOptions:a,chatOptions:i})}]).component("chatButtons",x.default).component("chatButton",k.default).component("chatButtonUpload",S.default).component("chatButtonGifs",C.default).component("chatButtonEmoticons",M.default).component("chatButtonSubEmotes",E.default).component("embedChat",T.default).filter("dateFormat",L.default).filter("imageRatio",A.default).filter("imageMaxWidth",I.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(483)),r=a(n(15)),s=a(n(1035)),l=a(n(1125)),c=a(n(1126)),u=a(n(1137)),d=a(n(1138)),f=a(n(1139));t.default=i.default.module("chat.user-list",[r.default,o.default]).factory("Users",u.default).service("userList",s.default).service("ignoreList",l.default).service("userListFactory",c.default).directive("hideIgnoredUsers",d.default).component("chatUserList",f.default).name},,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(""+(e=(0,a.default)(e))).replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(173))},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TENOR_API_URL:"https://api.tenor.co/v1"}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var a=n(55),i=n(223);e.exports=function(e,t){return e&&e.length?i(e,a(t,2)):[]}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0));n(228);var o=a(n(1239)),r=a(n(1242));n(1243),t.default=i.default.module("htbx.modal",["ui.bootstrap.modal"]).factory("HtbxModal",r.default).component("htbxModal",o.default).name},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(31);t.default=function(e,t,n){var i=e.getCurrentContent().getBlockMap(),o=e.getCurrentContent(),r=e;i.forEach(function(e){var t=0;e.getCharacterList().forEach(function(n,i){var s=n.getEntity();if(null!==s&&"emote"===o.getEntity(s).getType()){var l=a.SelectionState.createEmpty(e.getKey()).set("anchorOffset",t).set("focusOffset",t+1),c=e.getEntityAt(i),u=o.getEntity(c);return t+=u.getData().emoteName.length,o=a.Modifier.replaceText(o,l,u.getData().emoteName),void(r=a.EditorState.push(r,o,"convert-back-emotes"))}t+=1})});var s=r.getCurrentContent().getPlainText();return n||(s=s.replace(/\s+/g," ")),t?s:s.trim()}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1444));t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(582));t.default=function(e){return new a.default({target:"_blank",component:e})}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1473));t.default=i.default.module("htbx.ui-elements.verified-badge",[]).component("verifiedBadge",o.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disableSubscriberImages=t.enableSubscriberImages=t.setSlowModeSeconds=t.reset=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(12)),i=n(8),o=n(588);t.reset=function(){return{type:o.RESET}},t.setSlowModeSeconds=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,r){if(e||(e=0),t){var s=r().channel;a.default.sendMessage("chat.slowMode",{channel:(0,i.getName)(s),time:e})}n({type:o.SET_SLOW_MODE,data:e})}},t.enableSubscriberImages=function(){return{type:o.SET_SUBSCRIBER_IMAGES,data:!0}},t.disableSubscriberImages=function(){return{type:o.SET_SUBSCRIBER_IMAGES,data:!1}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleChat=t.hideChat=t.showChat=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(16)),i=n(592),o=t.showChat=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){e&&a.default.set("chat.chatOptions.chatState",!0),t({type:i.SET_CHAT_ENABLED,data:!0})}},r=t.hideChat=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){e&&a.default.set("chat.chatOptions.chatState",!1),t({type:i.SET_CHAT_ENABLED,data:!1})}};t.toggleChat=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){t(n().chat.enabled?r(e):o(e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1534));t.default=a.default},function(e,t,n){var a=n(1549);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,i){return e.call(t,n,a,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var a=n(182);e.exports=function(e,t){if(!a(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!a(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!a(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!a(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},function(e,t,n){var a=n(349)("keys"),i=n(242);e.exports=function(e){return a[e]||(a[e]=i(e))}},function(e,t,n){var a=n(95),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports=!0},function(e,t,n){var a=n(135),i=n(1559),o=n(350),r=n(348)("IE_PROTO"),s=function(){},l=function(){var e,t=n(598)("iframe"),a=o.length;for(t.style.display="none",n(1560).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;a--;)delete l.prototype[o[a]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=a(e),n=new s,s.prototype=null,n[r]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var a=n(96).f,i=n(112),o=n(70)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&a(e,o,{configurable:!0,value:t})}},function(e,t,n){t.f=n(70)},function(e,t,n){var a=n(95),i=n(48),o=n(352),r=n(355),s=n(96).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:a.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:r.f(e)})}},function(e,t,n){var a=n(243),i=n(183),o=n(113),r=n(344),s=n(112),l=n(597),c=Object.getOwnPropertyDescriptor;t.f=n(111)?c:function(e,t){if(e=o(e),t=r(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return i(!a.f.call(e,t),e[t])}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Arrow=t.Popper=t.Target=t.Manager=void 0;var i=a(n(1638)),o=a(n(1641)),r=a(n(1642)),s=a(n(1644));t.Manager=i.default,t.Target=o.default,t.Popper=r.default,t.Arrow=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1825),i=n(1843),o=n(1849);n.o(a,"default")&&n.d(t,"BasicControls",function(){return a.default}),n.o(i,"default")&&n.d(t,"ESportsControls",function(){return i.default}),n.o(o,"default")&&n.d(t,"Overlay",function(){return o.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(645),i=n.n(a),o=n(46),r=n.n(o),s=n(285),l=n.n(s),c=n(97),u=[],d=function(e,t){return{id:"cheer-"+r()(),variant:i()(1,2),type:e||c.DEFAULT,team:t||"",active:!1,user:!1}},f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callbacks=[]}return e.prototype.subscribe=function(e){var t=this,n=!0;return this.callbacks.push(e),function(){if(n){n=!1;var a=t.callbacks.indexOf(e);t.callbacks.splice(a,1),t.callbacks.length}}},e.prototype.add=function(e,t){var n=d(e,t),a=l()(u,{type:n.type,team:n.team});if(a>=0&&u[a].counter)u[a].counter-=1;else{a>=0&&0===u[a].counter&&(u=u.filter(function(e,t){return t!==a}));for(var i=this.callbacks,o=Array.isArray(i),r=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(r>=i.length)break;s=i[r++]}else{if((r=i.next()).done)break;s=r.value}s(n)}}},e.prototype.addOwn=function(e,t){var n=d(e,t);n.user=!0;var a=l()(u,{type:n.type,team:n.team});a>=0?u[a].counter+=1:u.push({type:n.type,team:n.team,counter:1});for(var i=this.callbacks,o=Array.isArray(i),r=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(r>=i.length)break;s=i[r++]}else{if((r=i.next()).done)break;s=r.value}s(n)}},e}();t.default=new f},function(e,t,n){var a=n(438),i=n(251),o=n(90),r=4294967295,s=Math.min;e.exports=function(e,t){if((e=o(e))<1||e>9007199254740991)return[];var n=r,l=s(e,r);t=i(t),e-=r;for(var c=a(l,t);++n<e;)t(n);return c}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1860)),r=a(n(1861)),s=a(n(1864));t.default=i.default.module("htbx.feedback",[]).factory("FeedbackMessage",o.default).component("htbxFeedbackModal",r.default).component("htbxFeedbackModalTrigger",s.default).name},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(87));n(228);var r=a(n(2024)),s=a(n(2025)),l=a(n(2026)),c=a(n(2027)),u=a(n(2028)),d=a(n(2029)),f=n(2030),p=a(n(2031)),m=a(n(2034)),h=a(n(2037)),g=a(n(2041)),_=a(n(2047)),v=a(n(2050));t.default=i.default.module("htbx.subscription",[o.default,"ui.bootstrap"]).factory("SubscriptionCheck",r.default).factory("ResubShoutout",s.default).factory("SubscriptionInfo",l.default).factory("subscriptionPlanDetail",c.default).factory("SubPlanAdmin",f.SubPlanAdminFactory).factory("AdminSubList",f.AdminSubListFactory).factory("Resub",f.ResubFactory).factory("SubscriptionInfoStore",f.SubscriptionInfoStoreFactory).factory("SubscriberBadges",f.SubscriberBadgesFactory).factory("SubscriberEmotes",f.SubscriberEmotesFactory).factory("SubscriberEmotesStore",f.SubscriberEmotesStoreFactory).factory("Subscription",f.SubscriptionFactory).factory("SubscriptionList",f.SubscriptionListFactory).factory("SubscriberList",f.SubscriberListFactory).factory("Subscribed",f.SubscribedFactory).service("subscriptionWorkflow",u.default).service("XSollaMessageListener",d.default).component("htbxResubNotification",p.default).component("htbxSubscriptionNotification",m.default).component("subscriptionButton",h.default).component("htbxSubscriptionUsercard",g.default).component("subscriptionPaymentIframe",_.default).component("subscriptionPayWall",v.default).config(["$stateProvider",function(e){e.state("subscriptions",{url:"/subscriptions",views:{"viewMain@":{controller:["loggedUser","$state",function(e,t){e.isAuthenticated()?t.go("community.subscriptions",{user:e.getName()}):t.go("home.root")}]}},secure:!0})}]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"get",value:function(e){try{var t=!1;return e&&(t=document.referrer),window.location!==window.parent.location?document.referrer:t}catch(e){return!1}}}]),e}();t.default=i},,,function(e,t,n){"use strict";function a(e){switch(e._type){case"Document":case"BlockQuote":case"List":case"Item":case"Paragraph":case"Heading":case"Emph":case"Strong":case"Link":case"Image":case"CustomInline":case"CustomBlock":return!0;default:return!1}}var i=function(e,t){this.current=e,this.entering=!0===t},o=function(){var e=this.current,t=this.entering;if(null===e)return null;var n=a(e);return t&&n?e._firstChild?(this.current=e._firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:null===e._next?(this.current=e._parent,this.entering=!1):(this.current=e._next,this.entering=!0),{entering:t,node:e}},r=function(e,t){this._type=e,this._parent=null,this._firstChild=null,this._lastChild=null,this._prev=null,this._next=null,this._sourcepos=t,this._lastLineBlank=!1,this._open=!0,this._string_content=null,this._literal=null,this._listData={},this._info=null,this._destination=null,this._title=null,this._isFenced=!1,this._fenceChar=null,this._fenceLength=0,this._fenceOffset=null,this._level=null,this._onEnter=null,this._onExit=null},s=r.prototype;Object.defineProperty(s,"isContainer",{get:function(){return a(this)}}),Object.defineProperty(s,"type",{get:function(){return this._type}}),Object.defineProperty(s,"firstChild",{get:function(){return this._firstChild}}),Object.defineProperty(s,"lastChild",{get:function(){return this._lastChild}}),Object.defineProperty(s,"next",{get:function(){return this._next}}),Object.defineProperty(s,"prev",{get:function(){return this._prev}}),Object.defineProperty(s,"parent",{get:function(){return this._parent}}),Object.defineProperty(s,"sourcepos",{get:function(){return this._sourcepos}}),Object.defineProperty(s,"literal",{get:function(){return this._literal},set:function(e){this._literal=e}}),Object.defineProperty(s,"destination",{get:function(){return this._destination},set:function(e){this._destination=e}}),Object.defineProperty(s,"title",{get:function(){return this._title},set:function(e){this._title=e}}),Object.defineProperty(s,"info",{get:function(){return this._info},set:function(e){this._info=e}}),Object.defineProperty(s,"level",{get:function(){return this._level},set:function(e){this._level=e}}),Object.defineProperty(s,"listType",{get:function(){return this._listData.type},set:function(e){this._listData.type=e}}),Object.defineProperty(s,"listTight",{get:function(){return this._listData.tight},set:function(e){this._listData.tight=e}}),Object.defineProperty(s,"listStart",{get:function(){return this._listData.start},set:function(e){this._listData.start=e}}),Object.defineProperty(s,"listDelimiter",{get:function(){return this._listData.delimiter},set:function(e){this._listData.delimiter=e}}),Object.defineProperty(s,"onEnter",{get:function(){return this._onEnter},set:function(e){this._onEnter=e}}),Object.defineProperty(s,"onExit",{get:function(){return this._onExit},set:function(e){this._onExit=e}}),r.prototype.appendChild=function(e){e.unlink(),e._parent=this,this._lastChild?(this._lastChild._next=e,e._prev=this._lastChild,this._lastChild=e):(this._firstChild=e,this._lastChild=e)},r.prototype.prependChild=function(e){e.unlink(),e._parent=this,this._firstChild?(this._firstChild._prev=e,e._next=this._firstChild,this._firstChild=e):(this._firstChild=e,this._lastChild=e)},r.prototype.unlink=function(){this._prev?this._prev._next=this._next:this._parent&&(this._parent._firstChild=this._next),this._next?this._next._prev=this._prev:this._parent&&(this._parent._lastChild=this._prev),this._parent=null,this._next=null,this._prev=null},r.prototype.insertAfter=function(e){e.unlink(),e._next=this._next,e._next&&(e._next._prev=e),e._prev=this,this._next=e,e._parent=this._parent,e._next||(e._parent._lastChild=e)},r.prototype.insertBefore=function(e){e.unlink(),e._prev=this._prev,e._prev&&(e._prev._next=e),e._next=this,this._prev=e,e._parent=this._parent,e._prev||(e._parent._firstChild=e)},r.prototype.walker=function(){return new function(e){return{current:e,root:e,entering:!0,next:o,resumeAt:i}}(this)},e.exports=r},function(e,t,n){var a="/src/js/detail/views/priority-nav-menu.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <detail-actions-menu></detail-actions-menu> ")}]),e.exports=a},function(e,t,n){var a=n(273);e.exports=function(e,t){return a(e,t)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ICONS_NAMES=void 0;var i=a(n(0)),o=n(452),r=a(o),s=a(n(889));t.ICONS_NAMES=o.ICONS_NAMES,t.default=i.default.module("smash.icons",[]).directive("smashIcon",r.default).component("smashIconsStyleguide",s.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addIcon=t.ICONS_NAMES=void 0;var i=a(n(0)),o=a(n(824)),r=a(n(825)),s=a(n(453)),l=a(n(454)),c=a(n(826)),u=a(n(827)),d=a(n(828)),f=a(n(829)),p=a(n(455)),m=a(n(830)),h=a(n(831)),g=a(n(832)),_=a(n(833)),v=a(n(834)),b=a(n(835)),y=a(n(836)),w=a(n(837)),$=a(n(838)),x=a(n(286)),k=a(n(456)),S=a(n(839)),C=a(n(840)),M=a(n(841)),E=a(n(842)),T=a(n(843)),P=a(n(844)),O=a(n(845)),j=a(n(846)),A=a(n(847)),I=a(n(457)),L=a(n(458)),U=a(n(459)),D=a(n(848)),N=a(n(849)),R=a(n(850)),F=a(n(851)),B=a(n(460)),z=a(n(852)),H=a(n(853)),V=a(n(854)),q=a(n(855)),G=a(n(856)),W=a(n(857)),Y=a(n(858)),K=a(n(859)),J=a(n(860)),X=a(n(861)),Q=a(n(862)),Z=a(n(863)),ee=a(n(864)),te=a(n(461)),ne=a(n(865)),ae=a(n(866)),ie=a(n(287)),oe=a(n(867)),re=a(n(868)),se=a(n(869)),le=a(n(870)),ce=a(n(462)),ue=a(n(871)),de=a(n(463)),fe=a(n(872)),pe=a(n(873)),me=a(n(874)),he=a(n(875)),ge=a(n(876)),_e=a(n(877)),ve=a(n(878)),be=a(n(879)),ye=a(n(880)),we=a(n(881)),$e=a(n(882)),xe=a(n(883)),ke=a(n(464)),Se=a(n(884)),Ce=a(n(885)),Me=a(n(465)),Ee=a(n(886)),Te=a(n(466)),Pe=a(n(887)),Oe=a(n(888)),je={"4k":o.default,add:r.default,"arrow-down":s.default,"arrow-right":l.default,arrow:c.default,"badge-mod":u.default,"badge-subscriber":d.default,"banned-user":f.default,burger:p.default,camera:m.default,"cast-active":h.default,cast:g.default,"chat-2":_.default,chat:v.default,"check-box":b.default,check:y.default,clock:w.default,"close-box":$.default,close:x.default,code:k.default,"copy-to-clipboard":S.default,crown:C.default,"dots-horizontal":M.default,"dots-vertical":E.default,download:T.default,edit:P.default,emoticons:O.default,error:j.default,expand:A.default,eye:I.default,facebook:L.default,feed:U.default,feedback:D.default,"fullscreen-exit":N.default,fullscreen:R.default,giveaway:F.default,globe:B.default,group:z.default,hd:H.default,"heart-filled":V.default,"heart-outline":q.default,help:G.default,"ignore-msg":W.default,images:Y.default,info:K.default,instagram:J.default,live:X.default,lock:Q.default,mute:Z.default,ol:ee.default,paperplane:te.default,pause:ne.default,pin:ae.default,play:ie.default,poll:oe.default,popout:re.default,post:se.default,question:le.default,reddit:ce.default,replay:ue.default,search:de.default,settings:fe.default,share:pe.default,star:me.default,subtracting:he.default,"text-bold":ge.default,"text-italic":_e.default,"text-link":ve.default,"theater-exit":be.default,"theater-icon":ye.default,"tiny-arrow":we.default,trash:$e.default,trophy:xe.default,twitter:ke.default,ul:Se.default,upload:Ce.default,user:Me.default,viewers:Ee.default,vk:Te.default,volume:Pe.default,warning:Oe.default},Ae=t.ICONS_NAMES=["4k","add","arrow-down","arrow-right","arrow","badge-mod","badge-subscriber","banned-user","burger","camera","cast-active","cast","chat-2","chat","check-box","check","clock","close-box","close","code","copy-to-clipboard","crown","dots-horizontal","dots-vertical","download","edit","emoticons","error","expand","eye","facebook","feed","feedback","fullscreen-exit","fullscreen","giveaway","globe","group","hd","heart-filled","heart-outline","help","ignore-msg","images","info","instagram","live","lock","mute","ol","paperplane","pause","pin","play","poll","popout","post","question","reddit","replay","search","settings","share","star","subtracting","text-bold","text-italic","text-link","theater-exit","theater-icon","tiny-arrow","trash","trophy","twitter","ul","upload","user","viewers","vk","volume","warning"],Ie=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.$onInit=function(){i.default.isUndefined(this.keepColors)&&(this.replaceColor=!0)},e}(),Le=function(e,t,n){var a=i.default.element(t[0].querySelectorAll("[data-dom-target]"));if(n.icon){if(!Ae.includes(n.icon))throw new Error("icon '"+n.icon+"' missing from iconset");a.empty(),a.append(je[n.icon])}};Le.$inject=["scope","element","attr"],t.addIcon=function(e){var t=e.name,n=e.icon,a=e.replace,i=void 0!==a&&a;if(t=t.toLowerCase(),!i&&Ae.includes(t))throw new Error("icon '"+t+"' already exists in the iconset, add replace: true if you are sure you want to replace it");Ae.push(t),je[t]=n},t.default=function(){return{restrict:"E",scope:{size:"@?",icon:"@",keepColors:"@?",center:"@?"},template:"\n<span\n    ng-class=\"::{\n        'smash-icon--size-12': ($ctrl.size === '12'),\n        'smash-icon--size-16': ($ctrl.size === '16'),\n        'smash-icon--size-20': ($ctrl.size === '20'),\n        'smash-icon--size-24': ($ctrl.size === '24'),\n        'smash-icon--size-32': ($ctrl.size === '32'),\n        'smash-icon--replace-color': $ctrl.replaceColor,\n        'smash-icon--center': $ctrl.center,\n    }\"\n    class=\"smash-icon\"\n>\n    <span\n        ng-transclude\n        data-dom-target\n        class=\"smash-icon__icon\"\n    ></span>\n</span>\n",link:Le,transclude:!0,controller:Ie,controllerAs:"$ctrl",bindToController:!0,replace:!0}}},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.354 7.646a.5.5 0 10-.708.708l9 9a.5.5 0 00.708 0l9-9a.5.5 0 00-.708-.708L12 16.293 3.354 7.646z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.146 20.646a.5.5 0 00.708.708l9-9a.5.5 0 000-.708l-9-9a.5.5 0 10-.708.708L15.793 12l-8.647 8.646z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 5h18a1 1 0 010 2H3a1 1 0 110-2zm0 6h11a1 1 0 010 2H3a1 1 0 010-2zm0 6h18a1 1 0 010 2H3a1 1 0 010-2z" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 3.562V6.31a1 1 0 001 1h3v-.444l-4-3.304zm4 4.748h-3a2 2 0 01-2-2V3H5c-.57 0-1 .355-1 .74v16.52c0 .385.43.74 1 .74h14c.57 0 1-.355 1-.74V8.31zm1-1.68v13.63c0 .984-.915 1.74-2 1.74H5c-1.085 0-2-.756-2-1.74V3.74C3 2.755 3.915 2 5 2h10.5a.5.5 0 01.318.115l5 4.13A.5.5 0 0121 6.63zM8.82 11.194L6.281 13.31l2.54 2.116a.5.5 0 11-.641.768l-3-2.5a.5.5 0 010-.768l3-2.5a.5.5 0 11.64.768zm6.36 4.232l2.539-2.116-2.54-2.116a.5.5 0 01.641-.768l3 2.5a.5.5 0 010 .768l-3 2.5a.5.5 0 11-.64-.768zm-4.22 1.581a.5.5 0 01-.92-.394l3-7a.5.5 0 11.92.394l-3 7z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg"><g fill="#303C42"><path d="M8.5 3.5c3.236 0 5.996 2.172 6.978 5.353a.5.5 0 010 .294C14.496 12.328 11.736 14.5 8.5 14.5c-3.236 0-5.996-2.172-6.978-5.353a.5.5 0 010-.294C2.504 5.672 5.264 3.5 8.5 3.5zm0 1C5.765 4.5 3.419 6.308 2.525 9c.894 2.692 3.24 4.5 5.975 4.5 2.735 0 5.081-1.808 5.975-4.5-.894-2.692-3.24-4.5-5.975-4.5z"></path><path d="M11.5 9a3 3 0 11-6 0 3 3 0 016 0zm-1 0a2 2 0 10-4 0 2 2 0 004 0z"></path></g></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18.5 4h-13C4.7 4 4 4.7 4 5.5v13c0 .8.7 1.5 1.5 1.5H12v-7h-2v-2h2v-1c0-1.7 1.3-3 3-3h2v2h-2c-.6 0-1 .4-1 1v1h3l-.5 2H14v7h4.5c.8 0 1.5-.7 1.5-1.5v-13c0-.8-.7-1.5-1.5-1.5z"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 5a1.5 1.5 0 011.495-1.5h17.01c.825 0 1.495.677 1.495 1.5v15a1.5 1.5 0 01-1.495 1.5H3.995A1.502 1.502 0 012.5 20V5zm1 0v15c0 .273.225.5.495.5h17.01c.27 0 .495-.226.495-.5V5c0-.273-.225-.5-.495-.5H3.995A.501.501 0 003.5 5zM5 6.5h2a.5.5 0 01.5.5v2a.5.5 0 01-.5.5H5a.5.5 0 01-.5-.5V7a.5.5 0 01.5-.5zm.5 2h1v-1h-1v1zm-.5 2h15a.5.5 0 01.5.5v8a.5.5 0 01-.5.5H5a.5.5 0 01-.5-.5v-8a.5.5 0 01.5-.5zm.5 8h14v-7h-14v7zm4.5-11a.5.5 0 010-1h10.04a.5.5 0 110 1H10zm0 2a.5.5 0 010-1h5a.5.5 0 110 1h-5z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><path d="M20.988 15.5a8.986 8.986 0 00.512-3c0-1.052-.18-2.062-.512-3h-4.66c.113.948.172 1.956.172 3s-.06 2.052-.172 3h4.66zm-.423 1h-4.379c-.338 2.037-.935 3.723-1.714 4.783a9.016 9.016 0 006.093-4.783zm-16.553-1h4.66a25.567 25.567 0 01-.172-3c0-1.044.06-2.052.172-3h-4.66a8.986 8.986 0 00-.512 3c0 1.052.18 2.062.512 3zm.423 1a9.016 9.016 0 006.093 4.783c-.78-1.06-1.376-2.746-1.714-4.783H4.435zm5.25-1h5.63c.119-.938.185-1.947.185-3s-.066-2.062-.184-3H9.684a24.046 24.046 0 00-.184 3c0 1.053.066 2.062.184 3zm.15 1c.522 2.968 1.583 5 2.665 5s2.143-2.032 2.665-5h-5.33zm10.73-8a9.016 9.016 0 00-6.093-4.783c.78 1.06 1.376 2.746 1.714 4.783h4.379zm-16.13 0h4.379c.338-2.037.935-3.723 1.714-4.783A9.016 9.016 0 004.435 8.5zm5.4 0h5.33c-.522-2.968-1.583-5-2.665-5s-2.143 2.032-2.665 5zm12.665 4c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10 10 4.477 10 10z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.545 19.6l-2.471-6.812 2.533-2.534a.611.611 0 00-.864-.865l-2.534 2.535L4.4 9.452l15.96-5.817L14.545 19.6zm6.63-17.563L2.402 8.879a.611.611 0 000 1.149l8.487 3.08 3.08 8.49a.611.611 0 001.149 0l6.84-18.777a.61.61 0 00-.783-.784z" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.029 14.53c-.636 0-1.17-.576-1.17-1.287s.534-1.307 1.17-1.307c.635 0 1.15.596 1.15 1.307 0 .71-.515 1.287-1.15 1.287m.27 2.5c-.592.661-1.505.983-2.79.983h-.019c-1.285 0-2.197-.322-2.789-.983a.563.563 0 010-.735.43.43 0 01.657 0c.408.456 1.106.679 2.132.679h.018c1.027 0 1.725-.223 2.134-.68a.43.43 0 01.657 0 .565.565 0 010 .736M8.82 13.243c0-.71.532-1.307 1.167-1.307.636 0 1.15.596 1.15 1.307 0 .71-.514 1.287-1.15 1.287-.635 0-1.167-.576-1.167-1.287m9.344-8.204c.43 0 .78.392.78.873 0 .482-.35.873-.78.873-.43 0-.78-.391-.78-.873 0-.481.35-.873.78-.873M21 11.83c0-1.262-.916-2.287-2.043-2.287a1.9 1.9 0 00-1.287.513c-1.246-.877-2.827-1.405-4.522-1.516l.884-3.128 2.43.64c.063.99.803 1.774 1.703 1.774.942 0 1.709-.858 1.709-1.913 0-1.054-.767-1.912-1.709-1.912-.659 0-1.231.42-1.516 1.033l-2.824-.744c-.236-.062-.475.09-.548.349L12.179 8.52c-1.826.05-3.542.58-4.88 1.507a1.9 1.9 0 00-1.256-.485C4.916 9.542 4 10.567 4 11.828c0 .78.35 1.469.885 1.881a4.484 4.484 0 00-.034.549c0 1.576.818 3.042 2.305 4.128C8.58 19.426 10.466 20 12.466 20c1.999 0 3.885-.573 5.31-1.614 1.486-1.086 2.304-2.552 2.304-4.128 0-.168-.01-.335-.028-.501.57-.406.948-1.12.948-1.929"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><path d="M16.5 15.792l5.354 5.354a.5.5 0 01-.708.708L15.792 16.5a8 8 0 01-13.292-6 8 8 0 018-8 8 8 0 016 13.292zm1-5.292a7 7 0 00-7-7 7 7 0 00-7 7 7 7 0 007 7 7 7 0 007-7z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.5 6.8c-.7.3-1.4.5-2.2.6.8-.5 1.4-1.2 1.7-2.1-.7.4-1.5.7-2.4.9-.7-.7-1.7-1.2-2.8-1.2C13.7 5 12 6.7 12 8.8c0 .3 0 .6.1.9-3.2-.2-5.9-1.7-7.8-4-.3.5-.5 1.2-.5 1.9 0 1.3.7 2.5 1.7 3.2-.6 0-1.2-.2-1.7-.5 0 1.8 1.3 3.4 3 3.7-.3.1-.7.1-1 .1-.2 0-.5 0-.7-.1.5 1.5 1.9 2.6 3.5 2.6-1.3 1-2.9 1.6-4.7 1.6-.3 0-.6 0-.9-.1C4.7 19.4 6.7 20 8.8 20c7 0 10.8-5.8 10.8-10.8v-.5c.7-.5 1.4-1.2 1.9-1.9z"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M10.483 4.571c0 1.425-1.116 2.572-2.483 2.572S5.517 5.996 5.517 4.57C5.517 3.147 6.633 2 8 2s2.483 1.147 2.483 2.571zM8 8.995c1.677 0 3.37.528 4.945 1.367A2.026 2.026 0 0114 12.156v.478c0 .21-.155.37-.335.37H2.335c-.18 0-.335-.16-.335-.37v-.478c0-.76.408-1.45 1.055-1.794C4.63 9.522 6.323 8.995 8 8.995z" stroke="#303C42" fill="none"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 18.5h-2.9s-.6.1-1.5-.4c-1.1-.8-2.1-2.7-2.9-2.5-.8.3-.8 2-.8 2s0 .4-.2.6c-.2.2-.6.3-.6.3h-1.3s-2.9.2-5.5-2.5c-2.8-2.9-5.2-8.7-5.2-8.7s-.2-.3 0-.5.6-.2.6-.2h3.1s.3.1.5.2.3.4.3.4.5 1.3 1.2 2.4c1.3 2.3 1.9 2.8 2.4 2.5.6-.4.5-3.2.5-3.2s0-1-.3-1.5c-.3-.4-.8-.5-1.1-.5-.2 0 .1-.4.5-.6.6-.3 1.6-.3 2.8-.3.9 0 1.2.1 1.5.2 1.1.3.7 1.3.7 3.7 0 .8-.1 1.9.4 2.2.2.2.8 0 2.3-2.5.8-1.2 1.3-2.6 1.3-2.6s.1-.3.3-.4c.2-.1.4-.1.4-.1h3.3s1-.1 1.2.3c.2.5-.4 1.6-1.7 3.4-2.2 3-2.5 2.7-.6 4.4 1.8 1.6 2.1 2.4 2.2 2.5.6 1.3-.9 1.4-.9 1.4z"></path></svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RESET="channel/RESET",t.NAME="channel/NAME",t.VIEWS="channel/VIEWS",t.FOLLOWERS="channel/FOLLOWERS",t.LOGO="channel/LOGO",t.BACKGROUND_IMAGE="channel/BACKGROUND-IMAGE",t.IS_PARTNER="channel/IS-PARTNER",t.SUBSCRIPTIONS_ALLOWED="channel/SUBSCRIPTIONS_ALLOWED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER="user/USER",t.RESET="user/RESET",t.LOGOUT="user/LOGOUT"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loginModalOptions=void 0;var i=a(n(893)),o=a(n(894));n(895),t.loginModalOptions={animation:!0,backdrop:!0,keyboard:!0,windowClass:"modal-login",template:'<login-modal on-success="$ctrl.close()" on-close="$ctrl.close()"></login-modal>',controller:i.default,controllerAs:"$ctrl"},t.default={bindings:{onClose:"&?",onSuccess:"&?"},templateUrl:o.default}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(897)),r=a(n(898)),s=a(n(899)),l=a(n(900));t.default=i.default.module("htbx.state",[]).service("fieldValidationToolBox",o.default).factory("serverSideFormValidation",r.default).factory("StateMachineServiceTransitionsFactory",s.default).factory("StateMachineFactory",l.default).name},,function(e,t,n){var a=n(213),i=n(125);e.exports=function(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||a(e,t,n)}},,function(e,t,n){(function(e){var a=n(33),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,r=o&&o.exports===i?a.Buffer:void 0,s=r?r.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,a=s?s(n):new e.constructor(n);return e.copy(a),a}}).call(t,n(44)(e))},function(e,t,n){var a=n(291);e.exports=function(e,t){var n=t?a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var a=n(214),i=n(292),o=n(211);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:a(i(e))}},,,,function(e,t,n){var a="/src/js/auth/components/user-email-field.component.ng-message.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<span ng-message=required> {{:: 'global_header_email-required' | translate }} </span> <span ng-message=email> {{:: 'view_signup_error_email-invalid' | translate }} </span> <span ng-message=userEmailExists> {{:: 'view_signup_error_email-in-use' | translate }} </span> <span ng-message=noDisposableEmail> {{:: 'view_signup_error_email-invalid' | translate }} </span> <span ng-message=user_not_found> {{:: 'view_modal-login_error_email-not-found' | translate }} </span> ")}]),e.exports=a},function(e,t,n){var a="/src/js/auth/components/user-name-field.component.ng-message.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<span ng-message=required> {{:: 'global_header_username-required' | translate }} </span> <span ng-message=minlength> {{:: 'view_signup_error_username-short' | translate }} </span> <span ng-message=maxlength> {{:: 'view_signup_error_username-long' | translate }} </span> <span ng-message=userExists> {{:: 'view_signup_error_username-not-available' | translate }} </span> <span ng-message=pattern> {{:: 'view_signup_error_username-invalid' | translate }} </span> ")}]),e.exports=a},function(e,t,n){var a="/src/js/auth/components/recaptcha-check-field.component.ng-message.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-message=required class=input-help> {{:: 'global_header_recaptcha-required' | translate }} </div> ")}]),e.exports=a},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(171),i=n(508),o=n(75),r=n(295),s=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&r(e,t[0],t[1])?t=[]:n>2&&r(t[0],t[1],t[2])&&(t=[t[0]]),i(e,a(t,1),[])});e.exports=s},function(e,t,n){var a=n(162),i=n(55),o=n(509),r=n(1122),s=n(280),l=n(1123),c=n(128);e.exports=function(e,t,n){var u=-1;t=a(t.length?t:[c],s(i));var d=o(e,function(e,n,i){return{criteria:a(t,function(t){return t(e)}),index:++u,value:e}});return r(d,function(e,t){return l(e,t,n)})}},,,function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},function(e,t,n){var a=n(513),i=n(478),o=n(294);e.exports=function(e){return o(i(e,void 0,a),e+"")}},function(e,t,n){var a=n(171);e.exports=function(e){return(null==e?0:e.length)?a(e,1):[]}},function(e,t,n){var a=n(1131)();e.exports=a},,,,,function(e,t,n){var a=n(221);e.exports=function(e,t){var n=[];return a(e,function(e,a,i){t(e,a,i)&&n.push(e)}),n}},function(e,t,n){var a=n(171),i=n(75),o=n(223),r=n(166),s=i(function(e){return o(a(e,1,r,!0))});e.exports=s},function(e,t,n){var a=n(486),i=n(171),o=n(75),r=n(166),s=o(function(e,t){return r(e)?a(e,i(t,1,r,!0)):[]});e.exports=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1160));t.default=i.default.module("notification",[]).service("notification",o.default).name},function(e,t,n){var a="/src/js/chat/user-card/views/user-card.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<user-popover></user-popover> ")}]),e.exports=a},function(e,t,n){e.exports=n.p+"img/5f887d7c4d1dd3860ff4ba229aba7556.png"},function(e,t,n){var a=n(526);e.exports=function(e){return a(e,4)}},function(e,t,n){function a(e,t,n,O,j,A){var I,L=t&x,U=t&k,D=t&S;if(n&&(I=j?n(e,O,j,A):n(e)),void 0!==I)return I;if(!w(e))return e;var N=b(e);if(N){if(I=g(e),!L)return u(e,I)}else{var R=h(e),F=R==M||R==E;if(y(e))return c(e,L);if(R==T||R==C||F&&!j){if(I=U||F?{}:v(e),!L)return U?f(e,l(I,e)):d(e,s(I,e))}else{if(!P[R])return j?e:{};I=_(e,R,a,L)}}A||(A=new i);var B=A.get(e);if(B)return B;A.set(e,I);var z=D?U?m:p:U?keysIn:$,H=N?void 0:z(e);return o(H||e,function(i,o){H&&(i=e[o=i]),r(I,o,a(i,t,n,o,e,A))}),I}var i=n(204),o=n(317),r=n(293),s=n(1192),l=n(1193),c=n(474),u=n(165),d=n(1194),f=n(1195),p=n(434),m=n(1196),h=n(281),g=n(1197),_=n(1198),v=n(476),b=n(23),y=n(160),w=n(29),$=n(89),x=1,k=2,S=4,C="[object Arguments]",M="[object Function]",E="[object GeneratorFunction]",T="[object Object]",P={};P[C]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[T]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[M]=P["[object WeakMap]"]=!1,e.exports=a},function(e,t,n){var a=n(276),i=n(292),o=n(277),r=n(436),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)a(t,o(e)),e=i(e);return t}:r;e.exports=s},function(e,t){e.exports=function(e,t,n,a){var i=-1,o=null==e?0:e.length;for(a&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(87)),r=a(n(15)),s=a(n(298)),l=a(n(1226)),c=a(n(531)),u=a(n(321)),d=a(n(1244)),f=a(n(1245)),p=a(n(1246)),m=a(n(1247)),h=a(n(1248)),g=a(n(1249)),_=a(n(1250)),v=a(n(1251)),b=a(n(1252)),y=a(n(1253)),w=a(n(1254)),$=a(n(1255)),x=a(n(1256)),k=a(n(1259)),S=a(n(1260)),C=a(n(1262)),M=a(n(1263)),E=a(n(1264)),T=a(n(1265)),P=a(n(1266)),O=a(n(1267)),j=a(n(1268)),A=a(n(1269)),I=a(n(1270)),L=a(n(1271)),U=a(n(1272)),D=a(n(1273)),N=i.default.module("chat.commands",[o.default,r.default,s.default,l.default,c.default,u.default]).factory("ChatClearImageLog",d.default).factory("chatMessageCommand",f.default).factory("clearChatCommand",p.default).factory("clearImageLogCommand",m.default).factory("directMessageCommand",h.default).factory("meMessageCommand",g.default).factory("shrugCommand",_.default).factory("replyCommand",v.default).factory("preventInSubscriptionModeCommand",b.default).factory("preventWhenBannedCommand",y.default).factory("reconnectCommand",w.default).factory("resubCommand",$.default).factory("gifCommand",x.default).factory("userBanCommand",k.default).factory("userColorCommand",S.default).factory("userIgnoreCommand",C.default).factory("userMakeModCommand",M.default).factory("userRemoveModCommand",E.default).factory("userTimeoutCommand",T.default).factory("userUnBanCommand",P.default).factory("userUnIgnoreCommand",O.default).factory("gameCommand",j.default).factory("titleCommand",A.default).factory("uploadCommand",I.default).factory("hostCommand",L.default).factory("unhostCommand",U.default).run(["chatCommands",function(e){N._invokeQueue.filter(function(e){return"factory"===e[1]}).forEach(function(t){var n=t[2][0];n.endsWith("Command")&&e.register(n)})}]).service("chatCommands",D.default);t.default=N.name},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1232)),r=a(n(1233)),s=a(n(1234)),l=a(n(1235)),c=a(n(1236));t.default=i.default.module("chat.tenor",[]).factory("TenorSearch",o.default).factory("TenorTags",r.default).factory("TenorTrending",s.default).service("tenor",l.default).directive("tenor",c.default).name},function(e,t,n){var a=n(171),i=n(55),o=n(75),r=n(223),s=n(166),l=n(319),c=o(function(e){var t=l(e);return s(t)&&(t=void 0),r(a(e,1,s,!0),i(t,2))});e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RESET="chat/permissions/RESET",t.IS_BANNED="chat/permissions/IS_BANNED",t.IS_MODERATOR="chat/permissions/IS_MODERATOR",t.IS_EDITOR="chat/permissions/IS_EDITOR",t.IS_ADMIN="chat/permissions/IS_ADMIN",t.IS_OWNER="chat/permissions/IS_OWNER",t.USER_ROLE="chat/permissions/USER_ROLE",t.IS_SUBSCRIBED="chat/permissions/IS_SUBSCRIBED",t.SUBSCRIPTION_DATA="chat/permissions/SUBSCRIPTION_DATA",t.SUBSCRIBER_MODE="chat/permissions/SUBSCRIBER_MODE"},function(e,t,n){var a=n(1257),i=n(1258),o=n(23);e.exports=function(e){return(o(e)?a:i)(e)}},function(e,t,n){var a=n(299);e.exports=function(e,t){var n=-1,i=e.length,o=i-1;for(t=void 0===t?i:t;++n<t;){var r=a(n,o),s=e[r];e[r]=e[n],e[n]=s}return e.length=t,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_NAME_COLOR="chat/options/SET_NAME-COLOR",t.SET_COMPACT_MODE="chat/options/SET_COMPACT-MODE",t.SET_TIMESTAMPS="chat/options/SET_TIMESTAMPS",t.SET_FONT_SIZE="chat/options/SET_FONT-SIZE",t.SET_SHOWING_IMAGES="chat/options/SET_SHOWING-IMAGES",t.SET_STICKY_USER_LIST="chat/options/SET_STICKY-USER-LIST",t.SET_WHISPER="chat/options/SET_WHISPER"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(){}t.__esModule=!0,t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(236)),r=a(n(1)),s=a(n(27)),l=(n(568),t.UNMOUNTED="unmounted"),c=t.EXITED="exited",u=t.ENTERING="entering",d=t.ENTERED="entered",f=t.EXITING="exiting",p=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a)),o=a.transitionGroup,r=o&&!o.isMounting?n.enter:n.appear,s=void 0;return i.nextStatus=null,n.in?r?(s=c,i.nextStatus=u):s=d:s=n.unmountOnExit||n.mountOnEnter?l:c,i.state={status:s},i.nextCallback=null,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{transitionGroup:null}},t.prototype.componentDidMount=function(){this.updateStatus(!0)},t.prototype.componentWillReceiveProps=function(e){var t=(this.pendingState||this.state).status;e.in?(t===l&&this.setState({status:c}),t!==u&&t!==d&&(this.nextStatus=u)):t!==u&&t!==d||(this.nextStatus=f)},t.prototype.componentDidUpdate=function(){this.updateStatus()},t.prototype.componentWillUnmount=function(){this.cancelNextCallback()},t.prototype.getTimeouts=function(){var e=this.props.timeout,t=void 0,n=void 0,a=void 0;return t=n=a=e,null!=e&&"number"!=typeof e&&(t=e.exit,n=e.enter,a=e.appear),{exit:t,enter:n,appear:a}},t.prototype.updateStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nextStatus;if(null!==t){this.nextStatus=null,this.cancelNextCallback();var n=s.default.findDOMNode(this);t===u?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:l})},t.prototype.performEnter=function(e,t){var n=this,a=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts();t||a?(this.props.onEnter(e,i),this.safeSetState({status:u},function(){n.props.onEntering(e,i),n.onTransitionEnd(e,o.enter,function(){n.safeSetState({status:d},function(){n.props.onEntered(e,i)})})})):this.safeSetState({status:d},function(){n.props.onEntered(e)})},t.prototype.performExit=function(e){var t=this,n=this.props.exit,a=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:f},function(){t.props.onExiting(e),t.onTransitionEnd(e,a.exit,function(){t.safeSetState({status:c},function(){t.props.onExited(e)})})})):this.safeSetState({status:c},function(){t.props.onExited(e)})},t.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.prototype.safeSetState=function(e,t){var n=this;this.pendingState=e,t=this.setNextCallback(t),this.setState(e,function(){n.pendingState=null,t()})},t.prototype.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},t.prototype.onTransitionEnd=function(e,t,n){this.setNextCallback(n),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},t.prototype.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["children"]);if(delete a.in,delete a.mountOnEnter,delete a.unmountOnExit,delete a.appear,delete a.enter,delete a.exit,delete a.timeout,delete a.addEndListener,delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,"function"==typeof n)return n(e,a);var i=r.default.Children.only(n);return r.default.cloneElement(i,a)},t}(r.default.Component);p.contextTypes={transitionGroup:o.object},p.childContextTypes={transitionGroup:function(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:i,onEntering:i,onEntered:i,onExit:i,onExiting:i,onExited:i},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4,t.default=p},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(236));t.timeoutsShape=a.default.oneOfType([a.default.number,a.default.shape({enter:a.default.number,exit:a.default.number}).isRequired]),t.classNamesShape=a.default.oneOfType([a.default.string,a.default.shape({enter:a.default.string,exit:a.default.string,active:a.default.string}),a.default.shape({enter:a.default.string,enterActive:a.default.string,exit:a.default.string,exitActive:a.default.string})])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return 13===e.keyCode?"sendMessage":82===e.keyCode&&i(e)?"getLastWhisperer":(0,a.getDefaultKeyBinding)(e)},n(1);var a=n(31),i=a.KeyBindingUtil.hasCommandModifier},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(31),i=function(e){return e&&e.__esModule?e:{default:e}}(n(333));t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,o=(0,i.default)(e,!0)||"",r=e.getCurrentContent(),s=e.getSelection(),l=null,c=void 0,u=o.length+t.length;return u>n?(t=t.slice(0,-(u-n)),c=!0):c=!1,l=s.isCollapsed()?a.Modifier.insertText(r,s,t):a.Modifier.replaceText(r,s,t),{editorState:a.EditorState.push(e,l,"pasted-text"),toggleCharacterLimitWarning:c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(31),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1392));t.default=function(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments[4],s=(0,i.default)(e,t,n,r);return s.getCurrentContent().equals(e.getCurrentContent())?e:(o&&(s=a.EditorState.forceSelection(s,s.getSelection())),s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="handled"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="not-handled"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var a=e().getCurrentContent();t.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"emote"===a.getEntity(t).getType()},function(e){n(e,e+1)})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(173))),r=a(n(2));n(1397);var s=function(e){var t=e.entityKey,n=e.children,a=e.getEmotes,s=e.contentState.getEntity(t),l=(0,o.default)(s.getData().emoteName.trim()),c=a().find(function(e){return(0,o.default)(e.get("icon_short"))===l||(0,o.default)(e.get("icon_short_alt"))===l}),u=r.default.imgUrl+c.get("icon_path");return i.default.createElement("span",{className:"chat-input__emote",title:l,style:{backgroundImage:"url("+u+")"}},i.default.createElement("span",{className:"chat-input__emote__emote"},n))};s.defaultProps={children:null},t.default=s},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(334));n(1434);var i=(0,a.default)({mentions:[],entitityMutability:"IMMUTABLE",theme:{mention:"chat-input__mention",mentionSuggestions:"chat-input-suggestions__list",mentionSuggestionsEntry:"chat-input-suggestions__list__item",mentionSuggestionsEntryFocused:"chat-input-suggestions__list__item chat-input-suggestions__list__item--focus",mentionSuggestionsEntryText:"chat-input-suggestions__item__link"},mentionPrefix:"@"});t.default=i},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(0,function(e){return e&&e.__esModule?e:{default:e}}(n(334)).default)({mentions:[],entitityMutability:"IMMUTABLE",theme:{mention:"chat-input__command",mentionSuggestions:"chat-input-suggestions__list",mentionSuggestionsEntry:"chat-input-suggestions__list__item",mentionSuggestionsEntryFocused:"chat-input-suggestions__list__item chat-input-suggestions__list__item--focus",mentionSuggestionsEntryText:"chat-input-suggestions__item__link"},mentionTrigger:"/"});t.default=a},,function(e,t){},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1461)),r=a(n(1465)),s=a(n(1466)),l=a(n(1469));t.default=i.default.module("htbx.poll",[]).factory("PollBehaviour",o.default).factory("RaffleBehaviour",r.default).component("htbxPoll",s.default).component("createPoll",l.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1472));t.default=i.default.module("chat.badge",[]).service("badges",o.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1486)),r=a(n(1487)),s=a(n(1488)),l=a(n(1489));t.default=i.default.module("htbx.fallback",[]).factory("tryImage",o.default).directive("backImg",r.default).directive("fallbackSrc",s.default).directive("lazyLoad",l.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RESET="chat/config/RESET",t.SET_SLOW_MODE="chat/config/SET_SLOW-MODE",t.SET_SUBSCRIBER_IMAGES="chat/config/SET_SUBSCRIBER-IMAGES"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT="chat/connection/CONNECT",t.DISCONNECT="chat/connection/DISCONNECT"},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1530));t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_CHAT_ENABLED="chat/SET_CHAT-ENABLED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1536));t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1540));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return e.raw=t,e}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledLabel=t.StyledIcon=t.StyledCheckbox=t.StyledCheckboxWrapper=t.StyledWrapper=void 0;var o=a(n(77)),r=a(n(10)),s=a(n(20)),l=i(["\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    user-select: none;\n    ","\n"],["\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    user-select: none;\n    ","\n"]),c=i(["\n    position: relative;\n    flex: 0 0 16px;\n    width: 16px;\n    height: 16px;\n    border-radius: 2px;\n    box-shadow: ",";\n    background: ",";\n    overflow: hidden;\n    transition: all .2s ease-in-out;\n"],["\n    position: relative;\n    flex: 0 0 16px;\n    width: 16px;\n    height: 16px;\n    border-radius: 2px;\n    box-shadow: ",";\n    background: ",";\n    overflow: hidden;\n    transition: all .2s ease-in-out;\n"]),u=i(["\n        position: absolute;\n        margin: -1px;\n        border: 0;\n        padding: 0;\n        width: 1px;\n        height: 1px;\n        clip: rect(0 0 0 0);\n        overflow: hidden;\n    "],["\n        position: absolute;\n        margin: -1px;\n        border: 0;\n        padding: 0;\n        width: 1px;\n        height: 1px;\n        clip: rect(0 0 0 0);\n        overflow: hidden;\n    "]),d=i(["\n    position: relative;\n    margin: 2px;\n    height: 12px;\n    color: #fff;\n"],["\n    position: relative;\n    margin: 2px;\n    height: 12px;\n    color: #fff;\n"]),f=i(["\n    margin-left: 8px;\n    line-height: 30px;\n    font-size: 14px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n"],["\n    margin-left: 8px;\n    line-height: 30px;\n    font-size: 14px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n"]);t.StyledWrapper=r.default.label.withConfig({displayName:"Checkboxstyles__StyledWrapper",componentId:"sc-3puyu7-0"})(l,function(e){return e.disabled?"\n        opacity: .5;\n\n        &:hover {\n            cursor: not-allowed;\n        }\n    ":""}),t.StyledCheckboxWrapper=r.default.div.withConfig({displayName:"Checkboxstyles__StyledCheckboxWrapper",componentId:"sc-3puyu7-1"})(c,function(e){return e.checked?"inset 0 0 0 10px "+s.default.blue:"inset 0 0 0 1px "+s.default.line},function(e){return"dark"===e.variant?"transparent":"#fff"}),(t.StyledCheckbox=r.default.input.attrs({type:"checkbox",name:function(e){return e.name},value:function(e){return e.value}})(u)).propTypes={name:o.default.string,value:o.default.string,checked:o.default.bool,disabled:o.default.bool,onChange:o.default.func},t.StyledIcon=r.default.div.withConfig({displayName:"Checkboxstyles__StyledIcon",componentId:"sc-3puyu7-2"})(d),t.StyledLabel=r.default.div.withConfig({displayName:"Checkboxstyles__StyledLabel",componentId:"sc-3puyu7-3"})(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1544));t.default=a.default},function(e,t,n){e.exports=!n(111)&&!n(136)(function(){return 7!=Object.defineProperty(n(598)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var a=n(182),i=n(95).document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var a=n(112),i=n(113),o=n(1551)(!1),r=n(348)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)n!=r&&a(s,n)&&c.push(n);for(;t.length>l;)a(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var a=n(345);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==a(e)?e.split(""):Object(e)}},function(e,t,n){var a=n(347),i=Math.min;e.exports=function(e){return e>0?i(a(e),9007199254740991):0}},function(e,t,n){e.exports={default:n(1553),__esModule:!0}},function(e,t,n){"use strict";var a=n(1557)(!0);n(604)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=a(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var a=n(352),i=n(94),o=n(605),r=n(134),s=n(112),l=n(185),c=n(1558),u=n(354),d=n(606),f=n(70)("iterator"),p=!([].keys&&"next"in[].keys()),m=function(){return this};e.exports=function(e,t,n,h,g,_,v){c(n,t,h);var b,y,w,$=function(e){if(!p&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",k="values"==g,S=!1,C=e.prototype,M=C[f]||C["@@iterator"]||g&&C[g],E=M||$(g),T=g?k?$("entries"):E:void 0,P="Array"==t?C.entries||M:M;if(P&&(w=d(P.call(new e)))!==Object.prototype&&w.next&&(u(w,x,!0),a||s(w,f)||r(w,f,m)),k&&M&&"values"!==M.name&&(S=!0,E=function(){return M.call(this)}),a&&!v||!p&&!S&&C[f]||r(C,f,E),l[t]=E,l[x]=m,g)if(b={values:k?E:$("values"),keys:_?E:$("keys"),entries:T},v)for(y in b)y in C||o(C,y,b[y]);else i(i.P+i.F*(p||S),t,b);return b}},function(e,t,n){e.exports=n(134)},function(e,t,n){var a=n(112),i=n(244),o=n(348)("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),a(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},function(e,t,n){var a=n(599),i=n(350).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,i)}},function(e,t,n){var a=n(94),i=n(48),o=n(136);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],r={};r[e]=t(n),a(a.S+a.F*o(function(){n(1)}),"Object",r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){function i(t){var i=new a.default(t);n.call(e,i)}return e.addEventListener?(e.addEventListener(t,i,!1),{remove:function(){e.removeEventListener(t,i,!1)}}):e.attachEvent?(e.attachEvent("on"+t,i),{remove:function(){e.detachEvent("on"+t,i)}}):void 0};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1591));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1593));t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,a.default)(e)}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=o.default.unstable_batchedUpdates?function(e){o.default.unstable_batchedUpdates(n,e)}:n;return(0,i.default)(e,t,a)};var i=a(n(609)),o=a(n(27));e.exports=t.default},function(e,t,n){e.exports=n(1617)()},function(e,t){e.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1645));t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledComponent=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),i=n(20),o=function(e,t){return e.raw=t,e}(["\n        position: relative;\n        border: 0;\n        padding: 0;\n        width: 22px;\n        height: 34px;\n        line-height: 34px;\n        background-color: transparent;\n        cursor: ",";\n\n        /* icon component: */\n        .smash-icon {\n            color: ",";\n            ","\n            ","\n        }\n\n        &:focus,\n        &:hover {\n            outline: none;\n\n            /* icon component: */\n            .smash-icon {\n                ","\n            }\n        }\n    "],["\n        position: relative;\n        border: 0;\n        padding: 0;\n        width: 22px;\n        height: 34px;\n        line-height: 34px;\n        background-color: transparent;\n        cursor: ",";\n\n        /* icon component: */\n        .smash-icon {\n            color: ",";\n            ","\n            ","\n        }\n\n        &:focus,\n        &:hover {\n            outline: none;\n\n            /* icon component: */\n            .smash-icon {\n                ","\n            }\n        }\n    "]);t.StyledComponent=a.default.button.attrs({type:"button"})(o,function(e){return e.disabled?"not-allowed":"pointer"},i.text,function(e){return e.loading?"visibility: hidden;":null},function(e){return e.disabled?"opacity: .4;":null},function(e){return e.disabled?null:"color: "+i.primary})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1647));t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a};var a=t.imageRatio=function(e){var t=e.x;return(e.y/t*100).toFixed(2)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a};var a=t.imageMaxWidth=function(e){var t=e.x,n=e.y,a=t;return n>300&&(a=300/(n/t*100)*100),parseInt(a,10)}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1655)),r=a(n(1659));t.default=i.default.module("htbx.ui-elements.typeahead",[]).component("htbxTypeahead",o.default).directive("typeaheadTriggerOnFocus",r.default).name},,function(e,t,n){var a="/src/js/admin/views/list.game.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<a class=hitbox-typeahead__dropdown__item__link> {{match.label.category_name}} </a> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(12)),o=a(n(0)),r=a(n(102)),s=a(n(1708)),l=a(n(2));t.default=o.default.module("htbx.appSettings",[r.default]).config(["$locationProvider","$sceDelegateProvider","$urlMatcherFactoryProvider","$uiViewScrollProvider",function(e,t,n,a){a.useAnchorScroll(),e.html5Mode({enabled:!0,requireBase:!1}),t.resourceUrlWhitelist(["self"]),n.caseInsensitive(!0),n.strictMode(!1)}]).config(["$logProvider","$compileProvider","$windowProvider",function(e,t,n){var a=n.$get();try{e.debugEnabled(l.default.isDebugEnv),t.debugInfoEnabled(l.default.isDebugEnv),t.commentDirectivesEnabled(!1),t.cssClassDirectivesEnabled(!1)}catch(e){}-1!==a.location.search.indexOf("debugWs")&&(a.htbxWs=i.default)}]).run(["$window","$trace",function(e,t){l.default.isDebugEnv&&t.enable("TRANSITION")}]).factory("Browser",s.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1728));t.default=a.default},function(e,t,n){e.exports=n.p+"img/af5585182e3a2d8abbf92c136044926b.png"},function(e,t,n){e.exports=n.p+"img/c11406a04553a6bb05541379d2eda76a.png"},function(e,t,n){e.exports=n.p+"img/f7f385b4dad4840820c20e9decfe43e4.svg"},function(e,t,n){e.exports=n.p+"img/54777594f5d0bb768e2092e8dc019298.svg"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(158)),r=a(n(138)),s=a(n(15)),l=a(n(1765)),c=a(n(1768)),u=a(n(1769)),d=a(n(1770)),f=a(n(1771)),p=a(n(1772)),m=a(n(1774)),h=a(n(1776)),g=a(n(1780));n(1786),t.default=i.default.module("htbx.mediaList",["htbx.esports",r.default,s.default,o.default]).factory("MediaMediaListBehavior",l.default).factory("TeamMediaListBehavior",c.default).service("mediaListFilters",d.default).service("mediaListParams",f.default).service("mediaList",u.default).component("mediaMeta",p.default).component("mediaList",m.default).component("mediaListCarousel",h.default).directive("mediaListGrid",g.default).name},function(e,t,n){var a=n(167),i=n(75),o=n(1766),r=n(1767),s=i(function(e){return e.push(void 0,o),a(r,void 0,e)});e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={type:"live",filter:{hidden:!1}}},function(e,t,n){var a="/src/js/media-list/views/live-media.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <article class=media-item-live> <a ui-sref="detail.feed({channel: media.media_name})" class=t-wrap> <div ng-if="::(media.following && !media.subscribed) || false" class=t-following ng-class="::{\'t-following-hosting\': media.hoster || false}"> <smash-icon icon=heart-filled></smash-icon> </div> <div ng-if="::media.subscribed || false" class=t-subscribed> <smash-icon data-icon=check></smash-icon> </div> <img ng-src="{{::$root.config.imgUrl}}{{::(mediaListGrid.useCarousel && !$index) ? media.media_thumbnail_large : media.media_thumbnail}}" fallback-src={{::$root.config.fallbackImages.liveMedia}} class=t-img alt=""/> <div class=t-grad></div> <div class=t-viewers> <live-dot></live-dot> {{(media.hoster ? media.hosted_media_views : media.media_views) | number}} </div> </a> <media-meta media=media></media-meta> </article> ')}]),e.exports=a},function(e,t,n){var a="/src/js/media-list/views/video-media.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<article class=media-item-video> <a ui-sref="detail.video({ channel: media.media_user_name.toLowerCase(), id:media.media_id })" class=t-wrap> <div class=t-duration> {{::media.media_duration | stringifySeconds }} </div> <img ng-src="{{::$root.config.imgUrl}}{{::(mediaListGrid.useCarousel && !$index) ? media.media_thumbnail_large : media.media_thumbnail}}" fallback-src={{::$root.config.fallbackImages.videoMedia}} class=t-img alt=""/> </a> <div class=t-meta> <a class=t-status ui-sref="detail.video({channel: media.media_user_name.toLowerCase(), id:media.media_id})"> {{::media.media_status | truncate: 75 }} </a> <div class=t-meta-row2> <a class=t-name ui-sref="detail.feed({channel: media.media_user_name.toLowerCase()})"> {{::media.media_display_name}} </a> <span class=t-date> {{::media.media_date_added | timeAgo}} </span> <span class=t-views> {{::media.media_views | number}}&nbsp;{{:: \'global_text_view-views\' | translate:{ COUNT: media.media_views }:\'messageformat\' }} </span> </div> </div> </article> ')}]),e.exports=a},function(e,t,n){var a="/src/js/media-list/views/esport-media.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <article ng-if=::media.esport.live ng-class="[\n        \'esports-media esports-media--status-live\',\n        {\n            \'esports-media--has-scores\': media.esport.hasMatchup,\n        },\n    ]"> <a ui-sref="detail.feed({channel: media.media_name})" aria-label="{{:: \'global_text_channel\' | translate }}: {{media.media_name}}" class=esports-media__link> <div class=esports-media__thumbnail> <p class=esports-media__status> <live-dot></live-dot> {{media.media_views | number}} </p> <img ng-src="{{::$root.config.imgUrl + media.media_thumbnail_large}}" fallback-src={{::$root.config.fallbackImages.liveMedia}} alt="" class=esports-media__thumbnail__image /> </div> </a> <a ui-sref="detail.feed({channel: media.media_name})" aria-label="{{:: \'global_text_channel\' | translate }}: {{media.media_name}}" class=esports-media__link> <div class=esports-media__content> <htbx-esports-scores ng-if=media.esport.hasMatchup data-size=compact data-data=media.esport data-show-tooltips=true data-variant=default data-language={{::media.media_countries[0]}} data-channel={{::media.media_display_name}}></htbx-esports-scores> </div> </a> </article> <article ng-if=::!media.esport.live ng-class="[\n        \'esports-media esports-media--status-future\',\n        {\n            \'esports-media--has-scores\': media.esport.hasMatchup,\n        },\n    ]"> <a ui-sref="detail.feed({channel: media.media_name})" aria-label="{{:: \'global_text_channel\' | translate }}: {{media.media_name}}" class=esports-media__link> <div class=esports-media__content> <htbx-esports-scores data-data=media.esport data-show-tooltips=true data-variant=vs data-language={{::media.media_countries[0]}} data-channel={{::media.media_display_name}}></htbx-esports-scores> </div> </a> </article> ')}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1805));t.default=a.default},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var a="htbx-cheering/esports/RESET",i="htbx-cheering/esports/REPLACE"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=a(n(79)),r=a(n(637)),s=n(97),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};r.default.propTypes={theaterMode:o.default.bool,onCheerClick:o.default.func,style:o.default.object},t.default=function(e){return i.default.createElement(r.default,l({},e,{buttons:[s.LAUGH,s.LOVE,s.SALT,s.CRY,s.SURPRISE,s.UJELLY]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(638),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t.default=i.a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(79)),a(n(140))),r=n(97),s=n(80),l=a(n(639));n(1842);var c=[r.HANDS,r.LAUGH,r.PRAY],u=function(e){var t=e.enabled,n=e.buttons,a=e.team,r=e.onCheerClick,c=e.theaterMode,u=e.style,d=(0,o.default)("htbx-cheering-control",{"htbx-cheering-control--team1":a===s.TEAM1,"htbx-cheering-control--team2":a===s.TEAM2,"htbx-cheering-control--default":!c,"htbx-cheering-control--is-theater-mode":c,"htbx-cheering-control--is-enabled":t,"htbx-cheering-control--is-disabled":!t});return i.default.createElement("div",{className:d,style:u},i.default.createElement("ul",{className:"htbx-cheering-control__items"},n.map(function(e){return i.default.createElement("li",{key:e,className:"htbx-cheering-control__item"},i.default.createElement(l.default,{type:e,team:a,theaterMode:c,onClick:r}))})))};u.defaultProps={enabled:!0,buttons:c,team:null,onCheerClick:function(){},theaterMode:!1,style:{}},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(640),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t.default=i.a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),s=a(r),l=(a(n(79)),a(n(140))),c=n(97),u=n(80),d=a(n(1828));n(1829);var f,p=a(n(1830)),m=a(n(1831)),h=a(n(1832)),g=a(n(1833)),_=a(n(1834)),v=a(n(1835)),b=a(n(1836)),y=a(n(1837)),w=a(n(1838)),$=a(n(1839)),x=a(n(1840)),k=a(n(1841)),S=p.default,C={transition:"stroke-dashoffset 500ms linear"},M=(f={default:"rgba(32, 142, 252, 0.5)"},f[u.TEAM1]="rgba(32, 142, 252, 0.5)",f[u.TEAM2]="rgba(235, 80, 85, 0.5)",f),E=function(e){function t(){var n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,e.call.apply(e,[this].concat(s))),a.state={cooldown:!1},a.onCooldown=function(){a.disable()},a.onClick=function(){var e=a.props,t=e.type,n=e.team,i=e.onClick;a.state.cooldown||(d.default.fire(),i(t,n))},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.cooldownSubscription=d.default.subscribe(this.onCooldown)},t.prototype.componentWillUnmount=function(){this.cooldownSubscription(),this.cooldownSubscription=null,clearTimeout(this.cooldownTimeout)},t.prototype.disable=function(){var e=this;this.setState(function(){return e.cooldownTimeout=setTimeout(function(){e.enable()},500),{cooldown:!0}})},t.prototype.enable=function(){this.setState(function(){return{cooldown:!1}})},t.prototype.render=function(){var e=this.props,t=e.theaterMode,n=e.type,a=e.team,i=e.image,o=this.state.cooldown,r=(0,l.default)("htbx-cheer-button","htbx-cheer-button--type-"+n,{"htbx-cheer-button--default":!a,"htbx-cheer-button--team1":a===u.TEAM1,"htbx-cheer-button--team2":a===u.TEAM2,"htbx-cheer-button--variant-theater":t,"htbx-cheer-button--is-on-cooldown":o});return s.default.createElement("button",{type:"button",onClick:this.onClick,className:r},s.default.createElement("span",{className:"htbx-cheer-button__wrapper"},s.default.createElement("img",{src:i||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=void 0;if(t)switch(e){case c.HANDS:n=t===u.TEAM1?b.default:$.default;break;case c.LAUGH:n=t===u.TEAM1?y.default:x.default;break;case c.PRAY:n=t===u.TEAM1?w.default:k.default;break;case c.DEFAULT:default:n=p.default}else switch(e){case c.LOVE:n=S;break;case c.CRY:n=g.default;break;case c.LAUGH:n=m.default;break;case c.SALT:n=h.default;break;case c.SURPRISE:n=_.default;break;case c.UJELLY:n=v.default;break;case c.DEFAULT:default:n=p.default}return n}(n,a),alt:"",className:"htbx-cheer-button__icon"}),s.default.createElement("svg",{className:"htbx-cheer-button__cooldown",style:o?C:null},s.default.createElement("circle",{cx:"50%",cy:"50%",r:"50%",stroke:a&&M[a]?M[a]:M.default,strokeWidth:"100%",fill:"none"}))))},t}(r.Component);E.defaultProps={theaterMode:!1,type:c.DEFAULT,team:"",image:"",onClick:function(){}},t.default=E},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(1),r=a(o),s=(a(n(79)),a(n(140))),l=n(80),c=a(n(637)),u=a(n(1844)),d=a(n(1846));n(1848);var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.enabled,n=e.esports,a=e.votesTeam1,i=e.votesTeam2,o=e.onCheerClick,f=e.theaterMode,p=e.style,m=(0,s.default)("htbx-cheering-esports-controls",{"htbx-cheering-esports-controls--default":!f,"htbx-cheering-esports-controls--is-theater-mode":f,"htbx-cheering-esports-controls--is-enabled":t,"htbx-cheering-esports-controls--is-disabled":!t});return r.default.createElement("div",{className:m,style:p},r.default.createElement("div",{className:"htbx-cheering-esports-controls__controls"},r.default.createElement("div",{className:"htbx-cheering-esports-controls__team htbx-cheering-esports-controls__team--team1"},r.default.createElement(c.default,{team:l.TEAM1,theaterMode:f,onCheerClick:o})),r.default.createElement("div",{className:"htbx-cheering-esports-controls__voting-controls"},r.default.createElement(u.default,{team1:{logo:n?n.team1.logo:null,votes:a},team2:{logo:n?n.team2.logo:null,votes:i},theaterMode:f,onClick:o})),r.default.createElement("div",{className:"htbx-cheering-esports-controls__team htbx-cheering-esports-controls__team--team2"},r.default.createElement(c.default,{team:l.TEAM2,theaterMode:f,onCheerClick:o}))),n?r.default.createElement("div",{className:"htbx-cheering-esports-controls__scores"},r.default.createElement(d.default,{theaterMode:f,team1:{name:n.team1.name,logo:n.team1.logo,score:n.team1.score},team2:{name:n.team2.name,logo:n.team2.logo,score:n.team2.score},bestOf:n.bestOf})):null)},t}(o.Component);f.defaultProps={enabled:!0,onCheerClick:function(){},esports:null,votesTeam1:0,votesTeam2:0,theaterMode:!1,style:{}},t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(79)),a(n(140))),r=a(n(5)),s=a(n(639)),l=n(97),c=n(80);n(1845);var u=function(e,t){return e.toLocaleString(t)},d=function(e){var t=e.team1,n=e.team2,a=e.theaterMode,d=e.onClick,f=t.votes+n.votes,p=(0===f?50:n.votes/f*100)/100,m=(0,o.default)("htbx-cheering-voting-controls",{"htbx-cheering-voting-controls--has-buttons":t.logo&&n.logo,"htbx-cheering-voting-controls--theater-mode":a}),h=r.default.locale();return i.default.createElement("div",{className:m},t.logo&&n.logo?i.default.createElement("div",{className:"htbx-cheering-voting-controls__button htbx-cheering-voting-controls__button--team1"},i.default.createElement(s.default,{type:l.TEAM_LOGO,team:c.TEAM1,theaterMode:a,image:t.logo,onClick:function(){d(l.TEAM_LOGO,c.TEAM1)}})):"",t.logo&&n.logo?i.default.createElement("div",{className:"htbx-cheering-voting-controls__button htbx-cheering-voting-controls__button--team2"},i.default.createElement(s.default,{type:l.TEAM_LOGO,team:c.TEAM2,theaterMode:a,image:n.logo,onClick:function(){d(l.TEAM_LOGO,c.TEAM2)}})):"",i.default.createElement("div",{className:"htbx-cheering-voting-controls__teams"},i.default.createElement("div",{className:"htbx-cheering-voting-controls__team htbx-cheering-voting-controls__team--team1"},i.default.createElement("span",{className:"htbx-cheering-voting-controls__team__progress"}),i.default.createElement("span",{className:"htbx-cheering-voting-controls__team__votes"},i.default.createElement("span",{className:"htbx-cheering-voting-controls__team__votes__number"},u(t.votes,h)))),i.default.createElement("div",{className:"htbx-cheering-voting-controls__team htbx-cheering-voting-controls__team--team2"},i.default.createElement("span",{className:"htbx-cheering-voting-controls__team__progress",style:{WebkitTransform:"scaleX("+p+")",transform:"scaleX("+p+")"}}),i.default.createElement("span",{className:"htbx-cheering-voting-controls__team__votes"},i.default.createElement("span",{className:"htbx-cheering-voting-controls__team__votes__number"},u(n.votes,h))))))};d.defaultProps={theaterMode:!1,onClick:function(){}},t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(79)),a(n(140)));n(1847);var r=function(e){var t=e.team1,n=e.team2,a=e.bestOf,r=e.theaterMode,s=(0,o.default)("htbx-cheering-esports-scores",{"htbx-cheering-esports-scores--theater-mode":r});return i.default.createElement("div",{className:s},i.default.createElement("div",{className:"htbx-cheering-esports-scores__team htbx-cheering-esports-scores__team--team1"},i.default.createElement("div",{className:"htbx-cheering-esports-scores__team__name"},t.name),i.default.createElement("div",{className:"htbx-cheering-esports-scores__team__score"},t.score)),i.default.createElement("div",{className:"htbx-cheering-esports-scores__team htbx-cheering-esports-scores__team--team2"},i.default.createElement("div",{className:"htbx-cheering-esports-scores__team__name"},n.name),i.default.createElement("div",{className:"htbx-cheering-esports-scores__team__score"},n.score)),a?i.default.createElement("div",{className:"htbx-cheering-esports-scores__format"},i.default.createElement("p",null,"Best of ",a)):null)};r.defaultProps={bestOf:0,theaterMode:!1},t.default=r},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a(n(645)),r=n(1),s=a(r),l=(a(n(79)),a(n(46))),c=n(97),u=n(80),d=a(n(360)),f=a(n(1850)),p=a(n(1852));n(1854);var m=5,h=50,g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={items:[]},a.addCheer=function(e){var t=e.type,n=e.team,i=e.user,r={variant:(0,o.default)(1,6),type:t,team:n,user:i};if(t===c.TEAM_LOGO&&a.props.esports)switch(n){case u.TEAM2:r.image=a.props.esports.team2?a.props.esports.team2.logo:null;break;case u.TEAM1:default:r.image=a.props.esports.team1?a.props.esports.team1.logo:null}i?(a.queue.unshift(r),a.activeItems<a.itemCount&&a.transferFromQueue()):a.queue.push(r)},a.checkQueue=function(){var e=a.queue.length;e+a.activeItems<=m?a.resetItemsTimeout||(a.resetItemsTimeout=setTimeout(function(){a.resetItems()},5e3)):(clearTimeout(a.resetItemsTimeout),a.resetItemsTimeout=null),e?(e>a.state.items.length&&a.addItems(m),e>2*h&&(a.queue=a.queue.splice(h,e)),a.transferFromQueue(),a.checkQueueDelayTimeout=setTimeout(a.checkQueue,(0,o.default)(20,50))):a.emptyQueueTimeout=setTimeout(a.checkQueue,1e3)},a.onAnimated=function(e){var t=a.state.items;a.props.onAnimated(e);for(var n=0,i=t.length;n<i;++n)if(t[n].id===e){a.activeItems-=1,t[n].active=!1,t[n].user=!1,t[n].team=null,t[n].image="";break}a.setState(function(){return{items:t}})},a.queue=[],a.itemCount=0,a.activeItems=0,a.maxItemsReached=!1,a.resetItemsTimeout=null,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.cheerSpawnSubscription=d.default.subscribe(this.addCheer),this.addItems(m),this.checkQueue()},t.prototype.componentWillUnmount=function(){clearTimeout(this.resetItemsTimeout),clearTimeout(this.emptyQueueTimeout),clearTimeout(this.checkQueueDelayTimeout),this.cheerSpawnSubscription&&this.cheerSpawnSubscription()},t.prototype.addItems=function(e){if(this.state.items.length+e>h)this.maxItemsReached=!0;else{for(var t=[].concat(this.state.items),n=e;n>0;--n)t.push({id:"cheer-"+(0,l.default)(),type:"empty",active:!1,user:!1});this.itemCount+=e,this.setState({items:t})}},t.prototype.resetItems=function(){var e=this.state.items.filter(function(e){return e.active}),t=this.state.items.filter(function(e){return!e.active}),n=e,a=n.length;this.maxItemsReached=!1,a<m&&(n=[].concat(n,t.filter(function(e,t){return t<m-a}))),this.itemCount=n.length,this.setState({items:n})},t.prototype.transferFromQueue=function(){if(!(this.activeItems>=this.itemCount)){for(var e=this.queue.shift(),t=this.state.items,n=0,a=t.length;n<a;++n)if(!1===t[n].active){this.activeItems+=1,t[n].active=!0,t[n].variant=e.variant,t[n].type=e.type,t[n].user=e.user,t[n].team=e.team,t[n].image=e.image;break}this.setState(function(){return{items:t}})}},t.prototype.render=function(){var e=this,t=this.props,n=t.debug,a=t.style,i=this.state.items,o=n?s.default.createElement(p.default,{queue:this.queue.length,activeItems:this.activeItems,elementCount:i.length,maxElementsReached:this.maxItemsReached}):null;return s.default.createElement("div",{className:"htbx-cheering-overlay",style:a},o,i.map(function(t){var n=t.id,a=t.variant,i=t.active,o=t.user,r=t.type,l=t.team,c=t.image;return s.default.createElement(f.default,{key:n,id:n,variant:a,active:i,user:o,type:r,team:l,image:c,onAnimated:e.onAnimated})}))},t}(r.Component);g.defaultProps={debug:!1,esports:null,onAnimated:function(){},style:null},t.default=g},function(e,t,n){var a=n(299),i=n(295),o=n(449),r=parseFloat,s=Math.min,l=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&i(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=o(e),void 0===t?(t=e,e=0):t=o(t)),e>t){var c=e;e=t,t=c}if(n||e%1||t%1){var u=l();return s(e+u*(t-e+r("1e-"+((u+"").length-1))),t)}return a(e,t)}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),s=a(r),l=(a(n(79)),a(n(140))),c=n(80),u=n(97);n(1851);var d=function(e){function t(){var n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,e.call.apply(e,[this].concat(s))),a.onAnimationEnd=function(){a.props.active&&a.props.onAnimated(a.props.id)},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return e.variant!==this.props.variant||e.type!==this.props.type||e.active!==this.props.active||e.user!==this.props.user},t.prototype.render=function(){var e=this.props,t=e.variant,n=e.active,a=e.user,i=e.type,o=e.team,r=e.image,d=(0,l.default)({"htbx-cheer":!0,"htbx-cheer--is-active":n,"htbx-cheer--is-user":a,"htbx-cheer--team1":o===c.TEAM1,"htbx-cheer--team2":o===c.TEAM2},"htbx-cheer--variant-"+t,"htbx-cheer--type-"+i);return s.default.createElement("div",{onAnimationEnd:this.onAnimationEnd,className:d},s.default.createElement("div",{className:"htbx-cheer__inner",style:{backgroundImage:i===u.TEAM_LOGO&&r?'url("'+r+'")':null}}))},t}(r.Component);d.defaultProps={id:0,variant:1,type:"default",team:"",active:!1,user:!1,image:"",onAnimated:function(){}},t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addUserCheerDelayed=t.enableCheeringIfDisabled=void 0;var i=a(n(16)),o=n(648),r=a(n(360));t.enableCheeringIfDisabled=function(){return function(e,t){t().cheering||(i.default.set("cheeringEnabled",!0),e((0,o.enable)()))}},t.addUserCheerDelayed=function(e,t){return function(n,a){a().cheering?r.default.addOwn(e,t):setTimeout(function(){r.default.addOwn(e,t)},200)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"enable",function(){return i}),n.d(t,"disable",function(){return o});var a=n(649),i=function(){return{type:a.b}},o=function(){return{type:a.a}}},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var a="htbx-cheering/cheering/ENABLE",i="htbx-cheering/cheering/DISABLE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,n=(t={},t[s.TEAM1]=0,t[s.TEAM2]=0,t),a=[],o=e,l=Array.isArray(o),d=0,o=l?o:o[Symbol.iterator]();;){var f;if("break"===function(){if(l){if(d>=o.length)return"break";f=o[d++]}else{if((d=o.next()).done)return"break";f=d.value}var e=f,t=c(e.team),r=u(e.name),s={team:t,type:r};a=[].concat(a,i()(e.click,function(){return s})),n[r]=void 0!==n[r]?n[r]+e.total:e.total,t&&(n[t]+=parseInt(e.total,10))}())break}return{cheers:r()(a),total:n}};var a=n(361),i=n.n(a),o=n(534),r=n.n(o),s=n(80),l=n(97),c=function(e){switch(e){case"a":return s.TEAM1;case"b":return s.TEAM2;default:return""}},u=function(e){switch(e){case l.HANDS:case l.LOVE:case l.PRAY:case l.CRY:case l.LAUGH:case l.SALT:case l.SURPRISE:case l.UJELLY:case l.TEAM_LOGO:return e;case"cheer":default:return l.DEFAULT}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0));n(228);var o=a(n(1934));t.default=i.default.module("htbx.ui-elements.collapsible",["ui.bootstrap.collapse"]).component("htbxCollapsible",o.default).name},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2053)),r=a(n(2056)),s=a(n(2059)),l=a(n(2062)),c=a(n(2066)),u=a(n(2068)),d=a(n(2072)),f=a(n(2073)),p=a(n(2074)),m=a(n(2075)),h=a(n(2076)),g=a(n(2077)),_=a(n(2078)),v=a(n(2079)),b=a(n(2080)),y=a(n(2081)),w=a(n(2082)),$=a(n(2083));t.default=i.default.module("htbx.discord",[]).factory("AdminDiscord",d.default).factory("DiscordCallback",f.default).factory("DiscordLink",p.default).factory("SocialDiscord",m.default).factory("SocialDiscordFromUser",h.default).factory("DiscordGuild",_.default).factory("DiscordRoles",v.default).factory("DiscordChannels",b.default).factory("Discord",g.default).factory("DiscordJoin",y.default).factory("DiscordPost",w.default).service("DiscordConnect",$.default).component("htbxDiscordConnect",o.default).component("htbxDiscordSettingsComponent",r.default).component("htbxDiscordSettingsDelete",s.default).component("htbxDiscordJoin",l.default).component("htbxDiscordGuildInfo",c.default).component("htbxDiscordGuildManager",u.default).name},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={},a=[{code:"AF",name:"Afghanistan"},{code:"AX",name:"Aland Islands"},{code:"AL",name:"Albania"},{code:"DZ",name:"Algeria"},{code:"AS",name:"American Samoa"},{code:"AD",name:"Andorra"},{code:"AO",name:"Angola"},{code:"AI",name:"Anguilla"},{code:"AQ",name:"Antarctica"},{code:"AG",name:"Antigua and Barbuda"},{code:"AR",name:"Argentina"},{code:"AM",name:"Armenia"},{code:"AW",name:"Aruba"},{code:"AU",name:"Australia"},{code:"AT",name:"Austria"},{code:"AZ",name:"Azerbaijan"},{code:"BS",name:"Bahamas"},{code:"BH",name:"Bahrain"},{code:"BD",name:"Bangladesh"},{code:"BB",name:"Barbados"},{code:"BY",name:"Belarus"},{code:"BE",name:"Belgium"},{code:"BZ",name:"Belize"},{code:"BJ",name:"Benin"},{code:"BM",name:"Bermuda"},{code:"BT",name:"Bhutan"},{code:"BO",name:"Bolivia"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BW",name:"Botswana"},{code:"BV",name:"Bouvet Island"},{code:"BR",name:"Brazil"},{code:"IO",name:"British Indian Ocean Territory"},{code:"BN",name:"Brunei Darussalam"},{code:"BG",name:"Bulgaria"},{code:"BF",name:"Burkina Faso"},{code:"BI",name:"Burundi"},{code:"KH",name:"Cambodia"},{code:"CM",name:"Cameroon"},{code:"CA",name:"Canada"},{code:"CV",name:"Cape Verde"},{code:"KY",name:"Cayman Islands"},{code:"CF",name:"Central African Republic"},{code:"A1",name:"Anonymous Proxy"},{code:"O1",name:"Other Country"},{code:"A2",name:"Satellite Provider"},{code:"CW",name:"Curacao"},{code:"EU",name:"Europe"},{code:"TD",name:"Chad"},{code:"CL",name:"Chile"},{code:"CN",name:"China"},{code:"CX",name:"Christmas Island"},{code:"CC",name:"Cocos (Keeling) Islands"},{code:"CO",name:"Colombia"},{code:"KM",name:"Comoros"},{code:"CG",name:"Congo"},{code:"CD",name:"Congo, The Democratic Republic of the"},{code:"CK",name:"Cook Islands"},{code:"CR",name:"Costa Rica"},{code:"CI",name:"Cte d'Ivoire"},{code:"HR",name:"Croatia"},{code:"CU",name:"Cuba"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"DK",name:"Denmark"},{code:"DJ",name:"Djibouti"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"EC",name:"Ecuador"},{code:"EG",name:"Egypt"},{code:"SV",name:"El Salvador"},{code:"GQ",name:"Equatorial Guinea"},{code:"ER",name:"Eritrea"},{code:"EE",name:"Estonia"},{code:"ET",name:"Ethiopia"},{code:"FK",name:"Falkland Islands (Malvinas)"},{code:"FO",name:"Faroe Islands"},{code:"FJ",name:"Fiji"},{code:"FI",name:"Finland"},{code:"FR",name:"France"},{code:"GF",name:"French Guiana"},{code:"PF",name:"French Polynesia"},{code:"TF",name:"French Southern Territories"},{code:"GA",name:"Gabon"},{code:"GM",name:"Gambia"},{code:"GE",name:"Georgia"},{code:"DE",name:"Germany"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GR",name:"Greece"},{code:"GL",name:"Greenland"},{code:"GD",name:"Grenada"},{code:"GP",name:"Guadeloupe"},{code:"GU",name:"Guam"},{code:"GT",name:"Guatemala"},{code:"GG",name:"Guernsey"},{code:"GN",name:"Guinea"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HT",name:"Haiti"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"VA",name:"Holy See (Vatican City State)"},{code:"HN",name:"Honduras"},{code:"HK",name:"Hong Kong"},{code:"HU",name:"Hungary"},{code:"IS",name:"Iceland"},{code:"IN",name:"India"},{code:"ID",name:"Indonesia"},{code:"IR",name:"Iran, Islamic Republic of"},{code:"IQ",name:"Iraq"},{code:"IE",name:"Ireland"},{code:"IM",name:"Isle of Man"},{code:"IL",name:"Israel"},{code:"IT",name:"Italy"},{code:"JM",name:"Jamaica"},{code:"JP",name:"Japan"},{code:"JE",name:"Jersey"},{code:"JO",name:"Jordan"},{code:"KZ",name:"Kazakhstan"},{code:"KE",name:"Kenya"},{code:"KI",name:"Kiribati"},{code:"KP",name:"Korea, Democratic People's Republic of"},{code:"KR",name:"Korea, Republic of"},{code:"KW",name:"Kuwait"},{code:"KG",name:"Kyrgyzstan"},{code:"LA",name:"Lao People's Democratic Republic"},{code:"LV",name:"Latvia"},{code:"LB",name:"Lebanon"},{code:"LS",name:"Lesotho"},{code:"LR",name:"Liberia"},{code:"LY",name:"Libyan Arab Jamahiriya"},{code:"LI",name:"Liechtenstein"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"MO",name:"Macao"},{code:"MK",name:"Macedonia, The Former Yugoslav Republic of"},{code:"MG",name:"Madagascar"},{code:"MW",name:"Malawi"},{code:"MY",name:"Malaysia"},{code:"MV",name:"Maldives"},{code:"ML",name:"Mali"},{code:"MT",name:"Malta"},{code:"MH",name:"Marshall Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MU",name:"Mauritius"},{code:"YT",name:"Mayotte"},{code:"MX",name:"Mexico"},{code:"FM",name:"Micronesia, Federated States of"},{code:"MD",name:"Moldova"},{code:"MC",name:"Monaco"},{code:"MN",name:"Mongolia"},{code:"ME",name:"Montenegro"},{code:"MS",name:"Montserrat"},{code:"MA",name:"Morocco"},{code:"MZ",name:"Mozambique"},{code:"MM",name:"Myanmar"},{code:"NA",name:"Namibia"},{code:"NR",name:"Nauru"},{code:"NP",name:"Nepal"},{code:"NL",name:"Netherlands"},{code:"AN",name:"Netherlands Antilles"},{code:"NC",name:"New Caledonia"},{code:"NZ",name:"New Zealand"},{code:"NI",name:"Nicaragua"},{code:"NE",name:"Niger"},{code:"NG",name:"Nigeria"},{code:"NU",name:"Niue"},{code:"NF",name:"Norfolk Island"},{code:"MP",name:"Northern Mariana Islands"},{code:"NO",name:"Norway"},{code:"OM",name:"Oman"},{code:"PK",name:"Pakistan"},{code:"PW",name:"Palau"},{code:"PS",name:"Palestinian Territory, Occupied"},{code:"PA",name:"Panama"},{code:"PG",name:"Papua New Guinea"},{code:"PY",name:"Paraguay"},{code:"PE",name:"Peru"},{code:"PH",name:"Philippines"},{code:"PN",name:"Pitcairn"},{code:"PL",name:"Poland"},{code:"PT",name:"Portugal"},{code:"PR",name:"Puerto Rico"},{code:"QA",name:"Qatar"},{code:"RE",name:"Runion"},{code:"RO",name:"Romania"},{code:"RU",name:"Russian Federation"},{code:"RW",name:"Rwanda"},{code:"BL",name:"Saint Barthlemy"},{code:"SH",name:"Saint Helena"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"LC",name:"Saint Lucia"},{code:"MF",name:"Saint Martin"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"WS",name:"Samoa"},{code:"SM",name:"San Marino"},{code:"ST",name:"Sao Tome and Principe"},{code:"SA",name:"Saudi Arabia"},{code:"SN",name:"Senegal"},{code:"RS",name:"Serbia"},{code:"SC",name:"Seychelles"},{code:"SL",name:"Sierra Leone"},{code:"SG",name:"Singapore"},{code:"SK",name:"Slovakia"},{code:"SI",name:"Slovenia"},{code:"SB",name:"Solomon Islands"},{code:"SO",name:"Somalia"},{code:"ZA",name:"South Africa"},{code:"GS",name:"South Georgia and the South Sandwich Islands"},{code:"ES",name:"Spain"},{code:"LK",name:"Sri Lanka"},{code:"SD",name:"Sudan"},{code:"SR",name:"Suriname"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SZ",name:"Swaziland"},{code:"SE",name:"Sweden"},{code:"CH",name:"Switzerland"},{code:"SY",name:"Syrian Arab Republic"},{code:"TW",name:"Taiwan"},{code:"TJ",name:"Tajikistan"},{code:"TZ",name:"Tanzania, United Republic of"},{code:"TH",name:"Thailand"},{code:"TL",name:"Timor-Leste"},{code:"TG",name:"Togo"},{code:"TK",name:"Tokelau"},{code:"TO",name:"Tonga"},{code:"TT",name:"Trinidad and Tobago"},{code:"TN",name:"Tunisia"},{code:"TR",name:"Turkey"},{code:"TM",name:"Turkmenistan"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TV",name:"Tuvalu"},{code:"UG",name:"Uganda"},{code:"UA",name:"Ukraine"},{code:"AE",name:"United Arab Emirates"},{code:"UK",name:"United Kingdom"},{code:"GB",name:"Great Britain"},{code:"US",name:"United States"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VU",name:"Vanuatu"},{code:"VE",name:"Venezuela"},{code:"VN",name:"Viet Nam"},{code:"VG",name:"Virgin Islands, British"},{code:"VI",name:"Virgin Islands, U.S."},{code:"WF",name:"Wallis and Futuna"},{code:"EH",name:"Western Sahara"},{code:"YE",name:"Yemen"},{code:"ZM",name:"Zambia"},{code:"ZW",name:"Zimbabwe"}];return n.addCountry=function(e){a.push(e)},n.getCountryCode=function(e){for(var t=0;t<a.length;t++)if(a[t].name===e)return a[t].code;return null},n.getCountryName=function(e){for(var t=0;t<a.length;t++)if(a[t].code===e)return a[t].name;return"Unknown"},n.getCountries=function(){var n=[];return function(){var i=e.defer();return t.get({},function(e){e.country_code&&a.unshift({code:e.country_code,name:e.country_name});for(var t=0;t<a.length;t++){var o={};o.id=a[t].code,o.text=a[t].name,n.push(o)}i.resolve(n)},function(){i.resolve(a)}),i.promise}()},n}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(2116)),s=a(n(2117));i.$inject=["$q","GeoIp"],t.default=o.default.module("country",[]).factory("GeoIp",r.default).service("DBCountryService",s.default).service("CountryService",i).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0));n(659);var o=n(660),r=a(n(102)),s=a(n(15)),l=a(n(2128)),c=a(n(2136)),u=a(n(2146)),d=a(n(2148)),f=a(n(2150)),p=a(n(2153)),m=a(n(138)),h=a(n(2158)),g=a(n(2168)),_=a(n(2169)),v=a(n(2170)),b=a(n(2181)),y=a(n(2183)),w=a(n(2184)),$=a(n(2185)),x=a(n(2186)),k=a(n(2187)),S=a(n(2190)),C=a(n(2193)),M=a(n(2196)),E=a(n(2199)),T=a(n(2202)),P=a(n(2205)),O=a(n(2208)),j=a(n(2213)),A=a(n(2216)),I=a(n(2218)),L=a(n(2221)),U=a(n(2224));t.default=i.default.module("htbx.mediaPlayer",[c.default,u.default,l.default,s.default,f.default,d.default,p.default,r.default,m.default,h.default,"angular-google-analytics",o.name]).constant("EleVRPlayer",window.EleVRPlayer).filter("stringifySeconds",g.default).factory("PlayerRecConfig",_.default).factory("BasePlayer",v.default).factory("MediaPlayer",b.default).factory("PlayerConfig",y.default).factory("PlayerHealthCheck",w.default).factory("ViewStats",x.default).service("mediaPlayerConfig",$.default).component("htbxMediaPlayerQualityMenu",k.default).component("mediaPlayerMeta",S.default).component("mediaPlayerBranding",C.default).component("mediaPlayerControls",M.default).component("mediaPlayerMiniControls",E.default).component("mediaPlayerVideoControls",T.default).component("mediaPlayerLoading",P.default).component("mediaPlayerOverlay",U.default).directive("mediaPlayer",O.default).directive("mediaPlayerPlay",j.default).directive("mediaPlayerStreamTime",A.default).directive("mediaPlayerVideoTime",I.default).directive("mediaPlayerVideoTrackControl",L.default).name},,,,function(e,t,n){var a=n(167),i=n(2155),o=n(75),r=n(2156),s=o(function(e){return e.push(void 0,r),a(i,void 0,e)});e.exports=s},function(e,t,n){var a=n(251),i=n(2171);e.exports=function(e,t){return i(a(t),e)}},,,,,,,,,function(e,t,n){var a=n(508),i=n(23);e.exports=function(e,t,n,o){return null==e?[]:(i(t)||(t=null==t?[]:[t]),n=o?void 0:n,i(n)||(n=null==n?[]:[n]),a(e,t,n))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2227));t.default=i.default.module("htbx.sticky",[]).factory("ScrollCheck",o.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(585)),r=a(n(2236)),s=a(n(2239)),l=a(n(2243)),c=a(n(2247)),u=a(n(2251)),d=a(n(675)),f=a(n(2256)),p=a(n(2260)),m=a(n(2263)),h=a(n(2266)),g=a(n(2269)),_=a(n(2270)),v=a(n(2271)),b=a(n(2274)),y=a(n(2277)),w=a(n(2280)),$=a(n(2302)),x=a(n(2304));t.default=i.default.module("htbx.feed",[o.default,r.default,s.default,l.default,c.default,u.default]).directive("reactFeedPostInput",y.default).directive("reactFeedPost",w.default).component("feed",v.default).component("feedActivePoll",b.default).component("feedItem",d.default).component("feedItemHeader",f.default).component("newFeedItem",p.default).component("newFeedItemButton",m.default).component("newPostItem",h.default).component("feedPostModal",$.default).component("feedShareModal",x.default).factory("feed",g.default).factory("FeedWs",_.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HIGHLIGHT_ITEM_MARGIN=t.HIGHLIGHT_ITEM_SELECTOR=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2254));n(2255);var r=t.HIGHLIGHT_ITEM_SELECTOR="#highlightedFeedItem",s=t.HIGHLIGHT_ITEM_MARGIN=1,l=function(e){return{isAdminOfChat:e.chat.permissions.isAdmin}},c=function(){function e(t,n,a,i,o,r,s,c,u,d,f,p){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$element:t,$scope:n,$translate:a,HtbxModal:i,loggedUser:o,feed:r,$state:s,$location:c,$timeout:u,$uibPosition:d,$rootScope:f}),this.$ngRedux=p,this.unsubscribeReduxConnection=this.$ngRedux.connect(l)(this)}return e.$inject=["$element","$scope","$translate","HtbxModal","loggedUser","feed","$state","$location","$timeout","$uibPosition","$rootScope","$ngRedux"],a(e,[{key:"$onInit",value:function(){var e=this;if(this.item.highlighted){var t=(0,i.element)(r);this.$timeout(function(){(0,i.element)("html,body").animate({scrollTop:t[0].offsetTop+s},300,function(){e.$timeout(function(){e.$rootScope.$broadcast("feed:highlightScroll"),t.find(".feed-item").addClass("feed-item--highlight")},500)})},null,!1)}}},{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"deleteConfirm",value:function(){var e=this,t=this.$translate.instant("component_feed-item_confirm-delete"),n=[{result:!1,label:this.$translate.instant("global_text_cancel")},{result:!0,label:this.$translate.instant("global_button_delete"),variant:"warning"}];new this.HtbxModal(t,"",n).open().then(function(t){t&&e.delete()})}},{key:"delete",value:function(){var e=this;this.isDeleting=!0,this.feed.delete({channelName:this.userData.channelName,itemId:this.item.id,authToken:this.loggedUser.getToken()}).$promise.finally(function(){e.isDeleting=!1,e.item.highlighted&&(e.$location.search("highlight",null),e.$state.go("detail.feed",{channel:e.userData.channelName},{reload:!0}))})}},{key:"getTime",value:function(){return this.item&&this.item.time?1e3*this.item.time:null}}]),e}();t.default={bindings:{item:"<",userData:"<",compactMode:"<?"},templateUrl:o.default,controller:c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMAGE_ID_REGEX=/<div class="image"><img src="https?:\/\/chatimages1?\.hitbox\.tv\/(.*?)" hbx-width="(.*?)" hbx-height="(.*?)"\/><\/div>/,t.default=/<div class="image"><img src="https?:\/\/chatimages1?\.hitbox\.tv\/(.*?)" hbx-width="(.*?)" hbx-height="(.*?)"\/><\/div>/g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(67)));n(2296);var r=function(e){var t=e.data,n=e.inMeta;return i.default.createElement("div",{className:(0,o.default)({"video-embed-item":n,"video-feed-item__video":!n})},i.default.createElement("iframe",{id:t.service+"-"+t.id,src:t.url,type:"text/html",title:"Video",frameBorder:"0",allowFullScreen:!0}),i.default.createElement("span",null))};r.defaultProps={inMeta:!1},t.default=r},,,function(e,t,n){var a=n(2316),i=n(2317);t.decode=function(e,t){return(!t||t<=0?i.XML:i.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?i.XML:i.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?a.XML:a.HTML)(e)},t.encodeXML=a.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=a.HTML,t.decodeXML=t.decodeXMLStrict=i.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=i.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=i.HTMLStrict,t.escape=a.escape},function(e,t){e.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(e,t){e.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2335));t.default=i.default.module("smash.host",[]).factory("Host",o.default).name},function(e,t,n){var a=n(240);e.exports=function(e){return a(e)&&e!=+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$uibModalInstance=t}return e.$inject=["$uibModalInstance"],a(e,[{key:"close",value:function(){this.$uibModalInstance.close()}}]),e}();t.default=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONTENT_TAB=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(2370)),r=a(n(369));n(2371);var s=t.DEFAULT_CONTENT_TAB="feed",l=function(){function e(t,n,a,i,o,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$translate:t,$uibPosition:n,$timeout:a,$rootScope:i,$scope:o,$state:s,$window:l}),this.templateUrlShowMore=r.default}return e.$inject=["$translate","$uibPosition","$timeout","$rootScope","$scope","$state","$window"],i(e,[{key:"$onInit",value:function(){var e=this;this.player={normal:null,mini:null,status:"normal",isAnimating:!1},this.activeContentTab=this.activeContentTab||s,this.items=[{name:"feed",label:this.$translate.instant("global_text_activity"),sref:"detail.feed()",liveIndicator:!0,disabled:function(){return!1}},{name:"profile",label:this.$translate.instant("global_text_about"),sref:"detail.profile()",disabled:function(){return!1}},{name:"videos",label:this.$translate.instant("global_text_videos"),sref:"detail.videos()",disabled:function(){return e.detailSidebarCtrl.detailMedia.media.channel&&0===parseInt(e.detailSidebarCtrl.detailMedia.media.channel.videos,10)}}]}}]),e}();t.default={bindings:{activeContentTab:"="},require:{detailSidebarCtrl:"^detailSidebar"},templateUrl:o.default,controller:l}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2463)),r=a(n(2483));t.default=i.default.module("smash.carousel",[]).directive("carouselReact",["reactDirective",function(e){return e(o.default,["medias","onPageChange","stateHref","getTranslation","numberFilter","carouselOptions"])}]).component("gameCarousel",r.default).name},function(e,t){e.exports={isFunction:function(e){return"function"==typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){var n=0,a=e.length;for(n;n<a&&!1!==t(e[n],n);n++);}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=t.defaultFont="LatoWeb, Segoe UI, Arial, Helvetica, sans-serif",i=t.normal=400,o=t.semiBold=600,r=t.bold=600,s=t.boldOnWhite=600;t.default={defaultFont:a,normal:i,semiBold:o,bold:r,boldOnWhite:s}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(691)),r=a(n(2563)),s=a(n(2)),l=a(n(2564)),c=a(n(2577));t.default=i.default.module("htbx.redux-store",[o.default]).config(["$ngReduxProvider",function(e){e.createStoreWith((0,l.default)(),[r.default],s.default.isDebugEnv&&window.__REDUX_DEVTOOLS_EXTENSION__?[window.__REDUX_DEVTOOLS_EXTENSION__()]:null,c.default)}]).name},,function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a="smashcast-i18n/language/CHANGE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2586));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2588)),r=a(n(2591)),s=a(n(2641));t.default=i.default.module("htbx.layout",[r.default,s.default]).component("htbxLayout",o.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2875));t.default=i.default.module("htbx.confirm",[]).service("confirmStore",o.default).name},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(728),n(729),n(730)},function(e,t){},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,o,r,s){var l=S.ROUTING_CONFIG.accessLevels;r.preAssignBindingsEnabled(!0),s.errorOnUnhandledRejections(!1),t.setInitParams({appId:"203160066526888",version:k.default.fbApiVersion}),i.otherwise("/404"),a.state("nav",{url:"",abstract:!0,views:{viewNav:{template:"<htbx-main-nav></htbx-main-nav>"}}}).state("hitbox",{url:"",abstract:!0,parent:"nav"}).state("login",{url:"/login?navsection",views:{"viewMain@":{templateUrl:M.default}},reloadOnSearch:!1,access:l.anon,section:"login",parent:"nav",title:'{{"global_text_login" | translate}}'}).state("appsignup",{url:"/appsignup",views:{"viewMain@":{template:"<app-signup-page></app-signup-page>"}},access:l.anon,secure:!0,section:"appsignup",title:'{{"global_text_signup" | translate}}'}).state("appsignupsuccess",{url:"/appsignup/success/:authToken",views:{"viewMain@":{template:"<div x-workaround-2239874934></div>"}},access:l.anon,secure:!0,section:"appsignup",title:'{{"global_text_signup" | translate}}'}).state("embedchat",{url:"/embed/chat/:channel?autoconnect&mini",views:{viewMain:{template:"<embed-chat></embed-chat>"}},access:l.anon,section:"embedchat",detached:!0}).state("detail",{url:"/:channel",views:{"viewMain@":{template:"<detail-page></detail-page>"}},section:"channel",parent:"hitbox",abstract:!0}),i.when("/game/:gameId","/games/:gameId"),i.when("/embedvideo/:id","/embed/video/:id"),i.when("/embedchat/:channel","/embed/chat/:channel"),n.setAccount("UA-93542333-1"),n.trackPages(!0),n.setDomainName("smashcast.tv"),n.setPageEvent("$stateChangeSuccess"),n.ignoreFirstPageLoad(!1),e.decorator("$exceptionHandler",["$delegate",function(e){return function(t,n){e(t,n),window.ga&&window.ga("send","event","javascript","error",t.message+" "+(t.stack||""))}}]),o.classNameFilter(/animate/)}function o(e,t,n,a){e.firsts={},e.channel="",e.$on("$stateChangeError",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log(t)}),t.onStart(null,function(e){e.promise.finally(function(){var e=a.getState().channel,t=(0,w.getName)(e),i=n.channel||n.user;i=i?i.toLowerCase():"",t&&i===t||(a.dispatch((0,y.reset)()),""!==i&&a.dispatch((0,y.setName)(i)))})}),(0,_.default)("#render-skeleton").remove()}var r=a(n(102));n(755);var s=a(n(0)),l=a(n(269)),c=a(n(419)),u=a(n(420)),d=a(n(421)),f=a(n(158)),p=a(n(422)),m=a(n(423));n(424),n(270),n(425),n(202),n(426);var h=a(n(87)),g=a(n(427)),_=a(n(13)),v=a(n(26)),b=a(n(451)),y=n(164),w=n(8),$=a(n(892)),x=a(n(622)),k=a(n(2)),S=n(15),C=a(S),M=a(n(1709)),E=a(n(1710)),T=a(n(1715)),P=a(n(1738)),O=a(n(1749)),j=a(n(297)),A=a(n(1819)),I=a(n(1859)),L=a(n(1875)),U=a(n(657)),D=a(n(2122)),N=a(n(2127)),R=a(n(2443)),F=a(n(2446)),B=a(n(2449)),z=a(n(2454)),H=a(n(587)),V=a(n(2462)),q=a(n(674)),G=a(n(2496)),W=a(n(2509)),Y=a(n(2523)),K=a(n(2528)),J=a(n(2542)),X=a(n(2548));n(2552);var Q=a(n(2556)),Z=a(n(694)),ee=a(n(2645)),te=a(n(628)),ne=a(n(321)),ae=a(n(2651)),ie=a(n(522)),oe=a(n(2655)),re=a(n(2790)),se=a(n(658)),le=a(n(2803)),ce=a(n(690)),ue=a(n(2805)),de=a(n(2807)),fe=a(n(190)),pe=a(n(2814)),me=a(n(673)),he=a(n(2822)),ge=a(n(2896)),_e=a(n(364)),ve=a(n(2931)),be=a(n(2939)),ye=a(n(189)),we=a(n(2943)),$e=a(n(2951)),xe=a(n(2965)),ke=a(n(2966)),Se=a(n(2967));o.$inject=["$rootScope","$transitions","$stateParams","$ngRedux"],i.$inject=["$provide","ezfbProvider","AnalyticsProvider","$stateProvider","$urlRouterProvider","$animateProvider","$compileProvider","$qProvider"],_.default.ajaxSetup({cache:!0});var Ce=[ce.default,x.default,b.default,se.default,F.default,D.default,G.default,C.default,we.default,r.default,"ui.router.state.events",m.default,f.default,u.default,"ngAnimate","angular.filter","ezfb","ngCsv","angular-google-analytics","ui.bootstrap",h.default,g.default,"ngFileUpload",l.default,"xeditable","ui.sortable","ui.select","ngPostMessage","akoenig.deckgrid","angular-sortable-view",p.default,"flow","ngImgCrop","ngTagsInput",j.default,"country","eb.caret",d.default,c.default,_e.default,re.default,Q.default,z.default,I.default,fe.default,me.default,te.default,Y.default,ye.default,O.default,V.default,W.default,he.default,L.default,K.default,$.default,ne.default,"ui.bootstrap.position","ui.bootstrap.pagination",P.default,H.default,ve.default,ee.default,E.default,J.default,U.default,X.default,ge.default,ae.default,B.default,A.default,T.default,R.default,N.default,q.default,oe.default,pe.default,$e.default,le.default,ie.default,Z.default,de.default,be.default,ue.default,xe.default];s.default.module("app",Ce).service("pageTitle",Se.default).controller("AppCtrl",ke.default).config(i).run(o),v.default.init().then(function(){s.default.bootstrap(document,["app"])})},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){!function(e,a){!function(e,t){"use strict";var n=angular,a=t&&t.module?t:n;!function(){function e(e,t){var n,a;if(Array.isArray(t)&&(n=t[0],a=t[1]),!r(n))throw new Error("invalid parameters to applyPairs");return e[n]=a,e}function t(e){if(e.options().notify&&e.valid()&&!e.ignored()){var t=e.injector(),n=t.get("$stateEvents"),a=t.get("$rootScope"),i=t.get("$state"),o=t.get("$urlRouter"),r=n.provider.enabled(),s=e.params("to"),l=e.params("from");if(r.$stateChangeSuccess){if(a.$broadcast("$stateChangeStart",e.to(),s,e.from(),l,e.options(),e).defaultPrevented)return r.$stateChangeCancel&&a.$broadcast("$stateChangeCancel",e.to(),s,e.from(),l,e.options(),e),null==i.transition&&o.update(),!1;e.onSuccess({},function(){a.$broadcast("$stateChangeSuccess",e.to(),s,e.from(),l,e.options(),e)},{priority:9999})}r.$stateChangeError&&e.promise.catch(function(t){(!t||2!==t.type&&3!==t.type)&&(a.$broadcast("$stateChangeError",e.to(),s,e.from(),l,t,e.options(),e).defaultPrevented||o.update())})}}function n(e,t,n){function a(){return i.target(l.to,l.toParams,l.options)}var i=n.get("$state"),r=n.get("$rootScope"),s=n.get("$urlRouter"),l={to:e.identifier(),toParams:e.params(),options:e.options()},c=r.$broadcast("$stateNotFound",l,t.state(),t.params());return(c.defaultPrevented||c.retry)&&s.update(),!c.defaultPrevented&&(c.retry||i.get(l.to)?c.retry&&o(c.retry.then)?c.retry.then(a):a():void 0)}function i(a){function o(){if(s)throw new Error("Cannot enable events at runtime (use $stateEventsProvider")}function r(e){return s=!0,c.$stateNotFound&&a.onInvalid(n),c.$stateChangeStart&&e.onBefore({},t,{priority:1e3}),{provider:i.prototype.instance}}i.prototype.instance=this;var s=!1,l=["$stateChangeStart","$stateNotFound","$stateChangeSuccess","$stateChangeError"],c=l.map(function(e){return[e,!0]}).reduce(e,{});this.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o(),e&&e.length||(e=l),e.forEach(function(e){return c[e]=!0})},this.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o(),e&&e.length||(e=l),e.forEach(function(e){return delete c[e]})},this.enabled=function(){return c},this.$get=r,r.$inject=["$transitions"]}var o=a.isFunction,r=a.isString;n.$inject=["$to$","$from$","$state","$rootScope","$urlRouter"],i.$inject=["$stateProvider"],a.module("ui.router.state.events",["ui.router.state"]).provider("$stateEvents",i).run(["$stateEvents",function(e){}])}(),e.$stateChangeStart=void 0,e.$stateChangeCancel=void 0,e.$stateChangeSuccess=void 0,e.$stateChangeError=void 0,e.$stateNotFound=void 0,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0))}()},,,,,,,,function(e,t,n){n(764),e.exports=self.fetch.bind(self)},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return p.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function r(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=r(t);return t.readAsArrayBuffer(e),n}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(p.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(p.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(p.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(p.arrayBuffer&&p.blob&&h(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!p.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!g(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=r(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),a=0;a<t.length;a++)n[a]=String.fromCharCode(t[a]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(e,t){var n=(t=t||{}).body;if(e instanceof u){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=function(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),a=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(i))}}),t}function f(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var p={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(p.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=function(e){return e&&DataView.prototype.isPrototypeOf(e)},g=ArrayBuffer.isView||function(e){return e&&m.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,a){e=t(e),a=n(a);var i=this.map[e];this.map[e]=i?i+","+a:a},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,a){this.map[t(e)]=n(a)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),a(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),a(e)},p.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];u.prototype.clone=function(){return new u(this,{body:this._bodyInit})},c.call(u.prototype),c.call(f.prototype),f.prototype.clone=function(){return new f(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},f.error=function(){var e=new f(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];f.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new f(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=u,e.Response=f,e.fetch=function(e,t){return new Promise(function(n,a){var o=new u(e,t),r=new XMLHttpRequest;r.onload=function(){var e={status:r.status,statusText:r.statusText,headers:function(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),a=n.shift().trim();if(a){var i=n.join(":").trim();t.append(a,i)}}),t}(r.getAllResponseHeaders()||"")};e.url="responseURL"in r?r.responseURL:e.headers.get("X-Request-URL");var t="response"in r?r.response:r.responseText;n(new f(t,e))},r.onerror=function(){a(new TypeError("Network request failed"))},r.ontimeout=function(){a(new TypeError("Network request failed"))},r.open(o.method,o.url,!0),"include"===o.credentials&&(r.withCredentials=!0),"responseType"in r&&p.blob&&(r.responseType="blob"),o.headers.forEach(function(e,t){r.setRequestHeader(t,e)}),r.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){var a=n(766),i=[n(767),n(768),n(769),n(770)];e.exports=a.createStore(i,[])},function(e,t,n){function a(e,t,n){n||(n=""),e&&!u(e)&&(e=[e]),t&&!u(t)&&(t=[t]);var a=n?"__storejs_"+n+"_":"",i=n?new RegExp("^"+a):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var m=c({_namespacePrefix:a,_namespaceRegexp:i,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){var t=o(arguments,0),a=this,i=[function(){if(n)return s(arguments,function(e,n){t[n]=e}),n.apply(a,t)}].concat(t);return e.apply(a,i)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(u(e))s(e,function(e){t._addPlugin(e)});else if(!r(this.plugins,function(t){return e===t})){if(this.plugins.push(e),!d(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!f(n))throw new Error("Plugins must return an object of function properties");s(n,function(n,a){if(!d(n))throw new Error("Bad plugin property: "+a+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,a)})}},addStorage:function(e){!function(){var e="undefined"==typeof console?null:console;e&&(e.warn?e.warn:e.log).apply(e,arguments)}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},p,{plugins:[]});return m.raw={},s(m,function(e,t){d(e)&&(m.raw[t]=l(m,e))}),s(e,function(e){m._addStorage(e)}),s(t,function(e){m._addPlugin(e)}),m}var i=n(203),o=i.slice,r=i.pluck,s=i.each,l=i.bind,c=i.create,u=i.isList,d=i.isFunction,f=i.isObject;e.exports={createStore:a};var p={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each(function(n,a){e.call(t,t._deserialize(n),(a||"").replace(t._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return a.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return a(this.storage,this.plugins,e)}}},function(e,t,n){function a(){return o.localStorage}function i(e){return a().getItem(e)}var o=n(203).Global;e.exports={name:"localStorage",read:i,write:function(e,t){return a().setItem(e,t)},each:function(e){for(var t=a().length-1;t>=0;t--){var n=a().key(t);e(i(n),n)}},remove:function(e){return a().removeItem(e)},clearAll:function(){return a().clear()}}},function(e,t,n){function a(){return o.sessionStorage}function i(e){return a().getItem(e)}var o=n(203).Global;e.exports={name:"sessionStorage",read:i,write:function(e,t){return a().setItem(e,t)},each:function(e){for(var t=a().length-1;t>=0;t--){var n=a().key(t);e(i(n),n)}},remove:function(e){return a().removeItem(e)},clearAll:function(){return a().clear()}}},function(e,t,n){function a(e){for(var t=c.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(l(t[n])){var a=t[n].split("="),i=unescape(a[0]);e(unescape(a[1]),i)}}function i(e){e&&o(e)&&(c.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function o(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(c.cookie)}var r=n(203),s=r.Global,l=r.trim;e.exports={name:"cookieStorage",read:function(e){if(!e||!o(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(c.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){e&&(c.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")},each:a,remove:i,clearAll:function(){a(function(e,t){i(t)})}};var c=s.document},function(e,t){e.exports={name:"memoryStorage",read:function(e){return n[e]},write:function(e,t){n[e]=t},each:function(e){for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},remove:function(e){delete n[e]},clearAll:function(e){n={}}};var n={}},function(e,t,n){var a=n(55),i=n(73),o=n(89);e.exports=function(e){return function(t,n,r){var s=Object(t);if(!i(t)){var l=a(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,r);return c>-1?s[l?t[c]:c]:void 0}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports='<svg viewBox="0 0 15 11" xmlns="http://www.w3.org/2000/svg"><path d="M4 6V4.448L3 5.723V6h1zM2.5 7a.5.5 0 01-.5-.5v-.95a.5.5 0 01.107-.309l2-2.55A.5.5 0 015 3v5a.5.5 0 01-1 0V6h2a.5.5 0 010 1H2.5zm5.5.5a.5.5 0 01-1 0v-4a.5.5 0 011 0v4zm3.354-4.146L9.207 5.5l2.147 2.146a.5.5 0 01-.708.708l-2.5-2.5a.5.5 0 010-.708l2.5-2.5a.5.5 0 01.708.708z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11.25 11.743H3.828c-.294 0-.533.448-.533 1s.239 1 .533 1h7.422v7.513c0 .294.448.533 1 .533s1-.239 1-.533v-7.513h7.513c.294 0 .532-.448.532-1s-.238-1-.532-1H13.25V4.321c0-.294-.448-.532-1-.532s-1 .238-1 .532v7.422z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 25 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.793 11H3a.5.5 0 000 1h17.793l-5.147 5.146a.5.5 0 00.708.708l6-6a.5.5 0 000-.708l-6-6a.5.5 0 00-.708.708L20.793 11z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.28 6.16l-1.263 3.818c-.085.252.081.514.37.588.052.013.106.02.16.02h3.89l-5.717 7.267 1.263-3.834c.075-.253-.1-.511-.392-.577a.631.631 0 00-.137-.015H7.562L13.28 6.16zm1.366-3.154a.556.556 0 00-.359.207L6.095 13.634c-.17.217-.106.511.144.658a.602.602 0 00.3.083h4.181l-1.98 6.024c-.08.253.09.514.38.584.223.053.46-.02.593-.184l8.193-10.421c.169-.217.104-.511-.145-.658a.605.605 0 00-.3-.082h-4.198l1.997-6.04c.08-.252-.092-.513-.383-.581a.621.621 0 00-.231-.01z" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6.071 18.869c1.051.81 2.77 1.886 5.474 1.886 2.69 0 5.591-1.702 5.591-4.45 0-2.7-2.208-3.958-5.577-5.569l-.178-.087c-1.852-.902-3.602-1.754-3.602-3.656 0-1.168.867-2.533 3.31-2.533 1.852 0 3.91 1.136 3.997 1.185a.264.264 0 00.18.004.288.288 0 00.172-.128l.37-.738c.106-.195.046-.426-.045-.487C14.843 3.667 13.138 3 11.089 3 9.043 3 6 4.076 6 7.039c0 2.67 2.481 4.112 4.807 5.253 2.66 1.33 4.413 2.206 4.413 4.287 0 1.707-1.51 2.899-3.675 2.899-2.389 0-4.382-1.479-4.697-1.724-.123-.072-.204-.073-.227-.067-.05.084-.12.219-.2.367-.126.234-.266.496-.385.688.002.04.017.097.035.127" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10.716 11.152l5.219-2.735c.4-2.169-.963-4.263-3.086-4.714-2.16-.459-4.292.954-4.762 3.163-.455 2.14.844 4.245 2.416 4.24.076 0 .148.016.213.046zm-1.36.713c-1.66-.726-2.72-2.978-2.247-5.207.584-2.745 3.244-4.508 5.948-3.933C15.47 3.238 17.095 5.44 17 7.86l4.35-2.28a.5.5 0 01.464.886L2.65 16.508a.5.5 0 01-.464-.886l7.17-3.757zm5.615 2.827a.5.5 0 01.22-.976c.733.166 1.269.324 1.689.494.413.168.7.337 1.047.596-.001 0 .392.3.521.394.22.158.447.304.722.458 1.282.721 2.08 2.143 2.08 3.695v.667c0 1.023-.773 1.87-1.75 1.87h-15c-.977 0-1.75-.847-1.75-1.87v-.667a.5.5 0 011 0v.667c0 .49.346.87.75.87h15c.404 0 .75-.38.75-.87v-.667c0-1.197-.61-2.282-1.57-2.823a8.482 8.482 0 01-.816-.519 35.563 35.563 0 01-.536-.404 3.336 3.336 0 00-.824-.47c-.363-.148-.85-.29-1.533-.445z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.26 4C21.227 4 22 5.075 22 6.116v14.042C22 21.167 21.23 22 20.26 22H3.74C2.77 22 2 21.167 2 20.158V6.116C2 5.076 2.774 4 3.74 4H7a7.81 7.81 0 00.868-.626c.193-.157.391-.325.582-.494.115-.101.201-.18.22-.195A2.091 2.091 0 0110.207 2h3.586c.58 0 1.133.248 1.508.657a18.683 18.683 0 001.041.885c.35.27.658.458.658.458h3.26zm0 1H17c-.33 0-.699-.225-1.27-.668a19.66 19.66 0 01-1.135-.968A1.092 1.092 0 0013.793 3h-3.586c-.298 0-.586.13-.83.392a19.66 19.66 0 01-1.106.94C7.698 4.775 7.33 5 7 5H3.74C3.41 5 3 5.57 3 6.116v14.042c0 .473.34.842.74.842h16.52c.4 0 .74-.369.74-.842V6.116C21 5.57 20.59 5 20.26 5zm-3.28 7.798a5.143 5.143 0 11-10.288 0 5.143 5.143 0 1110.287 0zm-1.144 0a4 4 0 10-8 0 4 4 0 008 0z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2.571 4h18.93a.5.5 0 01.5.5v15a.5.5 0 01-.5.5H15a.5.5 0 01-.5-.5v-.923c0-.277.223-.577.5-.577h5V6H2.571c-.276 0-.57-.223-.57-.5v-1c0-.276.294-.5.57-.5zm-.569 5.49a.5.5 0 01.543-.452 11.496 11.496 0 0110.402 10.401.499.499 0 11-.996.09 10.498 10.498 0 00-9.496-9.496.5.5 0 01-.453-.543zm.003 4.003a.5.5 0 01.566-.424 7.494 7.494 0 016.344 6.344.5.5 0 11-.99.142 6.491 6.491 0 00-5.496-5.496.499.499 0 01-.424-.566zm.024 4.008a.5.5 0 01.64-.304 3.495 3.495 0 012.117 2.119.5.5 0 01-.942.336 2.49 2.49 0 00-1.512-1.512.502.502 0 01-.303-.639z" fill="#323C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 5H3v2a.5.5 0 01-1 0V4.5a.5.5 0 01.5-.5h19a.5.5 0 01.5.5v15a.5.5 0 01-.5.5H17a.5.5 0 110-1h4V5zm-8.053 14.44a.5.5 0 11-.996.09 10.497 10.497 0 00-9.496-9.497.5.5 0 11.09-.996A11.497 11.497 0 0112.947 19.44zm-10.615-1.3a.5.5 0 01.336-.942 3.489 3.489 0 012.118 2.118.5.5 0 01-.942.335 2.489 2.489 0 00-1.512-1.511zm6.583 1.273a.5.5 0 01-.99.142 6.492 6.492 0 00-5.496-5.496.5.5 0 11.142-.99 7.492 7.492 0 016.344 6.344z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 14.853h-.787l-3.352 3.493A.5.5 0 012 18V3.868C2 2.84 2.807 2 3.813 2h11.374C16.194 2 17 2.841 17 3.868v2.148A.5.5 0 0117.125 6h3.063C21.184 6 22 6.794 22 7.78V21a.5.5 0 01-.849.358l-3.354-3.27H8.812c-.997 0-1.812-.794-1.812-1.78v-1.455zm1 0v1.456c0 .427.361.78.813.78H18a.5.5 0 01.349.141L21 19.814V7.78c0-.427-.361-.779-.813-.779h-3.062A.5.5 0 0117 6.984v6.001c0 1.027-.807 1.868-1.813 1.868H8zm-2.36-.846a.5.5 0 01.36-.154h9.188c.443 0 .812-.384.812-.868V3.868c0-.484-.369-.868-.813-.868H3.813C3.369 3 3 3.384 3 3.868v12.889l2.64-2.75z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2.831 20.875A.5.5 0 012 20.5V3.786C2 2.793 2.837 2 3.857 2h15.286C20.163 2 21 2.793 21 3.786v11.143c0 1.02-.849 2.071-1.857 2.071H7.213l-4.382 3.875zm3.862-4.75a.5.5 0 01.33-.125h12.12c.403 0 .857-.562.857-1.071V3.786c0-.428-.378-.786-.857-.786H3.857C3.377 3 3 3.358 3 3.786V19.39l3.693-3.265zM12.5 10a1 1 0 11-2 0 1 1 0 012 0zm-5 0a1 1 0 11-2 0 1 1 0 012 0zm10 0a1 1 0 11-2 0 1 1 0 012 0z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.143 22H3.857A1.857 1.857 0 012 20.143V3.857C2 2.831 2.832 2 3.857 2h16.286C21.168 2 22 2.831 22 3.857v16.286A1.857 1.857 0 0120.143 22zm0-1a.857.857 0 00.857-.857V3.857A.857.857 0 0020.143 3H3.857A.857.857 0 003 3.857v16.286c0 .473.384.857.857.857h16.286zM5.872 11.476l4.137 4.596 8.127-8.605a.5.5 0 01.728.686l-8.5 9a.5.5 0 01-.736-.009l-4.5-5a.5.5 0 01.744-.668z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1.667 7.52A.938.938 0 013 7.52l2.051 2.07a1 1 0 001.421 0l5.861-5.917a.938.938 0 011.334 0 .957.957 0 010 1.346l-7.195 7.264a1 1 0 01-1.42 0L1.666 8.865a.956.956 0 010-1.346z" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 12a8 8 0 11-16 0 8 8 0 0116 0zm-8 .685V7.6a.4.4 0 10-.8 0v5.2a.4.4 0 00.06.212l2 3.2a.4.4 0 10.68-.424l-1-1.6-.958-1.531.018.028z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 11.603l4.146-4.147a.5.5 0 01.708.708l-4.147 4.146 4.147 4.146a.5.5 0 01-.708.708L12 13.017l-4.146 4.147a.5.5 0 01-.708-.708l4.147-4.146-4.147-4.146a.5.5 0 11.708-.708L12 11.603zM20.143 22H3.857A1.857 1.857 0 012 20.143V3.857C2 2.831 2.832 2 3.857 2h16.286C21.168 2 22 2.831 22 3.857v16.286A1.857 1.857 0 0120.143 22zm0-1a.857.857 0 00.857-.857V3.857A.857.857 0 0020.143 3H3.857A.857.857 0 003 3.857v16.286c0 .473.384.857.857.857h16.286z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 7v-.224l-4-3.47V6a1 1 0 001 1h3zm0 1h-3a2 2 0 01-2-2V3H7.9c-.512 0-.9.336-.9.714v14.572c0 .378.388.714.9.714h11.2c.512 0 .9-.336.9-.714V8zm1-1.452v11.738C21 19.25 20.135 20 19.1 20H7.9C6.865 20 6 19.25 6 18.286V3.714C6 2.75 6.865 2 7.9 2h7.933a.5.5 0 01.328.122l4.667 4.048a.5.5 0 01.172.378zM18.5 20.98a.5.5 0 010 1H6c-1.094 0-2-.815-2-1.85L4.016 3.5a.5.5 0 011 0L5 20.13c0 .458.436.85 1 .85h12.5z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18.522 10.03c0-.96.778-1.736 1.739-1.736.96 0 1.739.777 1.739 1.735 0 .943-.753 1.71-1.691 1.735l-1.624 7.837a.5.5 0 01-.49.399H5.806a.5.5 0 01-.49-.399L3.69 11.764A1.737 1.737 0 012 10.03c0-.958.779-1.735 1.74-1.735a1.737 1.737 0 011.692 2.124l1.535.875a2.251 2.251 0 003.22-1.158l.76-2.022a1.726 1.726 0 01-.686-1.378A1.737 1.737 0 0112 5c.96 0 1.74.777 1.74 1.735 0 .555-.265 1.058-.688 1.378l.76 2.022a2.251 2.251 0 003.22 1.158l1.536-.875a1.664 1.664 0 01-.046-.389zm-14.146.362a.727.727 0 00.102-.363.737.737 0 00-.739-.735.737.737 0 00-.739.735c0 .406.33.736.74.736a.72.72 0 00.204-.035.498.498 0 01.384.042.498.498 0 01.048-.38zM12.26 7.42A.732.732 0 0012 6c-.409 0-.74.33-.74.735 0 .307.194.577.481.685a.498.498 0 01.259.22.498.498 0 01.259-.22zm7.797 3.31a.72.72 0 00.205.035c.409 0 .739-.33.739-.736a.737.737 0 00-.74-.735.737.737 0 00-.738.735c0 .123.034.245.102.363.068.12.081.256.048.38a.498.498 0 01.384-.042zm-2.528 1.432a3.251 3.251 0 01-4.651-1.675L12 8.155l-.877 2.332a3.251 3.251 0 01-4.65 1.675l-1.904-1.084L6.211 19H17.79l1.634-7.892c.003-.01-1.895 1.054-1.895 1.054z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><path d="M14 12.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm7 0a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm-14 0a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" fill="#303B42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><path d="M12.5 14a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm0 7a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm0-14a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill="#303B42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><path d="M11.38 15.861c.31.315.734.472 1.12.472a1.6 1.6 0 001.121-.472l2.706-2.752a.577.577 0 000-.825.554.554 0 00-.812 0L13.08 14.76V5.09a.6.6 0 00-.58-.59.6.6 0 00-.58.59v9.631l-2.434-2.476a.554.554 0 00-.811 0 .576.576 0 000 .825l2.705 2.791zM21.5 14.09v4.324c0 1.18-.922 2.162-2.028 2.162H5.529c-1.106 0-2.029-.983-2.029-2.162V14.09c0-.315.258-.59.554-.59.295 0 .553.275.553.59v4.324c0 .55.406.983.922.983h13.943c.516 0 .922-.433.922-.983V14.09c0-.315.258-.59.553-.59.295 0 .553.236.553.59z" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6.29 19.754l1.783-.509.736-.73-3.825-3.824-.729.736-.474 1.66c.026.017.05.037.073.06l2.29 2.29a.498.498 0 01.146.317zm-.967.276L3.47 18.177l-.742 2.595 2.595-.742zm4.196-2.218l8.33-8.256-3.905-3.905-8.256 8.33 3.83 3.83zm9.04-8.96l1.69-1.674a.856.856 0 000-1.213l-2.713-2.714a.856.856 0 00-1.212-.002l-1.676 1.692 3.911 3.911zM8.685 20.046a.5.5 0 01-.214.125l-6.334 1.81a.5.5 0 01-.618-.618l1.81-6.334a.5.5 0 01.125-.214L15.616 2.543a1.856 1.856 0 012.626 0l2.715 2.716a1.856 1.856 0 01-.002 2.628L8.685 20.046z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11.315 2c6.437 0 9.944 2.213 10.553 8.055.757 7.27-1.734 10.94-7.46 11.745-.95.134-1.85.2-2.694.2-5.843 0-9.11-3.18-9.62-8.192C1.4 6.975 4.596 2.218 10.105 2.022A33.61 33.61 0 0111.315 2zm0 1c-.38 0-.771.008-1.174.022-4.867.172-7.693 4.378-7.052 10.685C3.549 18.223 6.4 21 11.714 21c.797 0 1.65-.063 2.555-.19 5.161-.726 7.308-3.89 6.604-10.652C20.327 4.913 17.296 3 11.315 3zm0 0a.5.5 0 110-1 .5.5 0 010 1zm4.771 5.005a1 1 0 11-.172 1.993 1 1 0 01.172-1.993zm-8 0a1 1 0 11-.173 1.993 1 1 0 01.173-1.993zm8.212 6.022a.5.5 0 11.689.725 9.755 9.755 0 01-.538.476c-2.582 2.117-5.358 2.16-7.922.965-.619-.288-1.075-.578-1.334-.78a.5.5 0 01.614-.79c.046.036.144.106.29.198.248.158.533.317.852.465 2.246 1.046 4.62 1.01 6.866-.831.162-.133.323-.276.483-.428z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.062 1.582l.548 1.365c.74 1.85 2.976 2.734 4.887 1.92l1.399-.596a.5.5 0 01.649.671l-.624 1.335c-.842 1.799.072 3.905 2.016 4.615l1.43.523a.5.5 0 010 .94l-1.43.521c-1.944.71-2.858 2.817-2.016 4.615l.624 1.335a.5.5 0 01-.65.671l-1.398-.596c-1.911-.814-4.146.07-4.887 1.92l-.548 1.365a.5.5 0 01-.928 0l-.548-1.365c-.742-1.85-2.976-2.734-4.888-1.92l-1.397.596a.5.5 0 01-.65-.671l.624-1.335c.842-1.798-.072-3.905-2.016-4.615l-1.43-.522a.5.5 0 010-.94l1.43-.522c1.944-.71 2.858-2.816 2.016-4.615l-.624-1.335a.5.5 0 01.65-.671l1.397.596c1.912.814 4.146-.069 4.888-1.92l.548-1.365a.5.5 0 01.928 0zm-.548 1.737c-.953 2.379-3.787 3.5-6.208 2.468l-.195-.083.07.15c1.094 2.337-.092 5.069-2.579 5.977l-.144.053.144.053c2.487.908 3.673 3.64 2.58 5.977l-.07.15.194-.083c2.421-1.031 5.255.09 6.208 2.468l.084.208.084-.208c.952-2.378 3.787-3.5 6.207-2.468l.196.084-.07-.15c-1.094-2.338.092-5.07 2.579-5.978l.144-.053-.144-.053c-2.487-.908-3.673-3.64-2.58-5.977l.071-.15-.196.083c-2.42 1.031-5.255-.09-6.207-2.468l-.084-.208-.084.208zM11.5 14.5a1 1 0 100 2 1 1 0 000-2m0-8c-.552 0-1 .497-1 1.11 0 .536 1 5.89 1 5.89s1-5.354 1-5.89c0-.613-.448-1.11-1-1.11" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 4.707V12.5a.5.5 0 101 0v-9a.5.5 0 00-.5-.5h-9a.5.5 0 000 1h7.793L2.646 20.646a.5.5 0 00.708.708L20 4.707z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.7 21a.488.488 0 10.016-.974h-5.12l1.647-1.773a.487.487 0 00-.005-.67A7.985 7.985 0 013.974 12c0-4.425 3.6-8.025 8.026-8.025 4.425 0 8.026 3.6 8.026 8.025 0 4.425-3.6 8.026-8.026 8.026a.485.485 0 00-.359.827.49.49 0 00.342.147C16.963 21 21 16.962 21 12c0-4.963-4.037-9-9-9s-9 4.037-9 9c0 2.108.74 4.102 2.138 5.765l.115.137-2.12 2.281a.484.484 0 00.029.688c.09.082.206.128.327.129h6.21zm2.3-5.621a.92.92 0 100 1.84.92.92 0 000-1.84m0-8.324a1.14 1.14 0 00-1.15 1.129c0 .545 1.15 5.99 1.15 5.99s1.15-5.445 1.15-5.99A1.14 1.14 0 0012 7.054" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.35 14l-5.715 5.715a.46.46 0 00.65.65L10 14.65v3.85a.5.5 0 001 0v-5a.5.5 0 00-.5-.5h-5a.5.5 0 000 1h3.85zm5.3-4l5.715-5.715a.46.46 0 00-.65-.65L14 9.35V5.5a.5.5 0 00-1 0v5a.5.5 0 00.5.5h5a.5.5 0 000-1h-3.85z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M5.65 19l5.715-5.715a.46.46 0 00-.65-.65L5 18.35V14.5a.5.5 0 00-1 0v5a.5.5 0 00.5.5h5a.5.5 0 000-1H5.65zm12.7-14l-5.715 5.715a.46.46 0 00.65.65L19 5.65V9.5a.5.5 0 001 0v-5a.5.5 0 00-.5-.5h-5a.5.5 0 000 1h3.85z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.039 2.01c1.734.197 2.793 1.584 2.25 2.997C17.72 6.481 15.661 7.4 12.5 7.4a.5.5 0 01-.492-.59 9.1 9.1 0 01.175-.731c.15-.541.342-1.082.58-1.591.76-1.622 1.83-2.598 3.276-2.479zm-2.37 2.902a9.26 9.26 0 00-.533 1.474c2.412-.105 3.862-.812 4.219-1.738.287-.747-.296-1.513-1.406-1.643-.918-.072-1.68.624-2.28 1.907zm-1.13 2.49a.5.5 0 01-.49.598c-3.157 0-5.208-.832-5.783-2.19-.566-1.335.515-2.623 2.247-2.802 1.428-.107 2.5.782 3.263 2.263.24.466.434.962.586 1.458.091.298.149.532.177.672zm-1.651-1.673c-.6-1.163-1.36-1.794-2.286-1.725-1.118.116-1.682.788-1.415 1.417.349.824 1.8 1.468 4.208 1.566a7.84 7.84 0 00-.507-1.258zM10 7a.5.5 0 01.5-.5h4a.5.5 0 01.5.5v13.5a.5.5 0 01-.5.5h-4a.5.5 0 01-.5-.5V7zm1 .5V20h3V7.5h-3zM4.135 12C3.52 12 3 11.49 3 10.833V8.167C3 7.51 3.52 7 4.135 7h16.73C21.479 7 22 7.51 22 8.167v2.666C22 11.49 21.479 12 20.865 12H4.135zm16.73-1c.066 0 .135-.067.135-.167V8.167c0-.1-.069-.167-.135-.167H4.135C4.068 8 4 8.067 4 8.167v2.666c0 .1.068.167.135.167h16.73zM5 12v7.6c0 .258.128.4.352.4h14.295c.164 0 .353-.192.353-.4V12H5zm16-.5v8.1c0 .757-.633 1.4-1.353 1.4H5.352C4.552 21 4 20.388 4 19.6v-8.1a.5.5 0 01.5-.5h16a.5.5 0 01.5.5z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14 8.856c0-1.147-.899-2.072-2-2.072s-2 .925-2 2.072.899 2.071 2 2.071 2-.924 2-2.071zm-7.917 7.643h-4.19c-.56 0-.976-.493-.976-1.063v-.274c0-.734.354-1.413.936-1.766.904-.549 1.888-.897 2.897-.897 1.01 0 1.992.348 2.898.897.112.068.216.149.31.24 1.287-.616 2.655-.994 4.042-.994s2.755.377 4.041.993c.095-.09.199-.17.311-.239.906-.549 1.889-.897 2.898-.897 1.01 0 1.993.348 2.897.897.582.353.936 1.032.936 1.766v.274c0 .57-.416 1.063-.976 1.063h-4.19v.124c0 .716-.567 1.304-1.275 1.304H7.358c-.708 0-1.275-.588-1.275-1.304V16.5zm.1-1c.144-.512.436-.97.84-1.311-.733-.426-1.512-.689-2.273-.689-.798 0-1.617.29-2.379.752-.272.165-.454.515-.454.91v.275c0 .052.01.063-.024.063h4.29zm10.794-1.311c.404.341.696.799.84 1.311h4.29c-.033 0-.024-.011-.024-.063v-.274c0-.396-.182-.746-.454-.91-.762-.463-1.58-.753-2.38-.753-.76 0-1.54.263-2.272.689zM15 8.856c0 1.693-1.34 3.071-3 3.071S9 10.55 9 8.856c0-1.693 1.34-3.072 3-3.072s3 1.379 3 3.072zM6.917 9.999c0 1.219-.968 2.214-2.167 2.214-1.2 0-2.167-.995-2.167-2.214 0-1.22.968-2.215 2.167-2.215 1.2 0 2.167.995 2.167 2.215zm-1 0c0-.674-.526-1.215-1.167-1.215-.64 0-1.167.541-1.167 1.215 0 .673.526 1.214 1.167 1.214.64 0 1.167-.541 1.167-1.214zm11.166 0c0-1.22.968-2.215 2.167-2.215 1.2 0 2.167.995 2.167 2.215 0 1.219-.968 2.214-2.167 2.214-1.2 0-2.167-.995-2.167-2.214zm1 0c0 .673.526 1.214 1.167 1.214.64 0 1.167-.541 1.167-1.214 0-.674-.526-1.215-1.167-1.215-.64 0-1.167.541-1.167 1.215zM12 13.642c-1.374 0-2.762.432-4.052 1.12-.53.282-.865.847-.865 1.47v.391c0 .172.127.304.274.304h9.285c.148 0 .275-.132.275-.304v-.391a1.66 1.66 0 00-.865-1.47c-1.29-.688-2.678-1.12-4.052-1.12z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 15 11" xmlns="http://www.w3.org/2000/svg"><path d="M8.688 7.964A.499.499 0 018 7.5v-4a.5.5 0 01.75-.433A.498.498 0 019 3h1.498A1.5 1.5 0 0112 4.51v1.98C12 7.325 11.33 8 10.498 8H8.875a.499.499 0 01-.187-.036zM9 4v3h1.498A.505.505 0 0011 6.49V4.51a.5.5 0 00-.502-.51H9zM6 6H4.5a.5.5 0 010-1H6V3.5a.5.5 0 011 0v4a.5.5 0 01-1 0V6zM4 7.5a.5.5 0 01-1 0v-4a.5.5 0 011 0v4z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.71 4.073c1.647 0 3.175.773 4.186 2.11 1.12 1.48 1.41 3.364.77 5.043-.731 1.866-2.46 3.93-4.876 6.089a47.075 47.075 0 01-4.576 3.595.52.52 0 01-.571.008 39.154 39.154 0 01-4.566-3.46c-2.4-2.12-4.106-4.224-4.804-6.237-.575-1.719-.231-3.56.94-5.044C4.282 4.817 5.898 4 7.542 4c1.647 0 3.17.776 4.397 2.219 1.526-1.396 3.172-2.146 4.77-2.146z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.71 4.073c1.647 0 3.175.773 4.186 2.11 1.12 1.48 1.41 3.364.77 5.043-.731 1.866-2.46 3.93-4.876 6.089a47.075 47.075 0 01-4.576 3.595.52.52 0 01-.571.008 39.154 39.154 0 01-4.566-3.46c-2.4-2.12-4.106-4.224-4.804-6.237-.575-1.719-.231-3.56.94-5.044C4.282 4.817 5.898 4 7.542 4c1.647 0 3.17.776 4.397 2.219 1.526-1.396 3.172-2.146 4.77-2.146zm-.6 12.565c2.314-2.069 3.962-4.036 4.625-5.732.528-1.385.288-2.949-.645-4.182-.829-1.095-2.06-1.718-3.38-1.718-1.339 0-2.778.667-4.155 1.951l-.315.293a.515.515 0 01-.737-.045l-.272-.328c-1.062-1.282-2.334-1.944-3.689-1.944-1.32 0-2.645.67-3.535 1.8-.983 1.246-1.269 2.777-.792 4.202.634 1.827 2.25 3.82 4.539 5.842a38.288 38.288 0 004.16 3.183 46.207 46.207 0 004.195-3.322z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18.158 18.774a.435.435 0 01-.616 0l-2.771-2.771a.435.435 0 010-.616l.616-.615c.17-.17.446-.17.616 0l2.77 2.771a.434.434 0 010 .616l-.615.615zm-10.55.082l2.147-2.148a5.248 5.248 0 004.49 0l2.147 2.148a8.181 8.181 0 01-8.784 0zm2.591-2.9a1.305 1.305 0 00-.355-1.184l-.616-.616a1.304 1.304 0 00-1.185-.355 4.375 4.375 0 010-3.6 1.31 1.31 0 001.185-.356l.616-.616c.322-.321.44-.77.355-1.185a4.376 4.376 0 013.6 0 1.31 1.31 0 00.356 1.185l.616.616a1.3 1.3 0 001.185.354 4.373 4.373 0 010 3.602 1.307 1.307 0 00-1.185.355l-.616.616a1.3 1.3 0 00-.354 1.185 4.375 4.375 0 01-3.602 0zm-3.742 2.818a.435.435 0 01-.615 0l-.616-.615a.435.435 0 010-.616l2.771-2.771c.17-.17.446-.17.616 0l.615.615c.17.17.17.446 0 .616l-2.77 2.771zm-1.313-2.382a8.181 8.181 0 010-8.784l2.148 2.148a5.247 5.247 0 000 4.489l-2.148 2.147zm.082-10.55l.616-.616c.17-.17.445-.17.615 0l2.771 2.772c.17.17.17.445 0 .615l-.615.616a.435.435 0 01-.616 0L5.226 6.46a.436.436 0 010-.617zm11.166-.697l-2.147 2.147a5.248 5.248 0 00-4.49 0L7.608 5.145a8.183 8.183 0 018.784 0zm1.15.081c.17-.17.446-.17.616 0l.616.616c.17.17.17.446 0 .616L16.003 9.23a.436.436 0 01-.616 0l-.616-.616a.435.435 0 010-.615l2.771-2.772zm1.313 2.382a8.181 8.181 0 010 8.784l-2.147-2.147a5.247 5.247 0 000-4.49l2.147-2.147zm.618 9.421a9.046 9.046 0 000-10.058 1.303 1.303 0 00-.083-1.745l-.616-.616a1.303 1.303 0 00-1.745-.083 9.046 9.046 0 00-10.058 0 1.304 1.304 0 00-1.745.083l-.616.616a1.303 1.303 0 00-.084 1.745 9.047 9.047 0 000 10.058 1.303 1.303 0 00.084 1.745l.616.616a1.304 1.304 0 001.745.084 9.046 9.046 0 0010.058 0 1.302 1.302 0 001.745-.084l.616-.616a1.304 1.304 0 00.083-1.745z" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.853 5.314L1.715 13.951a.5.5 0 01-.43-.902l1.95-.93a.499.499 0 01-.174-.379V4.51c0-.856.78-1.51 1.705-1.51h14.459c.655 0 1.267.331 1.513.785l1.547-.736a.5.5 0 01.43.902l-1.864.888v.427a.5.5 0 01-.998.048zm-.005-1.105c-.033-.04-.292-.209-.623-.209H4.766c-.407 0-.705.25-.705.51v7.217l15.787-7.518zM4.06 15.47v3.308l2.75-3.61a.5.5 0 01.399-.197h12.502c.112 0 .147-.027.184-.11a.567.567 0 00.045-.205v-6.96a.5.5 0 111 0v6.956c.001.17-.03.386-.13.612-.189.426-.565.706-1.1.706H7.458L3.96 20.56a.5.5 0 01-.898-.303V15.47a.5.5 0 111 0z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 18.942l5.141-4.606 6.631 6.63H4.415c-.761 0-1.38-.619-1.38-1.38v-.644zm5.168-6.15l-5.168 4.74V4.415c0-.761.619-1.38 1.38-1.38h15.171c.761 0 1.38.619 1.38 1.38v8.58L17.14 9.087l-.082-.084-6.284 6.392-2.571-2.603zm12.763 1.689v5.105c0 .761-.619 1.38-1.38 1.38h-3.314L11.5 16.131l5.558-5.558 3.908 3.908zM19.586 2H4.415A2.418 2.418 0 002 4.415v15.171A2.417 2.417 0 004.415 22h15.171A2.416 2.416 0 0022 19.586V4.415A2.417 2.417 0 0019.586 2zM7.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill="#252729" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.5 11.5a9 9 0 11-18 0 9 9 0 0118 0zm-1 0a8 8 0 10-16 0 8 8 0 0016 0zm-8 3a1 1 0 100 2 1 1 0 000-2m0-8c-.552 0-1 .497-1 1.11 0 .536 1 5.89 1 5.89s1-5.354 1-5.89c0-.613-.448-1.11-1-1.11" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.404 8.951a1.064 1.064 0 010-2.125 1.063 1.063 0 010 2.125M12 16.034A4.039 4.039 0 017.966 12 4.039 4.039 0 0112 7.966 4.039 4.039 0 0116.034 12 4.039 4.039 0 0112 16.034M15.955 4A4.05 4.05 0 0120 8.045v7.91A4.05 4.05 0 0115.955 20h-7.91A4.05 4.05 0 014 15.955v-7.91A4.05 4.05 0 018.045 4h7.91zM12 9.224A2.779 2.779 0 009.224 12 2.779 2.779 0 0012 14.776 2.779 2.779 0 0014.776 12 2.779 2.779 0 0012 9.224z" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M5.76 19.154a.5.5 0 01-.72.692C3.095 17.822 2 15.048 2 12c0-3.086 1.121-5.855 3.149-7.856a.5.5 0 01.702.712C4.017 6.666 3 9.178 3 12c0 2.792.997 5.317 2.76 7.154zM7.786 7.18a.5.5 0 01.77.638C7.602 8.97 7 10.68 7 12.335c0 1.672.53 3.266 1.486 4.534a.5.5 0 11-.799.602C6.6 16.029 6 14.224 6 12.335c0-1.885.681-3.823 1.785-5.154zM18.15 4.856a.5.5 0 01.702-.712C20.848 6.115 22 8.994 22 12c0 2.92-1.09 5.682-3.028 7.834a.5.5 0 01-.744-.668C20.003 17.194 21 14.67 21 12c0-2.744-1.048-5.365-2.851-7.144zm-2.18 12.633a.5.5 0 01-.77-.638c.942-1.137 1.471-2.727 1.471-4.516 0-1.732-.573-3.332-1.555-4.516a.5.5 0 01.77-.638c1.131 1.363 1.785 3.19 1.785 5.154 0 2.014-.604 3.83-1.702 5.154zM12 10a2 2 0 11-.001 4.001A2 2 0 0112 10zm0 1a1 1 0 10.001 2.001A1 1 0 0012 11z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.941 20.235H7.06A1.059 1.059 0 016 19.176v-8.823h12v8.823a1.06 1.06 0 01-1.059 1.06zm-.353-9.882H7.412V8.588a4.588 4.588 0 119.176 0v1.765z" stroke="#303C42" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><path d="M18.5 11.793l-2.646-2.647a.5.5 0 00-.708.708l2.647 2.646-2.647 2.646a.5.5 0 00.708.708l2.646-2.647 2.646 2.647a.5.5 0 00.708-.708L19.207 12.5l2.647-2.646a.5.5 0 00-.708-.708L18.5 11.793zM6.514 8.765l5.152-4.637a.5.5 0 01.834.372v16.2a.5.5 0 01-.834.372l-5.152-4.637H3a.5.5 0 01-.5-.5v-6.67a.5.5 0 01.5-.5h3.514z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6.62 7.213h15a.5.5 0 000-1h-15a.5.5 0 000 1m15 4.795h-15a.5.5 0 000 1h15a.5.5 0 000-1m0 5.796h-15a.5.5 0 000 1h15a.5.5 0 000-1M2.77 12.159v-1.005h.56c.298 0 .56.25.565.478-.044.256-.334.527-.565.527h-.56zm.49 1.772h-.49v-1.073h.56c.22 0 .49.248.49.537 0 .285-.262.536-.56.536zm.07-3.476h-.91a.35.35 0 00-.35.35v3.476c0 .193.157.35.35.35h.84c.683 0 1.26-.566 1.26-1.236a1.25 1.25 0 00-.378-.88c.226-.21.395-.498.448-.825 0-.67-.577-1.235-1.26-1.235zm0-4.756c.221 0 .49.248.49.537v1.15H2.77v-1.15c0-.286.262-.537.56-.537m-.91 3.409a.35.35 0 00.35-.35v-.672h1.05v.74a.35.35 0 00.7 0v-2.59C4.52 5.576 3.964 5 3.33 5c-.683 0-1.26.566-1.26 1.236v2.523a.35.35 0 00.35.349m.84 7.5c.298 0 .56.251.56.537a.35.35 0 00.7 0c0-.67-.577-1.236-1.26-1.236S2 16.475 2 17.145v1.704c0 .67.577 1.237 1.26 1.237s1.26-.567 1.26-1.237a.35.35 0 10-.7 0c0 .286-.262.537-.56.537-.298 0-.56-.25-.56-.537v-1.704c0-.286.262-.537.56-.537" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 21a.5.5 0 01-.5-.5v-17a.5.5 0 01.5-.5h4a.5.5 0 01.5.5v17a.5.5 0 01-.5.5h-4zm-9 0a.5.5 0 01-.5-.5v-17a.5.5 0 01.5-.5h4a.5.5 0 01.5.5v17a.5.5 0 01-.5.5h-4z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><path d="M7.499 17.038a.498.498 0 01-.145.316l-4.5 4.5a.5.5 0 01-.708-.708l4.5-4.5a.498.498 0 01.316-.145l-3.816-3.816a.5.5 0 010-.707c1.248-1.248 3.142-1.606 5.032-1.045l4.869-4.87-.939-.938a.5.5 0 010-.708l2.271-2.27a.5.5 0 01.707 0l6.768 6.767a.5.5 0 010 .707l-2.272 2.27a.5.5 0 01-.706 0l-.939-.938-4.87 4.869c.561 1.89.202 3.783-1.046 5.032a.5.5 0 01-.707 0l-3.815-3.816zm4.141 2.728c.748-1.022.894-2.46.385-3.917a.5.5 0 01.119-.518l5.44-5.439a.5.5 0 01.706 0l.939.938 1.564-1.563-6.06-6.06-1.564 1.564.939.939a.5.5 0 010 .707l-5.439 5.44a.5.5 0 01-.518.118c-1.456-.508-2.895-.363-3.917.384l7.406 7.407z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7V6h8v1H7zm0 6v-1h15v1H7zm0 6v-1h10v1H7zM3.5 8a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm0 6a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm0 6a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill="#231F20"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="#303C42"><path d="M8.929 6a.5.5 0 010 1H3.57a.57.57 0 00-.57.571V20.43a.57.57 0 00.571.571H16.43a.57.57 0 00.571-.571v-5.36a.5.5 0 111 0v5.358A1.57 1.57 0 0116.429 22H3.57A1.57 1.57 0 012 20.429V7.57A1.57 1.57 0 013.571 6H8.93zM21 9.5V3h-6.5a.5.5 0 110-1h7a.5.5 0 01.5.5v7a.5.5 0 11-1 0z"></path><path d="M21.146 2.146L9.636 13.657a.5.5 0 10.707.707l11.51-11.51a.5.5 0 00-.707-.708z"></path></g></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2 7V6h20v1H2zm0 6v-1h20v1H2zm0 6v-1h10v1H2z" fill="#231F20"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-1 0a8 8 0 10-16 0 8 8 0 0016 0zm-9.02 4.108a.889.889 0 01.564-.827.954.954 0 01.368-.071.954.954 0 01.668.264.865.865 0 01.27.634.86.86 0 01-.27.635.917.917 0 01-.3.19.998.998 0 01-.368.067.998.998 0 01-.368-.068.875.875 0 01-.563-.824zM9.51 7.96c.155-.129.326-.251.514-.367a4.038 4.038 0 011.336-.517c.258-.05.537-.076.837-.076.395 0 .762.051 1.1.153.337.103.629.247.874.434.245.186.438.413.578.68.14.266.21.566.21.9 0 .337-.056.629-.169.873a2.406 2.406 0 01-.428.643 3.163 3.163 0 01-.566.48 67.72 67.72 0 00-.575.384c-.177.12-.33.24-.457.36a.67.67 0 00-.222.4l-.135 1.02h-.916l-.09-1.107v-.073c0-.187.056-.353.169-.497.114-.144.255-.28.428-.407.173-.126.358-.253.555-.38.198-.126.383-.266.556-.42.172-.153.315-.327.428-.523.112-.196.169-.427.169-.693 0-.191-.042-.365-.128-.52a1.228 1.228 0 00-.345-.397 1.592 1.592 0 00-.515-.25 2.25 2.25 0 00-.634-.087 2.7 2.7 0 00-.784.1 3.174 3.174 0 00-.916.44c-.092.067-.169.1-.229.1a.335.335 0 01-.293-.153l-.352-.5z" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6.2 7.561c-2.023 2.272-2.584 5.59-1.335 8.407.818 1.879 2.363 3.333 4.303 4.09 1.94.758 4.03.698 5.94-.15 3.909-1.758 5.696-6.364 3.939-10.274-.819-1.878-2.364-3.333-4.303-4.09a7.62 7.62 0 00-5.182-.152l1.419.544a.43.43 0 01.248.553l-.12.318a.43.43 0 01-.556.249l-3.476-1.33 1.331-3.45a.43.43 0 01.553-.248l.317.12a.428.428 0 01.249.556L8.895 4.33c2.03-.727 4.243-.727 6.273.061a8.909 8.909 0 015 4.727c2.03 4.546-.03 9.88-4.545 11.88a9.018 9.018 0 01-6.88.18 8.972 8.972 0 01-3.12-2.03 8.892 8.892 0 01-1.849-2.696c-1.452-3.252-.817-7.088 1.53-9.696a.435.435 0 01.633-.02l.238.237a.43.43 0 01.024.587" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.007 15.085a3.106 3.106 0 01-3.096-3.098 3.106 3.106 0 013.096-3.098 3.105 3.105 0 013.095 3.098 3.106 3.106 0 01-3.095 3.098m7.842-.8l-2.425-1.808c.026-.31.026-.645 0-.955l2.348-1.73a.53.53 0 00.18-.645l-.335-.826a.398.398 0 00-.413-.232l-2.992.439a4.284 4.284 0 00-.697-.672l.439-2.891a.571.571 0 00-.336-.594l-.825-.336a.37.37 0 00-.465.13L12.523 6.59a5.903 5.903 0 00-.955 0l-1.78-2.349a.528.528 0 00-.645-.18l-.825.335a.398.398 0 00-.232.413l.438 2.995a4.267 4.267 0 00-.67.697l-2.89-.439a.571.571 0 00-.593.336l-.335.826a.37.37 0 00.129.464l2.425 1.808c-.026.31-.026.645 0 .955l-2.322 1.755a.529.529 0 00-.18.646l.335.826c.077.155.232.258.412.232l2.993-.439c.206.258.438.465.696.671l-.438 2.892a.572.572 0 00.335.594l.826.335a.37.37 0 00.464-.129l1.805-2.426c.31.025.645.025.955 0l1.729 2.349a.528.528 0 00.645.18l.825-.335a.398.398 0 00.232-.413l-.438-2.995a4.28 4.28 0 00.67-.697l2.89.44a.57.57 0 00.593-.337l.335-.826a.382.382 0 00-.103-.49" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.24 13.882a.5.5 0 01.5.5v3.294c0 .179.145.324.325.324.078 0 .152-.03.215-.088l.697-.643.818-.755c.674-.623 1.27-1.176 1.837-1.704l.158-.148a142.498 142.498 0 003.19-3.044c.006-.007.02-.048.02-.118 0-.07-.014-.11-.019-.116a142.423 142.423 0 00-3.19-3.046l-.159-.148a538.75 538.75 0 00-2.655-2.459l-.698-.643A.313.313 0 0014.065 5a.325.325 0 00-.326.324v3.294a.5.5 0 01-.5.5c-4.839 0-8.877 3.064-9.956 7.18 1.882-1.476 5.64-2.416 9.956-2.416zM3 18.5c0 .667-1 .667-1 0C2 12.907 6.767 8.369 12.74 8.128V5.324c0-.732.593-1.324 1.325-1.324.336 0 .65.129.893.353a3655.684 3655.684 0 001.516 1.399 539.72 539.72 0 011.999 1.855c1.404 1.31 2.49 2.346 3.217 3.072.212.215.31.508.31.821 0 .313-.098.606-.312.823-.725.724-1.811 1.76-3.215 3.07l-.159.148a539.716 539.716 0 01-2.66 2.463l-.696.643a1.311 1.311 0 01-.893.353 1.325 1.325 0 01-1.326-1.324v-2.79C7.295 14.987 3 16.687 3 18.5z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.093 14.278a.48.48 0 01.169-.467l4.61-3.77-6.145-.377a.5.5 0 01-.43-.295L12 4.106 9.702 9.369a.5.5 0 01-.429.295l-6.146.377 4.61 3.77a.48.48 0 01.17.467l-1.153 5.659 4.982-3.01a.512.512 0 01.528 0l4.982 3.01-1.153-5.659zm2.172 5.657a.88.88 0 01-.37.902.927.927 0 01-1.006.03l-4.89-2.954-4.886 2.952a.923.923 0 01-1.005-.026.882.882 0 01-.373-.905l1.133-5.563-4.542-3.714a.881.881 0 01-.281-.962.912.912 0 01.811-.612l6.046-.371 2.258-5.17A.914.914 0 0112 3c.366 0 .696.213.84.542l2.258 5.17 6.046.37a.909.909 0 01.81.614.879.879 0 01-.281.962l-4.541 3.713 1.133 5.564z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.828 13.743h16.935c.294 0 .532-.448.532-1s-.238-1-.532-1H3.828c-.294 0-.533.448-.533 1s.239 1 .533 1z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.333 18.533H8.848v-5.767h4.485c1.42 0 2.576 1.294 2.576 2.884 0 1.59-1.156 2.883-2.576 2.883m1.728-9.65c0 .768-.281 1.517-.771 2.056-.485.533-1.126.827-1.806.827H8.848V6h3.636c1.421 0 2.577 1.293 2.577 2.883m-.487 3.138c.159-.125.316-.256.455-.409a4.037 4.037 0 001.032-2.729C16.061 6.742 14.456 5 12.484 5H7.5a.499.499 0 100 1h.348v12.533H7.5a.5.5 0 100 1h5.833c1.972 0 3.576-1.742 3.576-3.883 0-1.666-.976-3.078-2.335-3.629" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M7.227 18.323h2m7.728-13.097h-2m.909 0L8.136 18.323" stroke="#303C42" stroke-linecap="round" stroke-linejoin="round"></path><path d="M17.228 5h-2a.5.5 0 000 1h.034L8.124 18.097H7.5a.5.5 0 100 1h2a.5.5 0 100-1h-.215L16.423 6h.805a.5.5 0 000-1" fill="#303C42"></path></g></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.091 10.262a.458.458 0 00-.63.146l-1.695 2.713a.458.458 0 00.775.485l1.696-2.713a.458.458 0 00-.146-.63zm3.899-5.385l-.775-.484a1.828 1.828 0 00-2.52.581l-2.422 3.877a1.82 1.82 0 00-.06 1.82l3.257-5.213a.915.915 0 011.26-.29l.775.484a.914.914 0 01.291 1.26l-3.257 5.212a1.82 1.82 0 001.61-.851l2.423-3.877a1.828 1.828 0 00-.582-2.52zM9.53 18.54a.914.914 0 01-1.26.29l-.775-.483a.915.915 0 01-.291-1.26l3.257-5.212a1.822 1.822 0 00-1.61.85l-2.423 3.878a1.827 1.827 0 00.582 2.519l.775.484a1.828 1.828 0 002.52-.581l2.422-3.877a1.82 1.82 0 00.06-1.82L9.529 18.54z" fill="#2F3C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 20a.5.5 0 01-.5-.5v-15a.5.5 0 01.5-.5h7a.5.5 0 01.5.5v15a.5.5 0 01-.5.5h-7zm10 0a.5.5 0 01-.5-.5v-15a.5.5 0 01.5-.5h3a.5.5 0 01.5.5v15a.5.5 0 01-.5.5h-3zm.5-1h2V5h-2v14zM2.5 20a.5.5 0 01-.5-.5v-15a.5.5 0 01.5-.5h3a.5.5 0 01.5.5v15a.5.5 0 01-.5.5h-3zm.5-1h2V5H3v14z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 20a.5.5 0 01-.5-.5v-15a.5.5 0 01.5-.5h13a.5.5 0 01.5.5v15a.5.5 0 01-.5.5h-13zm16 0a.5.5 0 01-.5-.5v-15a.5.5 0 01.5-.5h3a.5.5 0 01.5.5v15a.5.5 0 01-.5.5h-3zm.5-1h2V5h-2v14z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M5 10l5-10H0z" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18.031 5.781c0-.513-.346-.906-.74-.906H5.71c-.395 0-.741.393-.741.906v.907H18.03V5.78zm-2.75-1.906h2.01c.976 0 1.74.866 1.74 1.906v1.407a.5.5 0 01-.5.5h-.437v11.466c0 .922-.775 1.659-1.719 1.659h-9.75c-.944 0-1.719-.737-1.719-1.659V7.688H4.47a.5.5 0 01-.5-.5V5.78c0-1.04.764-1.906 1.74-1.906h2.01v-.438C7.719 2.591 8.605 2 9.625 2h3.75c1.02 0 1.906.59 1.906 1.438v.437zm-1 0v-.438c0-.188-.373-.437-.906-.437h-3.75c-.533 0-.906.249-.906.438v.437h5.562zm2.813 3.813H5.906v11.466c0 .358.317.659.719.659h9.75c.402 0 .719-.3.719-.659V7.688zM7.719 10a.5.5 0 011 0v7.5a.5.5 0 11-1 0V10zM11 10a.5.5 0 011 0v7.5a.5.5 0 11-1 0V10zm3.281 0a.5.5 0 111 0v7.5a.5.5 0 11-1 0V10z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 25" xmlns="http://www.w3.org/2000/svg"><path d="M16 21.31h.5a.5.5 0 110 1h-9a.5.5 0 110-1H8V20a2 2 0 012-2v-2.817A5.972 5.972 0 016.994 13a.498.498 0 01-.337-.136C4.67 10.989 3.533 9.762 2.847 8.63 2.295 7.718 2 6.625 2 5.5c0-1.084.741-2 1.714-2h2.519c.337-.598 1.006-1 1.767-1h8c.761 0 1.43.402 1.767 1h2.376c1.038 0 1.857.906 1.857 2a5.63 5.63 0 01-.952 3.151c-.449.664-1.115 1.355-2.538 2.711l-.102.098a91.758 91.758 0 00-1.084 1.04c-.699 1.244-1.887 2.21-3.324 2.683V18a2 2 0 012 2v1.31zm1.969-10.813c1.261-1.207 1.873-1.848 2.25-2.406A4.63 4.63 0 0021 5.5c0-.563-.395-1-.857-1H18v5.423c0 .194-.01.385-.031.574zm-11.871.437A5.235 5.235 0 016 9.924V4.5H3.714c-.368 0-.714.427-.714 1 0 .945.247 1.859.702 2.612.474.782 1.222 1.653 2.396 2.822zM13 15.423a6.487 6.487 0 01-2 0V18h2v-2.577zM15 20a1 1 0 00-1-1h-4a1 1 0 00-1 1v1.19h6V20zm-3-5.5c2.77 0 5-2.058 5-4.577V4.385c0-.48-.439-.885-1-.885H8c-.561 0-1 .405-1 .885v5.538c0 2.519 2.23 4.577 5 4.577z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.55 6.55h-15a.5.5 0 010-1h15a.5.5 0 010 1zm0 5.949h-15a.5.5 0 010-1h15a.5.5 0 010 1m0 5.951h-15a.5.5 0 010-1h15a.5.5 0 010 1M3.75 7.099h-1.4a.35.35 0 01-.35-.35V5.35A.35.35 0 012.35 5h1.4a.35.35 0 01.35.35v1.399a.35.35 0 01-.35.35zm0 5.95h-1.4a.35.35 0 01-.35-.35V11.3a.35.35 0 01.35-.35h1.4a.35.35 0 01.35.35v1.399a.35.35 0 01-.35.35zm0 5.95h-1.4a.35.35 0 01-.35-.35v-1.4a.35.35 0 01.35-.35h1.4a.35.35 0 01.35.35v1.4a.35.35 0 01-.35.35z" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10.88 3.472C11.19 3.157 11.614 3 12 3a1.6 1.6 0 011.121.472l2.706 2.752a.577.577 0 010 .825.554.554 0 01-.812 0L12.58 4.573v9.67a.6.6 0 01-.58.59.6.6 0 01-.58-.59V4.612L8.987 7.089a.554.554 0 01-.811 0 .576.576 0 010-.826l2.705-2.791zM21 12.59v4.324c0 1.18-.922 2.162-2.028 2.162H5.029C3.923 19.076 3 18.093 3 16.914V12.59c0-.315.258-.59.554-.59.295 0 .553.275.553.59v4.324c0 .55.406.983.922.983h13.943c.516 0 .922-.433.922-.983V12.59c0-.315.258-.59.553-.59.295 0 .553.236.553.59z" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.833 8.856c0-1.147-.898-2.072-2-2.072-1.101 0-2 .925-2 2.072s.899 2.071 2 2.071c1.102 0 2-.924 2-2.071zm3.882 8.071c.023-.097.035-.2.035-.304v-.391a2.68 2.68 0 00-.803-1.92c1.013-.423 2.06-.67 3.1-.67 1.374 0 2.762.432 4.051 1.12.53.282.865.847.865 1.47v.392c0 .171-.127.303-.274.303h-6.974a1.28 1.28 0 01-1.24 1H3.192c-.708 0-1.274-.588-1.274-1.304v-.391c0-.99.535-1.895 1.394-2.353 1.423-.758 2.96-1.237 4.522-1.237 1.412 0 2.804.39 4.11 1.026zm-2.048-2.28a.502.502 0 00.09.047l.129.067c.53.283.864.848.864 1.47v.392c0 .172-.127.304-.274.304H3.19c-.147 0-.274-.132-.274-.304v-.391c0-.623.334-1.188.864-1.47 1.29-.688 2.678-1.12 4.052-1.12 1.298 0 2.606.385 3.834 1.006zm-.834-5.791c0 1.693-1.34 3.071-3 3.071s-3-1.378-3-3.071c0-1.693 1.34-3.072 3-3.072s3 1.379 3 3.072zm8.213 0c0 1.693-1.34 3.071-3 3.071s-3-1.378-3-3.071c0-1.693 1.34-3.072 3-3.072s3 1.379 3 3.072zm-1 0c0-1.147-.898-2.072-2-2.072-1.101 0-2 .925-2 2.072s.899 2.071 2 2.071c1.102 0 2-.924 2-2.071z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><path d="M11.666 4.128a.5.5 0 01.834.372v16.2a.5.5 0 01-.834.372l-5.152-4.637H3a.5.5 0 01-.5-.5v-6.67a.5.5 0 01.5-.5h3.514l5.152-4.637zm7.169 17.243a.5.5 0 11-.67-.742c2.074-1.87 3.335-4.863 3.335-8.129 0-3.266-1.26-6.26-3.335-8.129a.5.5 0 11.67-.742C21.125 5.692 22.5 8.957 22.5 12.5s-1.375 6.808-3.665 8.871zm-2.54-3.468a.5.5 0 11-.59-.806C17.117 16.063 18 14.249 18 12.25c0-2-.883-3.813-2.295-4.847a.5.5 0 11.59-.806C17.97 7.822 19 9.937 19 12.25c0 2.312-1.03 4.428-2.705 5.653zm-2.065-3.967a.5.5 0 11-.488-.872c.487-.272.758-.664.758-1.064s-.271-.792-.758-1.064a.5.5 0 11.488-.872c.781.436 1.27 1.141 1.27 1.936 0 .795-.489 1.5-1.27 1.936z" fill="#303C42"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.79 19.242H4.32c-.191 0-.35-.093-.472-.275a.546.546 0 01-.005-.56l7.75-13.371a.543.543 0 01.95.004l7.721 13.362c.12.215.082.424.006.553l-.007.015c-.031.096-.212.272-.474.272M12.066 4c-.482 0-.897.24-1.139.658L3.181 18.025a1.287 1.287 0 000 1.316c.242.42.657.659 1.14.659h15.492a1.32 1.32 0 001.14-.659 1.287 1.287 0 00-.001-1.317L13.206 4.66a1.287 1.287 0 00-1.14-.66m0 11.772a.815.815 0 10.002 1.63.815.815 0 00-.001-1.63m0-7.372c-.562 0-1.017.448-1.017 1 0 .482 1.017 5.305 1.017 5.305s1.017-4.823 1.017-5.305c0-.552-.456-1-1.017-1" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(890));t.default={bindings:{icons:"<?"},templateUrl:a.default}},function(e,t,n){var a="/node_modules/smashcast-icons/lib/angular/icons.styleguide.component.tpl.html",i='<section class=styleguide> <h1 class=styleguide__title>Icons</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <div style=position:relative;width:100px;height:100px;background:#ccc> <smash-icon data-icon=emoticons></smash-icon> </div> <pre>\n            <code class=language-html>\n                &lt;smash-icon\n                    data-icon="emoticons"\n                &gt;&lt;/smash-icon&gt;\n            </code>\n        </pre> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Size</h2> <div style=position:relative;width:100px;height:100px;background:#ccc> <smash-icon data-size=32 data-icon=emoticons></smash-icon> </div> <pre>\n            <code class=language-html>\n                &lt;smash-icon\n                    data-size="32"\n                    data-icon="emoticons"\n                &gt;&lt;/smash-icon&gt;\n            </code>\n        </pre> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Centered</h2> <div style=position:relative;width:100px;height:100px;background:#ccc> <smash-icon data-size=32 data-icon=emoticons data-center=true></smash-icon> </div> <pre>\n            <code class=language-html>\n                &lt;div style="position: relative"&gt;\n                    &lt;smash-icon\n                        data-size="32"\n                        data-icon="emoticons"\n                        data-center="true"\n                    &gt;&lt;/smash-icon&gt;\n                &lt;/div&gt;\n            </code>\n        </pre> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Color</h2> <p> The icon will inherit the text color of its parent and use it as its color. </p> <div style=position:relative;width:100px;height:100px;background:#ccc;color:red> <smash-icon data-size=32 data-icon=emoticons></smash-icon> </div> <pre>\n            <code class=language-html>\n                &lt;div style="color: #f00"&gt;\n                    &lt;smash-icon\n                        data-size="32"\n                        data-icon="emoticons"\n                        data-center="true"\n                    &gt;&lt;/smash-icon&gt;\n                &lt;/div&gt;\n            </code>\n        </pre> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Transclude</h2> <div style=position:relative;width:100px;height:100px;background:#ccc;color:red> <smash-icon data-size=32> <img src='+n(891)+" alt=\"\"/> </smash-icon> </div> <pre>\n            <code class=language-html>\n                &lt;div style=\"color: #f00\"&gt;\n                    &lt;smash-icon\n                        data-size=\"32\"\n                    &gt;\n                         &lt;img src=\"emoticons.png\" alt=\"\" /&gt;\n                    &lt;/smash-icon&gt;\n                &lt;/div&gt;\n            </code>\n        </pre> </div> <h2 class=\"styleguide__title styleguide__title--weight-2\">Iconset</h2> <div ng-repeat=\"icon in $ctrl.icons\" class=styleguide__row> <h3 class=\"styleguide__title styleguide__title--weight-3\">{{::icon}}</h3> <table class=styleguide__table> <tr> <th ng-repeat=\"size in ['12', '16', '20', '24', '32']\"> size {{::size}} </th> <th>keep-colors</th> </tr> <tr> <td ng-repeat=\"size in ['12', '16', '20', '24', '32']\"> <smash-icon data-size={{::size}} data-icon={{::icon}}></smash-icon> </td> <td> <smash-icon data-size=32 data-icon={{::icon}} data-keep-colors=true></smash-icon> </td> </tr> </table> </div> </section> ";n(0).module("ng").run(["$templateCache",function(e){e.put(a,i)}]),e.exports=a},function(e,t,n){e.exports=n.p+"img/2b070b45053227c9e3c6c605b3d0950f.png"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=n(15),r=a(n(297)),s=a(n(619)),l=a(n(1660)),c=a(n(1663)),u=a(n(1667)),d=a(n(1671)),f=a(n(1673)),p=a(n(1677)),m=a(n(1681)),h=a(n(1684)),g=a(n(1685)),_=a(n(1686)),v=a(n(1687)),b=a(n(1688)),y=a(n(1689)),w=a(n(1690)),$=a(n(1691)),x=a(n(1692)),k=a(n(1693)),S=a(n(1694)),C=a(n(1695)),M=a(n(1696)),E=a(n(1697)),T=a(n(1698)),P=a(n(1699)),O=a(n(1700)),j=a(n(1701)),A=a(n(1702)),I=a(n(1703)),L=a(n(1704)),U=a(n(1705)),D=a(n(1706));n(1707),t.default=i.default.module("htbx.admin",[s.default,r.default]).directive("htbxBroadcastLogAdmin",l.default).component("htbxTranslationsAdmin",c.default).component("htbxSubscriptionAdmin",u.default).component("htbxViewportToggle",d.default).component("htbxGamesAdmin",f.default).component("adminUserSearch",p.default).component("banTable",m.default).controller("AdminAdcountCtrl",h.default).controller("AdminBackdropCtrl",g.default).controller("AdminCouponCtrl",_.default).controller("AdminEmotesCtrl",v.default).controller("AdminFeaturedCtrl",b.default).controller("AdminPartnershipCtrl",y.default).controller("AdminSubscriptionCtrl",w.default).controller("AdminSubscriptionListCtrl",$.default).factory("AdminBackdrop",x.default).factory("AdminUserSearch",k.default).factory("AdminTranslations",S.default).factory("TeamList",C.default).factory("AdminAdcount",M.default).factory("AdminBroadcastLog",E.default).factory("ChatIconsApprove",T.default).config(["$stateProvider",function(e){var t=o.ROUTING_CONFIG.accessLevels;e.state("admin",{url:"/admin",resolve:{superAdmin:["$state","loggedUser",function(e,t){return t.isSuperAdmin()?Promise.resolve():(e.go("home.root"),Promise.reject())}]},access:t.admin,section:"admin",tab:"admin",views:{viewMain:{templateUrl:P.default,controller:["$scope","$timeout",function(e,t){var n=this;this.showNav=!1,e.$on("$stateChangeSuccess",function(){return t(function(){n.showNav=!1},100)}),this.navigationLinks=[{label:"Sub Buttons",sref:"admin.subButtons"},{label:"CPM",sref:"admin.cpm"},{label:"Featured Channels",sref:"admin.featuredChannels"},{label:"Featured Channel BG",sref:"admin.featuredBgs"},{label:"Subscription List",sref:"admin.subscriptionList"},{label:"Game Database",sref:"admin.games"},{label:"Coupons",sref:"admin.coupons"},{label:"Emotes Validation",sref:"admin.emotes"},{label:"User Search",sref:"admin.userSearch"},{label:"Translations",sref:"admin.translations"},{label:"Broadcast Log",sref:"admin.broadcastLog"},{label:"Ads",sref:"admin.ads"}]}],controllerAs:"$ctrl"}},secure:!0}).state("admin.subButtons",{url:"/sub-buttons",access:t.admin,section:"admin",tab:"admin",template:"<htbx-subscription-admin></htbx-subscription-admin>",secure:!0}).state("admin.cpm",{url:"/cpm",access:t.admin,section:"admin",tab:"admin",templateUrl:O.default,secure:!0}).state("admin.featuredChannels",{url:"/featured-channels",access:t.admin,section:"admin",tab:"admin",templateUrl:j.default,secure:!0}).state("admin.featuredBgs",{url:"/featured-channel-backgrounds",access:t.admin,section:"admin",tab:"admin",templateUrl:A.default,secure:!0}).state("admin.subscriptionList",{url:"/subscription-list",access:t.admin,section:"admin",tab:"admin",templateUrl:I.default,secure:!0}).state("admin.games",{url:"/games",access:t.admin,section:"admin",tab:"admin",template:"<htbx-games-admin></htbx-games-admin>",secure:!0}).state("admin.coupons",{url:"/coupons",access:t.admin,section:"admin",tab:"admin",templateUrl:L.default,secure:!0}).state("admin.emotes",{url:"/emotes",access:t.admin,section:"admin",tab:"admin",templateUrl:U.default,secure:!0}).state("admin.userSearch",{url:"/user-search",access:t.admin,section:"admin",tab:"admin",template:"<admin-user-search></admin-user-search>",secure:!0}).state("admin.translations",{url:"/translations",access:t.admin,section:"admin",tab:"admin",template:"<htbx-translations-admin></htbx-translations-admin>",secure:!0}).state("admin.broadcastLog",{url:"/broadcast-log",access:t.admin,section:"admin",tab:"admin",template:"<htbx-broadcast-log-admin></htbx-broadcast-log-admin>",secure:!0}).state("admin.ads",{url:"/ads",access:t.admin,section:"admin",tab:"admin",templateUrl:D.default,secure:!0})}]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(42),o=function(){function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$uibModalInstance=t,this.$ngRedux=n,this.$uibModalInstance.result.then(function(){a.$ngRedux.dispatch((0,i.hide)())},function(){a.$ngRedux.dispatch((0,i.hide)())})}return e.$inject=["$uibModalInstance","$ngRedux"],a(e,[{key:"close",value:function(){this.$uibModalInstance.close()}}]),e}();t.default=o},function(e,t,n){var a="/src/js/auth/signin/components/login-modal.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-button-close data-variant=modal-fixed data-on-select=$ctrl.onClose() class=login-modal__close></htbx-button-close> <div class=modal-login__content> <signin-page on-success=$ctrl.onSuccess()></signin-page> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(470)),r=a(n(901)),s=a(n(902)),l=a(n(903)),c=a(n(904)),u=a(n(905)),d=a(n(906)),f=a(n(907)),p=a(n(908)),m=a(n(909)),h=a(n(910)),g=a(n(911)),_=a(n(912)),v=a(n(913)),b=a(n(914)),y=a(n(915)),w=a(n(916)),$=a(n(917)),x=a(n(918)),k=a(n(919)),S=a(n(920)),C=a(n(921)),M=a(n(922)),E=a(n(923)),T=a(n(924)),P=a(n(925)),O=a(n(926)),j=a(n(927)),A=a(n(928)),I=a(n(929)),L=a(n(930)),U=a(n(931)),D=a(n(932)),N=a(n(933)),R=a(n(934)),F=a(n(935)),B=a(n(936)),z=a(n(937)),H=a(n(938)),V=a(n(939)),q=a(n(940)),G=a(n(941)),W=a(n(942)),Y=a(n(943)),K=a(n(944)),J=a(n(945)),X=a(n(946)),Q=a(n(947)),Z=a(n(950)),ee=a(n(953)),te=a(n(955)),ne=a(n(957)),ae=a(n(960)),ie=a(n(971)),oe=a(n(973)),re=a(n(976)),se=a(n(469));n(979),t.default=i.default.module("htbx.auth.signin",[o.default,"htbx.ui-elements.buttons"]).constant("AuthSigninAction",r.default).constant("AuthSigninState",s.default).factory("vkLogin",l.default).factory("vkMeConnected",c.default).factory("transition_EmptySignup_FB_SIGNIN_LoggingInToExternalAuth",b.default).factory("transition_EmptySignup_LOGIN_Login",y.default).factory("transition_EmptySignup_RESET_EmptySignup",w.default).factory("transition_EmptySignup_SUBMIT_SubmittingSignup",$.default).factory("transition_EmptySignup_VK_SIGNIN_LoggingInToExternalAuth",x.default).factory("transition_LoggedIn_LOGOUT_AnonymousUser",k.default).factory("transition_LoggingIn_CONFIRM_LoggedIn",S.default).factory("transition_LoggingIn_LOCK_REPEAT_TriedTooOften",C.default).factory("transition_LoggingIn_REJECT_Login",M.default).factory("transition_LoggingIn_REQUIRE_TFA_NeedsTFA",E.default).factory("transition_LoggingInToExternalAuth_CONFIRM_LoggedIn",T.default).factory("transition_LoggingInToExternalAuth_REJECT_EmptySignup",P.default).factory("transition_LoggingInToExternalAuth_REQUIRE_SIGNUP_PrefilledSignup",O.default).factory("transition_Login_FB_SIGNIN_LoggingInToExternalAuth",j.default).factory("transition_Login_PASSWORD_RESET_REQUEST_PasswordResetRequest",A.default).factory("transition_Login_RESET_Login",I.default).factory("transition_Login_SIGNUP_EmptySignup",L.default).factory("transition_Login_SUBMIT_LoggingIn",U.default).factory("transition_Login_VK_SIGNIN_LoggingInToExternalAuth",D.default).factory("transition_NeedsTFA_REQUIRE_TFA_NeedsTFA",N.default).factory("transition_NeedsTFA_SUBMIT_LoggingIn",R.default).factory("transition_PasswordResetRequest_CONFIRM_PasswordResetRequested",F.default).factory("transition_PasswordResetRequest_LOGIN_Login",B.default).factory("transition_PasswordResetRequest_REJECT_PasswordResetRequest",z.default).factory("transition_PasswordResetRequested_LOGIN_Login",H.default).factory("transition_PrefilledSignup_LOGIN_Login",V.default).factory("transition_PrefilledSignup_RESET_PrefilledSignup",q.default).factory("transition_PrefilledSignup_SUBMIT_SubmittingSignup",G.default).factory("transition_SubmittingSignup_CONFIRM_LoggingIn",W.default).factory("transition_SubmittingSignup_REJECT_PrefilledSignup",Y.default).factory("transition_AnonymousUser_SIGNIN_EmptySignup",K.default).service("authSigninStateDiagram",u.default).service("authState",d.default).service("fbLogin",f.default).service("fbMeConnected",p.default).service("authForgotPasswordActionCreator",m.default).service("authSigninFBLoginActionCreator",h.default).service("authSigninLoginActionCreator",g.default).service("authSigninSignupActionCreator",_.default).service("authSigninVKLoginActionCreator",v.default).directive("passwordMatch",J.default).directive("zxcvbn",X.default).component("loginForm",Q.default).component("externalAuthentificationChoice",Z.default).component("passwordForgottenForm",ee.default).component("passwordResetEmailSentConfirmation",te.default).component("signinNavigation",ne.default).component("signupForm",ae.default).component("tfaForm",ie.default).component("appSignupPage",oe.default).component("signinPage",re.default).component("loginModal",se.default).run(["angularLoad",function(e){e.loadScript("https://vk.com/js/api/openapi.js").then(function(){window.VK&&window.VK.init&&window.VK.init({apiId:5421956})})}]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(129));t.default=function(){this.invalidationHelper=function(e,t){return function(){return!(!e.$$parentForm[t].$pending&&(e.$$parentForm[t].$error.required&&e.$$parentForm[t].$pristine||(0,a.default)(e.$$parentForm[t].$error)))}}}},function(e,t,n){"use strict";function a(e){return function(t,n){var a=t[n];a||e.error("Form",n,"is missing"),t.$on("server-side-form-validation-error",function(t,n){for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];if(a&&a[i]){var r=a[i];r?r.$setValidity(o,!1):e.error("No field",i,", cowardly refusing to set server error",o)}}})}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$log"],t.default=a},function(e,t,n){"use strict";function a(e,t,n){function a(a){if(a.transitions){var i=function(a){if(a.transitions){var i=void 0;return a.transitions.forEach(function(o){var r=function(a,i,o){var r=function(e,t,n){return"transition_"+e+"_"+t+"_"+n}(a,i,o);return function(s,l,c){if(e.has(r)){if(i===c){var u=e.get(r);n.trackEvent("state",r),u(a,i,o,l)}}else t.error(r,"cannot be injected, because it cannot be found")}}(a.name,o.action,o.target);if(i){var s=i;i=function(e,t,n){r(e,t,n),s(e,t,n)}}else i=r}),i}return null}(a);if(a.onExit){var o=a.onExit;a.onExit=function(e,t,n){i(e,t,n),o(e,t,n)}}else a.onExit=i}return a}return function(e){if(e instanceof Array){var t=[];return e.forEach(function(e){var n=a(e);t.push(n)}),t}return a(e)}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$injector","$log","Analytics"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(471)),i={};t.default=function(){return function(e,t){return i.hasOwnProperty(e)||(i[e]=new a.default,function(e){e.nextAction=function(t){return function(n){e.action(t,n)}}}(i[e]),t&&(i[e].create=function(){var n=i[e].create.bind(i[e]);return function(e){n(t(e))}}())),i[e]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SIGNIN:"SIGNIN",SUBMIT:"SUBMIT",CONFIRM:"CONFIRM",REJECT:"REJECT",LOCK_REPEAT:"LOCK_REPEAT",RESET:"RESET",SHOW_SIGNUP:"SIGNUP",SHOW_LOGIN:"LOGIN",VK_SIGNIN:"VK_SIGNIN",FB_SIGNIN:"FB_SIGNIN",REQUIRE_TFA:"REQUIRE_TFA",REQUIRE_SIGNUP:"REQUIRE_SIGNUP",REQUEST_PASSWORD_RESET:"PASSWORD_RESET_REQUEST",LOGOUT:"LOGOUT"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ANONYMOUS_USER:"AnonymousUser",EMPTY_SIGNUP:"EmptySignup",PREFILLED_SIGNUP:"PrefilledSignup",SUBMITTING_SIGNUP:"SubmittingSignup",LOGIN:"Login",LOGGING_IN:"LoggingIn",NEEDS_TFA:"NeedsTFA",LOGGED_IN:"LoggedIn",LOGGING_INTO_EXTERNAL_AUTH:"LoggingInToExternalAuth",PASSWORD_RESET_REQUEST:"PasswordResetRequest",PASSWORD_RESET_REQUESTED:"PasswordResetRequested",PASSWORD_RESET_REQUEST_FAILED:"PasswordResetRequestFailed",TRIED_TOO_OFTEN:"TriedTooOften"}},function(e,t,n){"use strict";function a(e){return function(){var t=e.defer();return VK.Auth.login(function(e){e&&e.session?t.resolve(e.session):t.reject()}),t.promise}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$q"],t.default=a},function(e,t,n){"use strict";function a(e){return function(t,n){var a=e.defer();return VK.Api.call("users.get",{fields:"nickname,photo_big,email",user_ids:t,oauth:n},function(e){e&&e.response.length?a.resolve(e.response[0]):a.reject(e.error)}),a.promise}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$q"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,i){var o=t,r=n,s=[{initial:!0,name:o.ANONYMOUS_USER,transitions:[{action:r.SIGNIN,target:o.EMPTY_SIGNUP}]},{name:o.EMPTY_SIGNUP,transitions:[{action:r.SUBMIT,target:o.SUBMITTING_SIGNUP},{action:r.RESET,target:o.EMPTY_SIGNUP},{action:r.VK_SIGNIN,target:o.LOGGING_INTO_EXTERNAL_AUTH},{action:r.FB_SIGNIN,target:o.LOGGING_INTO_EXTERNAL_AUTH},{action:r.SHOW_LOGIN,target:o.LOGIN}]},{name:o.PREFILLED_SIGNUP,transitions:[{action:r.SUBMIT,target:o.SUBMITTING_SIGNUP},{action:r.RESET,target:o.PREFILLED_SIGNUP},{action:r.SHOW_LOGIN,target:o.LOGIN}]},{name:o.SUBMITTING_SIGNUP,transitions:[{action:r.CONFIRM,target:o.LOGGING_IN},{action:r.REJECT,target:o.PREFILLED_SIGNUP}]},{name:o.LOGGING_INTO_EXTERNAL_AUTH,transitions:[{action:r.CONFIRM,target:o.LOGGED_IN},{action:r.REJECT,target:o.EMPTY_SIGNUP},{action:r.REQUIRE_SIGNUP,target:o.PREFILLED_SIGNUP}]},{name:o.LOGIN,transitions:[{action:r.SUBMIT,target:o.LOGGING_IN},{action:r.RESET,target:o.LOGIN},{action:r.VK_SIGNIN,target:o.LOGGING_INTO_EXTERNAL_AUTH},{action:r.FB_SIGNIN,target:o.LOGGING_INTO_EXTERNAL_AUTH},{action:r.SHOW_SIGNUP,target:o.EMPTY_SIGNUP},{action:r.REQUEST_PASSWORD_RESET,target:o.PASSWORD_RESET_REQUEST}]},{name:o.LOGGING_IN,transitions:[{action:r.REJECT,target:o.LOGIN},{action:r.CONFIRM,target:o.LOGGED_IN},{action:r.REQUIRE_TFA,target:o.NEEDS_TFA},{action:r.LOCK_REPEAT,target:o.TRIED_TOO_OFTEN}]},{name:o.NEEDS_TFA,transitions:[{action:r.SUBMIT,target:o.LOGGING_IN},{action:r.REQUIRE_TFA,target:o.NEEDS_TFA}]},{name:o.PASSWORD_RESET_REQUEST,transitions:[{action:r.CONFIRM,target:o.PASSWORD_RESET_REQUESTED},{action:r.REJECT,target:o.PASSWORD_RESET_REQUEST},{action:r.SHOW_LOGIN,target:o.LOGIN}]},{name:o.PASSWORD_RESET_REQUESTED,transitions:[{action:r.SHOW_LOGIN,target:o.LOGIN}]},{name:o.LOGGED_IN,transitions:[{action:r.LOGOUT,target:o.ANONYMOUS_USER}]},{name:"current",values:{}}],l=e("signin");return l.create(a(s)),l.states.current.values={},l}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["StateMachineFactory","AuthSigninState","AuthSigninAction","StateMachineServiceTransitionsFactory","ezfb"],t.default=a},function(e,t,n){"use strict";function a(e){return e.states.current.values}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authSigninStateDiagram"],t.default=a},function(e,t,n){"use strict";function a(e,t){var n=e.defer();t.getLoginStatus(function(e){return function(e){return e&&"connected"===e.status&&e.authResponse}(e)?n.resolve(e.authResponse):n.reject(),n.promise})}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$q","ezfb"],t.default=a},function(e,t,n){"use strict";function a(e,t){var n=e.defer();t.api("/me",function(e){return function(e){return e&&!e.error}(e)?n.resolve(e):n.reject(),n.promise})}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$q","ezfb"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a){function i(t){return function(a){e.waitingForServerResponse=!1,n.action(t,a)}}return this.resetPassword=function(n){e.user_email=n,e.waitingForServerResponse=!0;var o={user_email:n};return t.create(o,i(a.CONFIRM),i(a.REJECT))},this}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authState","RestorePassword","authSigninStateDiagram","AuthSigninAction"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,i,o,r,s){function l(){e.getLoginStatus(function(o){if(o&&o.authResponse&&o.authResponse.accessToken){var r={oauth_token:o.authResponse.accessToken,oauth_uid:o.authResponse.userID,oauth_provider:"facebook",rememberme:""};t.login(r).then(c).catch(function(t,o){return function(){e.api("/me?metadata=1&fields=email,name",function(e){if(e.error)n.action(a.REJECT,e.error);else{var r={oauth_access_token:t,oauth_uid:o,oauth_provider:"facebook",login:function(e){return e?e.replace(/ /g,"").replace(/\./g,""):""}(e.name),user_email:e.email?e.email:""};i.waitingForServerResponse=!1,n.action(a.REQUIRE_SIGNUP,r)}})}}(o.authResponse.accessToken,o.authResponse.userID))}else n.action(a.REJECT,o)})}function c(){n.action(a.CONFIRM),o.redirectToIntended().catch(function(){r.transitionTo("login"===r.current.section?"home.root":r.current,s,{reload:"embedchat"!==r.current.name,inherit:!0,notify:!0})})}return this.login=function(){return e.login(null,{scope:"email"}).then(l)},this}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["ezfb","Auth","authSigninStateDiagram","AuthSigninAction","authState","IntendedState","$state","$stateParams"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,o,r,s,l){var c=this,u=null,d=null;return this.login=function(o){return u&&(o=u),d&&(o.tfatoken=d.tfatoken,o.rememberme=d.rememberme,o.loginTfaTokenInputId="tfa-token_"+(0,i.default)()),a.externalAuth&&(o={oauth_token:a.externalAuth.oauth_access_token,oauth_uid:a.externalAuth.oauth_uid,oauth_provider:a.externalAuth.oauth_provider,rememberme:""},a.externalAuth.vk_open_api_keys&&(o.vk_open_api_keys=a.externalAuth.vk_open_api_keys)),a.waitingForServerResponse=!0,e.login(o).then(function(){c.setLoginData(null),c.setTFALoginDetails(null);var e={};t.$broadcast("login-is-successful"),r.action(s.CONFIRM),a.showing.error=null,l.redirectToIntended().then(function(){}).catch(function(){n.transitionTo("login"===n.current.section?"home.root":n.current,e,{reload:"embedchat"!==n.current.name,inherit:!0,notify:!0})})}).catch(function(e){if(e){var t=e.data;switch(t.error_msg){case"wrong_tfa_code":c.setLoginData(o),r.action(s.REQUIRE_TFA,t);break;case"too_many_tries":r.action(s.LOCK_REPEAT,t);break;default:r.action(s.REJECT,t)}}}).finally(function(){a.waitingForServerResponse=!1})},this.saveLoginData=function(e){u={login:e.user_name,pass:e.user_password}},this.setLoginData=function(e){u=e},this.setTFALoginDetails=function(e){d=e},this}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(46));a.$inject=["Auth","$rootScope","$state","authState","AuthSigninState","authSigninStateDiagram","AuthSigninAction","IntendedState"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a){return this.signup=function(i){return t.saveLoginData(i),e.signup(i).$promise.then(n.nextAction(a.CONFIRM),n.nextAction(a.REJECT))},this}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["User","authSigninLoginActionCreator","authSigninStateDiagram","AuthSigninAction"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,i,o,r,s){function l(t){if(t){u=function(e){var t=[];return["expire","mid","secret","sid","sig"].forEach(function(n){var a=e[n];a&&t.push(n+"="+a)}),t.join("&")}(t);var o={oauth_token:t.sid,oauth_uid:t.mid,vk_open_api_keys:u,oauth_provider:"vk",rememberme:""};e.login(o).then(c).catch(function(e){return function(){n(e.oauth_uid,e.oauth_token).then(function(t){var n={oauth_access_token:e.oauth_token,oauth_uid:e.oauth_uid,oauth_provider:"vk",vk_open_api_keys:e.vkOpenApiKeys,login:function(e){return((e&&e.first_name?e.first_name:"")+(e&&e.last_name?e.last_name:"")).replace(/ /g,"").replace(/\./g,"")}(t),user_email:t.email?t.email:""};a.action(i.REQUIRE_SIGNUP,n)})}}(o))}else a.action(i.REJECT)}function c(){a.action(i.CONFIRM),o.redirectToIntended().then(function(){}).catch(function(){r.transitionTo("login"===r.current.section?"home.root":r.current,s,{reload:"embedchat"!==r.current.name,inherit:!0,notify:!0})})}var u=null;return this.login=function(){return t().catch(a.nextAction(i.REJECT)).then(l)},this}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,a.$inject=["Auth","vkLogin","vkMeConnected","authSigninStateDiagram","AuthSigninAction","IntendedState","$state","$stateParams"]},function(e,t,n){"use strict";function a(e){return function(){e.login()}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authSigninFBLoginActionCreator"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.showing.form="login"}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authState"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.$broadcast("reset-form-entries")}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$rootScope"],t.default=a},function(e,t,n){"use strict";function a(e,t){return function(n,a,i,o){t.waitingForServerResponse=!0,e.signup(o)}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authSigninSignupActionCreator","authState"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.login()}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authSigninVKLoginActionCreator"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.$broadcast("reset-form-entries"),e.$broadcast("logout-is-successful")}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$rootScope"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(){}}},function(e,t,n){"use strict";function a(e){return function(){e.showing.form="tried-too-often"}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authState"],t.default=a},function(e,t,n){"use strict";function a(e,t){return function(n,a,i,o){t.showing.form="login",o&&("auth_failed"===o.error_msg?t.showing.error=o.error_msg:o.data&&o.data.field_validation_errors&&e.$broadcast("server-side-form-validation-error",o.data.field_validation_errors))}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$rootScope","authState"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.showing.navigation=!1,e.showing.form="needstfa"}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authState"],t.default=a},function(e,t,n){"use strict";function a(e,t){return function(){e.$broadcast("login-is-successful"),t.showing.error=null}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$rootScope","authState"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.waitingForServerResponse=!1,e.showing.form="signup"}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authState"],t.default=a},function(e,t,n){"use strict";function a(e,t){return function(n,a,i,o){e.showing.navigation=!1,e.showing.form="signup",e.externalAuth={oauth_access_token:o.oauth_access_token,oauth_uid:o.oauth_uid,oauth_provider:o.oauth_provider,vk_open_api_keys:o.vk_open_api_keys?o.vk_open_api_keys:""},e.formValues={user_name:o.login?o.login:"",user_email:o.user_email?o.user_email:""},t.$broadcast("received-external-authentication-details")}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authState","$rootScope"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.login()}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authSigninFBLoginActionCreator"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.showing.form="password-reset",e.showing.navigation=!1}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authState"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.$broadcast("reset-form-entries")}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$rootScope"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.showing.form="signup"}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authState"],t.default=a},function(e,t,n){"use strict";function a(e,t){return function(n,a,i,o){e.showing.error=null,t.login(o)}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authState","authSigninLoginActionCreator"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.login()}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authSigninVKLoginActionCreator"],t.default=a},function(e,t,n){"use strict";function a(e){return function(t,n,a,i){i&&i.field_validation_errors&&e.$broadcast("server-side-form-validation-error",i.field_validation_errors)}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$rootScope"],t.default=a},function(e,t,n){"use strict";function a(e){return function(t,n,a,i){e.setTFALoginDetails(i),e.login(i)}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authSigninLoginActionCreator"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.showing.form="password-reset-confirmation-sent"}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authState"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.showing.form="login",e.showing.navigation=!0}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authState"],t.default=a},function(e,t,n){"use strict";function a(e,t){return function(n,a,i,o){o&&o.data&&e.$broadcast("server-side-form-validation-error",o.data.field_validation_errors),t.passwordRequestFailed=!0}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$rootScope","authState"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.showing.form="login",e.showing.navigation=!0}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authState"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.showing.form="login"}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authState"],t.default=a},function(e,t,n){"use strict";function a(e){return function(){e.$broadcast("reset-form-entries")}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$rootScope"],t.default=a},function(e,t,n){"use strict";function a(e,t){return function(n,a,i,o){e.waitingForServerResponse=!0,t.signup(o)}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authState","authSigninSignupActionCreator"],t.default=a},function(e,t,n){"use strict";function a(e){return function(t,n,a,i){e.login(i)}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authSigninLoginActionCreator"],t.default=a},function(e,t,n){"use strict";function a(e,t){return function(n,a,i,o){o&&o.data&&o.data.field_validation_errors&&(t.waitingForServerResponse=!1,e.$broadcast("server-side-form-validation-error",o.data.field_validation_errors))}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$rootScope","authState"],t.default=a},function(e,t,n){"use strict";function a(e,t,n){return function(a,i,o,r){e.showing={form:"signup",navigation:!0},e.waitingForServerResponse=!1,e.passwordRequestFailed=!1,e.signinFrom="",e.signinPurpose="",t.setLoginData(null),t.setTFALoginDetails(null),r&&(e.signinFrom=r.signinFrom?r.signinFrom:"",e.signinPurpose=r.signinPurpose?r.signinPurpose:""),n.trackEvent("state_SIGNIN",e.signinPurpose)}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["authState","authSigninLoginActionCreator","Analytics"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a){function o(e){var t=r.$viewValue||r.$modelValue,n=s.$viewValue||s.$modelValue,a=s.$pristine||r.$pristine,o=t===n,l=!(0,i.default)(e),c=a||o;return!c&&l&&(c=!0),c}var r=a[0],s=a[1][n.passwordMatch];if(!s)throw new Error("Could not find field "+n.passwordMatch+". Is it maybe declared lower in the html?");r.$validators.matchingPasswords=function(){return o({})},s.$validators.matchingPasswords=function(){return o({})}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(129));a.$inject=["scope","element","attrs","ctrls"],t.default=function(){return{restrict:"A",require:["^ngModel","^form"],link:a}}},function(e,t,n){"use strict";function a(e,t){return{require:"ngModel",restrict:"A",scope:{zxResult:"=?zxcvbn",zxMinScore:"@?"},link:function(n,a,i,o){o.$asyncValidators.passwordStrength=function(a){var i=parseInt(n.zxMinScore,10);if(!a)return t.when();var o=t.defer();return a.length<6?o.reject():(i=isNaN(i)||i<0||i>4?0:i,e.post({password:a}).$promise.then(function(e){n.zxResult=e,i<=n.zxResult.score?o.resolve():o.reject()}).catch(function(){o.resolve()}),o.promise)},i.$observe("zxMinScore",function(e){n.zxMinScore=e,o.$validate()})}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["checkPasswordCall","$q"],t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(16)),r=a(n(948));n(949);var s=function(){function e(t,n,a,i,o,r,s){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loginSuccess=function(){l.onSuccess&&l.onSuccess()},this.onChange=function(){},Object.assign(this,{$scope:t,authState:n,authSigninStateDiagram:a,AuthSigninAction:i,serverSideFormValidation:o,$element:r,$timeout:s})}return e.$inject=["$scope","authState","authSigninStateDiagram","AuthSigninAction","serverSideFormValidation","$element","$timeout"],i(e,[{key:"$onInit",value:function(){this.formValues={}}},{key:"$postLink",value:function(){var e=this;this.ngModel.$viewChangeListeners.push(this.onChange),this.ngModel.$render=this.onChange,this.$scope.$on("login-is-successful",this.loginSuccess),this.serverSideFormValidation(this.$scope,"loginForm"),this.$timeout(function(){e.$element.find("input:first").focus()},0,!1),this.showLegacyNotice=o.default.get("login.showLegacyNotice",!0)}},{key:"dismissLegacyNotice",value:function(){o.default.set("login.showLegacyNotice",!1)}},{key:"isValid",value:function(){return this.$scope.loginForm&&this.$scope.loginForm.$valid}},{key:"forgotPassword",value:function(){this.authSigninStateDiagram.action(this.AuthSigninAction.REQUEST_PASSWORD_RESET,this.formValues)}},{key:"submit",value:function(){this.ngModel.$valid&&this.authSigninStateDiagram.action(this.AuthSigninAction.SUBMIT,this.formValues)}},{key:"isWaitingForServer",value:function(){return this.authState.waitingForServerResponse}},{key:"onFieldChange",value:function(e,t){this.formValues[e]=t}},{key:"isLoading",value:function(){return!!this.isWaitingForServer()}}]),e}();t.default={templateUrl:r.default,require:{ngModel:"ngModel"},bindings:{onSuccess:"&?"},controller:s}},function(e,t,n){var a="/src/js/auth/signin/components/login-form.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<form name=loginForm accept-charset=UTF-8 novalidate ng-submit=$ctrl.submit() class="signin-form signin-form--login"> <legacy-note></legacy-note> <p ng-if="$ctrl.authState.showing.error === \'auth_failed\'" class=signin-form__error> {{:: \'view_modal-login_error_login-failed\' | translate }} </p> <p ng-if="$ctrl.authState.showing.error === \'user_banned\'" class=signin-form__error> {{:: \'view_modal-login_error_login-banned\' | translate }} </p> <user-name-field on-model-change="$ctrl.onFieldChange(\'login\', value)" ng-model=$ctrl.formValues.user_name class="signin-form__input signin-form__input--user-name"></user-name-field> <current-password-field on-forgot-password=$ctrl.forgotPassword() on-model-change="$ctrl.onFieldChange(\'pass\', value)" ng-model=$ctrl.formValues.user_password class="signin-form__input signin-form__input--password"></current-password-field> <htbx-button data-type=submit data-variant=ok data-disabled="!$ctrl.isValid() || $ctrl.isLoading()" data-loading=$ctrl.isLoading() data-loading-spinny=true class=signin-form__submit> {{:: \'global_text_login\' | translate}} </htbx-button> </form> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e,t,n){var a=this;this.$postLink=function(){a.authState=e},a.loginWithFacebook=function(){t.action(n.FB_SIGNIN)},a.loginWithVK=function(){t.action(n.VK_SIGNIN)}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(951));n(952),a.$inject=["authState","authSigninStateDiagram","AuthSigninAction"],t.default={templateUrl:i.default,bindings:{},controller:a}},function(e,t,n){var a="/src/js/auth/signin/components/external-authentification-choice.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=external-authentification-choice> <div ng-if=$ctrl.authState.showing.extAuthHeaders> <div class=head> {{:: 'view_signup_text_finish-account' | translate}} </div> <div class=txt> {{:: 'view_signup_error_finish-facebook-signup' | translate}} </div> </div> <div ng-if=!$ctrl.authState.showing.extAuthHeaders> <div class=signin-page__subtitle> <span>{{:: 'view_modal-login_text_or-continue-with' | translate }}</span> </div> <facebook-login-button on-click=$ctrl.loginWithFacebook()></facebook-login-button> <vk-connect-button on-click=$ctrl.loginWithVK()></vk-connect-button> </div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e,t,n,a,i,o){var r=this;r.authState=i,this.$onInit=function(){r.email=""},this.$postLink=function(){o(e,"passwordReset")},this.onFieldChange=function(e){r.email=e},this.returnToLogin=function(){t.action(n.SHOW_LOGIN,{})},this.resetPassword=function(e){a.resetPassword(e)},this.isWaitingForServer=function(){return i.waitingForServerResponse}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(954));a.$inject=["$scope","authSigninStateDiagram","AuthSigninAction","authForgotPasswordActionCreator","authState","serverSideFormValidation"],t.default={templateUrl:i.default,bindings:{},controller:a}},function(e,t,n){var a="/src/js/auth/signin/components/password-forgotten-form.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<form ng-submit=$ctrl.resetPassword($ctrl.email) name=passwordReset accept-charset=UTF-8 class=\"signin-form signin-form--password-forgotten\" novalidate> <ul class=signin-navigation> <li class=\"signin-navigation__item signin-navigation__item--is-active\"> <span class=signin-navigation__link> {{:: 'view_modal-login_header_reset-password' | translate}} </span> </li> </ul> <div class=signin-form__info> <p> {{:: 'view_modal-login_text_enter-email' | translate}} </p> <p> {{:: 'view_modal-login_text_send-link' | translate}} </p> </div> <user-email-field on-model-change=$ctrl.onFieldChange(value) ng-model=$ctrl.email class=signin-form__email></user-email-field> <htbx-button data-type=submit data-variant=ok data-disabled=!$ctrl.email data-loading=$ctrl.isWaitingForServer() class=signin-form__submit> {{:: 'global_button_continue' | translate}} </htbx-button> <div class=signin-form__link> <a ng-click=$ctrl.returnToLogin()> {{:: 'global_text_back' | translate}} </a> </div> </form> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e,t,n){var a=this;a.$onInit=function(){a.user_email=e.user_email},a.returnToLogin=function(){t.action(n.SHOW_LOGIN,{})}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(956));a.$inject=["authState","authSigninStateDiagram","AuthSigninAction"],t.default={templateUrl:i.default,bindings:{},controller:a}},function(e,t,n){var a="/src/js/auth/signin/components/password-reset-email-sent-confirmation.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <div class=\"signin-form signin-form--password-reset-email-sent-confirmation\"> <h2 class=signin-form__title> {{:: 'view_modal-login_header_reset-password' | translate}} </h2> <div class=signin-form__info> <span> {{:: 'view_modal-login_text_email-sent' | translate}} </span> <strong> {{$ctrl.user_email}} </strong> </div> <div class=signin-form__link> <a ng-click=$ctrl.returnToLogin()> {{:: 'global_text_back' | translate}} </a> </div> </div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(11)),o=a(n(958));n(959);var r="signup";t.default={bindings:{activeSection:"<?",onChangeSection:"&?"},templateUrl:o.default,controller:function(){var e=this;e.SECTION_LOGIN="login",e.SECTION_SIGNUP=r,e.$onInit=function(){(0,i.default)(e.activeSection)&&(e.activeSection=r)},e.select=function(t){e.onChangeSection&&e.onChangeSection({section:t})}}}},function(e,t,n){var a="/src/js/auth/signin/components/signin-navigation.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<ul class=signin-navigation> <li class=\"signin-navigation__item signin-navigation__item--section-login\" ng-class=\"{\n            'signin-navigation__item--is-active': $ctrl.activeSection === $ctrl.SECTION_LOGIN,\n        }\"> <a class=signin-navigation__link ng-click=$ctrl.select($ctrl.SECTION_LOGIN)> {{:: 'global_text_login' | translate}} </a> </li> <li class=\"signin-navigation__item signin-navigation__item--section-signup\" ng-class=\"{\n            'signin-navigation__item--is-active': $ctrl.activeSection === $ctrl.SECTION_SIGNUP,\n        }\"> <a class=signin-navigation__link ng-click=$ctrl.select($ctrl.SECTION_SIGNUP)> {{:: 'global_text_signup' | translate}} </a> </li> </ul> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,r,s,l){function c(e){e&&(e.user_email&&(u.formValues.user_email=e.user_email),e.user_name&&(u.formValues.user_name=e.user_name))}var u=this;this.$onInit=function(){u.formValues={},c()},this.$postLink=function(){u.authState=n,r(t,"signupForm"),t.$on("server-side-form-validation-error",function(){e.$broadcast("reset-form-validity")}),t.$on("received-external-authentication-details",function(){c(n.formValues)}),t.$on("login-is-successful",u.loginSuccess.bind(u)),l(function(){s.find("input:first").focus()},0,!1),t.$watch(function(){return t.signupForm.$invalid},function(e,t){e&&e!==t&&u.signupError()})},this.loginSuccess=function(){u.onSuccess&&u.onSuccess()},this.signupError=function(){u.onError&&u.onError({model:t.signupForm})},this.recaptchaSuccess=function(e){u.onFieldChange("recaptcha",e)},this.recaptchaExpired=function(){u.onFieldChange("recaptcha",null)},this.submit=function(){if(t.signupForm.$valid){var e=u.formValues;n.externalAuth&&(e=(0,o.default)(u.formValues,n.externalAuth)),a.action(i.SUBMIT,e)}},this.isWaitingForServer=function(){return n.waitingForServerResponse},this.onFieldChange=function(e,n){u.formValues[e]=n,"user_email"===e&&(t.signupForm.user_email.$setValidity("userEmailExists",null),t.signupForm.user_email.$setValidity("noDisposableEmail",null))},this.isLoading=function(){return!!u.isWaitingForServer()},this.isValid=function(){return t.signupForm&&t.signupForm.$valid}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(961)),r=a(n(969));n(970),i.$inject=["$rootScope","$scope","authState","authSigninStateDiagram","AuthSigninAction","serverSideFormValidation","$element","$timeout"],t.default={templateUrl:r.default,bindings:{onSuccess:"&?",onError:"&?"},controller:i}},function(e,t,n){var a=n(289),i=n(215)(function(e,t,n){a(e,t,n)});e.exports=i},,function(e,t,n){var a=n(472),i=n(474),o=n(475),r=n(165),s=n(476),l=n(159),c=n(23),u=n(166),d=n(160),f=n(45),p=n(29),m=n(477),h=n(210),g=n(964);e.exports=function(e,t,n,_,v,b,y){var w=e[n],$=t[n],x=y.get($);if(x)a(e,n,x);else{var k=b?b(w,$,n+"",e,t,y):void 0,S=void 0===k;if(S){var C=c($),M=!C&&d($),E=!C&&!M&&h($);k=$,C||M||E?c(w)?k=w:u(w)?k=r(w):M?(S=!1,k=i($,!0)):E?(S=!1,k=o($,!0)):k=[]:m($)||l($)?(k=w,l(w)?k=g(w):(!p(w)||_&&f(w))&&(k=s($))):S=!1}S&&(y.set($,k),v(k,$,_,b,y),y.delete($)),a(e,n,k)}}},function(e,t,n){var a=n(104),i=n(105);e.exports=function(e){return a(e,i(e))}},function(e,t,n){var a=n(29),i=n(211),o=n(966),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&r.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},,,function(e,t,n){var a="/src/js/auth/signin/components/signup-form.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<form name=signupForm ng-submit=$ctrl.submit() ng-model=$ctrl.ngModel accept-charset=UTF-8 class=\"signin-form signin-form--signup\" novalidate autocomplete=off> <div> <legacy-note data-variant=signup></legacy-note> <div class=finish ng-if=$ctrl.authState.externalAuth> <div class=head>{{:: 'view_signup_text_finish-account' | translate}}</div> <div class=txt>{{:: 'view_signup_error_finish-facebook-signup' | translate}}</div> </div> <user-email-field on-model-change=\"$ctrl.onFieldChange('user_email', value)\" ng-model=$ctrl.formValues.user_email></user-email-field> <user-name-field on-model-change=\"$ctrl.onFieldChange('user_name', value)\" new-user-name=true ng-model=$ctrl.formValues.user_name></user-name-field> <input type=password autocomplete=new-password class=signin-form__pw-autofill-trap tabindex=-1 /> <div ng-if=!$ctrl.authState.externalAuth> <new-password-field on-model-change=\"$ctrl.onFieldChange('user_password', value)\" ng-model=$ctrl.formValues.user_password password-strength=$ctrl.passwordStrength></new-password-field> <recaptcha-check-field on-success=$ctrl.recaptchaSuccess(key) on-expire=$ctrl.recaptchaExpired() ng-model=$ctrl.formValues.recaptcha></recaptcha-check-field> </div> <a ui-sref=\"legal({tab: 'terms-of-use'})\" target=_blank rel=noopener class=signin-form__terms> {{::'global_text_read-terms' | translate}} </a> <htbx-button data-type=submit data-variant=ok data-disabled=\"!$ctrl.isValid() || $ctrl.isLoading()\" data-loading=$ctrl.isLoading() data-loading-spinny=true class=signin-form__submit> {{:: 'global_text_signup' | translate}} </htbx-button> </div> </form> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e,t,n,a){var i=this;i.authState=n,this.$onInit=function(){i.tfaCode="",e.$on("login-is-successful",i.loginSuccess.bind(i))},this.$postLink=function(){a(e,"tfaForm")},this.isWaitingForServer=function(){return n.waitingForServerResponse},this.loginSuccess=function(){i.onSuccess&&i.onSuccess()},this.onFieldChange=function(e){i.tfaCode=e},this.submit=function(){var e={tfatoken:i.tfaCode,rememberme:""};t.setTFALoginDetails(e),t.login()},this.isLoading=function(){return i.isWaitingForServer()}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(972));a.$inject=["$scope","authSigninLoginActionCreator","authState","serverSideFormValidation"],t.default={templateUrl:i.default,bindings:{onSuccess:"&?"},controller:a}},function(e,t,n){var a="/src/js/auth/signin/components/tfa-form.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<form accept-charset=UTF-8 ng-submit=$ctrl.submit() ng-model=$ctrl.ngModel name=tfaForm class=\"signin-form signin-form--tfa\" novalidate> <h2 ng-if=!$ctrl.authState.signinPurpose class=signin-form__title> {{:: 'view_modal-login_text_login-to-hitbox' | translate}} </h2> <tfa-code-field on-model-change=$ctrl.onFieldChange(value) ng-model=$ctrl.tfaCode></tfa-code-field> <htbx-button data-type=submit data-variant=ok data-disabled=$ctrl.ngModel.$invalid data-loading=$ctrl.isLoading() class=signin-form__submit> {{:: 'global_text_login' | translate}} </htbx-button> </form> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,o){var u=this;u.formModel={},u.showForm=!1,u.templateUrlUserEmailErrorMessage=r.default,u.templateUrlUserNameErrorMessage=s.default,u.templateUrlNewPasswordErrorMessage=l.default,u.templateUrlRecaptchaErrorMessage=c.default,e.start(),e.action(t.SIGNIN),o.isAuthenticated()?n.go("appsignupsuccess",{authToken:o.getToken()}).then(function(){i(function(){a.location.reload()},1e3)}):u.showForm=!0,u.signupSuccess=function(){u.showForm=!1},u.signupError=function(e){u.formModel=e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(974)),r=a(n(480)),s=a(n(481)),l=a(n(296)),c=a(n(482));n(975),i.$inject=["authSigninStateDiagram","AuthSigninAction","$state","$window","$timeout","loggedUser"],t.default={templateUrl:o.default,controller:i}},function(e,t,n){var a="/src/js/auth/signin/pages/components/app-signup-page.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <div class=app-signup-page> <h2 class=app-signup-page__title> {{:: 'global_text_signup' | translate }} </h2> <div class=app-signup-page__errors> <htbx-auth-field-error ng-if=$ctrl.formModel.user_email.$dirty data-model=$ctrl.formModel.user_email data-template-src={{::$ctrl.templateUrlUserEmailErrorMessage}} class=app-signup-page__error></htbx-auth-field-error> <htbx-auth-field-error ng-if=$ctrl.formModel.user_name.$dirty data-model=$ctrl.formModel.user_name data-template-src={{::$ctrl.templateUrlUserNameErrorMessage}} class=app-signup-page__error></htbx-auth-field-error> <htbx-auth-field-error ng-if=$ctrl.formModel.newPassword.$dirty data-model=$ctrl.formModel.newPassword data-template-src={{::$ctrl.templateUrlNewPasswordErrorMessage}} class=app-signup-page__error></htbx-auth-field-error> <htbx-auth-field-error ng-if=\"$ctrl.formModel.$dirty && $ctrl.formModel.recaptcha.$error.length > 0\" data-model=$ctrl.formModel.recaptcha data-template-src={{::$ctrl.templateUrlRecaptchaErrorMessage}} class=app-signup-page__error></htbx-auth-field-error> </div> <signup-form ng-if=$ctrl.showForm ng-model=$ctrl.signupDetails on-success=$ctrl.signupSuccess() on-error=$ctrl.signupError(model)></signup-form> <div ng-if=!$ctrl.showForm> Success </div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e,t,n,a,i){var o=this;o.$onInit=function(){o.authState=n},o.$postLink=function(){t.navsection&&(o.changeNavigationSection(t.navsection),e.search("navsection",null))},o.changeNavigationSection=function(e){switch(e){case"signup":o.switchToSignup();break;case"login":o.switchToLogin()}},o.switchToSignup=function(){a.action(i.SHOW_SIGNUP)},o.switchToLogin=function(){a.action(i.SHOW_LOGIN)},o.loginSuccess=function(){o.onSuccess&&o.onSuccess()}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(977));n(978),a.$inject=["$location","$stateParams","authState","authSigninStateDiagram","AuthSigninAction"],t.default={templateUrl:i.default,bindings:{onSuccess:"&"},controller:a}},function(e,t,n){var a="/src/js/auth/signin/pages/components/signin-page.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <div class=signin-page ng-class=\"{'signin-page--has-purpose': $ctrl.authState.signinPurpose}\"> <div ng-if=$ctrl.authState.signinPurpose class=signin-page__purpose> {{:: 'global_text_sign-in-with-purpose' | translate:$ctrl.authState}} </div> <div ng-if=$ctrl.authState.showing.navigation> <signin-navigation data-active-section=$ctrl.authState.showing.form on-change-section=$ctrl.changeNavigationSection(section)></signin-navigation> </div> <login-form ng-model=$ctrl.loginDetails ng-if=\"$ctrl.authState.showing.form === 'login'\" on-success=$ctrl.loginSuccess()></login-form> <signup-form ng-if=\"$ctrl.authState.showing.form === 'signup'\" on-success=$ctrl.loginSuccess()></signup-form> <external-authentification-choice ng-if=$ctrl.authState.showing.navigation></external-authentification-choice> <tfa-form ng-model=$ctrl.tfaCode ng-if=\"$ctrl.authState.showing.form === 'needstfa'\" on-success=$ctrl.loginSuccess()></tfa-form> <password-reset-email-sent-confirmation ng-if=\"$ctrl.authState.showing.form === 'password-reset-confirmation-sent'\"></password-reset-email-sent-confirmation> <password-forgotten-form ng-model=$ctrl.signupDetails ng-if=\"$ctrl.authState.showing.form === 'password-reset'\"></password-forgotten-form> </div> ")}]),e.exports=a},function(e,t){},function(e,t){},function(e,t,n){"use strict";function a(e,t,n,a,s,l,c,u,d,f){var p=r.ROUTING_CONFIG.accessLevels,m=r.ROUTING_CONFIG.userRoles;return s.accessLevels=p,s.userRoles=m,{authorize:function(e){var t="";e.resource=e.resource||"settings",f.isAuthenticated()&&(t=f.getToken());var a=n.get({resource_id:e.resource_id,authToken:t}).$promise.then(function(t){return s.roles=t,e.accessLevel&m[t[e.resource]]});return a.catch(function(e){c.debug("Authentication failed: %s",(0,i.toJson)(e))}),a},hasPermission:function(e,t){return!!parseInt(e&m[t],10)},login:function(e){return t.login(e).$promise.then(function(e){return d.dispatch((0,o.setUser)(e.data)),u.set("&uid",e.data.user_id),e})},logout:function(e){return t.logout(e).$promise},accessLevels:p,userRoles:m}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(0),o=n(74),r=n(15);a.$inject=["$q","Login","UserAccess","$state","$rootScope","$location","$log","Analytics","$ngRedux","loggedUser"]},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/user/checkVerifiedEmail/:user",{user:"@user"},{get:{method:"GET",params:t,isArray:!1},resendVerificationEmail:{method:"POST",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){e.exports=n.p+"img/20eecdddb78dd08e6c03d5a56c5feb3c.jpg"},function(e,t,n){e.exports=n.p+"img/af83455f44e22c5a50e277f8e40355cc.png"},function(e,t,n){e.exports=n.p+"img/c959e1702004c523845afb232a346114.png"},function(e,t,n){e.exports=n.p+"img/a09dd630ffb8e94b6ec47309ca14d9e4.png"},function(e,t,n){e.exports=n.p+"img/9bdc27fada30f30ed15cbe955296c176.png"},function(e,t,n){e.exports=n.p+"img/32f025c7cca2c0fb4d80988ad8908f43.png"},function(e,t,n){e.exports=n.p+"img/32f025c7cca2c0fb4d80988ad8908f43.png"},function(e,t,n){e.exports=n.p+"img/3753ade11ac2fa2a30df808118815994.png"},function(e,t,n){e.exports=n.p+"img/baf00f363bda44e1025ebc923d115155.png"},function(e,t,n){e.exports=n.p+"img/a43101691219aedc1525d616ca695349.png"},function(e,t,n){e.exports=n.p+"img/35038551de3dd0065d5027f83f0386c4.jpg"},function(e,t,n){e.exports=n.p+"img/72b57cc66b316b4c34edc5f06e7dcba0.png"},function(e,t,n){e.exports=n.p+"img/8289121486cd7b33ba33043c23ab19ce.png"},function(e,t,n){e.exports=n.p+"img/1cce842bb6c30d68d67996a9801fcbf6.png"},function(e,t,n){"use strict";function a(e,t,n){var a={};return n.isAuthenticated()&&(a={authToken:n.getToken()}),t(i.default.apiUri+"/user/:user_name",{user_name:"@user_name",authToken:"@authToken",withDiscord:"@withDiscord"},{get:{method:"GET",params:a,isArray:!1},update:{method:"PUT",params:a},signup:{method:"POST",params:{},isArray:!1,url:i.default.apiUri+"/user"},setDefaultTeam:{method:"POST",params:{},isArray:!1,url:i.default.apiUri+"/user/:user_name/team/default"},delete:{method:"DELETE",params:a}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$rootScope","$resource","loggedUser"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i={},o=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$location:t,$state:n,$q:a})}return e.$inject=["$location","$state","$q"],a(e,[{key:"hasIntended",value:function(){return!!i.stateName&&!!i.params}},{key:"getIntended",value:function(){return i}},{key:"setIntended",value:function(e,t){i={stateName:e,params:t}}},{key:"clearIntended",value:function(){i={},this.$location.search("redirect",null)}},{key:"redirectToIntended",value:function(){var e=this;return this.$location.search().redirect?(this.$location.path(this.$location.search().redirect),this.$q.when()):this.hasIntended()?this.$state.go(i.stateName,i.params).then(function(){return e.clearIntended(),!0}):this.$q.reject("No intended state given.")}}]),e}();t.default=o},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/user/password/restore",{restore_key:"@restore_key"},{get:{method:"GET",params:t,isArray:!1},create:{method:"POST",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return{getTranslation:function(t){switch(t){case 2:return e.instant("global_header_password-okay");case 3:return e.instant("global_header_password-good");case 4:return e.instant("global_header_password-great");case 0:case 1:default:return e.instant("global_header_password-too-weak")}}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$translate"],t.default=a},function(e,t,n){"use strict";function a(e,t){return t(i.default.passwordCheckUrl+"/zxcvbn/score",{},{post:{method:"POST",isArray:!1,headers:{"Content-type":"application/x-www-form-urlencoded"},transformRequest:function(e){return"password="+e.password}}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$rootScope","$resource"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;return this.getAuthResponse=function(){return e.savedAuthResponse},this.setLogin=function(t){e.login=t},this.getLogin=function(){return e.login=e.login?e.login:{user_email:"",user_password:"",user_password2:"",user_name:""},e.login},this.getVKTokensString=function(){var t=["expire","mid","secret","sid","sig"],n=[];for(var a in t){var i=t[a],o=e.savedAuthResponse[i];o&&n.push(i+"="+o)}return n.join("&")},this.setAuthResponse=function(t,n){e.savedAuthResponse=n,e.oauth_provider=t},this.setResponse=function(t,n){e.savedResponse=t,e.oauth_provider=n},this.getValues=function(){return e.savedResponse},this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(76),i=n(74),o=function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSuperAdmin=function(){return o.userIsSuperAdmin},this.isAuthenticated=function(){return o.userIsAuthenticated},this.isPartner=function(){return o.userIsPartner},this.getName=function(){return o.userName},this.getId=function(){return o.userId},this.getToken=function(){return o.userAuthToken},this.getLivestreamCount=function(){return o.livesteamCount},this.getLogo=function(){return o.userLogo},this.getLogoSmall=function(){return o.userLogoSmall},this.getAppType=function(){return o.userApp},this.whenUserLoggedIn=function(){return o.loginDeferred.promise},this.getData=function(){var e=o.$ngRedux.getState().user;return(0,i.transformUserDataToLegacyData)(e)},this.mapStateToProps=function(e){var t=e.user,n=(0,a.isAuthenticated)(t);return o.cachedUserIsAuthenticated!==n&&(o.loginDeferred.resolve(),o.cachedUserIsAuthenticated=n),{userIsAuthenticated:n,userIsSuperAdmin:(0,a.isSuperAdmin)(t),userAuthToken:(0,a.getToken)(t),userName:(0,a.getName)(t),userId:(0,a.getId)(t),userIsPartner:(0,a.isPartner)(t),livesteamCount:(0,a.getLivestreamCount)(t),userLogo:(0,a.getUserLogo)(t),userLogoSmall:(0,a.getUserLogoSmall)(t),userApp:(0,a.getApp)(t)}},this.$ngRedux=n,this.loginDeferred=t.defer(),this.cachedUserIsAuthenticated=!1,this.userIsAuthenticated=!1,this.userIsSuperAdmin=!1,n.connect(this.mapStateToProps)(this)};o.$inject=["$q","$ngRedux"],t.default=o},function(e,t,n){"use strict";function a(e,t){return this.exists=function(n){return n&&n.length>1?e.get({user_name:n}).$promise.then(function(e){return!(!e||!e.user_name)&&e.user_name.toLowerCase()===n.toLowerCase()}).catch(function(){return!1}):t.reject("no userName passed")},this}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["User","$q"],t.default=a},function(e,t,n){"use strict";function a(e,t){var n={},a={};return n.get=function(n){var o=t.defer(),r=o.promise;return i.default.isDefined(a[n])?o.resolve(a[n]):e.get({user_name:n},function(e){e.user_id?(a[n]=e,o.resolve(e)):o.reject(e)},function(e){o.reject(e)}),r},n}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0));a.$inject=["User","$q"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,i,o){o.isAuthenticated()?i.redirectToIntended().catch(function(){e.go("home.root")}):(n.start(),n.action(a.SIGNIN),n.action(a.SHOW_LOGIN))}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$state","$rootScope","authSigninStateDiagram","AuthSigninAction","IntendedState","loggedUser"],t.default=a},function(e,t,n){"use strict";function a(e){return{restrict:"A",link:function(t,n){t.$watch(function(){return n.is(":visible")},function(){n.is(":visible")&&e(function(){n.focus()},50)})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,a.$inject=["$timeout"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1008));n(1009);var i=function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.switchToLogin=function(){a.authSigninStateDiagram.action(a.AuthSigninAction.SHOW_SIGNUP)},this.AuthSigninAction=n,this.authSigninStateDiagram=t};i.$inject=["authSigninStateDiagram","AuthSigninAction"],t.default={bindings:{variant:"@"},templateUrl:a.default,controller:i}},function(e,t,n){var a="/src/js/auth/components/legacy-note.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=legacy-note> <div class=legacy-note__icon></div> <div ng-if=\"$ctrl.variant !== 'signup'\" class=legacy-note__text> {{::'component_login-form_sign-in-with-legacy' | translate}} </div> <a ng-if=\"$ctrl.variant === 'signup'\" ng-click=$ctrl.switchToLogin() class=legacy-note__text> {{::'component_login-form_sign-in-with-legacy' | translate}} </a> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1011));t.default={templateUrl:a.default,bindings:{model:"<",templateSrc:"@"},transclude:!0}},function(e,t,n){var a="/src/js/auth/components/auth-field-error.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<ng-messages data-for=$ctrl.model.$error data-multiple=ng-messages-multiple> <ng-messages-include ng-if=$ctrl.templateSrc data-src={{$ctrl.templateSrc}}></ng-messages-include> <span ng-if=!$ctrl.templateSrc ng-transclude></span> </ng-messages> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){function t(){a.user_password=a.ngModel.$modelValue}function n(){a.user_password&&(a.ngModel.$setViewValue(""),a.user_password="",a.broadcastChange())}var a=this;this.$onInit=function(){a.ngModel.$viewChangeListeners.push(t),a.ngModel.$render=t,e.$on("reset-form-entries",n)},this.forgotPassword=function(){a.onForgotPassword&&a.onForgotPassword()},this.broadcastChange=function(){a.onModelChange&&a.onModelChange({value:a.user_password})}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1013));a.$inject=["$scope"],t.default={templateUrl:i.default,bindings:{onModelChange:"&",onForgotPassword:"&"},require:{ngModel:"ngModel"},controller:a}},function(e,t,n){var a="/src/js/auth/components/current-password-field.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="htbx-input htbx-input__with-forgot"> <label> <div class=htbx-input__label> {{:: \'global_text_password\' | translate }} </div> <input class="htbx-input__input password text" ui-keypress=$ctrl.uiPressHandler name=password type=password placeholder="{{:: \'view_login_placeholder_enter-password\' | translate }}" required ng-model=$ctrl.user_password ng-change=$ctrl.broadcastChange() ng-trim=false /> </label> <a class=htbx-input__forgot ng-click=$ctrl.forgotPassword() tooltip-placement="auto left" uib-tooltip="{{:: \'view_modal-login_link_forgot-password\' | translate }}"> ? </a> </div> ')}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1015));t.default={templateUrl:a.default,bindings:{onClick:"&"},controller:function(){}}},function(e,t,n){var a="/src/js/auth/components/facebook-login-button.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<button class="button button--size-default button--link external-authentification-choice__button external-authentification-choice__button--facebook" ng-click=$ctrl.onClick()> <smash-icon icon=facebook></smash-icon> Facebook </button> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function a(){i.newPassword&&(i.newPassword="",i.broadcastChange())}var i=this;i.templateUrlErrorMessage=r.default,this.$postLink=function(){e.$on("reset-form-entries",a),i.fieldInvalid=t.invalidationHelper(i.ngModel,"newPassword")},this.$onInit=function(){i.passwordStrengthAvailable=i.passwordStrengthAvailable||!0},this.broadcastChange=function(){i.onModelChange&&i.onModelChange({value:i.newPassword})},this.getTranslation=n.getTranslation}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1017)),r=a(n(296));n(1018),i.$inject=["$scope","fieldValidationToolBox","PasswordStrength"],t.default={templateUrl:o.default,require:{ngModel:"ngModel"},bindings:{passwordStrengthAvailable:"<?",passwordStrength:"=?",onModelChange:"&"},controller:i}},function(e,t,n){var a="/src/js/auth/components/new-password-field.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="htbx-input{{!$ctrl.ngModel.$$parentForm.newPassword.$pristine > 0 ? \' htbx-input--password-strength-\' + $ctrl.passwordStrength.score : \'\'}}"> <label> <div class=htbx-input__label> <span ng-if=!$ctrl.fieldInvalid()>{{:: \'global_text_password\' | translate }}</span> <htbx-auth-field-error ng-if=$ctrl.fieldInvalid() data-model=$ctrl.ngModel.$$parentForm.newPassword data-template-src={{::$ctrl.templateUrlErrorMessage}} class=htbx-input__error-msg></htbx-auth-field-error> </div> <input class="htbx-input__input password text" name=newPassword type=password zxcvbn=$ctrl.passwordStrength zx-min-score=2 placeholder="{{:: \'view_signup_placeholder_pick-password\' | translate }}" ng-model-options="{ debounce: { \'default\': 500, \'blur\': 0 } }" required ng-change=$ctrl.broadcastChange() ng-model=$ctrl.newPassword ng-minlength=6 ng-trim=false /> </label> <div ng-if="!$ctrl.ngModel.$$parentForm.newPassword.$pristine && $ctrl.passwordStrengthAvailable && !$ctrl.ngModel.$$parentForm.newPassword.$pending" class="htbx-input__icon animate" ng-class="{\'htbx-input__icon--is-valid\': !$ctrl.fieldInvalid()}" uib-tooltip={{$ctrl.getTranslation($ctrl.passwordStrength.score)}} data-tooltip-append-to-body=true> <smash-icon ng-if=!$ctrl.fieldInvalid() data-icon=check data-size=24 data-lines=true></smash-icon> </div> <div ng-if=$ctrl.ngModel.$$parentForm.newPassword.$pending class="htbx-input__loading animate"> <smash-spinny></smash-spinny> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(){a.validatedCheck&&(a.validatedCheck=!1,a.expired())}var a=this;a.templateUrlErrorMessage=r.default,a.validatedCheck=!1,this.created=function(e){a.validatedCheck=!1,a.onCreated&&a.onCreated({widgetId:e})},this.successful=function(e){a.validatedCheck=!0,a.onSuccess&&a.onSuccess({key:e})},this.expired=function(){a.validatedCheck=!1,a.onExpire&&a.onExpire(),t.reload()},e.$on("reset-form-validity",n),e.$on("reset-form-entries",n)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1020)),r=a(n(482));n(1021),i.$inject=["$scope","vcRecaptchaService"],t.default={templateUrl:o.default,bindings:{onSuccess:"&",onExpire:"&",onCreated:"&"},controller:i}},function(e,t,n){var a="/src/js/auth/components/recaptcha-check-field.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=recaptcha-check-field> <htbx-auth-field-error ng-if="$ctrl.ngModel.$$parentForm.$dirty && $ctrl.ngModel.$$parentForm.recaptcha.$error.length > 0" data-model=$ctrl.ngModel.$$parentForm.recaptcha data-template-src={{::$ctrl.templateUrlErrorMessage}} class="error-messages slide-right"></htbx-auth-field-error> <htbx-recaptcha on-create=$ctrl.created(widgetId) on-success=$ctrl.successful(response) on-expire=$ctrl.expired()></htbx-recaptcha> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e,t,n,a,i,o,r){var s=this;this.$onInit=function(){this.loading=!1,this.success=!1,this.error={title:"",msg:""}},this.resetPassword=function(){if(s.newPassword===s.repeatPassword){var r={restoreKey:n.restorekey,user_password:s.newPassword,user_password2:s.repeatPassword};s.loading=!0,o.update(r).$promise.then(function(){s.success=!0,i(function(){t.go("login",{navsection:"login"}),e.search("restorekey",null)},3e3)}).catch(function(){s.error.msg=a.instant("global_error_try-again")}).finally(function(){s.loading=!1,s.newPassword="",s.repeatPassword="",s.resetPasswordForm.$setPristine()})}},this.getPasswordStrengthTranslation=r.getTranslation}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1023));n(1024),a.$inject=["$location","$state","$stateParams","$translate","$timeout","User","PasswordStrength"],t.default={templateUrl:i.default,controller:a}},function(e,t,n){var a="/src/js/auth/components/reset-password-form.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=reset-password> <ul class=signin-navigation> <li class=\"signin-navigation__item signin-navigation__item--is-active\"> <span class=signin-navigation__link>{{::'view_modal-login_header_reset-password'|translate}}</span> </li> </ul> <htbx-alert ng-if=\"$ctrl.success || $ctrl.error.msg\" data-type=\"{{$ctrl.success ? 'success' : 'error'}}\" data-dismissable=\"!$ctrl.success || $ctrl.error.msg\"> <div ng-if=$ctrl.success> <div>{{::'component_password-reset_has-been-reset'|translate}}</div> <div>{{::'component_password-reset_redirect-to-login'|translate}}</div> </div> <div ng-if=$ctrl.error.msg> {{$ctrl.error.msg}} </div> </htbx-alert> <form ng-if=!$ctrl.success accept-charset=UTF-8 name=$ctrl.resetPasswordForm ng-submit=$ctrl.resetPassword() class=password-strength-wrap novalidate> <div class=\"htbx-input{{!$ctrl.resetPasswordForm.newPassword.$pristine ? ' htbx-input--password-strength-' + $ctrl.passwordStrength.score : ''}}\"> <label> <div class=htbx-input__label> <span ng-if=\"$ctrl.resetPasswordForm.newPassword.$pristine || !$ctrl.resetPasswordForm.newPassword.$invalid\"> {{:: 'global_text_password' | translate }} </span> <span class=htbx-input__error-msg ng-messages=$ctrl.resetPasswordForm.newPassword.$error ng-if=\"!$ctrl.resetPasswordForm.newPassword.$pristine && $ctrl.resetPasswordForm.newPassword.$invalid\" ng-messages-multiple=ng-messages-multiple> <span ng-message=required>{{:: 'global_header_password-required' | translate}}</span> <span ng-message=minlength>{{:: 'view_signup_error_password-short' | translate}}</span> <span ng-message=passwordStrength>{{:: 'global_header_password-too-weak' | translate}}</span> </span> </div> <input class=\"htbx-input__input password text\" name=newPassword type=password placeholder=\"{{:: 'view_signup_placeholder_pick-password' | translate }}\" required ng-model=$ctrl.newPassword zxcvbn=$ctrl.passwordStrength zx-min-score=2 ng-minlength=6 ng-trim=false /> </label> <div ng-if=\"!$ctrl.resetPasswordForm.newPassword.$pristine && !$ctrl.resetPasswordForm.newPassword.$pending\" class=\"htbx-input__icon animate\" ng-class=\"{'htbx-input__icon--is-valid': !$ctrl.resetPasswordForm.newPassword.$invalid}\" uib-tooltip={{$ctrl.getPasswordStrengthTranslation($ctrl.passwordStrength.score)}} data-tooltip-append-to-body=true> <smash-icon ng-if=!$ctrl.resetPasswordForm.newPassword.$invalid data-icon=check data-size=24 data-lines=true></smash-icon> </div> <div ng-if=$ctrl.resetPasswordForm.newPassword.$pending class=\"htbx-input__loading animate\"> <smash-spinny></smash-spinny> </div> </div> <div class=htbx-input> <label> <div class=htbx-input__label> <span ng-if=\"$ctrl.resetPasswordForm.repeatPassword.$pristine || !$ctrl.resetPasswordForm.repeatPassword.$invalid\"> {{:: 'view_signup_placeholder_password2' | translate }} </span> <span class=htbx-input__error-msg ng-messages=$ctrl.resetPasswordForm.repeatPassword.$error ng-if=\"!$ctrl.resetPasswordForm.repeatPassword.$pristine && $ctrl.resetPasswordForm.repeatPassword.$invalid\" ng-messages-multiple=ng-messages-multiple> <span ng-message=required>{{:: 'global_header_password-required' | translate}}</span> <span ng-message=pattern>{{:: 'view_signup_error_password-nomatch' | translate}}</span> </span> </div> <input class=\"htbx-input__input password text\" name=repeatPassword type=password placeholder=\"{{:: 'view_account-settings_placeholder_retype-new' | translate }}\" password-match=newPassword required ng-model=$ctrl.repeatPassword ng-trim=false /> </label> </div> <htbx-button data-type=submit data-variant=ok data-disabled=\"$ctrl.resetPasswordForm.$invalid || $ctrl.loading\" data-loading=$ctrl.loading class=signin-form__submit> {{:: 'global_button_submit' | translate}} </htbx-button> </form> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){function t(){n.tfaCode=n.ngModel.$modelValue}var n=this;this.$onInit=function(){n.ngModel.$viewChangeListeners.push(t),n.ngModel.$render=t,n.fieldInvalid=e.invalidationHelper(n.ngModel,"tfaCode")},this.broadcastChange=function(){n.onModelChange&&n.onModelChange({value:n.tfaCode})}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1026));a.$inject=["fieldValidationToolBox"],t.default={templateUrl:i.default,bindings:{onModelChange:"&"},require:{ngModel:"ngModel"},controller:a}},function(e,t,n){var a="/src/js/auth/components/tfa-code-field.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=tfa-code-wrap> <label> <div class=htbx-input> <label> <div class=htbx-input__label> <span ng-if=!$ctrl.fieldInvalid()> {{:: 'view_modal-login_text_enter_tfa' | translate }} </span> <span ng-if=$ctrl.fieldInvalid() ng-messages=$ctrl.ngModel.$$parentForm.tfaCode.$error ng-messages-multiple=ng-messages-multiple class=htbx-input__error-msg> <span ng-message=required> {{:: 'global_header_tfa-code-required' | translate }} </span> <span ng-message=wrong_tfa_code> {{:: 'view_modal-login_error_login-tfa_failed' | translate }} </span> </span> </div> <input class=\"htbx-input__input tfa-code text\" autofocus=autofocus name=tfaCode type=text placeholder=\"{{:: 'global_tfa_code' | translate }}\" ng-change=$ctrl.broadcastChange() ng-model=$ctrl.tfaCode focus-on-show autocomplete=off required/> </label> </div> </label> </div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(){a.emailAddress&&(a.emailAddress="",a.broadcastChange())}var a=this;a.templateUrlErrorMessage=r.default,this.$onInit=function(){e.$on("reset-form-entries",n),a.fieldInvalid=t.invalidationHelper(a.ngModel,"user_email")},this.broadcastChange=function(){a.onModelChange&&a.onModelChange({value:a.emailAddress})}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1028)),r=a(n(480));i.$inject=["$scope","fieldValidationToolBox"],t.default={templateUrl:o.default,require:{ngModel:"ngModel"},bindings:{onModelChange:"&"},controller:i}},function(e,t,n){var a="/src/js/auth/components/user-email-field.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=htbx-input> <label> <div class=htbx-input__label> <span ng-if=!$ctrl.fieldInvalid()> {{:: 'global_text_email' | translate }} </span> <htbx-auth-field-error ng-if=$ctrl.fieldInvalid() data-model=$ctrl.ngModel.$$parentForm.user_email data-template-src={{::$ctrl.templateUrlErrorMessage}} class=htbx-input__error-msg></htbx-auth-field-error> </div> <input class=\"htbx-input__input user text\" name=user_email type=email placeholder=\"{{:: 'view_signup_placeholder_enter-email' | translate }}\" ng-model=$ctrl.emailAddress ng-change=$ctrl.broadcastChange() ng-model-options=\"{ debounce: { 'default': 500, 'blur': 0 } }\" ng-minlength=6 ng-maxlength=255 required/> </label> </div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a){function i(n){return l=!1,s.ngModel.$isEmpty(n)||void 0===s.newUserName?(l=!0,t.resolve(!0)):e.exists(n).then(function(e){var n=e!==s.newUserName||void 0===s.newUserName;if(n)return l=!0,n;var a=s.newUserName?"new user":"existing user";return l=!1,t.reject("needed "+a)})}function o(){s.userName&&(s.userName="",s.broadcastChange())}var s=this,l=!1;s.templateUrlErrorMessage=r.default,this.$onInit=function(){n.$on("reset-form-entries",o),s.fieldInvalid=a.invalidationHelper(s.ngModel,"user_name")},this.$postLink=function(){s.ngModel.$$parentForm.user_name.$asyncValidators.userExists=i},this.broadcastChange=function(){s.onModelChange&&s.onModelChange({value:s.userName})},this.isValidUserName=function(){return l}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1030)),r=a(n(481));i.$inject=["UserName","$q","$scope","fieldValidationToolBox"],t.default={templateUrl:o.default,require:{ngModel:"ngModel"},bindings:{newUserName:"<",onModelChange:"&"},controller:i}},function(e,t,n){var a="/src/js/auth/components/user-name-field.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="htbx-input htbx-input--user-name"> <label> <div class=htbx-input__label> <span ng-if=!$ctrl.fieldInvalid()> {{:: \'global_text_username\' | translate }} </span> <htbx-auth-field-error ng-if=$ctrl.fieldInvalid() data-model=$ctrl.ngModel.$$parentForm.user_name data-template-src={{::$ctrl.templateUrlErrorMessage}} class=htbx-input__error-msg></htbx-auth-field-error> </div> <input class=htbx-input__input name=user_name type=text ng-model=$ctrl.userName ng-change=$ctrl.broadcastChange() placeholder="{{:: ($ctrl.newUserName ? \'view_signup_placeholder_pick-username\' : \'global_text_username\') | translate }}" ng-model-options="{ debounce: { \'default\': 500, \'blur\': 0 } }" ng-minlength=3 ng-maxlength=25 ng-pattern="\'^[a-zA-Z0-9-][a-zA-Z0-9-]+$\'" autocomplete="{{:: $ctrl.newUserName ? \'off\' : \'on\'}}" required/> </label> <div ng-if="$ctrl.newUserName && !$ctrl.ngModel.$$parentForm.user_name.$pending" class="htbx-input__icon animate" ng-class="{\n             \'htbx-input__icon--is-valid\': !$ctrl.fieldInvalid(),\n         }"> <smash-icon ng-if="!$ctrl.fieldInvalid() && $ctrl.isValidUserName()" data-icon=check data-size=24 data-lines=true></smash-icon> </div> <div ng-if="$ctrl.newUserName && $ctrl.ngModel.$$parentForm.user_name.$pending" class="htbx-input__loading animate"> <smash-spinny></smash-spinny> </div> </div> ')}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1032));t.default={templateUrl:a.default,bindings:{onClick:"&"},controller:function(){}}},function(e,t,n){var a="/src/js/auth/components/vk-connect-button.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<button class="button button--size-default button--link external-authentification-choice__button external-authentification-choice__button--vk" ng-click=$ctrl.onClick()> <smash-icon icon=vk></smash-icon> VKontakte </button> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/user/access/:resource_id/:authToken",{resource_id:"@resource_id",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/auth/login",{},{login:{method:"POST",params:t,isArray:!1},logout:{url:i.default.apiUri+"/logout",method:"POST",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(12)),r=n(0),s=a(n(507)),l=a(n(66)),c=n(8),u=6e4,d=null,f=!1,p={},m=void 0,h=void 0,g=void 0,_=void 0,v=function(e){var t=e.channel,n=e.chat;return{channelName:(0,c.getName)(t),isAdminOfChat:n.permissions.isAdmin,isModeratorOfChat:n.permissions.isModerator}},b=function(){function e(t,n,a,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$timeout:t,userListFactory:n,$rootScope:a,$q:i}),this.$ngRedux=o,this.wsSetUserList=this.wsSetUserList.bind(this),this.wsSetBanList=this.wsSetBanList.bind(this),this.$ngRedux.connect(v)(this)}return e.$inject=["$timeout","userListFactory","$rootScope","$q","$ngRedux"],i(e,[{key:"init",value:function(){p={},_=this.$q.defer(),o.default.off("chat.userList",this.wsSetUserList),o.default.on("chat.userList",this.wsSetUserList),o.default.off("chat.banList",this.wsSetBanList),o.default.on("chat.banList",this.wsSetBanList)}},{key:"isActive",value:function(){return f}},{key:"setActive",value:function(e){function t(){var e=this;(0,l.default)(d)&&(d=this.$timeout(function(){e.getChannelUserList(),d=null,t.call(e)},u))}(f=e)?t.call(this):function(){(0,l.default)(d)||(this.$timeout.cancel(d),d=null)}.call(this)}},{key:"update",value:function(){return g&&g.reject(),g=this.$q.defer(),this.getChannelUserList(),g.promise}},{key:"getChannelUserList",value:function(){o.default.sendMessage("chat.getChannelUserList",{channel:this.channelName})}},{key:"getGuestCount",value:function(){return m}},{key:"getUserCount",value:function(){return this.isLoading()?0:p.full.length}},{key:"getUserLists",value:function(){return p}},{key:"setUserList",value:function(e){this.isAdminOfChat&&(m=e.Guests||0),p=this.userListFactory.create(e),g&&g.resolve(),_.resolve()}},{key:"isLoading",value:function(){return(0,r.isUndefined)(p.full)}},{key:"wsSetUserList",value:function(e){var t=this;this.$rootScope.$applyAsync(function(){t.setUserList(e.data)})}},{key:"wsSetBanList",value:function(e){var t=this;this.$rootScope.$applyAsync(function(){t.setBanList(e.data)})}},{key:"setBanList",value:function(e){var t=this;e&&(this.isAdminOfChat||this.isModeratorOfChat)&&_.promise.then(function(){(h=(0,s.default)(e,function(e){return e.toLowerCase()})).forEach(function(e){p.banned.push({name:e,type:0,role:"banned"})})}).catch(function(){}).finally(function(){_=t.$q.defer()})}}]),e}();t.default=b},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(126),i=n(159),o=n(23),r=a?a.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(r&&e&&e[r])}},,function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},function(e,t,n){var a=n(1124);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,r=t.criteria,s=o.length,l=n.length;++i<s;){var c=a(o[i],r[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},function(e,t,n){var a=n(127);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,r=a(e),s=void 0!==t,l=null===t,c=t==t,u=a(t);if(!l&&!u&&!r&&e>t||r&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!r&&!u&&e<t||u&&n&&o&&!i&&!r||l&&n&&o||!s&&o||!c)return-1}return 0}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(){t.set({authToken:e.getToken(),channel:e.getName(),ignore_list:i.join(",")})}var a=void 0,i=[];e.whenUserLoggedIn().then(function(){t.get({authToken:e.getToken(),channel:e.getName()},function(e){e.ignore_list&&e.ignore_list.length&&(i=e.ignore_list.split(","))})}),this.add=function(e){e=e.toLowerCase(),this.contains(e)||(i.push(e),this.setUsers(),n())},this.get=function(){return i},this.setUsers=function(){a=[];for(var e=0;e<i.length;e++)a.push({name:i[e],type:0,role:"ignored"})},this.getUsers=function(){return a},this.remove=function(e){e=e.toLowerCase(),i=(0,o.default)(i,e),this.setUsers(),n()},this.contains=function(e){return!!e&&(e=e.toLowerCase(),(0,r.default)(i,e))},this.empty=function(){i=[],this.setUsers(),n()}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(56)),r=a(n(57));i.$inject=["loggedUser","ChatSettings"],t.default=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function a(e,t){return""===e.role&&""===t.role?0:i(e,"broadcaster")&&!i(t,"broadcaster")?-1:!i(e,"broadcaster")&&i(t,"broadcaster")?1:i(e,"staff")&&!i(t,"staff")?-1:!i(e,"staff")&&i(t,"staff")?1:i(e,"staff")&&i(t,"staff")&&e.name.toLowerCase()<t.name.toLowerCase()?-1:i(e,"staff")&&i(t,"staff")&&e.name.toLowerCase()>t.name.toLowerCase()?1:i(e,"community")&&!i(t,"community")?-1:!i(e,"community")&&i(t,"community")?1:i(e,"community")&&i(t,"community")&&e.name.toLowerCase()<t.name.toLowerCase()?-1:i(e,"community")&&i(t,"community")&&e.name.toLowerCase()>t.name.toLowerCase()?1:i(e,"mod")&&!i(t,"mod")?-1:!i(e,"mod")&&i(t,"mod")?1:i(e,"mod")&&i(t,"mod")&&i(e,"subscriber")&&!i(t,"subscriber")?-1:i(e,"mod")&&i(t,"mod")&&!i(e,"subscriber")&&i(t,"subscriber")?1:i(e,"mod")&&i(t,"mod")&&i(e,"subscriber")&&i(t,"subscriber")&&e.name.toLowerCase()<t.name.toLowerCase()?-1:i(e,"mod")&&i(t,"mod")&&i(e,"subscriber")&&i(t,"subscriber")&&e.name.toLowerCase()>t.name.toLowerCase()?1:i(e,"mod")&&i(t,"mod")&&e.name.toLowerCase()<t.name.toLowerCase()?-1:i(e,"mod")&&i(t,"mod")&&e.name.toLowerCase()>t.name.toLowerCase()?1:i(e,"subscriber")&&!i(t,"subscriber")?-1:!i(e,"subscriber")&&i(t,"subscriber")?1:i(e,"subscriber")&&i(t,"subscriber")&&e.name.toLowerCase()<t.name.toLowerCase()?-1:i(e,"subscriber")&&i(t,"subscriber")&&e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0}function i(e,t){return""!==e.role&&e.role&&-1!==e.role.indexOf(t)}var v=this;n.connect(y)(this);var w={match:function(e,t){return t.toLowerCase()===v.channelName.toLowerCase()},getExtendProperties:function(){return{role:"broadcaster",image:b.default.imgUrl+v.channelLogo}}},$={match:function(e,t){return(0,r.default)(e.isStaff,t)},getExtendProperties:function(){return{role:"staff"}}},x=[w,$,{match:function(e,t){return(0,r.default)(e.isCommunity,t)},getExtendProperties:function(){return{role:"community"}}},{match:function(e,t){return(0,r.default)(e.admin,t)||(0,r.default)(e.user,t)},getExtendProperties:function(){return{role:"mod"}}},{match:function(e,t){return(0,r.default)(e.anon,t)},getExtendProperties:function(){return{role:"anon"}}}],k=[{match:function(e,t){return(0,r.default)(e.isSubscriber,t)&&!w.match(e,t)&&!$.match(e,t)},getExtendProperties:function(t){var n={role:t.role+" subscriber",subscriber:!0};return(0,s.default)(e.get())||(n.image=b.default.imgUrl+(0,l.default)(e.get()).badge_image),n}},{match:function(e,t){return(0,r.default)(e.isFollower,t)},getExtendProperties:function(e){return{role:e.role+" follower",follower:!0}}},{match:function(e,n){return n.toLowerCase()===t.getName().toLowerCase()},getExtendProperties:function(){return{color:v.nameColor}}}];this.create=function(e){var t={broadcaster:[],admin:[],mod:[],user:[],full:[],banned:[],search:"",role:""};if((0,o.default)(e))return t;var n=(0,c.default)(e,"admin","user","anon","isFollower","isSubscriber","isStaff","isCommunity"),i=(0,u.default)(d.default,f.default,p.default)(n);return t.full=i.map(function(e){function t(e){return e.match(n,a.name)}var a=function(e){return{name:e,type:0,role:""}}(e),i=(0,m.default)(x,t),o=(0,h.default)(k,t);return a=function(e,t,n){return(0,g.default)([e],t).forEach(function(e){n=(0,_.default)(n,e.getExtendProperties(n))}),n}(i,o,a)}),t.full.sort(a),t}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(11)),r=a(n(57)),s=a(n(129)),l=a(n(132)),c=a(n(1127)),u=a(n(514)),d=a(n(216)),f=a(n(513)),p=a(n(222)),m=a(n(32)),h=a(n(58)),g=a(n(520)),_=a(n(59)),v=n(8),b=a(n(2));i.$inject=["badges","loggedUser","$ngRedux"];var y=function(e){var t=e.channel,n=e.chat;return{channelName:(0,v.getName)(t),channelLogo:(0,v.getLogo)(t),nameColor:n.options.nameColor}};t.default=i},function(e,t,n){var a=n(1128),i=n(512)(function(e,t){return null==e?{}:a(e,t)});e.exports=i},function(e,t,n){var a=n(1129),i=n(446);e.exports=function(e,t){return a(e,t,function(t,n){return i(e,n)})}},function(e,t,n){var a=n(282),i=n(1130),o=n(212);e.exports=function(e,t,n){for(var r=-1,s=t.length,l={};++r<s;){var c=t[r],u=a(e,c);n(u,c)&&i(l,o(c,e),u)}return l}},function(e,t,n){var a=n(293),i=n(212),o=n(161),r=n(29),s=n(163);e.exports=function(e,t,n,l){if(!r(e))return e;for(var c=-1,u=(t=i(t,e)).length,d=u-1,f=e;null!=f&&++c<u;){var p=s(t[c]),m=n;if(c!=d){var h=f[p];void 0===(m=l?l(h,p,f):void 0)&&(m=r(h)?h:o(t[c+1])?[]:{})}a(f,p,m),f=f[p]}return e}},function(e,t,n){var a=n(309),i=n(512),o=n(311),r=n(517),s=n(23),l=n(518);e.exports=function(e){return i(function(t){var n=t.length,i=n,c=a.prototype.thru;for(e&&t.reverse();i--;){var u=t[i];if("function"!=typeof u)throw new TypeError("Expected a function");if(c&&!d&&"wrapper"==r(u))var d=new a([],!0)}for(i=d?i:n;++i<n;){u=t[i];var f=r(u),p="wrapper"==f?o(u):void 0;d=p&&l(p[0])&&424==p[1]&&!p[4].length&&1==p[9]?d[r(p[0])].apply(d,p[3]):1==u.length&&l(u)?d[f]():d.thru(u)}return function(){var e=arguments,a=e[0];if(d&&1==e.length&&s(a))return d.plant(a).value();for(var i=0,o=n?t[i].apply(this,e):a;++i<n;)o=t[i].call(this,o);return o}})}},,,,function(e,t,n){var a=n(441),i=n(516),o=n(209),r=a&&1/o(new a([,-0]))[1]==1/0?function(e){return new a(e)}:i;e.exports=r},function(e,t,n){var a=n(104),i=n(215),o=n(105),r=i(function(e,t){a(t,o(t),e)});e.exports=r},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/user/list",{},{get:{method:"GET",params:{},isArray:!0}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return{restrict:"AE",scope:{},link:function(t,n){t.$watchCollection(function(){return e.get()},function(e,t){var a=(0,i.default)(e,t),o=(0,i.default)(t,e);!function(e){e.forEach(function(e){n.find("li.from_"+e).hide()})}(a),function(e){e.forEach(function(e){n.find("li.from_"+e).show()})}(o)})}}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(521));a.$inject=["ignoreList"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(92),o=function(e){return e&&e.__esModule?e:{default:e}}(n(1140));n(1141);var r=void 0,s=function(e){var t=e.chat;return{isAdminOfChat:t.permissions.isAdmin,isModeratorOfChat:t.permissions.isModerator}},l=function(){function e(t,n,a,i,o,r,l,c,u){var d=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getFullUserList=function(){return d.userList.getUserLists().full},this.getBannedUserList=function(){return d.userList.getUserLists().banned},this.getIgnoredUserList=function(){return d.ignoreList.getUsers()},this.isUserListSticky=function(){return d.chatOptions.isStickyUserList()},Object.assign(this,{userList:t,ignoreList:n,$rootScope:a,$scope:i,userPopover:o,chatOptions:r,Analytics:l,loggedUser:c}),this.$ngRedux=u,this.unsubscribeReduxConnection=this.$ngRedux.connect(s)(this)}return e.$inject=["userList","ignoreList","$rootScope","$scope","userPopover","chatOptions","Analytics","loggedUser","$ngRedux"],a(e,[{key:"$onInit",value:function(){this.userList.setActive(!0),this.initFilter(),this.getGuestCount=this.userList.getGuestCount,this.getUserCount=this.userList.getUserCount,this.isSuperAdmin=this.loggedUser.isSuperAdmin,this.isLoading=this.userList.isLoading,this.isSticky=this.chatOptions.isStickyUserList(),r=this.getFullUserList}},{key:"$onDestroy",value:function(){this.userList.setActive(!1),this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"setSelectedRole",value:function(e){e&&r!==this.getFullUserList&&(r=this.getFullUserList),e=e||"",this.filter.role=e===this.filter.role?"":e}},{key:"saveStickyState",value:function(){this.chatOptions.setStickyUserList(this.isSticky),this.isSticky?(this.initFilter(),this.Analytics.trackEvent("detailPageStickyUserlist","sticky")):this.Analytics.trackEvent("detailPageStickyUserlist","unSticky"),this.$rootScope.$broadcast("chatResize"),this.$ngRedux.dispatch((0,i.goToChat)()),this.$rootScope.$broadcast("focusMsgTxt")}},{key:"toggleIgnoreList",value:function(){this.ignoreList.setUsers(),this.toggleList(this.getIgnoredUserList)}},{key:"toggleBanList",value:function(){this.toggleList(this.getBannedUserList)}},{key:"isBanListVisible",value:function(){return this.isListVisible(this.getBannedUserList)}},{key:"isIgnoreListVisible",value:function(){return this.isListVisible(this.getIgnoredUserList)}},{key:"getGridData",value:function(){return r()}},{key:"isOwner",value:function(e){return e.includes("broadcaster")}},{key:"toggleList",value:function(e){this.initFilter(),r=this.isListVisible(e)?this.getFullUserList:e}},{key:"isListVisible",value:function(e){return r===e}},{key:"initFilter",value:function(){this.filter={name:"",role:""}}}]),e}();t.default={templateUrl:o.default,controller:l}},function(e,t,n){var a="/src/js/chat/user-list/components/chat-user-list.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-class="[\'chat-user-list\', {\n        \'chat-user-list--sticky\': $ctrl.isUserListSticky(),\n    }]"> <div class=chat-user-list__header> <div class=search-wrap> <input class=search type=text ng-model=$ctrl.filter.name ng-model-options="{\n                    debounce: {\n                        \'default\': 250,\n                        \'blur\': 0,\n                    },\n                }" placeholder="{{::\'global_text_search\' | translate}}" spellcheck=false /> </div> <div class=chat-user-list__header__filters> <label ng-if="::$root.section === \'dashboard\'" class="chat-user-list__header__filter chat-user-list__header__filter--moderators" ng-click="$ctrl.setSelectedRole(\'mod\')" ng-class="{\n                    \'chat-user-list__header__filter--is-active\': $ctrl.filter.role === \'mod\',\n                }" uib-tooltip="{{::\'view_chat_tooltip_only-moderators\' | translate}}" tooltip-placement="auto top" tooltip-append-to-body=true> <smash-icon icon=badge-mod size=24></smash-icon> </label> <label ng-if="::$root.section === \'dashboard\'" class="chat-user-list__header__filter chat-user-list__header__filter--subscribers" ng-click="$ctrl.setSelectedRole(\'subscriber\')" ng-class="{\n                    \'chat-user-list__header__filter--is-active\': $ctrl.filter.role === \'subscriber\',\n                }" uib-tooltip="{{::\'view_chat_tooltip_only-subscribers\' | translate}}" tooltip-placement="auto top" tooltip-append-to-body=true> <smash-icon icon=badge-subscriber size=24></smash-icon> </label> <label ng-if="::$root.section === \'dashboard\'" class="chat-user-list__header__filter chat-user-list__header__filter--followers" ng-click="$ctrl.setSelectedRole(\'follower\')" ng-class="{\n                    \'chat-user-list__header__filter--is-active\': $ctrl.filter.role === \'follower\',\n                }" uib-tooltip="{{::\'view_chat_tooltip_only-followers\' | translate}}" tooltip-placement="auto top" tooltip-append-to-body=true> <smash-icon icon=heart-outline size=24></smash-icon> </label> <label class="chat-user-list__header__filter chat-user-list__header__filter--ignored" ng-click=$ctrl.toggleIgnoreList() ng-class="{\n                    \'chat-user-list__header__filter--is-active\': $ctrl.isIgnoreListVisible(),\n                }" uib-tooltip="{{::\'view_chat_tooltip_show-ignorelist\' | translate}}" tooltip-placement="auto top" tooltip-append-to-body=true> <smash-icon icon=ignore-msg size=24></smash-icon> </label> <label ng-show="$ctrl.isAdminOfChat || $ctrl.isModeratorOfChat" class="chat-user-list__header__filter chat-user-list__header__filter--banned" ng-click=$ctrl.toggleBanList() ng-class="{\n                    \'chat-user-list__header__filter--is-active\': $ctrl.isBanListVisible(),\n                }" uib-tooltip="{{::\'view_chat_tooltip_show-banlist\' | translate}}" tooltip-placement="auto top" tooltip-append-to-body=true> <smash-icon icon=banned-user size=24></smash-icon> </label> </div> <div> <label class=chat-user-list__header__filter ng-hide="$root.section === \'dashboard\' || $root.section === \'channel\' || $ctrl.isUserListSticky()" uib-tooltip="{{::\'view_chat_tooltip_pin-chat\' | translate}}" tooltip-placement="auto top" tooltip-append-to-body=true ng-click="$ctrl.isSticky = true; $ctrl.saveStickyState()"> <smash-icon icon=pin size=24></smash-icon> </label> <label class="chat-user-list__header__filter chat-user-list__header__close-sticky" ng-hide="$root.section === \'dashboard\' || $root.section === \'channel\' || !$ctrl.isUserListSticky()" ng-click="$ctrl.isSticky = false; $ctrl.saveStickyState()"> <span class="chat-user-list__header__close-sticky__icon chat-user-list__header__close-sticky__icon--pin"> <smash-icon icon=pin size=24></smash-icon> </span> <span class="chat-user-list__header__close-sticky__icon chat-user-list__header__close-sticky__icon--close"> <smash-icon icon=close size=16></smash-icon> </span> </label> </div> </div> <div ng-if=$ctrl.isSuperAdmin() class=chat-numbers> <div> <span>Guests</span> {{$ctrl.getGuestCount()}} </div> <div> <span>Regist.</span> {{$ctrl.getUserCount()}} </div> </div> <bouncy ng-if=$ctrl.isLoading()></bouncy> <div class=chat-user-list__wrapper ng-if=!$ctrl.isLoading()> <htbx-scrollable disable-over-scroll=true> <div vs-repeat=22 vs-excess=20 vs-scroll-parent=.tse-scroll-content style=overflow-x:hidden> <div ng-repeat="user in $ctrl.getGridData() | filter:{name:$ctrl.filter.name, role: $ctrl.filter.role} track by user.name"> <htbx-user-popover-link class="user {{user.role}}" user-name=user.name> <span class=badge></span> <span class=badge-sub back-img={{::user.image}} back-img-fallback="{{::($ctrl.isOwner(user.role) ? $root.config.fallbackImages.userLogoSmall : $root.config.fallbackImages.subBadge)}}"></span> <span class=name ng-style="{{ user.color ? {color: \'#\' + user.color} : \'\'}}"> {{user.name}} </span> </htbx-user-popover-link> </div> </div> </htbx-scrollable> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1143)),r=a(n(1144)),s=a(n(1145)),l=a(n(1146)),c=a(n(1147)),u=a(n(1148));t.default=i.default.module("chat.emote",[]).factory("ChatEmotes",o.default).factory("ChatIcons",r.default).factory("Emotify",s.default).service("emotes",l.default).service("favoriteEmotes",c.default).component("emotesList",u.default).name},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/chat/emotes/available/:user_name",{user_name:"@user_name",authToken:"@authToken",channel:"@channel"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/chat/icons/:media_id",{media_id:"@media_id"},{get:{method:"GET",params:t,isArray:!1},add:{method:"POST",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(){return function(){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.emotes=(0,o.fromJS)(t)}return i(e,[{key:"getEmotes",value:function(){return this.emotes}},{key:"findAndReplaceEmotes",value:function(e){var t=this,n=e.split(" ");return n.forEach(function(e,a){var i=(0,r.default)(e.trim()),o=t.emotes.find(function(e){return(0,r.default)(e.get("icon_short"))===i||(0,r.default)(e.get("icon_short_alt"))===i});if(o){var c=new RegExp((0,s.default)(o.get("icon_short"))+"|"+(0,s.default)(o.get("icon_short_alt")),"g");n[a]=i.replace(c,'<img src="'+l.default.imgUrl+o.get("icon_path")+'" title="'+o.get("icon_short")+'" alt="'+o.get("icon_short")+'" class="smiley" />')}}),n.join(" ")}}]),e}()};var o=n(9),r=a(n(173)),s=a(n(313)),l=a(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(9),r=n(0),s=n(8),l=function(e){var t=e.channel;return{channelName:(0,s.getName)(t)}},c=function(){function e(t,n,a,i,o,r,s){var c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hasNoSubEmotes=function(){return c.noSubEmotes},Object.assign(this,{ChatEmotes:t,ChatIcons:n,Emotify:a,loggedUser:i,SubscriberEmotes:o,$q:r}),this.$ngRedux=s,this.reset(),this.$ngRedux.connect(l)(this)}return e.$inject=["ChatEmotes","ChatIcons","Emotify","loggedUser","SubscriberEmotes","$q","$ngRedux"],i(e,[{key:"init",value:function(e){var t=this;this.reset(),this.SubscriberEmotes.get({channel:e||this.channelName},function(e){t.deferredSubEmotes.resolve(e.items),t.emotifierSubEmotes=new t.Emotify(e.items),t.setNoSubEmotes(0===e.icons.length)}),this.getDefaultEmotes()}},{key:"reset",value:function(){this.subEmotes=[],this.noSubEmotes=!0,this.emotifierEmotes=null,this.deferredEmotes=this.$q.defer(),this.emotifierSubEmotes=null,this.deferredSubEmotes=this.$q.defer(),this.availableEmotes=[],this.deferredAvailableEmotes=this.$q.defer()}},{key:"getDefaultEmotes",value:function(){var e=this;this.ChatIcons.get({media_id:this.channelName},function(t){if(t.items)return e.emotifierEmotes=new e.Emotify(t.items),void e.deferredEmotes.resolve(t.items);e.deferredEmotes.reject("Error loading emotes.")})}},{key:"allEmotesLoaded",value:function(){return this.$q.all([this.deferredEmotes.promise,this.deferredSubEmotes.promise])}},{key:"setNoSubEmotes",value:function(e){this.noSubEmotes=e}},{key:"updateEmotes",value:function(){var e=this,t={user_name:this.loggedUser.isAuthenticated()?this.loggedUser.getName():this.channelName,authToken:this.loggedUser.getToken(),channel:this.channelName};this.deferredAvailableEmotes=this.$q.defer(),this.ChatEmotes.get(a({},t)).$promise.then(function(t){var n=(0,o.fromJS)((0,r.fromJson)((0,r.toJson)(t)));e.availableEmotes=n,e.deferredAvailableEmotes.resolve(n)})}}]),e}();t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(32)),o=a(n(222)),r=a(n(16)),s="chat.frequentlyUsedEmotes";t.default=function(){function e(){t=(0,o.default)(r.default.get(s,[]),!1,function(e){return e.icon_short})}var t=void 0;e(),this.use=function(e){!function(e){var n=(0,i.default)(t,{icon_short:e.icon_short});n?n.value+=1:(e.value=1,t.push(e)),r.default.set(s,t)}(e=function(e){return!e.icon_short&&Array.isArray(e)&&(e={icon_path:e[0],icon_name:e[1],icon_short:e[2]}),e}(e))},this.get=function(){return t},this.init=function(){e()}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(9),r=a(n(45)),s=n(42),l=n(8);n(1149);var c=a(n(1150)),u=8,d=function(e){var t=e.channel,n=e.chat;return{channelName:(0,l.getName)(t),isAdminOfChat:n.permissions.isAdmin,isSubscribedToChat:n.permissions.isSubscribed}},f=function(){function e(t,n,a,i,o,r,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{favoriteEmotes:t,badges:n,loggedUser:a,$rootScope:i,$timeout:o,$log:r,$translate:s}),this.$ngRedux=l,this.unsubscribeReduxConnection=this.$ngRedux.connect(d)(this)}return e.$inject=["favoriteEmotes","badges","loggedUser","$rootScope","$timeout","$log","$translate","$ngRedux"],i(e,[{key:"$onInit",value:function(){function e(e){if(n%u==0)return this.activeRow={items:[],row:this.rows.length},this.activeRow.items.push({icon_path:e.get("icon_path"),icon_short:e.get("icon_short")}),this.rows.push(this.activeRow),void(n+=1);this.activeRow.items.push({icon_path:e.get("icon_path"),icon_short:e.get("icon_short")}),n+=1}var t=this;if(o.Iterable.isIterable(this.emotes)){this.rows=[],this.activeRow=null;var n=0;if(this.requiresPartner)this.emotes.forEach(function(n){e.call(t,n)});else{var a=this.favoriteEmotes.get();a.length&&(this.rows.push({title:this.$translate.instant("component_emotes-list_frequently-used"),row:this.rows.length}),a.forEach(function(n){n=(0,o.fromJS)(n),e.call(t,n)})),this.emotes.forEach(function(i){if(t.emotes.size>1||a.length){var o=i.first().get("category_name");o="default"===o?t.$translate.instant("component_emotes-list_default-emotes"):i.first().get("category_description")||o,t.rows.push({title:o,row:t.rows.length})}n=0,i.forEach(function(n){e.call(t,n)})})}}else this.$log.error("Could not initialize emote list. Please make sure that you provide an immutable list!")}},{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"setVisible",value:function(e){var t=this,n=e+7.25;this.$timeout(function(){t.rows.forEach(function(t,a){t.visible=a>=e&&a<n})})}},{key:"use",value:function(e){if(this.loggedUser.isAuthenticated()){if(this.canUse()){this.favoriteEmotes.use(e);var t=this.getFixedEmoteName(e);this.$rootScope.$broadcast("chatInputEvent",{type:"emote",data:t}),(0,r.default)(this.onUse)&&this.onUse()}}else this.$ngRedux.dispatch((0,s.showChatSignup)())}},{key:"canUse",value:function(){return!this.requiresPartner||this.isSubscribedToChat||this.isAdminOfChat}},{key:"getFixedEmoteName",value:function(e){return e.icon_short.replace("&gt;",">").replace("&lt;","<")}}]),e}();t.default={bindings:{onUse:"&",emotes:"<",requiresPartner:"<"},templateUrl:c.default,controller:f}},function(e,t){},function(e,t,n){var a="/src/js/chat/emote/components/emotes-list.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<header class=emotes-list__header></header> <div ng-if="$ctrl.rows.length > 0" class=emotes-list__wrap> <htbx-scrollable disable-over-scroll=true> <div vs-repeat vs-scroll-parent=.tse-scroll-content> <div class=emotes-list__row ng-class="{\n                    \'emotes-list__row--separator\': (row.isSeparator && !$last),\n                }" ng-repeat="row in $ctrl.rows track by row.row"> <div ng-if=row.title class=emotes-list__row__title> {{row.title}} </div> <div ng-if=!row.title class=emotes-list__row__item ng-repeat="emote in row.items track by emote.icon_short" ng-click=$ctrl.use(emote) ng-class="{ \'emotes-list__row__item--disabled\': !$ctrl.canUse()}"> <img class=emotes-list__row__item__img uib-tooltip={{::$ctrl.getFixedEmoteName(emote)}} data-tooltip-placement="top auto" data-tooltip-append-to-body=true data-tooltip-popup-delay=300 ng-src={{::$root.config.imgUrl}}{{emote.icon_path}} alt=""/> </div> </div> </div> </htbx-scrollable> </div> <footer ng-if="!$ctrl.isSubscribedToChat && !$ctrl.isAdminOfChat && $ctrl.requiresPartner" class=emotes-list__not-subscribed> <div class=emotes-list__not-subscribed__text> {{:: \'global_link_subscribe-to-use\' | translate }} </div> <subscription-button channel={{$ctrl.channelName}}></subscription-button> </footer> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){e.register("chatLogMessage"),e.register("chatMessage"),e.register("incomingWhisperMessage"),e.register("infoMessage"),e.register("localMessage"),e.register("outgoingWhisperMessage"),e.register("slowMessage")}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(314)),s=a(n(87)),l=a(n(15)),c=a(n(522)),u=a(n(298)),d=a(n(1162)),f=a(n(1165)),p=a(n(1168)),m=a(n(1177)),h=a(n(1178)),g=a(n(1179)),_=a(n(1180)),v=a(n(1181)),b=a(n(1182)),y=a(n(1183)),w=a(n(1184)),$=a(n(1189)),x=a(n(1190));i.$inject=["chatMessagesFactory"],t.default=o.default.module("chat.messages",[s.default,l.default,c.default,u.default,r.default.name]).run(i).component("chatLogMessages",d.default).component("chatMessages",f.default).directive("reactChatMessages",["reactDirective",function(e){return e(x.default,["setItemsCallback","setScrollToBottomCallback"])}]).factory("chatLogMessage",m.default).factory("chatMessage",p.default).factory("incomingWhisperMessage",h.default).factory("infoMessage",g.default).factory("localMessage",_.default).factory("outgoingWhisperMessage",v.default).factory("slowMessage",b.default).service("chatLogMessages",y.default).service("chatMessages",w.default).service("chatMessagesFactory",$.default).name},,,,,,,,,function(e,t,n){"use strict";function a(e,t){function n(){return!!o}function a(){return n()&&"granted"===o.permission}this.requestPermission=function(){n()&&(a()||o.requestPermission(function(e){(0,i.default)(o,"permission")||(o.permission=e)}))},this.show=function(i,r){var s=void 0;if(n())if(a())try{s=new o(i,r),t(function(){s.close()},1e4,!1)}catch(e){}else e.debug("Has no permission to show notification: %s",i)}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(107));a.$inject=["$log","$timeout"];var o=window.Notification;t.default=a},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1163));n(1164);var o=function(){function e(t,n,a,i,o,r,s,l,c){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDashboard=function(){return u.$state.is("studio.dashboard")},Object.assign(this,{$uibModal:t,$scope:n,$state:a,userPopover:i,$rootScope:o,chatLogMessages:r,ChatChannel:s,loggedUser:l,User:c})}return e.$inject=["$uibModal","$scope","$state","userPopover","$rootScope","chatLogMessages","ChatChannel","loggedUser","User"],a(e,[{key:"$onInit",value:function(){this.chatLogMessages.init(),this.getCSV=this.chatLogMessages.getCSV,this.chatLogMessages=this.chatLogMessages.get,this.isLoading=this.chatLogMessages.isLoading}},{key:"openModal",value:function(e){if(this.isFeedPost(e)){var t={animation:!0,backdrop:!0,keyboard:!0,windowClass:"feed-post-modal",component:"FeedPostModal",resolve:{message:function(){return e}}};this.$uibModal.open(t)}}},{key:"isFeedPost",value:function(e){return e.popover&&e.phrases.length>0&&"wrote a post"===e.phrases[0]}}]),e}();t.default={templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/chat/messages/components/chat-log-messages.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section ng-class="{ \'chat-log-messages--loading\': $ctrl.isLoading() }" class="chat-log-messages animate"> <bouncy ng-if=$ctrl.isLoading()></bouncy> <smash-button-csv-download tooltip-placement="auto left" uib-tooltip="{{:: \'view_dashboard_tooltip_download-csv\' | translate }}" tooltip-append-to-body=true get-data=$ctrl.getCSV filename="\'activity.csv\'" icon-only=true class=chat-log-messages__download-csv></smash-button-csv-download> <ul ng-if="!$ctrl.isLoading() && $ctrl.chatLogMessages().length > 0"> <li class="chat-log-messages__message-group animate" ng-repeat="(key, day) in $ctrl.chatLogMessages() | limitTo:200 | groupBy: \'day\' | reverse track by key"> <header class=chat-log-messages__day> {{(day|first).day | dateFormat:\'ddd, ll\':true}} </header> <div class="chat-log-messages__message animate" ng-repeat="message in day track by message.uid"> <div class=chat-log-messages__content> <div class=chat-log-messages__time> {{::message.timestamp | dateFormat:\'HH:mm\':true}} </div> <div ng-if=::!message.i18n class=chat-log-messages__text> <htbx-user-popover-link ng-if=::message.users|first class=chat-log-messages__text__block user-name=message.users|first> <a class=chat-log-messages__user href=javascript:void(0);> {{::message.users|first}} </a> </htbx-user-popover-link> <span class=chat-log-messages__text__block> {{::message.phrases|first}} </span> <htbx-user-popover-link class=chat-log-messages__text__block ng-if="::message.users.length > 1" user-name=message.users[1]> <a class=chat-log-messages__user> {{::message.users[1]}} </a> </htbx-user-popover-link> <span class=chat-log-messages__text__block ng-if="::message.phrases.length > 1"> {{::message.phrases[1]}} </span> <button ng-if=::message.popover ng-click=$ctrl.openModal(message) class=chat-log-messages__info tooltip-trigger uib-tooltip={{::message.popover}} tooltip-append-to-body=true> <smash-icon data-icon=question data-size=16></smash-icon> </button> </div> <div ng-if=::message.i18n class=chat-log-messages__text> <span class=chat-log-messages__text__block translate={{::message.text.variable}} translate-values=message.text.params translate-compile></span> <button ng-if=::message.popover ng-click=$ctrl.openModal(message) class=chat-log-messages__info tooltip-trigger uib-tooltip={{::message.popover}} tooltip-append-to-body=true> <smash-icon data-icon=question data-size=16></smash-icon> </button> </div> </div> </div> </li> </ul> </section> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=a(n(12)),s=a(n(57)),l=a(n(2)),c=n(8),u=n(92),d=a(n(1166)),f=a(n(523));n(1167);var p=null,m=function(){function e(t,n,a,i,r,u,d,m,h,g){var _=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mapState=function(e){var t=e.channel,n=e.chat;return _.compact===n.options.compact&&_.timestamps===n.options.timestamps&&_.fontSize===n.options.fontSize||_.$timeout(function(){_.$rootScope.$apply()},100),{channelName:(0,c.getName)(t),compact:n.options.compact,timestamps:n.options.timestamps,fontSize:n.options.fontSize}},this.joinChannel=function(){_.chatChannel.joinChannel(_.connectCounter)},this.increaseConnectCounter=function(){_.connectCounter+=1},this.userClickCallback={classSelector:"name",action:function(e,t){_.userClick(e.name,t)}},this.setItemsCallback=function(e){_.itemsCallback=e,_.chatMessages.subscribeOnNewMessage(_.onNewMessage)},this.onNewMessage=function(e){var t=new RegExp(l.default.chatHTTPUrl,"gim"),n=new RegExp("http://"+l.default.edgeRoute,"gim");e.forEach(function(e){Array.isArray(e.callbacks)||(e.media&&!0===e.media&&"https"===_.$location.protocol()&&(e.text=e.text.replace(t,l.default.chatHTTPSUrl),e.html=e.html.replace(t,l.default.chatHTTPSUrl)),"https"===_.$location.protocol()&&(e.html=e.html.replace(n,"https://"+l.default.edgeRoute),e.text=e.text.replace(n,"https://"+l.default.edgeRoute),e.html=e.html.replace(/http:\/\/(www\.|)smashcast\.tv/gim,"https://www.smashcast.tv"),e.text=e.text.replace(/http:\/\/(www\.|)smashcast\.tv/gim,"https://www.smashcast.tv")),e.callbacks=[]),(0,s.default)(e.callbacks,_.userClickCallback)||e.callbacks.push(_.userClickCallback)}),_.itemsCallback(e),(0,o.element)("[data-image-modal]").off("click",_.handleImageClick),(0,o.element)("[data-image-modal]").on("click",_.handleImageClick)},this.handleImageClick=function(e){var t=e.currentTarget.getAttribute("data-image-modal");if(t){e.preventDefault();var n={proxyUrl:t},a={animation:!0,backdrop:!0,keyboard:!0,windowClass:"image-modal",backdropClass:"image-modal",component:"ImageLogImageModal",resolve:{image:function(){return n}}};_.$uibModal.open(a).result.then(function(n){"repost"===n&&_.reuseImage(e,t)})}},this.setScrollToBottomCallback=function(e){_.$scope.$on("chat.ScrollToBottom",function(){_.$timeout(e,100,!1)})},this.userClick=function(e,t){t.preventDefault(),window.getSelection&&window.getSelection().removeAllRanges(),t.ctrlKey?_.$timeout(function(){_.$rootScope.$broadcast("chatInputEvent",{type:"mention",data:"@"+e})}):(p=t.target.parentNode,_.userPopover.selectUser(e),_.triggerPopOver=!_.triggerPopOver)},this.$ngRedux=t,Object.assign(this,{$location:n,$rootScope:a,$scope:i,$timeout:r,$uibModal:u,ChatChannel:d,chatMessages:m,emotes:h,userPopover:g}),this.connectCounter=0,this.templateUrlUserCard=f.default,this.unsubscribeReduxConnection=this.$ngRedux.connect(this.mapState)(this)}return e.$inject=["$ngRedux","$location","$rootScope","$scope","$timeout","$uibModal","ChatChannel","chatMessages","emotes","userPopover"],i(e,[{key:"$onInit",value:function(){var e=this;this.triggerPopOver=!1,this.chatChannel=new this.ChatChannel(this.channelName),this.chatMessages.init(),this.emotes.allEmotesLoaded().then(function(){r.default.on("open",e.joinChannel),r.default.on("serverChange",e.increaseConnectCounter)})}},{key:"$onDestroy",value:function(){this.chatMessages.unSubscribeOnNewMessages(this.onNewMessage),this.chatChannel&&this.chatChannel.partChannel(),r.default.off("open",this.joinChannel),r.default.off("serverChange",this.increaseConnectCounter),this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"reuseImage",value:function(e,t){e.preventDefault(),this.$ngRedux.dispatch((0,u.goToChat)()),this.chatMessages.send(this.channelName,t)}},{key:"getRelativeDomElement",value:function(){return p}}]),e}();t.default={templateUrl:d.default,controller:m}},function(e,t,n){var a="/src/js/chat/messages/components/chat-messages/chat-messages.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<section ng-class=\"[\n        'chat-messages',\n        {\n            compact: $ctrl.compact,\n            normal: !$ctrl.compact,\n            timestamps: $ctrl.timestamps,\n        },\n    ]\"> <span ng-class=\"'fontSize' + $ctrl.fontSize\"> <div generic-popover gp-width=180 gp-height=420 gp-position=left gp-template-url={{::$ctrl.templateUrlUserCard}} gp-on={{$ctrl.triggerPopOver}} gp-get-relative-element=$ctrl.getRelativeDomElement gp-keep-open=true> <react-chat-messages set-items-callback=$ctrl.setItemsCallback set-scroll-to-bottom-callback=$ctrl.setScrollToBottomCallback></react-chat-messages> </div> </span> </section> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,d,f,p,m){function h(e){var n="";return _(e.name)&&!function(e){return parseInt((0,s.default)(1e3*e).format("HHmm"),10)-parseInt((0,s.default)(1e3*p.getTimeOfLastMessage()).format("HHmm"),10)>=5}(e.timestamp)?n:(n+='<div class="title" style="border-color:#'+e.nameColor+'">',n+='<div class="chat-timestamp">'+e.time+"</div>",n+='<div class="chat-badges-and-username">',n+=function(e){function n(n,a,i){if("sub"===n){var o=t.get(),r=c.default.imgUrl+e.image;return o.forEach(function(t){t.badge_name===e.channel&&t.badge_image_fallback&&(r=c.default.fallbackImages.subBadge)}),'<span class="chat-badge chat-badge-'+n+'" title="'+a+'">\n                        <span class="chat-badge chat-badge-'+n+'" style="background-image:url('+r+')"></span>\n                    </span>'}return i?'<span class="chat-badge chat-badge-'+n+" chat-badge-"+n+'--fallback" title="'+a+'">\n                            <span class="chat-badge chat-badge-'+n+'" style="background-image:url('+c.default.imgUrl+e.image+')"></span>\n                        </span>':'<span class="chat-badge chat-badge-'+n+'" title="'+a+'"></span>'}function a(){return e.isOwner}function i(){return e.isStaff&&!e.isOwner}function o(){return e.isCommunity&&!e.isOwner}var r="",s=void 0;return!e.isSubscriber||e.isOwner||e.isStaff||a()||i()||o()||(s=m.instant("global_text_subscriber"),r+=n("sub",s,!0)),!a()||i()||o()||(s=m.instant("global_text_broadcaster"),r+=n("owner",s,!0)),("user"!==e.role||e.isStaff)&&("admin"!==e.role||e.isOwner||e.isStaff||e.isCommunity)||a()||i()||o()||(s=m.instant("global_text_moderator"),r+=n("mod",s)),i()&&(s=m.instant("global_text_hitbox-staff"),r+=n("staff",s)),o()&&(s=m.instant("global_text_community-ambassador"),r+=n("community",s)),r}(e),n+=function(e){return'<span class="name" style="color:#'+e.nameColor+"; border-color:#"+e.nameColor+'">'+e.name+"</span>"}(e),n+="</div></div>")}function g(e){return 0===e.toLowerCase().indexOf("** ")?"hightlight":""}function _(e){return e===p.getUserNameOfLastMessage()}var v=this;e.connect(u)(this);var b=function(e,t){var n="";return n+='<div class="'+function(e){var t="";return!e.isSubscriber||e.isOwner||e.isStaff||(t+="isSubscriber "),"user"===e.role&&(t+="isMod ",t+=g(e.text)),e.isOwner&&(t+="isOwner "),e.isStaff&&!e.isOwner&&(t+="isStaff ",t+=g(e.text)),e.isCommunity&&!e.isOwner&&(t+="isCommunity ",t+=g(e.text)),t}(e)+'">',n+=h(e),n+='<div class="message ',_(e.name)||(n+="message-user "),e.media&&v.allowImages&&(n+="media"),n+='">',("user"===e.role||e.isStaff)&&(e.text=function(e){return 0===e.toLowerCase().indexOf("** ")?e.substring(3):e}(e.text)),e.text=y(e.text),n+=function(e,t){return'<div class="chat-text">'+t+"</div></div>"}(0,e.text),n+="</div>"},y=function(e){if(!i.isAuthenticated)return e;var t=new RegExp("@"+i.getName(),"i");return i.isAuthenticated&&t.test(e)?e.replace(t,'<span class="citation" style="color:#'+v.nameColor+"; border-color:#"+v.nameColor+'">@'+i.getName()+"</span>"):e};return{match:function(e){return"chatMsg"===e},getMessage:function(e,t){var i=o.default.copy(e),c=n.emotifierEmotes;return!a.contains(e.name)&&(i.text=function(e){var t=void 0,n=void 0;return e.media?(v.allowImages?e.text=e.text.replace(/<div class="image"><img src="(.+?)".+?hbx-width="(.+?)".+?hbx-height="(.+?)".?\/><\/div>/g,function(e,a,i,o){return i>=0&&o>=0&&(t=d({x:i,y:o}),n=f({x:i,y:o})),'<a style="max-width: '+n.toFixed(2)+'px;" class="image" href="'+a+'" data-image-modal="'+a+'"><div style="height: 0;padding-bottom: '+t+'%;" class="image-wrapper"><img src="'+a+'"/><bouncy></bouncy></div></a>'}):e.text=e.text.replace(/<div class="image"><img src="(.+?)".+?\/><\/div>/g,'<a href="$1" target="_blank" rel="noopener">$1</a>'),e.text):e.text}(i),i.text=c.findAndReplaceEmotes(i.text),i.timestamp=i.time,i.timeAgo=(0,s.default)(1e3*i.time).fromNow(),i.time=(0,l.default)(1e3*i.time,"HH:MM"),i.uid=(0,r.default)(),"me"===i.type&&(i.typeClass="chat-message-me"),i.html=b(i),i.buffersent&&(i.html+='<div class="chat-buffer"><div>'+m.instant("view_chat_text_last-message")+" "+i.timeAgo+"</div></div>"),i)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=a(n(0)),r=a(n(46)),s=a(n(5)),l=a(n(225)),c=a(n(2));i.$inject=["$ngRedux","badges","emotes","ignoreList","loggedUser","imageRatioFilter","imageMaxWidthFilter","chatMessagesFactory","$translate"];var u=function(e){var t=e.chat;return{nameColor:t.options.nameColor,allowImages:t.options.images}}},,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=/<user>(.+?)<\/user>/g;return{match:function(e){return"chatLog"===e},getMessage:function(t){var n=o.default.copy(t),a=void 0;if(n.day=l.default.unix(n.timestamp).startOf("day").unix(),n.uid=(0,r.default)(),(0,i.isObject)(n.text))return n.i18n=!0,n;for(n.users=[];null!==(a=e.exec(n.text));)a.index===e.lastIndex&&(e.lastIndex+=1),n.users.push(a[1]);return n.phrases=(0,s.default)(n.text.replace(e,"$replace_user").split("$replace_user"),function(e){return e.length>0}).map(function(e){return e.trim()}),n}}};var i=n(0),o=a(i),r=a(n(46)),s=a(n(58)),l=a(n(5))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,l,c){return{match:function(e,t){return"whisperIn"===e&&(!a.contains(t.from)||function(e){return e.isStaff||e.isCommunity}(t))},getMessage:function(a){var u=o.default.copy(a),d=e.emotifierEmotes;return u.uid=(0,r.default)(),u.html='<div class="chat-direct-message incoming">\n                                <div class="title cf">\n                                    <div class="time"></div>\n                                    <div class="from">\n                                        <span class="type">'+n.instant("view_chat_text_whisper-from")+' </span>\n                                        <span class="name" style="color:#'+a.nameColor+'">'+a.from+'</span>\n                                    </div>\n                                    <a class="reply">'+n.instant("view_chat_text_whisper-reply")+'</a>\n                                </div>\n                                <div class="message">'+d.findAndReplaceEmotes(a.text)+"</div>\n                             </div>",u.name=a.from,u.translations=[],u.translations["view_chat_text_whisper-from"]=n.instant("view_chat_text_whisper-from"),u.translations["view_chat_text_whisper-reply"]=n.instant("view_chat_text_whisper-reply"),i.setLastWhisperer(a.from),u.callbacks=[{classSelector:"reply",action:function(){c(function(){l.$broadcast("chatInputEvent",{type:"whisper",data:"/w "+u.name+" "})})}}],t.show(n.instant("view_chat_text_whisper-from-username",{username:a.from}),{body:a.text,icon:s.default,tag:("hitbox"+a.from+a.text).hashCode()}),u.method="whisperInc",u}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=a(n(0)),r=a(n(46)),s=a(n(524));i.$inject=["emotes","notification","$translate","ignoreList","chatMessages","$rootScope","$timeout"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{match:function(e){return"infoMsg"===e},getMessage:function(e){var t=i.default.copy(e);return"directmsg"!==e.action&&(t.name&&(t.name=null),t.uid=(0,o.default)(),t.time=(0,r.default)(1e3*t.time,"HH:MM"),t.html='<div class="chat-status-message"><span class="chat-timestamp">'+t.time+'</span><span class="status-message">'+t.text+"</span></div>",t)}}};var i=a(n(0)),o=a(n(46)),r=a(n(225))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{match:function(e){return"localLog"===e},getMessage:function(e){var t=i.default.copy(e);return t.uid=(0,o.default)(),t.html='<div class="chat-status-message"><span class="chat-status-time"></span>'+e.text+"</div>",t}}};var i=a(n(0)),o=a(n(46))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return{match:function(e){return"whisperOut"===e},getMessage:function(n){var a=o.default.copy(n),i=e.emotifierEmotes;return a.uid=(0,r.default)(),a.html='<div class="chat-direct-message outgoing">\n                                <div class="title cf">\n                                    <div class="time"></div>\n                                    <div class="from">\n                                        <span class="type">'+t.instant("view_chat_text_whisper-to")+' </span>\n                                        <span class="name" style="color:#'+n.nameColor+'">'+n.to+'</span>\n                                    </div>\n                                </div>\n                                <div class="message">'+i.findAndReplaceEmotes(n.text)+"</div>\n                            </div>",a.name=n.to,a}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=a(n(0)),r=a(n(46));i.$inject=["emotes","$translate"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{match:function(e){return"slowMsg"===e},getMessage:function(e){var t=i.default.copy(e);return t.time=(0,r.default)(1e3*e.timestamp,"H:MM"),e.name&&(t.name=null),t.uid=(0,o.default)(),t.html='<div class="chat-status-message"><span class="chat-timestamp">'+t.time+"</span>"+e.text+"</div>",t}}};var i=a(n(0)),o=a(n(46)),r=a(n(225))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i){function l(e){i.$applyAsync(function(){f=!1,c.newLog("chatLog",e)})}var c=this,u=[],d=[],f=!0;this.isLoading=function(){return f},this.newLog=function(t,a,i){var s=e.create(t,a,i||{});s&&(u.unshift(s),d.unshift([r.default.unix(s.timestamp).format("llll"),(0,o.isObject)(a.text)?n.instant(a.text.variable,a.text.params):a.text.replace(/<(|\/)user>/gi,"")]))},this.getCSV=function(){var e=[[a.getName()],["Activity Log"],["Date","Activity"]];return e=e.concat(d)},this.get=function(){return u},this.empty=function(){f=!0,u.length=0,t.debug("Clearing logMessages")},this.init=function(){this.empty(),s.default.off("chat.chatLog",l),s.default.on("chat.chatLog",l)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(0),r=a(n(5)),s=a(n(12));i.$inject=["chatMessagesFactory","$log","$translate","loggedUser","$rootScope"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(32)),r=a(n(226)),s=a(n(1186)),l=a(n(133)),c=a(n(56)),u=a(n(57)),d=a(n(12)),f=function(e){var t=e.chat;return{isAdminOfChat:t.permissions.isAdmin,isModeratorOfChat:t.permissions.isModerator,chatUserRole:t.permissions.userRole,nameColor:t.options.nameColor}},p=function(){function e(t,n,a,i,o,r,s,c,u,d){var p=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.directMsgCallback=function(e){p.newMessage("whisperIn",e)},this.chatMsgCallback=function(e){e.buffer||p.removeConnected(),p.newMessage("chatMsg",e)},this.infoMsgCallback=function(e){p.newMessage("infoMsg",e)},this.loginMsgCallback=function(e){"guest"!==e.role&&(p.lastSentMessages.forEach(function(e){p.send(e.channel,e.text,e.type)}),p.clearLastSentMessages())},Object.assign(this,{$uibModal:t,$log:n,$rootScope:a,$timeout:i,Analytics:o,chatOptions:r,chatMessagesFactory:s,loggedUser:c,notification:u}),this.$ngRedux=d,this.messages=[],this.subscribers=[],this.throttledCallSubscribers=(0,l.default)(this.callSubscribers,480),this.lastWhisperer="",this.lastSentMessages=[],this.messageTimeout=null,this.$ngRedux.connect(f)(this)}return e.$inject=["$uibModal","$log","$rootScope","$timeout","Analytics","chatOptions","chatMessagesFactory","loggedUser","notification","$ngRedux"],i(e,[{key:"init",value:function(){this.empty(),this.setLastWhisperer(""),this.loggedUser.isAuthenticated()&&this.notification.requestPermission(),d.default.off("chat.directMsg",this.directMsgCallback),d.default.on("chat.directMsg",this.directMsgCallback),d.default.off("chat.chatMsg",this.chatMsgCallback),d.default.on("chat.chatMsg",this.chatMsgCallback),d.default.off("chat.infoMsg",this.infoMsgCallback),d.default.on("chat.infoMsg",this.infoMsgCallback),d.default.off("chat.loginMsg",this.loginMsgCallback),d.default.on("chat.loginMsg",this.loginMsgCallback)}},{key:"newMessage",value:function(e,t,n){if("infoMsg"!==e||(function(e){["slowmode","duplicate","timeout","banned","ipBanned","throttle","dmDisabled","dmThrottle","channelThrottle"].includes(e)&&this.clearLastSentMessages()}.call(this,t.action),"kicked"!==t.action&&"ban"!==t.action&&"unban"!==t.action||function(){return this.isAdminOfChat||this.isModeratorOfChat}.call(this)||function(){return this.messages.some(function(e){return e.name&&e.name.toLowerCase()===t.name.toLowerCase()})}.call(this)||function(){return t.name.toLowerCase()!==this.loggedUser.getName().toLowerCase()}.call(this))){var a=this.chatMessagesFactory.create(e,t,n||{});this.lastSentMessages=this.lastSentMessages.filter(function(e){return e.channel.toLowerCase()!==t.channel.toLowerCase()||e.id!==t.id||e.name.toLowerCase()!==t.name.toLowerCase()}),a&&(this.messages.push(a),this.messages.length>300&&(this.messages=(0,s.default)(this.messages)),this.throttledCallSubscribers())}}},{key:"send",value:function(e,t,n){if(t){var a={channel:e,name:this.loggedUser.getName(),nameColor:this.nameColor,text:t,id:function(){for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="",n=0,a=e.length;n<4;++n)t+=e.charAt(Math.floor(Math.random()*a));return t}()};n&&(a.type=n),"guest"!==this.chatUserRole&&(this.lastSentMessages.push(a),this.cancelLastSentMessagesTimeout(),this.messageTimeout=function(t){var n=this;return this.$timeout(function(){var a=n.lastSentMessages;(0,u.default)(a,t)&&(n.Analytics.trackEvent("chat","reconnect",angular.toJson({lastMessages:a,message:t,channel:e,chatRole:n.chatUserRole})),d.default.disconnect())},1e4)}.call(this,a)),this.$rootScope.$broadcast("chat.chatMsg",a),d.default.sendMessage("chat.chatMsg",a)}}},{key:"cancelLastSentMessagesTimeout",value:function(){this.messageTimeout&&this.$timeout.cancel(this.messageTimeout)}},{key:"subscribeOnNewMessage",value:function(e){this.subscribers.push(e),e(this.messages)}},{key:"unSubscribeOnNewMessages",value:function(e){this.subscribers=(0,c.default)(this.subscribers,e)}},{key:"get",value:function(){return this.messages}},{key:"empty",value:function(){this.messages.length=0,this.$log.debug("Clearing chatMessages"),this.throttledCallSubscribers()}},{key:"removeConnected",value:function(){var e=(0,o.default)(this.messages,{action:"connected"});e&&this.messages.splice(this.messages.indexOf(e),1)}},{key:"removeMessagesOfUser",value:function(e){this.messages=(0,r.default)(this.messages,function(t){return!t.action&&t.name&&t.name.toLowerCase()===e.toLowerCase()}),this.throttledCallSubscribers()}},{key:"getLastWhisperer",value:function(){return this.lastWhisperer}},{key:"setLastWhisperer",value:function(e){this.lastWhisperer=e}},{key:"callSubscribers",value:function(){var e=this;this.subscribers.forEach(function(t){t(e.messages)})}},{key:"clearLastSentMessages",value:function(){this.lastSentMessages=[]}}]),e}();t.default=p},function(e,t){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},function(e,t,n){var a=n(1187);e.exports=function(e){var t=null==e?0:e.length;return t?a(e,1,t):[]}},function(e,t){e.exports=function(e,t,n){var a=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+t];return o}},function(e,t,n){var a=n(33);e.exports=function(){return a.Date.now()}},function(e,t,n){"use strict";function a(e,t){function n(e){o=e}var a=[],o="",r="";this.create=function(e,o,s){var l=(0,i.default)(a,function(t){return t.match(e,o)});if(l){"me"===o.type&&n("");var c=l.getMessage(o,s);return"me"!==o.type&&n(c.name),function(e){r=e}(o.time),c}t.warn("Can't find chat message strategy to use with the following type of message: %s",e)},this.register=function(n){e.has(n)?(t.debug('Registering "%s" as a chatMessage strategy',n),a.push(e.get(n))):t.error('Can\'t find "%s" factory to use as a chatMessage strategy ',n)},this.getUserNameOfLastMessage=function(){return o},this.getTimeOfLastMessage=function(){return r}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(32));a.$inject=["$injector","$log"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1191));t.default=a.default},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(13)),r=a(n(525)),s=a(n(43)),l=a(n(11)),c=n(1),u=a(c),d=(a(n(3)),n(227)),f=a(n(1212));n(1225);var p=480,m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={items:[],autoScroll:!0},n.setItems=function(e){e=(0,r.default)(e),n.state.autoScroll?n.setState({items:e}):n.tempNewMessages=e},n.scrollToBottom=function(){n.$scrollable&&n.$scrollable.stop().animate({scrollTop:n.$scrollable.prop("scrollHeight")+1},p)},n.element=null,n.$element=null,n.$scrollable=null,n.tempNewMessages=[],n.debouncedOnScroll=(0,s.default)(n.onScroll.bind(n),p),n.boundSetAutoScrollTrue=n.setAutoScroll.bind(n,!0),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),i(t,[{key:"componentWillMount",value:function(){this.props.setItemsCallback(this.setItems),this.props.setScrollToBottomCallback(this.scrollToBottom)}},{key:"componentDidMount",value:function(){function e(e){(function(e){return 40===e.keyCode||"mousewheel"===e.type||"touchstart"===e.type||"DOMMouseScroll"===e.type})(e)&&(function(e){var t=0;return(0,l.default)(e.detail)||(t=-1*e.detail),(0,l.default)(e.wheelDelta)||(t=e.wheelDelta),t<0}(e.originalEvent)?n.isAtBottom()&&e.preventDefault():n.isAtBottom()||t())}function t(){n.$scrollable.stop(),n.setAutoScroll(!1)}var n=this;this.element&&(this.$element=(0,o.default)(this.element),this.$element.TrackpadScrollEmulator({wrapContent:!1}),this.$scrollable=this.$element.find(".tse-scroll-content"),this.$scrollbar=this.$element.find(".tse-scrollbar"),n.$element.bind("scroll DOMMouseScroll mousewheel keydown touchstart",e),n.$scrollbar.bind("mousedown touchstart",t))}},{key:"componentDidUpdate",value:function(){this.state.autoScroll&&this.scrollToBottom()}},{key:"componentWillUnmount",value:function(){this.$scrollbar.unbind(),this.$element.TrackpadScrollEmulator("destroy"),this.element=null,this.$element.unbind(),this.$element=null,this.$scrollable=null,this.$scrollbar=null}},{key:"onClick",value:function(e,t){Array.isArray(e.callbacks)&&e.callbacks.forEach(function(n){(0,o.default)(t.target).hasClass(n.classSelector)&&n.action(e,t)})}},{key:"onScroll",value:function(){this.isAtBottom()&&!this.state.autoScroll&&this.setAutoScroll(!0)}},{key:"isAtBottom",value:function(){return Math.ceil(this.$scrollable.prop("scrollTop")+this.$scrollable.prop("clientHeight")+1)>=this.$scrollable.prop("scrollHeight")}},{key:"renderMessagesList",value:function(){var e=this;return u.default.createElement("ul",{className:"chatBody"},this.state.items.map(function(t){return u.default.createElement("li",{className:"chat-message-animated animate from_"+t.name+" "+(t.typeClass||""),key:t.uid,dangerouslySetInnerHTML:{__html:t.html},onClick:e.onClick.bind(e,t)})}))}},{key:"setAutoScroll",value:function(e){if(e!==this.state.autoScroll){var t={autoScroll:e};e&&this.tempNewMessages.length&&(t.items=(0,r.default)(this.tempNewMessages),this.tempNewMessages.length=0),this.setState(t)}}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"chat-scrollwrapper tse-scrollable",onScroll:this.debouncedOnScroll,ref:function(t){e.element=t}},u.default.createElement("div",{className:"tse-scroll-content",key:"tse-scroll-content"},u.default.createElement("div",{className:"tse-content"},this.renderMessagesList())),u.default.createElement(f.default,{autoScroll:this.state.autoScroll,onClick:this.boundSetAutoScrollTrue}))}}]),t}();t.default=(0,d.hot)(e)(m)}).call(t,n(44)(e))},function(e,t,n){var a=n(104),i=n(89);e.exports=function(e,t){return e&&a(t,i(t),e)}},function(e,t,n){var a=n(104),i=n(105);e.exports=function(e,t){return e&&a(t,i(t),e)}},function(e,t,n){var a=n(104),i=n(277);e.exports=function(e,t){return a(e,i(e),t)}},function(e,t,n){var a=n(104),i=n(527);e.exports=function(e,t){return a(e,i(e),t)}},function(e,t,n){var a=n(435),i=n(527),o=n(105);e.exports=function(e){return a(e,o,i)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,a=e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(a.index=e.index,a.input=e.input),a}},function(e,t,n){var a=n(291),i=n(1199),o=n(1200),r=n(1202),s=n(1203),l=n(1205),c=n(475);e.exports=function(e,t,n,u){var d=e.constructor;switch(t){case"[object ArrayBuffer]":return a(e);case"[object Boolean]":case"[object Date]":return new d(+e);case"[object DataView]":return i(e,u);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return c(e,u);case"[object Map]":return o(e,u,n);case"[object Number]":case"[object String]":return new d(e);case"[object RegExp]":return r(e);case"[object Set]":return s(e,u,n);case"[object Symbol]":return l(e)}}},function(e,t,n){var a=n(291);e.exports=function(e,t){var n=t?a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t,n){var a=n(1201),i=n(528),o=n(433);e.exports=function(e,t,n){var r=t?n(o(e),1):o(e);return i(r,a,new e.constructor)}},function(e,t){e.exports=function(e,t){return e.set(t[0],t[1]),e}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var a=n(1204),i=n(528),o=n(209);e.exports=function(e,t,n){var r=t?n(o(e),1):o(e);return i(r,a,new e.constructor)}},function(e,t){e.exports=function(e,t){return e.add(t),e}},function(e,t,n){var a=n(126),i=a?a.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){"use strict";var a=n(22),i=n(6),o=n(1207);e.exports=function(){function e(e,t,n,a,r,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(1209);Object.defineProperty(t,"AppContainer",{enumerable:!0,get:function(){return a(i).default}});var o=n(1210);Object.defineProperty(t,"hot",{enumerable:!0,get:function(){return a(o).default}});var r=n(1211);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(a),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return i.default.Children.only(this.props.children)},t}(a.Component);t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){return function(e){return e}}},function(e,t,n){"use strict";t.__esModule=!0,t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1213));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        position: absolute;\n        bottom: 10px;\n        right: 10px;\n        padding: 0;\n        border-radius: 3px;\n        width: 30px;\n        height: 30px;\n        background-color: rgba(0, 0, 0, .6);\n        color: #fff;\n        z-index: 100;\n    "],["\n        position: absolute;\n        bottom: 10px;\n        right: 10px;\n        padding: 0;\n        border-radius: 3px;\n        width: 30px;\n        height: 30px;\n        background-color: rgba(0, 0, 0, .6);\n        color: #fff;\n        z-index: 100;\n    "]),o=a(n(1)),r=(a(n(3)),a(n(10))),s=a(n(35)),l=a(n(453)),c=r.default.button.attrs({type:"button"})(i),u=function(e){var t=e.autoScroll,n=e.onClick;return t?null:o.default.createElement(c,{key:"scrollToBottom",onClick:n},o.default.createElement(s.default,{icon:l.default,size:16,center:!0}))};u.defaultProps={autoScroll:!1,onClick:function(){}},t.default=u},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";function a(e){return!0===i(e)&&"[object Object]"===Object.prototype.toString.call(e)}var i=n(1216);e.exports=function(e){var t,n;return!1!==a(e)&&"function"==typeof(t=e.constructor)&&(n=t.prototype,!1!==a(n)&&!1!==n.hasOwnProperty("isPrototypeOf"))}},function(e,t,n){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t,n){!function(t){e.exports=function e(t){"use strict";function n(e,t,i,c,u){for(var d,m,h=0,g=0,_=0,v=0,y=0,w=0,$=0,x=0,M=0,E=0,T=0,P=0,j=0,I=0,L=0,U=0,ee=0,Ee=0,je=0,Ie=i.length,Le=Ie-1,Ue="",Ge="",We="",Ye="",Ke="",Je="";L<Ie;){if($=i.charCodeAt(L),L===Le&&g+v+_+h!==0&&(0!==g&&($=g===re?W:re),v=_=h=0,Ie++,Le++),g+v+_+h===0){if(L===Le&&(U>0&&(Ge=Ge.replace(p,"")),Ge.trim().length>0)){switch($){case X:case K:case F:case Y:case W:break;default:Ge+=i.charAt(L)}$=F}if(1===ee)switch($){case z:case B:case F:case oe:case ie:case H:case V:case ne:ee=0;case K:case Y:case W:case X:break;default:for(ee=0,je=L,y=$,L--,$=F;je<Ie;)switch(i.charCodeAt(++je)){case W:case Y:case F:L++,$=y;case ae:case z:je=Ie}}switch($){case z:for(y=(Ge=Ge.trim()).charCodeAt(0),T=1,je=++L;L<Ie;){switch($=i.charCodeAt(L)){case z:T++;break;case B:T--}if(0===T)break;L++}switch(We=i.substring(je,L),y===ue&&(y=(Ge=Ge.replace(f,"").trim()).charCodeAt(0)),y){case J:switch(U>0&&(Ge=Ge.replace(p,"")),w=Ge.charCodeAt(1)){case ye:case me:case he:case Z:d=t;break;default:d=Oe}if(We=n(t,d,We,w,u+1),je=We.length,Pe>0&&0===je&&(je=Ge.length),Ae>0&&(d=a(Oe,Ge,Ee),m=l(Fe,We,d,t,xe,$e,je,w,u),Ge=d.join(""),void 0!==m&&0===(je=(We=m.trim()).length)&&(w=0,We="")),je>0)switch(w){case he:Ge=Ge.replace(A,s);case ye:case me:case Z:We=Ge+"{"+We+"}";break;case pe:We=(Ge=Ge.replace(k,"$1 $2"+(ze>0?He:"")))+"{"+We+"}",We=1===Ce||2===Ce&&r("@"+We,3)?"@"+D+We+"@"+We:"@"+We;break;default:We=Ge+We,c===we&&(Ye+=We,We="")}else We="";break;default:We=n(t,a(t,Ge,Ee),We,c,u+1)}Ke+=We,P=0,ee=0,I=0,U=0,Ee=0,j=0,Ge="",We="",$=i.charCodeAt(++L);break;case B:case F:if(Ge=(U>0?Ge.replace(p,""):Ge).trim(),(je=Ge.length)>1)switch(0===I&&((y=Ge.charCodeAt(0))===Z||y>96&&y<123)&&(je=(Ge=Ge.replace(" ",":")).length),Ae>0&&void 0!==(m=l(Ne,Ge,t,e,xe,$e,Ye.length,c,u))&&0===(je=(Ge=m.trim()).length)&&(Ge="\0\0"),y=Ge.charCodeAt(0),w=Ge.charCodeAt(1),y+w){case ue:break;case ve:case be:Je+=Ge+i.charAt(L);break;default:if(Ge.charCodeAt(je-1)===ae)break;Ye+=o(Ge,y,w,Ge.charCodeAt(2))}P=0,ee=0,I=0,U=0,Ee=0,Ge="",$=i.charCodeAt(++L)}}switch($){case Y:case W:if(g+v+_+h+Te===0)switch(E){case V:case ie:case oe:case J:case ce:case se:case te:case le:case re:case Z:case ae:case ne:case F:case z:case B:break;default:I>0&&(ee=1)}g===re?g=0:Se+P===0&&(U=1,Ge+="\0"),Ae*Be>0&&l(De,Ge,t,e,xe,$e,Ye.length,c,u),$e=1,xe++;break;case F:case B:if(g+v+_+h===0){$e++;break}default:switch($e++,Ue=i.charAt(L),$){case K:case X:if(v+h+g===0)switch(x){case ne:case ae:case K:case X:Ue="";break;default:$!==X&&(Ue=" ")}break;case ue:Ue="\\0";break;case de:Ue="\\f";break;case fe:Ue="\\v";break;case Q:v+g+h===0&&Se>0&&(Ee=1,U=1,Ue="\f"+Ue);break;case 108:if(v+g+h+ke===0&&I>0)switch(L-I){case 2:x===ge&&i.charCodeAt(L-3)===ae&&(ke=x);case 8:M===_e&&(ke=M)}break;case ae:v+g+h===0&&(I=L);break;case ne:g+_+v+h===0&&(U=1,Ue+="\r");break;case oe:case ie:0===g&&(v=v===$?0:0===v?$:v);break;case q:v+g+_===0&&h++;break;case G:v+g+_===0&&h--;break;case V:v+g+h===0&&_--;break;case H:if(v+g+h===0){if(0===P)switch(2*x+3*M){case 533:break;default:T=0,P=1}_++}break;case J:g+_+v+h+I+j===0&&(j=1);break;case te:case re:if(v+h+_>0)break;switch(g){case 0:switch(2*$+3*i.charCodeAt(L+1)){case 235:g=re;break;case 220:je=L,g=te}break;case te:$===re&&x===te&&(33===i.charCodeAt(je+2)&&(Ye+=i.substring(je,L+1)),Ue="",g=0)}}if(0===g){if(Se+v+h+j===0&&c!==pe&&$!==F)switch($){case ne:case ce:case se:case le:case V:case H:if(0===P){switch(x){case K:case X:case W:case Y:Ue+="\0";break;default:Ue="\0"+Ue+($===ne?"":"\0")}U=1}else switch($){case H:P=++T;break;case V:0==(P=--T)&&(U=1,Ue+="\0")}break;case K:case X:switch(x){case ue:case z:case B:case F:case ne:case de:case K:case X:case W:case Y:break;default:0===P&&(U=1,Ue+="\0")}}Ge+=Ue,$!==X&&$!==K&&(E=$)}}M=x,x=$,L++}if(je=Ye.length,Pe>0&&0===je&&0===Ke.length&&0===t[0].length==0&&(c!==me||1===t.length&&(Se>0?Ve:qe)===t[0])&&(je=t.join(",").length+2),je>0){if(d=0===Se&&c!==pe?function(e){for(var t,n,a=0,i=e.length,o=Array(i);a<i;++a){for(var r=e[a].split(b),s="",l=0,c=0,u=0,d=0,f=r.length;l<f;++l)if(!(0===(c=(n=r[l]).length)&&f>1)){if(u=s.charCodeAt(s.length-1),d=n.charCodeAt(0),t="",0!==l)switch(u){case te:case ce:case se:case le:case X:case H:break;default:t=" "}switch(d){case Q:n=t+Ve;case ce:case se:case le:case X:case V:case H:break;case q:n=t+n+Ve;break;case ae:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(Me>0){n=t+n.substring(8,c-1);break}default:(l<1||r[l-1].length<1)&&(n=t+Ve+n)}break;case ne:t="";default:n=c>1&&n.indexOf(":")>0?t+n.replace(O,"$1"+Ve+"$2"):t+n+Ve}s+=n}o[a]=s.replace(p,"").trim()}return o}(t):t,Ae>0&&void 0!==(m=l(Re,Ye,d,e,xe,$e,je,c,u))&&0===(Ye=m).length)return Je+Ye+Ke;if(Ye=d.join(",")+"{"+Ye+"}",Ce*ke!=0){switch(2!==Ce||r(Ye,2)||(ke=0),ke){case _e:Ye=Ye.replace(C,":"+N+"$1")+Ye;break;case ge:Ye=Ye.replace(S,"::"+D+"input-$1")+Ye.replace(S,"::"+N+"$1")+Ye.replace(S,":"+R+"input-$1")+Ye}ke=0}}return Je+Ye+Ke}function a(e,t,n){var a=t.trim().split(y),o=a,r=a.length,s=e.length;switch(s){case 0:case 1:for(var l=0,c=0===s?"":e[0]+" ";l<r;++l)o[l]=i(c,o[l],n,s).trim();break;default:for(var l=0,u=0,o=[];l<r;++l)for(var d=0;d<s;++d)o[u++]=i(e[d]+" ",a[l],n,s).trim()}return o}function i(e,t,n,a){var i=t,o=i.charCodeAt(0);switch(o<33&&(o=(i=i.trim()).charCodeAt(0)),o){case Q:switch(Se+a){case 0:case 1:if(0===e.trim().length)break;default:return i.replace(w,"$1"+e.trim())}break;case ae:switch(i.charCodeAt(1)){case 103:if(Me>0&&Se>0)return i.replace($,"$1").replace(w,"$1"+qe);break;default:return e.trim()+i.replace(w,"$1"+e.trim())}default:if(n*Se>0&&i.indexOf("\f")>0)return i.replace(w,(e.charCodeAt(0)===ae?"":"$1")+e.trim())}return e+i}function o(e,t,n,a){var i,o=0,s=e+";",l=2*t+3*n+4*a;if(944===l)return function(e){var t=e.length,n=e.indexOf(":",9)+1,a=e.substring(0,n).trim(),i=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*ze){case 0:break;case Z:if(110!==e.charCodeAt(10))break;default:for(var o=i.split((i="",_)),s=0,n=0,t=o.length;s<t;n=0,++s){for(var l=o[s],c=l.split(v);l=c[n];){var u=l.charCodeAt(0);if(1===ze&&(u>J&&u<90||u>96&&u<123||u===ee||u===Z&&l.charCodeAt(1)!==Z))switch(isNaN(parseFloat(l))+(-1!==l.indexOf("("))){case 1:switch(l){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:l+=He}}c[n++]=l}i+=(0===s?"":",")+c.join(" ")}}return i=a+i+";",1===Ce||2===Ce&&r(i,1)?D+i+i:i}(s);if(0===Ce||2===Ce&&!r(s,1))return s;switch(l){case 1015:return s.charCodeAt(9)===Z?D+s+s:s;case 951:return 116===s.charCodeAt(3)?D+s+s:s;case 963:return 110===s.charCodeAt(5)?D+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return D+s+s;case 978:return D+s+N+s+s;case 1019:case 983:return D+s+N+s+R+s+s;case 883:return s.charCodeAt(8)===Z?D+s+s:s;case 932:if(s.charCodeAt(4)===Z)switch(s.charCodeAt(5)){case 103:return D+"box-"+s.replace("-grow","")+D+s+R+s.replace("grow","positive")+s;case 115:return D+s+R+s.replace("shrink","negative")+s;case 98:return D+s+R+s.replace("basis","preferred-size")+s}return D+s+R+s+s;case 964:return D+s+R+"flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return i=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),D+"box-pack"+i+D+s+R+"flex-pack"+i+s;case 1005:return h.test(s)?s.replace(m,":"+D)+s.replace(m,":"+N)+s:s;case 1e3:switch(i=s.substring(13).trim(),o=i.indexOf("-")+1,i.charCodeAt(0)+i.charCodeAt(o)){case 226:i=s.replace(j,"tb");break;case 232:i=s.replace(j,"tb-rl");break;case 220:i=s.replace(j,"lr");break;default:return s}return D+s+R+i+s;case 1017:if(-1===s.indexOf("sticky",9))return s;case 975:switch(o=(s=e).length-10,i=(33===s.charCodeAt(o)?s.substring(0,o):s).substring(e.indexOf(":",7)+1).trim(),l=i.charCodeAt(0)+(0|i.charCodeAt(7))){case 203:if(i.charCodeAt(8)<111)break;case 115:s=s.replace(i,D+i)+";"+s;break;case 207:case 102:s=s.replace(i,D+(l>102?"inline-":"")+"box")+";"+s.replace(i,D+i)+";"+s.replace(i,R+i+"box")+";"+s}return s+";";case 938:if(s.charCodeAt(5)===Z)switch(s.charCodeAt(6)){case 105:return i=s.replace("-items",""),D+s+D+"box-"+i+R+"flex-"+i+s;case 115:return D+s+R+"flex-item-"+s.replace(L,"")+s;default:return D+s+R+"flex-line-pack"+s.replace("align-content","").replace(L,"")+s}break;case 953:if((o=s.indexOf("-content",9))>0&&109===s.charCodeAt(o-3)&&45!==s.charCodeAt(o-4))return i=s.substring(o-3),"width:"+D+i+"width:"+N+i+"width:"+i;break;case 962:if(s=D+s+(102===s.charCodeAt(5)?R+s:"")+s,n+a===211&&105===s.charCodeAt(13)&&s.indexOf("transform",10)>0)return s.substring(0,s.indexOf(";",27)+1).replace(g,"$1"+D+"$2")+s}return s}function r(e,t){var n=e.indexOf(1===t?":":"{"),a=e.substring(0,3!==t?n:10),i=e.substring(n+1,e.length-1);return Ie(2!==t?a:a.replace(U,"$1"),i,t)}function s(e,t){var n=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(I," or ($1)").substring(4):"("+t+")"}function l(e,t,n,a,i,o,r,s,l){for(var c,u=0,f=t;u<Ae;++u)switch(c=je[u].call(d,e,f,n,a,i,o,r,s,l)){case void 0:case!1:case!0:case null:break;default:f=c}switch(f){case void 0:case!1:case!0:case null:case t:break;default:return f}}function c(e){switch(e){case void 0:case null:Ae=je.length=0;break;default:switch(e.constructor){case Array:for(var t=0,n=e.length;t<n;++t)c(e[t]);break;case Function:je[Ae++]=e;break;case Boolean:Be=0|!!e}}return c}function u(e){for(var t in e){var n=e[t];switch(t){case"keyframe":ze=0|n;break;case"global":Me=0|n;break;case"cascade":Se=0|n;break;case"compress":Ee=0|n;break;case"semicolon":Te=0|n;break;case"preserve":Pe=0|n;break;case"prefix":Ie=null,n?"function"!=typeof n?Ce=1:(Ce=2,Ie=n):Ce=0}}return u}function d(t,a){if(void 0!==this&&this.constructor===d)return e(t);var i=t,o=i.charCodeAt(0);o<33&&(o=(i=i.trim()).charCodeAt(0)),ze>0&&(He=i.replace(x,o===q?"":"-")),o=1,1===Se?qe=i:Ve=i;var r,s=[qe];Ae>0&&void 0!==(r=l(Ue,a,s,s,xe,$e,0,0,0))&&"string"==typeof r&&(a=r);var c=n(Oe,s,a,0,0);return Ae>0&&void 0!==(r=l(Le,c,s,s,xe,$e,c.length,0,0))&&"string"!=typeof(c=r)&&(o=0),He="",qe="",Ve="",ke=0,xe=1,$e=1,Ee*o==0?c:function(e){return e.replace(p,"").replace(M,"").replace(E,"$1").replace(T,"$1").replace(P," ")}(c)}var f=/^\0+/g,p=/[\0\r\f]/g,m=/: */g,h=/zoo|gra/,g=/([,: ])(transform)/g,_=/,+\s*(?![^(]*[)])/g,v=/ +\s*(?![^(]*[)])/g,b=/ *[\0] */g,y=/,\r+?/g,w=/([\t\r\n ])*\f?&/g,$=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,x=/\W+/g,k=/@(k\w+)\s*(\S*)\s*/,S=/::(place)/g,C=/:(read-only)/g,M=/\s+(?=[{\];=:>])/g,E=/([[}=:>])\s+/g,T=/(\{[^{]+?);(?=\})/g,P=/\s{2,}/g,O=/([^\(])(:+) */g,j=/[svh]\w+-[tblr]{2}/,A=/\(\s*(.*)\s*\)/g,I=/([\s\S]*?);/g,L=/-self|flex-/g,U=/[^]*?(:[rp][el]a[\w-]+)[^]*/,D="-webkit-",N="-moz-",R="-ms-",F=59,B=125,z=123,H=40,V=41,q=91,G=93,W=10,Y=13,K=9,J=64,X=32,Q=38,Z=45,ee=95,te=42,ne=44,ae=58,ie=39,oe=34,re=47,se=62,le=43,ce=126,ue=0,de=12,fe=11,pe=107,me=109,he=115,ge=112,_e=111,ve=169,be=163,ye=100,we=112,$e=1,xe=1,ke=0,Se=1,Ce=1,Me=1,Ee=0,Te=0,Pe=0,Oe=[],je=[],Ae=0,Ie=null,Le=-2,Ue=-1,De=0,Ne=1,Re=2,Fe=3,Be=0,ze=1,He="",Ve="",qe="";return d.use=c,d.set=u,void 0!==t&&u(t),d}(null)}()},function(e,t,n){!function(t){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,a,i,o,r,s,l,c,u){switch(n){case 1:if(0===u&&64===a.charCodeAt(0))return e(a+";"),"";break;case 2:if(0===c)return a+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+a),"";default:return a+"/*|*/"}case-2:a.split("/*|*/}").forEach(t)}}}}()}()},function(e,t,n){e.exports=n(1220)()},function(e,t,n){"use strict";var a=n(22),i=n(6),o=n(1221);e.exports=function(){function e(e,t,n,a,r,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var a={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!=typeof t){var r=Object.getOwnPropertyNames(t);o&&(r=r.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<r.length;++s)if(!(a[r[s]]||i[r[s]]||n&&n[r[s]]))try{e[r[s]]=t[r[s]]}catch(e){}}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1224));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(67))),r=function(e){var t=e.icon,n=e.size,a=e.replaceColor,r=e.center,s=e.children,l=(0,o.default)(["smash-icon",{"smash-icon--size-12":12===n,"smash-icon--size-16":16===n,"smash-icon--size-20":20===n,"smash-icon--size-24":24===n,"smash-icon--size-32":32===n,"smash-icon--replace-color":a,"smash-icon--center":r}]);return i.default.createElement("span",{className:l},t?i.default.createElement("span",{dangerouslySetInnerHTML:{__html:t},className:"smash-icon__icon"}):i.default.createElement("span",{className:"smash-icon__icon"},s))};r.defaultProps={icon:"",size:0,replaceColor:!0,center:!1,children:null},t.default=r},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1227)),r=a(n(1228)),s=a(n(1229));t.default=i.default.module("chat.blacklist",[]).factory("Blacklists",o.default).service("blacklist",r.default).component("chatBlacklistDialog",s.default).name},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/chat/blacklist/:channel",{channel:"@channel",authToken:"@authToken"},{get:{method:"GET",params:t,isArray:!0},post:{method:"POST",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(12)),o=n(8),r=void 0,s=function(e){var t=e.channel;return{channelName:(0,o.getName)(t)}},l=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{Blacklists:t,$rootScope:n}),this.$ngRedux=a,this.$ngRedux.connect(s)(this),this.msgCallback=this.msgCallback.bind(this)}return e.$inject=["Blacklists","$rootScope","$ngRedux"],a(e,[{key:"init",value:function(){r=[],this.Blacklists.get({channel:this.channelName},this.set),i.default.off("chat.infoMsg",this.msgCallback),i.default.on("chat.infoMsg",this.msgCallback)}},{key:"msgCallback",value:function(e){var t=this;"blacklist"===e.type&&this.$rootScope.$applyAsync(function(){t.set(e.blacklist)})}},{key:"set",value:function(e){r=e}},{key:"get",value:function(){return r}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(202),n(530);var i=n(8),o=n(76),r=function(e){return e&&e.__esModule?e:{default:e}}(n(1230));n(1231);var s=function(e){var t=e.channel,n=e.user;return{channelName:(0,i.getName)(t),authToken:(0,o.getToken)(n)}},l=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$scope=t,this.$rootScope=n,this.Blacklists=a,this.$ngRedux=i,this.blacklist={words:[]},this.channelName=null,this.authToken=null,this.unsubscribeReduxConnection=i.connect(s)(this)}return e.$inject=["$scope","$rootScope","Blacklists","$ngRedux"],a(e,[{key:"$onInit",value:function(){this.getBlacklist()}},{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"saveBlacklist",value:function(){var e=[],t=void 0;for(t=0;t<this.blacklist.words.length;t++)e.push(this.blacklist.words[t].text);for(t=0;t<e.length;t++)e[t]=e[t].toLowerCase();var n={channel:this.channelName,authToken:this.authToken,blacklist:e};this.Blacklists.post(n,this.onSave,this.onSave)}},{key:"getBlacklist",value:function(){var e=this,t={channel:this.channelName};this.Blacklists.get(t,function(t){e.blacklist.words=t})}},{key:"close",value:function(){this.onClose&&this.onClose()}},{key:"save",value:function(){this.saveBlacklist()}}]),e}();t.default={bindings:{onSave:"&?",onClose:"&?"},templateUrl:r.default,controller:l}},function(e,t,n){var a="/src/js/chat/blacklist/components/blacklist-dialog.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <htbx-button-close data-variant=modal-fixed data-on-select=$ctrl.close()></htbx-button-close> <div class=form_enclosed> <div class=head> {{::'view_chat_label_word-blacklist' | translate}} </div> <div class=info> <span>{{::'view_chat_text_add-words' | translate}}</span> <br/> <span>{{::'view_chat_text_changes-effect' | translate}}</span> </div> <div class=taginput-wrapper> <tags-input ng-model=$ctrl.blacklist.words data-placeholder=\"{{::'view_chat_button_add-word' | translate}}\"></tags-input> </div> <div class=buttons> <htbx-button-group> <htbx-button-group-item> <htbx-button data-type=button data-on-select=$ctrl.close()> {{::'global_text_cancel' | translate}} </htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-type=button data-variant=ok data-on-select=$ctrl.save()> {{::'global_button_save' | translate}} </htbx-button> </htbx-button-group-item> </htbx-button-group> </div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e(i.default.TENOR_API_URL+"/search",{},{get:{method:"GET",cache:!0,params:{key:"D56SS4HXWJ5T"},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(318));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.TENOR_API_URL+"/tags",{},{get:{method:"GET",cache:!0,params:{key:"D56SS4HXWJ5T"},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(318));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.TENOR_API_URL+"/trending",{},{get:{method:"GET",cache:!0,params:{key:"D56SS4HXWJ5T"},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(318));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a){var i=this;this.stored={tags:[],trending:[],search:[],next:""},this.getImages=function(e){return(0,o.default)(i.stored,e)?i.stored[e]:[]},this.clearImages=function(e){(0,r.default)(e)?(i.stored.tags=[],i.stored.trending=[],i.stored.search=[],i.stored.next=""):i.stored[e]&&(i.stored[e]=[])},this.getNext=function(){return 0==i.stored.next&&(i.stored.next=""),i.stored.next},this.resetNext=function(){return i.stored.next="",i.stored.next},this.searchText=function(n,a,o){a=a||"";var r={tag:n,limit:o=o||21};return""!==a&&(r.pos=a),t.get(r).$promise.then(function(e){var t=i.stored.search.length;if(i.stored.search=(0,s.default)(i.stored.search,e.results,"id"),e.results.length>0&&(0===t||i.stored.search.length>t)){if(i.stored.next=e.next,i.stored.search.length<t+o)return i.searchText(n,e.next,t+o-i.stored.search.length)}else i.stored.next="";return e}).catch(function(t){return e.error(t),t})},this.searchTrending=function(t,a){t=t||"";var o={limit:a=a||21};return""!==t&&(o.pos=t),n.get(o).$promise.then(function(e){var t=i.stored.trending.length;if(i.stored.trending=(0,s.default)(i.stored.trending,e.results,"id"),e.results.length>0&&(0===t||i.stored.trending.length>t)){if(i.stored.next=e.next,i.stored.trending.length<t+a)return i.searchTrending(e.next,t+a-i.stored.trending.length)}else i.stored.next="";return e}).catch(function(t){return e.error(t),t})},this.searchTags=function(t){var n={type:t=t||"featured"};return a.get(n).$promise.then(function(e){return i.stored.tags=(0,l.default)(e.tags,"searchterm"),i.stored.next="",e}).catch(function(t){return e.error(t),t})}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(107)),r=a(n(11)),s=a(n(532)),l=a(n(320));i.$inject=["$log","TenorSearch","TenorTrending","TenorTags"],t.default=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i){var c=this,u="";c.getImages=t.getImages,c.getNext=t.getNext,c.resetNext=t.resetNext,c.activeCategory="tags",c.search="",c.isLoading=!1,a.trackEvent("tenor","open","open"),c.selectImage=function(o){n.isAuthenticated()?(t.clearImages(),(0,r.default)(o)||(0,r.default)(o.media[0].gif.url)||(e.$broadcast("chatInputEvent",{type:"image",data:o.media[0].gif.url}),(0,s.default)(c.onUse)&&c.onUse(),a.trackEvent("tenor","imageSelected",o.media[0].gif.url))):i.dispatch((0,l.showChatSignup)())},c.showMore=function(){var e=c.getNext();"search"!==c.activeCategory?"trending"===c.activeCategory&&c.searchTrending(e):c.lookup(c.search,e)},c.canShowMore=function(){return""!==c.getNext()},c.setSearch=function(e){(0,r.default)(e)||(c.search=e,c.lookup(e))},c.lookup=function(e,n){n=n||"",e=e.replace(/^\s+|\s+$/gm,"").trim(),(0,r.default)(e)||0===e.length?c.searchTags():"#trending"!==e.toLowerCase()?(e!==u?(t.resetNext(),t.clearImages(c.activeCategory)):""===n&&t.resetNext(),c.isLoading=!0,t.searchText(e,n).then(function(){c.isLoading=!1}).catch(function(){c.isLoading=!1,c.clearSearch()}),u=e,c.activeCategory="search"):c.searchTrending()},c.clearSearch=function(){c.search="",t.clearImages(c.activeCategory)},c.searchTrending=function(e,n){e=e||"",n=n||21,""===e&&(t.clearImages("trending"),c.clearSearch(),t.resetNext()),c.isLoading=!0,t.searchTrending(e,n).then(function(){c.isLoading=!1}).catch(function(){c.isLoading=!1,c.clearSearch()}),c.activeCategory="trending",c.search="#trending"},c.searchTags=function(e){e=e||"featured",c.clearSearch(),t.resetNext(),(0,o.default)(".chat-gif-selector__results").animate({scrollTop:0}),c.activeCategory="tags",c.isLoading=!0,t.searchTrending("",1),t.searchTags(e).then(function(){c.isLoading=!1}).catch(function(){c.isLoading=!1})},t.resetNext(),t.clearImages(),c.searchTags()}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),r=a(n(11)),s=a(n(45)),l=n(42),c=a(n(1237));n(1238),i.$inject=["$rootScope","tenor","loggedUser","Analytics","$ngRedux"],t.default=function(){return{restrict:"E",scope:{onUse:"&"},templateUrl:c.default,replace:!0,controllerAs:"tenor",bindToController:!0,controller:i}}},function(e,t,n){var a="/src/js/chat/tenor/directives/tenor.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=chat-gif-selector id=tenor-wrap> <label class=chat-gif-selector__search> <div class=chat-gif-selector__search__icon> <smash-icon size=24 icon=search></smash-icon> </div> <input placeholder="Search GIFs" name=search type=text ng-model=tenor.search ng-change=tenor.lookup(tenor.search); ng-model-options={debounce:250} class=chat-gif-selector__search__input /> <button class=chat-gif-selector__search__clear ng-click=tenor.searchTags() ng-if="tenor.activeCategory !== \'tags\'"> <smash-icon icon=close size=12 center=true></smash-icon> </button> </label> <div class=chat-gif-selector__results> <htbx-scrollable disable-over-scroll=true> <ul class=chat-gif-selector__list ng-if="tenor.activeCategory === \'tags\'"> <li class="chat-gif-selector__item chat-gif-selector__item--is-category" ng-click=tenor.searchTrending()> <button class=chat-gif-selector__item__link type=button style="background-image:url(\'{{tenor.getImages(\'trending\')[0].media[0].nanogif.url}}\')"> #trending </button> </li> <li class="chat-gif-selector__item chat-gif-selector__item--is-category" ng-repeat="image in tenor.getImages(\'tags\') track by image.searchterm" ng-click=tenor.setSearch(image.searchterm)> <button class=chat-gif-selector__item__link type=button style=background-image:url({{image.image}})> {{image.name}} </button> </li> </ul> <ul class=chat-gif-selector__list ng-if="tenor.activeCategory !== \'tags\'"> <li class=chat-gif-selector__item ng-repeat="image in tenor.getImages(tenor.activeCategory) track by image.id" ng-click=tenor.selectImage(image)> <button class=chat-gif-selector__item__link type=button title={{image.title}} style=background-image:url({{image.media[0].nanogif.url}})></button> </li> </ul> <div class=chat-gif-selector__results__more ng-show="tenor.activeCategory !== \'tags\' && !tenor.isLoading;"> <button ng-if=tenor.canShowMore(); ng-click=tenor.showMore() class=chat-gif-selector__results__more__button>{{:: \'global_button_showmore\' | translate}}</button> <span ng-if="tenor.getImages(tenor.activeCategory).length === 0" class=chat-gif-selector__results__more__button> {{:: \'global_button_noresults\' | translate}} </span> </div> </htbx-scrollable> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1240));n(1241);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$translate:t})}return e.$inject=["$translate"],a(e,[{key:"$onInit",value:function(){this.title=this.resolve.title,this.message=this.resolve.message,this.buttons=this.resolve.buttons,this.dismissable=this.resolve.dismissable,this.dontShowAgainCheckbox=this.resolve.dontShowAgainCheckbox}},{key:"buttonTrue",value:function(){this.dontShowAgainCheckbox?this.close({$value:{value:!0,dontShowAgain:this.dontShowAgain}}):this.close({$value:!0})}},{key:"buttonFalse",value:function(){this.dismiss({$value:!1})}},{key:"dismissModal",value:function(){this.dismiss({$value:"close click"})}}]),e}();t.default={bindings:{resolve:"<",close:"&",dismiss:"&"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/modal/components/htbx-modal.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<htbx-button-close ng-if=$ctrl.dismissable data-variant=modal-fixed data-on-select=$ctrl.dismissModal() class=login-modal__close></htbx-button-close> <div class=htbx-modal> <div class="htbx-modal__header modal-header" ng-if="$ctrl.title.length > 0"> <h3 class="htbx-modal__title modal-title" id=modal-title> {{::$ctrl.title}} </h3> </div> <div class="htbx-modal__body modal-body" id=modal-body> <span bind-html-compile=$ctrl.message></span> <toggle-checkbox ng-if=$ctrl.dontShowAgainCheckbox class=htbx-modal__dont-show-again ng-model=$ctrl.dontShowAgain label="{{::\'component_modal_dont-show-again\' | translate}}"> </toggle-checkbox> </div> <div class="htbx-modal__footer modal-footer"> <htbx-button ng-repeat="button in $ctrl.buttons" data-type=button data-variant={{button.variant}} data-on-select="(button.result === true) ? $ctrl.buttonTrue() : $ctrl.buttonFalse()" class=htbx-modal__footer__button> {{::button.label}} </htbx-button> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e,t){function n(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",l=arguments[6];this.$uibModal=t,this.cbMethod=l||angular.noop,this.modalOptions={title:n,message:a,buttons:i||[{result:!0,label:e.instant("global_text_ok"),variant:"ok"}],dismissable:o,size:s,dontShowAgainCheckbox:r},this.modalInstance=null}return n.prototype.open=function(){var e=this;return this.modalInstance=this.$uibModal.open({animation:!0,ariaLabelby:"modal-title",ariaDescribedBy:"modal-body",component:"htbxModal",size:e.modalOptions.size,resolve:{title:function(){return e.modalOptions.title},message:function(){return e.modalOptions.message},buttons:function(){return e.modalOptions.buttons},dismissable:function(){return e.modalOptions.dismissable},dontShowAgainCheckbox:function(){return e.modalOptions.dontShowAgainCheckbox}}}),this.modalInstance.result},n}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$translate","$uibModal"],t.default=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/chat/clearimagelog/:channel",{channel:"@channel",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a){var i=this,c=null;return a.connect(u)(this),{match:function(e){return!!e.length},weight:200,hasAccess:function(){return!0},execute:function(a){if("/"!==a.substring(0,1)){if(!i.isAdminOfChat&&!i.isModeratorOfChat){if(function(a){var i=a.split(" "),o=(0,r.default)(i,function(e){return(0,s.default)(n.get(),e)});return o.forEach(function(n){t.newMessage("infoMsg",{text:n+" "+e.instant("view_chat_text_is-blacklisted")})}),!!o.length}(a))return;if(function(){var n=void 0;if((0,l.default)(c)||0===i.chatSlowModeSeconds||i.isSubscribedToChat)return!1;var a=(0,o.default)().diff(c,"seconds");return a<i.chatSlowModeSeconds&&(n=i.chatSlowModeSeconds-a,t.newMessage("infoMsg",{text:e.instant("view_chat_text_slow-mode_active",{seconds:n})}),!0)}())return}c=(0,o.default)(),t.send(i.channelName,a)}}}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(5)),r=a(n(58)),s=a(n(57)),l=a(n(66)),c=n(8);i.$inject=["$translate","chatMessages","blacklist","$ngRedux"];var u=function(e){var t=e.channel,n=e.chat;return{channelName:(0,c.getName)(t),isAdminOfChat:n.permissions.isAdmin,isModeratorOfChat:n.permissions.isModerator,isSubscribedToChat:n.permissions.isSubscribed,chatSlowModeSeconds:n.config.slowModeSeconds}};t.default=i},function(e,t,n){"use strict";function a(e,t){return{match:function(e){return"/clear"===e},weight:100,name:"/clear",description:t.instant("components_chat-input_clear-command"),hasAccess:function(){return!0},execute:function(){e.empty()}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["chatMessages","$translate"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,i){var r=this;return i.connect(o)(this),{match:function(e){return"/clearimagelog"===e},weight:100,name:"/clearimagelog",description:a.instant("components_chat-input_clearimagelog-command"),hasAccess:function(){return e.hasPermission(e.accessLevels.admin,r.chatUserRole)},execute:function(){r.isAdminOfChat&&t.get({authToken:n.getToken(),channel:r.channelName})}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8);a.$inject=["Auth","ChatClearImageLog","loggedUser","$translate","$ngRedux"];var o=function(e){var t=e.channel,n=e.chat;return{channelName:(0,i.getName)(t),isAdminOfChat:n.permissions.isAdmin,chatUserRole:n.permissions.userRole}};t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,o){var s=this,l=/^\/(dm|pm|w|whisper)\s(@?[a-zA-Z0-9-]+)(\s(.+)|)$/i;return o.connect(r)(this),{match:function(e){return l.test(e)},weight:100,name:"/whisper",description:n.instant("components_chat-input_whisper-command"),hasAccess:function(){return!0},execute:function(o){var r=o.match(l),c=r[2];-1!==c.lastIndexOf("@")&&(c=c.substring(1)),r[4]?(e.newMessage("whisperOut",{to:c,text:r[4],nameColor:s.nameColor}),i.default.sendMessage("chat.directMsg",{channel:s.channelName,from:t.getName(),to:r[2],nameColor:s.nameColor,text:r[4]})):function(t){var i=void 0,o="";"off"===t.toLowerCase()?(i=!1,o="view_chat_text_disabled-messages"):(i=!0,o="view_chat_text_enabled-messages"),a.setWhisperEnabled(i),e.newMessage("localLog",{text:n.instant(o)})}(r[2])}}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(12)),o=n(8);a.$inject=["chatMessages","loggedUser","$translate","chatOptions","$ngRedux"];var r=function(e){var t=e.channel,n=e.chat;return{channelName:(0,o.getName)(t),nameColor:n.options.nameColor}};t.default=a},function(e,t,n){"use strict";function a(e,t,n){var a=this,i=/^\/me\s(.+)$/i;return n.connect(o)(this),{match:function(e){return i.test(e)},weight:100,name:"/me",description:t.instant("components_chat-input_me-command"),hasAccess:function(){return!0},execute:function(t){var n=t.match(i)[1];e.send(a.channelName,n,"me")}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8);a.$inject=["chatMessages","$translate","$ngRedux"];var o=function(e){var t=e.channel;return{channelName:(0,i.getName)(t)}};t.default=a},function(e,t,n){"use strict";function a(e,t,n){var a=this,i=/^\/shrug(\s(.+))?$/i;return n.connect(o)(this),{match:function(e){return i.test(e)},weight:100,name:"/shrug",description:t.instant("components_chat-input_shrug-command"),hasAccess:function(){return!0},execute:function(t){var n=t.match(i),o="\\_()_/";n[1]&&(o=n[1]+" \\_()_/"),e.send(a.channelName,o)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8);a.$inject=["chatMessages","$translate","$ngRedux"];var o=function(e){var t=e.channel;return{channelName:(0,i.getName)(t)}};t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,i){var o=/^\/(reply|r)(\s(.+))?$/i;return{match:function(e){return o.test(e)},weight:100,name:"/reply",description:function(){return i.instant("components_chat-input_reply-command",{user:t.getLastWhisperer()})},hasAccess:function(){return!!t.getLastWhisperer()},execute:function(e){var i=e.match(o),r=t.getLastWhisperer();if(r){if(i[2]&&i[2].trim())return void n.execute("/w "+r+" "+i[2]);a.$broadcast("chatInputEvent",{type:"whisper",data:"/w "+r+" "})}}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["Auth","chatMessages","directMessageCommand","$rootScope","$translate"],t.default=a},function(e,t,n){"use strict";function a(e,t,n){var a=this;return n.connect(i)(this),{match:function(){return a.chatSubscriberMode&&!a.isSubscribedToChat&&!a.isAdminOfChat&&!a.isModeratorOfChat},weight:50,hasAccess:function(){return!0},execute:function(){e.clearLastSentMessages(),e.newMessage("localLog",{text:t.instant("view_chat_text_subscriber-only-mode")})}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["chatMessages","$translate","$ngRedux"];var i=function(e){var t=e.chat;return{isAdminOfChat:t.permissions.isAdmin,isModeratorOfChat:t.permissions.isModerator,isSubscribedToChat:t.permissions.isSubscribed,chatSubscriberMode:t.permissions.subscriberMode}};t.default=a},function(e,t,n){"use strict";function a(e,t){var n=this;return t.connect(i)(this),{match:function(){return n.isBannedInChat},weight:0,hasAccess:function(){return!0},execute:function(){e.clearLastSentMessages()}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["chatMessages","$ngRedux"];var i=function(e){return{isBannedInChat:e.chat.permissions.isBanned}};t.default=a},function(e,t,n){"use strict";function a(e){return{match:function(e){return"/reconnect"===e},weight:100,name:"/reconnect",description:e.instant("components_chat-input_reconnect-command"),hasAccess:function(){return!0},execute:function(){i.default.disconnect()}}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(12));a.$inject=["$translate"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,r,s){var l=this;return s.connect(o)(this),{match:function(e){return"/resub"===e},weight:100,name:"/resub",description:t.instant("components_chat-input_resub-command"),hasAccess:function(){return l.chatSubscriptionData&&l.chatSubscriptionData.resub},execute:function(){var e=l.chatSubscriptionData,o=t.instant("view_chat_text_inform-resub"),c=[{result:!1,label:t.instant("global_text_cancel")},{result:!0,label:t.instant("global_text_trigger"),variant:"warning"}];e&&e.resub&&new a(o,"",c).open().then(function(t){if(t){var a={authToken:n.getToken(),token_id:e.resub.token_id};r.post(a,function(){s.dispatch((0,i.resetSubscriptionData)())})}})}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(174);a.$inject=["Auth","$translate","loggedUser","HtbxModal","ResubShoutout","$ngRedux"];var o=function(e){return{chatSubscriptionData:e.chat.permissions.subscriptionData}};t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,o){var s=this,l=/^\/gif\s[a-zA-Z0-9-]+$/i;return o.connect(r)(this),{match:function(e){return l.test(e)},weight:100,name:"/gif",description:a.instant("components_chat-input_gif-command"),hasAccess:function(){return e.hasPermission(e.accessLevels.user,s.chatUserRole)||s.chatSubscriptionData},execute:function(e){(function(e){var n={tag:e=e.replace(/^\s+|\s+$/gm,"").replace(/\/gif/i,"").trim(),limit:10};return t.get(n).$promise.then(function(e){return e.results}).catch(function(e){return e})})(e.replace(/\/gif/i,"").trim()).then(function(e){e.length>0&&(e=(0,i.default)(e),n.send(s.channelName,e[0].media[0].gif.url))})}}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(534)),o=n(8);a.$inject=["Auth","TenorSearch","chatMessages","$translate","$ngRedux"];var r=function(e){var t=e.channel,n=e.chat;return{channelName:(0,o.getName)(t),chatUserRole:n.permissions.userRole,chatSubscriptionData:n.permissions.subscriptionData}};t.default=a},function(e,t,n){var a=n(165),i=n(535);e.exports=function(e){return i(a(e))}},function(e,t,n){var a=n(535),i=n(216);e.exports=function(e){return a(i(e))}},function(e,t,n){"use strict";function a(e,t,n,a){var o=this,r=/^\/ban\s[a-zA-Z0-9-]+$/i;return a.connect(i)(this),{match:function(e){return r.test(e)},weight:100,name:"/ban",description:n.instant("components_chat-input_ban-command"),hasAccess:function(){return e.hasPermission(e.accessLevels.user,o.chatUserRole)},execute:function(e){var n=e.split(" ")[1];t.ban(n)}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["Auth","userActions","$translate","$ngRedux"];var i=function(e){return{chatUserRole:e.chat.permissions.userRole}};t.default=a},function(e,t,n){"use strict";function a(e,t,n){var a=/^\/color\s[a-zA-Z0-9-]+$/i;return{match:function(e){return a.test(e)},weight:100,name:"/color",description:t.instant("components_chat-input_color-command"),hasAccess:function(){return!0},execute:function(e){var t=e.split(" ")[1],a=void 0;switch(t){case"red":a="d45236";break;case"blue":a="5077d4";break;case"green":a="17bd60";break;case"yellow":a="b2b41e";break;default:a=t}n.dispatch((0,i.setNameColor)(a))}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(229);a.$inject=["Auth","$translate","$ngRedux"],t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.isValid=t.getRandom=t.colors=void 0;var i=a(n(484)),o=a(n(57)),r=t.colors=["D44F38","D45236","D35635","D35C33","D36132","D36730","D26E2F","D0782C","CF7E2B","CE8328","CC8A27","CA9024","C89623","C59D22","C1A61F","BDA91E","B9AD1E","B5B11E","B2B41E","ADB61E","A7B71E","A0B91F","9ABB21","94BB22","8DBD23","86BD25","80BE26","79BE29","70BE2B","65BE2E","5BBE31","53BE34","4ABF39","42BF3D","39BF42","31BE46","26BE50","1FBD54","1BBD5A","17BD60","13BD67","10BC6D","0EBC73","0CBC7C","0CBC82","0CBC87","0CBC8D","0EBC90","0EBA94","10BB9A","13BA9F","15B9A2","18B7A7","16B8A6","19B7AB","1CB4AD","1DB3B1","21AFB6","23AEB9","26AABB","29A8BE","2CA6C1","2EA3C3","319EC6","3599C9","3894CB","3B91CC","3D8ECE","408ACF","4287D0","4484D1","4880D2","4A7DD2","4C7AD3","5077D4","5274D4","5572D5","5770D5","586DD4","5E6AD4","6166D4","6465D3","6662D2","6B5FD1","6E5DD0","7159CE","7756CB","7C53C9","8051C7","854EC5","8A4BC2","8E49C0","9347BD","9943BA","9D41B7","A23FB4","A63CB2","A93BAF","AE39AE","B038AC"];t.getRandom=function(){return(0,i.default)(r)},t.isValid=function(e){return(0,o.default)(r,e)}},function(e,t,n){"use strict";function a(e,t,n){var a=/^\/ignore\s[a-zA-Z0-9-]+$/i;return{match:function(e){return a.test(e)},weight:100,name:"/ignore",description:n.instant("components_chat-input_ignore-command"),hasAccess:function(){return!0},execute:function(e){var n=e.split(" ")[1];t.ignore(n)}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["Auth","userActions","$translate"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a){var o=this,r=/^\/mod\s[a-zA-Z0-9-]+$/i;return a.connect(i)(this),{match:function(e){return r.test(e)},weight:100,name:"/mod",description:n.instant("components_chat-input_mod-command"),hasAccess:function(){return e.hasPermission(e.accessLevels.admin,o.chatUserRole)&&o.isAdminOfChat},execute:function(e){var n=e.split(" ")[1];t.makeMod(n)}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["Auth","userActions","$translate","$ngRedux"];var i=function(e){var t=e.chat;return{isAdminOfChat:t.permissions.isAdmin,chatUserRole:t.permissions.userRole}};t.default=a},function(e,t,n){"use strict";function a(e,t,n,a){var o=this,r=/^\/unmod\s[a-zA-Z0-9-]+$/i;return a.connect(i)(this),{match:function(e){return r.test(e)},weight:100,name:"/unmod",description:n.instant("components_chat-input_unmod-command"),hasAccess:function(){return e.hasPermission(e.accessLevels.admin,o.chatUserRole)&&o.isAdminOfChat},execute:function(e){var n=e.split(" ")[1];t.removeMod(n)}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["Auth","userActions","$translate","$ngRedux"];var i=function(e){var t=e.chat;return{isAdminOfChat:t.permissions.isAdmin,chatUserRole:t.permissions.userRole}};t.default=a},function(e,t,n){"use strict";function a(e,t,n,a){var o=this,r=/^\/timeout\s[a-zA-Z0-9-]+(\s[0-9]+)?$/i;return a.connect(i)(this),{match:function(e){return r.test(e)},weight:100,name:"/timeout",description:n.instant("components_chat-input_timeout-command"),hasAccess:function(){return e.hasPermission(e.accessLevels.user,o.chatUserRole)},execute:function(e){var n=e.split(" "),a=n[1],i=n[2];t.kick(a,i)}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["Auth","userActions","$translate","$ngRedux"];var i=function(e){return{chatUserRole:e.chat.permissions.userRole}};t.default=a},function(e,t,n){"use strict";function a(e,t,n,a){var o=this,r=/^\/unban\s[a-zA-Z0-9-]+$/i;return a.connect(i)(this),{match:function(e){return r.test(e)},weight:100,name:"/unban",description:n.instant("components_chat-input_unban-command"),hasAccess:function(){return e.hasPermission(e.accessLevels.user,o.chatUserRole)},execute:function(e){var n=e.split(" ")[1];t.unBan(n)}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["Auth","userActions","$translate","$ngRedux"];var i=function(e){return{chatUserRole:e.chat.permissions.userRole}};t.default=a},function(e,t,n){"use strict";function a(e,t,n){var a=/^\/unignore\s[a-zA-Z0-9-]+$/i;return{match:function(e){return a.test(e)},weight:100,name:"/unignore",description:n.instant("components_chat-input_unignore-command"),hasAccess:function(){return!0},execute:function(e){var n=e.split(" ")[1];t.unIgnore(n)}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["Auth","userActions","$translate"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,o,r,s,l,c){var u=this,d=/^\/game\s(.+)$/i;return c.connect(i)(this),{match:function(e){return d.test(e)},weight:100,name:"/game",description:o.instant("components_chat-input_game-command"),hasAccess:function(){return t.hasPermission(t.accessLevels.admin,u.chatUserRole)&&u.isAdminOfChat},execute:function(t){var i=t.match(d)[1],c=r.get(),u={q:i,limit:100};c&&a.get(u).$promise.then(function(e){if(e.categories.length){var t=e.categories[0];return c.media.media_category_id=t.category_id,void s.update(c.media).then(function(){l.is("detail.dashboard")||n.newMessage("localLog",{text:o.instant("view_chat_text_set-game-to",{game:t.category_name})})})}n.newMessage("localLog",{text:o.instant("view_chat_text_no-games-found")})}).catch(function(t){e.debug("Couldn't fetch games: ",t)})}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$log","Auth","chatMessages","GameSearch","$translate","detailMedia","medias","$state","$ngRedux"];var i=function(e){var t=e.chat;return{isAdminOfChat:t.permissions.isAdmin,chatUserRole:t.permissions.userRole}};t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,o,r,s){var l=this,c=/^\/title\s(.+)$/i;return s.connect(i)(this),{match:function(e){return c.test(e)},weight:100,name:"/title",description:n.instant("components_chat-input_title-command"),hasAccess:function(){return e.hasPermission(e.accessLevels.admin,l.chatUserRole)&&l.isAdminOfChat},execute:function(e){var i=e.match(c)[1],s=a.get();!s||s&&""===s.media.media_status.trim()||(s.media.media_status=i,o.update(s.media).then(function(){r.is("detail.dashboard")||t.newMessage("localLog",{text:n.instant("view_chat_text_set-title-to",{title:i})})}))}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["Auth","chatMessages","$translate","detailMedia","medias","$state","$ngRedux"];var i=function(e){var t=e.chat;return{isAdminOfChat:t.permissions.isAdmin,chatUserRole:t.permissions.userRole}};t.default=a},function(e,t,n){"use strict";function a(e,t,n,a){var o=this,r=/^\/upload$/i;return a.connect(i)(this),{match:function(e){return r.test(e)},weight:100,name:"/upload",description:t.instant("components_chat-input_upload-command"),hasAccess:function(){return e.hasPermission(e.accessLevels.user,o.chatUserRole)||o.chatSubscriptionData},execute:function(){n.$broadcast("chatInputEvent",{type:"upload",data:""})}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["Auth","$translate","$rootScope","$ngRedux"];var i=function(e){var t=e.chat;return{chatUserRole:t.permissions.userRole,chatSubscriptionData:t.permissions.subscriptionData}};t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,i,r){var s=this,l=/^\/host\s(.+)$/i;return r.connect(o)(this),{match:function(e){return l.test(e)},weight:100,name:"/host",description:n.instant("components_chat-input_host-command"),hasAccess:function(){return e.hasPermission(e.accessLevels.admin,s.chatUserRole)&&s.isAdminOfChat},execute:function(e){var o=e.match(l)[1];i.start({user_name:s.channelName,hosted_channel:o,authToken:a.getToken()}).$promise.then(function(){t.newMessage("localLog",{text:n.instant("components_chat-input_you-started-hosting",{channel:s.channelName,hostedChannel:o})})}).catch(function(e){var a="",i="";switch(e&&e.data&&e.data.error_msg&&(a=e.data.error_msg),a){case"missing_params":i=n.instant("components_chat-input_host-mode-missing-params");break;case"hosted_media_not_found":i=n.instant("components_chat-input_host-mode-media-not-found",{hostedChannel:o});break;case"media_is_already_hosting":i=n.instant("components_chat-input_host-mode-already-hosting",{channel:s.channelName});break;default:i=n.instant("global_error_try-again")}t.newMessage("localLog",{text:i})})}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8);a.$inject=["Auth","chatMessages","$translate","loggedUser","Host","$ngRedux"];var o=function(e){var t=e.channel,n=e.chat;return{channelName:(0,i.getName)(t),isAdminOfChat:n.permissions.isAdmin,chatUserRole:n.permissions.userRole}};t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,i,r){var s=this;return r.connect(o)(this),{match:function(e){return e.startsWith("/unhost")},weight:100,name:"/unhost",description:n.instant("components_chat-input_unhost-command"),hasAccess:function(){return e.hasPermission(e.accessLevels.admin,s.chatUserRole)&&s.isAdminOfChat},execute:function(){i.stop({user_name:s.channelName,authToken:a.getToken()}).$promise.then(function(e){t.newMessage("localLog",{text:n.instant("components_chat-input_you-stopped-hosting",{channel:s.channelName,hostedChannel:e.hosted_channel})})}).catch(function(e){var a="",i="";switch(e&&e.data&&e.data.error_msg&&(a=e.data.error_msg),a){case"media_is_not_hosting":i=n.instant("components_chat-input_host-media-is-not-hosting",{channel:s.channelName});break;default:i=n.instant("global_error_try-again")}t.newMessage("localLog",{text:i})})}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8);a.$inject=["Auth","chatMessages","$translate","loggedUser","Host","$ngRedux"];var o=function(e){var t=e.channel,n=e.chat;return{channelName:(0,i.getName)(t),isAdminOfChat:n.permissions.isAdmin,chatUserRole:n.permissions.userRole}};t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(32)),r=a(n(507)),s=function(){function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.process=function(e){e=e||"";var t=(0,o.default)(a.chatCommands,function(t){return t.match(e)&&t.hasAccess()});t?t.execute(e):a.$log.error("Can't find chat command to use for the following command: %s",e)},Object.assign(this,{$log:t,$injector:n}),this.chatCommands=[]}return e.$inject=["$log","$injector"],i(e,[{key:"register",value:function(e){this.$injector.has(e)?(this.$log.debug('Registering "%s" as a chatCommand strategy',e),this.chatCommands.push(this.$injector.get(e)),this.chatCommands=(0,r.default)(this.chatCommands,function(e){return e.weight||0})):this.$log.error('Can\'t find "%s" factory to use as a chatCommand strategy ',e)}},{key:"get",value:function(){return this.chatCommands.filter(function(e){return!!e.name})}}]),e}();t.default=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(529)),r=a(n(1275)),s=a(n(1277)),l=a(n(1279)),c=a(n(1453)),u=a(n(1454));t.default=i.default.module("chat.input",[o.default]).directive("reactChatInput",["reactDirective","$ngRedux",function(e,t){return e(l.default,["updateUserList","getEmotes","sendMessage","triggerEvent","resetEvent","getCommands","getLastWhisperer","canUseLinks","upload","loggedUser","messageLengthCallback","triggerModal"],{},{store:t})}]).directive("reactChatInputNotAuthorized",["reactDirective",function(e){return e(c.default,["text","openLoginDialog"])}]).component("htbxChatInput",r.default).component("htbxChatInputNotAuthorized",s.default).component("chatInputWrap",u.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1276)),o=function(e){var t=e.chat;return{isAdminOfChat:t.permissions.isAdmin,isModeratorOfChat:t.permissions.isModerator,isSubscribedToChat:t.permissions.isSubscribed}},r=function(){function e(t,n,a,i,r,s,l,c,u,d,f){var p=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resetEvent=function(){p.triggerEvent={type:"",data:""}},this.updateUserList=function(){return new Promise(function(e,t){return p.userList.update().then(function(){e(p.userList.getUserLists().full)}).catch(function(){t()})})},this.getEmotes=function(){var e=p.emotes.emotifierEmotes,t=p.emotes.emotifierSubEmotes,n=[];return e&&t&&(n=e.getEmotes(),(p.isSubscribedToChat||p.isAdminOfChat)&&(n=n.concat(t.getEmotes()))),n},this.messageLengthCallback=function(e){p.$rootScope.$broadcast("chatInputLength",e)},this.triggerModal=function(e,t,n){new p.HtbxModal(e,t,n).open()},this.getTranslation=function(e,t){return p.$translate.instant(e,t)},this.getCommands=function(){return p.chatCommands.get()},this.getLastWhisperer=function(){return p.chatMessages.getLastWhisperer()},this.canUseLinks=function(){return p.isAdminOfChat||p.isModeratorOfChat||p.isSubscribedToChat},Object.assign(this,{$scope:t,$rootScope:n,$translate:a,chatCommands:i,chatMessages:r,emotes:s,userList:l,Upload:c,loggedUser:u,HtbxModal:d}),this.$ngRedux=f,this.unsubscribeReduxConnection=this.$ngRedux.connect(o)(this)}return e.$inject=["$scope","$rootScope","$translate","chatCommands","chatMessages","emotes","userList","Upload","loggedUser","HtbxModal","$ngRedux"],a(e,[{key:"$onInit",value:function(){var e=this;this.resetEvent(),this.$scope.$on("chatInputEvent",function(t,n){e.triggerEvent=n}),this.sendMessage=this.chatCommands.process,this.upload=this.Upload.upload,this.getToken={getName:this.loggedUser.getName,getToken:this.loggedUser.getToken}}},{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}}]),e}();t.default={templateUrl:i.default,controller:r}},function(e,t,n){var a="/src/js/chat/chat-input/angular/components/chat-input.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<react-chat-input update-user-list=$ctrl.updateUserList get-emotes=$ctrl.getEmotes send-message=$ctrl.sendMessage trigger-event=$ctrl.triggerEvent reset-event=$ctrl.resetEvent get-commands=$ctrl.getCommands get-last-whisperer=$ctrl.getLastWhisperer can-use-links=$ctrl.canUseLinks upload=$ctrl.upload logged-user=$ctrl.loggedUser message-length-callback=$ctrl.messageLengthCallback trigger-modal=$ctrl.triggerModal></react-chat-input> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(42),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1278)),o=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.openLoginDialog=function(){n.$ngRedux.dispatch((0,a.showChatSignup)())},this.$ngRedux=t};o.$inject=["$ngRedux"],t.default={templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/chat/chat-input/angular/components/chat-input-not-authorized.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<react-chat-input-not-authorized text=\"'{{:: 'global_button_sign-in-to-chat' | translate }}'\" open-login-dialog=$ctrl.openLoginDialog></react-chat-input-not-authorized> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(1),s=a(r),l=(a(n(3)),a(n(230))),c=n(26),u=a(n(93)),d=n(31),f=a(n(561)),p=a(n(564)),m=n(9),h=a(n(67)),g=n(1382),_=a(n(1391)),v=a(n(569)),b=a(n(333)),y=a(n(570)),w=a(n(571)),$=a(n(1394)),x=a(n(1395)),k=a(n(1396)),S=a(n(572)),C=a(n(573)),M=a(n(2)),E=a(n(574)),T=a(n(575)),P=a(n(1398)),O=a(n(1435)),j=a(n(239)),A=a(n(1439)),I=a(n(1441)),L=a(n(1443)),U=a(n(1450)),D=a(n(577)),N=a(n(581)),R=a(n(336));n(583);var F=["image/gif","image/png","image/jpg","image/jpeg"],B=1024e4,z="10MB",H=function(e){var t=e.timeout,n=e.children,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["timeout","children"]);return s.default.createElement(g.CSSTransition,o({},a,{classNames:"transition",timeout:t}),n)};H.defaultProps={timeout:300,children:null};var V=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={editorState:d.EditorState.createEmpty(),isSuggestionsOpen:!1,linkWarning:!1,characterLimitWarning:!1,isConnected:!1,loading:!1,preUpload:!1,uploadFile:null,uploadImagePreview:""},n.preventDocumentDrop=function(e){e.preventDefault()},n.getEditorState=function(){return n.state.editorState},n.checkChatConnection=function(){var e=n.props.store,t=n.state.isConnected,a=e.getState();t!==a.chat.connected&&n.setState({isConnected:a.chat.connected})},n.onChange=function(e){var t=!1;n.props.canUseLinks()||e.getCurrentContent().getBlockMap().forEach(function(e){t||(0,p.default)(e,function(){t=!0})}),n.setState({editorState:e}),n.props.messageLengthCallback(n.messageLength(e)),n.toggleLinkWarning(t),n.isLimitReached(e)||n.toggleCharacterLimitWarning(!1)},n.toggleLinkWarning=function(e){n.setState({linkWarning:e})},n.toggleCharacterLimitWarning=function(e){n.setState({characterLimitWarning:e})},n.onEntryActiveCallback=function(e){n.activeEntry=e},n.triggerEvent=function(e){if("upload"===e.type&&n.props.canUseLinks()&&n.triggerOpenFileDialog(),e.data)if("whisper"!==e.type){var t=void 0,a=n.state.editorState;t=(0,_.default)(e.data,a),"emote"===e.type&&(t=(0,_.default)(e.data,a,!0),t=(0,w.default)(t,n.props.getEmotes())),"mention"!==e.type?n.isLimitReached(t)?n.toggleCharacterLimitWarning(!0):n.onChange(t):n.props.updateUserList().then(function(i){var o=(i=(0,m.fromJS)(i)).find(function(t){return t.get("name").toLowerCase()===e.data.toLowerCase().trim().substr(1)});if(o){var r=(0,_.default)("@",a,!0);return t=(0,f.default)(r,o,"@","@","IMMUTABLE"),void n.onChange(t)}n.triggerEvent({data:e.data})})}else setTimeout(function(){n.setEditorContent(e.data)})},n.focus=function(){n.editor&&n.editor.focus()},n.handleKeyCommand=function(e){if("sendMessage"===e)return n.sendMessage(),S.default;if("getLastWhisperer"===e){var t=n.props.getLastWhisperer();t&&n.setEditorContent("/w "+t+" ")}return C.default},n.sendMessage=function(e){function t(e){if(!e){var t=this.state.editorState;e=(0,b.default)(t)}e&&(this.reset(),this.props.sendMessage(e))}e&&e.stopPropagation();var a=n.props,i=a.triggerModal,o=a.canUseLinks;if(n.state.preUpload&&o())return n.setState({loading:!0}),void n.props.upload({url:M.default.apiUri+"/upload/chat/"+n.props.loggedUser.getName()+"?authToken="+n.props.loggedUser.getToken(),method:"POST",data:{file:n.state.uploadFile,fileFormDataName:"file"}}).then(function(e){t.call(n),t.call(n,M.default.imgUrl+e.data.file),n.removeImage(),n.focus()}).catch(function(e){if(e)switch(e.type){case"max_file_size":i((0,c.getTranslation)("global_error_error-image"),(0,c.getTranslation)("component_upload-drop-area_error-max-size",{maxSize:z}));break;case"invalid_file":i((0,c.getTranslation)("global_error_error_image"),(0,c.getTranslation)("component_upload-drop-area_error-invalid-file"));break;default:i((0,c.getTranslation)("global_error_error-image"),(0,c.getTranslation)("global_error_try-again"))}n.removeImage()});t.call(n)},n.isLimitReached=function(e){return n.messageLength(e)>=300},n.messageLength=function(e){return((0,b.default)(e,!0)||"").length},n.onArrow=function(){setTimeout(function(){n.activeEntry&&n.activeEntry.scrollIntoView()})},n.onInput=function(e){if(n.isLimitReached(n.state.editorState))return n.toggleCharacterLimitWarning(!0),S.default;if(n.toggleCharacterLimitWarning(!1)," "===e){var t=(0,w.default)(n.state.editorState,n.props.getEmotes());if(!t.getCurrentContent().equals(n.state.editorState.getCurrentContent()))return n.onChange(t),S.default}return C.default},n.onPaste=function(e){var t=(0,y.default)(n.state.editorState,e);return n.toggleCharacterLimitWarning(t.toggleCharacterLimitWarning),n.onChange(t.editorState),S.default},n.onPasteFile=function(e){if(!e.length||!n.props.canUseLinks())return S.default;var t=e[0];return n.handleFile(t),S.default},n.onDropFile=function(e){e.preventDefault();var t=(0,k.default)(e);if(t.length){var a=t[0];n.handleFile(a)}return S.default},n.triggerOpenFileDialog=function(e){(0,x.default)(e).then(function(e){n.handleFile(e)})},n.handleFile=function(e){var t=n.props.triggerModal;return F.includes(e.type)?e.size>B?(t((0,c.getTranslation)("global_error_error-image"),(0,c.getTranslation)("component_upload-drop-area_error-max-size",{maxSize:z})),void n.removeImage()):void(0,$.default)(e).then(function(t){n.setState({preUpload:!0,uploadFile:e,uploadImagePreview:t})}):(t((0,c.getTranslation)("global_error_error-image"),(0,c.getTranslation)("component_upload-drop-area_error-invalid-file")),void n.removeImage())},n.removeImage=function(){n.setState({loading:!1,preUpload:!1,uploadFile:null,uploadImagePreview:""})};var a=n.getEditorState;return n.emoteDecorator=[{strategy:(0,E.default)(a),component:(0,u.default)(T.default,{getEmotes:e.getEmotes})}],n.plugins=[D.default,N.default,(0,R.default)((0,u.default)(j.default,{canUseLinks:e.canUseLinks}))],n.activeEntry=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){e.triggerEvent&&(this.triggerEvent(e.triggerEvent),this.props.resetEvent())}},{key:"componentWillMount",value:function(){this.checkChatConnection(),this.reduxSubscription=this.props.store.subscribe(this.checkChatConnection)}},{key:"componentDidMount",value:function(){document.addEventListener("dragover",this.preventDocumentDrop,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("dragover",this.preventDocumentDrop),this.reduxSubscription&&this.reduxSubscription()}},{key:"setEditorContent",value:function(e){var t=d.ContentState.createFromText(e),n=d.EditorState.moveFocusToEnd(d.EditorState.push(this.state.editorState,t));this.onChange(n)}},{key:"reset",value:function(){this.setEditorContent("")}},{key:"render",value:function(){var e=this,t=this.props,n=t.updateUserList,a=t.getCommands,i=this.state,o=i.editorState,r=i.isConnected,u=i.loading,d=i.uploadImagePreview,f=i.preUpload,p=i.uploadFile;return s.default.createElement("form",{className:(0,h.default)({"chat-input":!0,"chat-input--is-connecting":!r,"chat-input--is-connected":r}),onDrop:this.onDropFile},s.default.createElement(g.TransitionGroup,{className:"chat-input__inner",onClick:this.focus},r?s.default.createElement(H,{key:"connected"},s.default.createElement("div",{className:"chat-input__input-wrapper"},s.default.createElement("div",{className:"chat-input__input"},s.default.createElement(l.default,{key:"editor",editorState:o,onChange:this.onChange,onUpArrow:this.onArrow,onDownArrow:this.onArrow,handleBeforeInput:this.onInput,handlePastedFiles:this.onPasteFile,handlePastedText:this.onPaste,decorators:this.emoteDecorator,plugins:this.plugins,readOnly:!r||u,stripPastedStyles:!0,placeholder:(0,c.getTranslation)("global_placeholder_post-message"),ref:function(t){e.editor=t},handleKeyCommand:this.handleKeyCommand,keyBindingFn:v.default})),s.default.createElement(L.default,{disabled:(0===this.messageLength(o)||this.isLimitReached(o))&&!this.state.preUpload,loading:u,onClick:this.sendMessage}))):s.default.createElement(H,{key:"connecting"},s.default.createElement(I.default,null,(0,c.getTranslation)("view_chat_text_connecting-to-chat")))),r?s.default.createElement("span",null,f?s.default.createElement(U.default,{headerText:(0,c.getTranslation)("components_chat-input_upload-image_header-text"),title:p.name,text:(0,c.getTranslation)("components_chat-input_upload-image_title"),imageUrl:d,onClick:this.removeImage}):"",s.default.createElement(A.default,{open:this.state.linkWarning,headerText:(0,c.getTranslation)("components_chat-input_link-warning_header-text"),headerNote:(0,c.getTranslation)("components_chat-input_link-warning_header-note")},(0,c.getTranslation)("components_chat-input_link-warning_content")),s.default.createElement(P.default,{onEntryActiveCallback:this.onEntryActiveCallback,updateUserList:n}),s.default.createElement(O.default,{onEntryActiveCallback:this.onEntryActiveCallback,getCommands:a,getEditorState:this.getEditorState})):null)}}]),t}();t.default=V},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var i=a(n(1383)),o=a(n(1389)),r=a(n(567));e.exports={Transition:r.default,TransitionGroup:o.default,CSSTransition:i.default}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(236)),s=a(n(1386)),l=a(n(1388)),c=a(n(1)),u=a(n(567)),d=n(568),f=function(e,t){return t&&t.split(" ").forEach(function(t){return(0,s.default)(e,t)})},p=function(e,t){return t&&t.split(" ").forEach(function(t){return(0,l.default)(e,t)})},m=(o({},u.default.propTypes,{classNames:d.classNamesShape,onEnter:r.func,onEntering:r.func,onEntered:r.func,onExit:r.func,onExiting:r.func,onExited:r.func}),function(e){function t(){var n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,e.call.apply(e,[this].concat(s))),a.onEnter=function(e,t){var n=a.getClassNames(t?"appear":"enter").className;a.removeClasses(e,"exit"),f(e,n),a.props.onEnter&&a.props.onEnter(e)},a.onEntering=function(e,t){var n=a.getClassNames(t?"appear":"enter").activeClassName;a.reflowAndAddClass(e,n),a.props.onEntering&&a.props.onEntering(e)},a.onEntered=function(e,t){a.removeClasses(e,t?"appear":"enter"),a.props.onEntered&&a.props.onEntered(e)},a.onExit=function(e){var t=a.getClassNames("exit").className;a.removeClasses(e,"appear"),a.removeClasses(e,"enter"),f(e,t),a.props.onExit&&a.props.onExit(e)},a.onExiting=function(e){var t=a.getClassNames("exit").activeClassName;a.reflowAndAddClass(e,t),a.props.onExiting&&a.props.onExiting(e)},a.onExited=function(e){a.removeClasses(e,"exit"),a.props.onExited&&a.props.onExited(e)},a.getClassNames=function(e){var t=a.props.classNames,n="string"!=typeof t?t[e]:t+"-"+e;return{className:n,activeClassName:"string"!=typeof t?t[e+"Active"]:n+"-active"}},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.removeClasses=function(e,t){var n=this.getClassNames(t),a=n.className,i=n.activeClassName;a&&p(e,a),i&&p(e,i)},t.prototype.reflowAndAddClass=function(e,t){e.scrollTop,f(e,t)},t.prototype.render=function(){var e=o({},this.props);return delete e.classNames,c.default.createElement(u.default,o({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(c.default.Component));m.propTypes={},t.default=m,e.exports=t.default},function(e,t,n){"use strict";var a=n(22),i=n(6),o=n(1385);e.exports=function(){function e(e,t,n,a,r,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e)||(e.className=e.className+" "+t)};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1387));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=a(n(236)),r=n(1),s=a(r),l=n(1390),c=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},u=(o.default.any,o.default.node,o.default.bool,o.default.bool,o.default.bool,o.default.func,function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return o.handleExited=function(e,t,n){var a=(0,l.getChildMapping)(o.props.children);e in a||(n&&n(t),o.setState(function(t){var n=i({},t.children);return delete n[e],{children:n}}))},o.state={children:(0,l.getChildMapping)(n.children,function(e){return(0,r.cloneElement)(e,{onExited:function(t){o.handleExited(e.key,t,e.props.onExited)},in:!0,appear:o.getProp(e,"appear"),enter:o.getProp(e,"enter"),exit:o.getProp(e,"exit")})})},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},t.prototype.getProp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;return null!=n[t]?n[t]:e.props[t]},t.prototype.componentDidMount=function(){this.appeared=!0},t.prototype.componentWillReceiveProps=function(e){var t=this,n=this.state.children,a=(0,l.getChildMapping)(e.children),i=(0,l.mergeChildMappings)(n,a);Object.keys(i).forEach(function(o){var s=i[o];if((0,r.isValidElement)(s)){var l=function(e){t.handleExited(s.key,e,s.props.onExited)},c=o in n,u=o in a,d=n[o],f=(0,r.isValidElement)(d)&&!d.props.in;!u||c&&!f?u||!c||f?u&&c&&(0,r.isValidElement)(d)&&(i[o]=(0,r.cloneElement)(s,{onExited:l,in:d.props.in,exit:t.getProp(s,"exit",e),enter:t.getProp(s,"enter",e)})):i[o]=(0,r.cloneElement)(s,{in:!1}):i[o]=(0,r.cloneElement)(s,{onExited:l,in:!0,exit:t.getProp(s,"exit",e),enter:t.getProp(s,"enter",e)})}}),this.setState({children:i})},t.prototype.render=function(){var e=this.props,t=e.component,n=e.childFactory,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["component","childFactory"]),i=this.state.children;return delete a.appear,delete a.enter,delete a.exit,s.default.createElement(t,a,c(i).map(n))},t}(s.default.Component));u.childContextTypes={transitionGroup:o.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function(e){return e}},t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e,t){var n=Object.create(null);return e&&a.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&(0,a.isValidElement)(e)?t(e):e}(e)}),n},t.mergeChildMappings=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var a=Object.create(null),i=[];for(var o in e)o in t?i.length&&(a[o]=i,i=[]):i.push(o);var r=void 0,s={};for(var l in t){if(a[l])for(r=0;r<a[l].length;r++){var c=a[l][r];s[a[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s};var a=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(31);t.default=function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=t.getCurrentContent().getLastBlock().getText();n||(e+=" "),o&&" "!==o.substr(o.length-1,o.length)&&(e=" "+e);var r=a.Modifier.insertText(t.getCurrentContent(),t.getSelection(),e),s=a.EditorState.push(t,r,"insert-text");return i?a.EditorState.forceSelection(s,r.getSelectionAfter()):s}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments[3],s=e.getCurrentContent(),l=s;return s.getBlockMap().forEach(function(s){var c=s.getText();(0,r.default)(s,function(t,r){(0,o.default)(a)||(a.count+=1);var u=s.getEntityAt(t);if(u){var d=l.getEntity(u);if(d&&"emote"===d.get("type"))return}var f=i.SelectionState.createEmpty(s.getKey()).set("anchorOffset",t).set("focusOffset",r),p=c.substring(t,r),m=l.createEntity("emote","IMMUTABLE",{type:"emote",emoteName:p}).getLastCreatedEntityKey();l=i.Modifier.replaceText(l,f,"",null,m);var h=f.getAnchorKey();e.getCurrentContent().getBlockForKey(h).getLength()!==r||n||(l=i.Modifier.insertText(l,l.getSelectionAfter()," "))},t)}),l.equals(s)||(e=i.EditorState.push(e,l,"convert-to-immutable-emotes")),e};var i=n(31),o=a(n(11)),r=a(n(1393))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(173)),o=a(n(313));t.default=function(e,t,n){e.getText().split(" ").forEach(function(a){var r=n.find(function(e){return(0,i.default)(e.get("icon_short"))===a.trim()||(0,i.default)(e.get("icon_short_alt"))===a.trim()});if(r)for(var s=new RegExp((0,o.default)(r.get("icon_short"))+"|"+(0,o.default)(r.get("icon_short_alt")),"g"),l=e.getText(),c=void 0,u=void 0;null!==(c=s.exec(l));)l[(u=c.index)+c[0].length]||t(u,u+c[0].length)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a.result)},a.onerror=function(e){n(e)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t){e&&e.preventDefault();var n=document.createElement("input");n.type="file",n.accept="image/*",n.onchange=function(){var e=n.files;if(e.length){var a=e[0];t(a)}},n.click()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),s=a(r),l=(a(n(3)),n(237)),c=n(26),u=a(n(238)),d=a(n(1418)),f=a(n(577)).default.MentionSuggestions,p=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={isSuggestionsOpen:!1,mentions:[],userList:[]},a.onSearchChange=function(e){var t=e.value;a.props.updateUserList().then(function(e){var n=a.suggestionsFilter(t,e);a.setState({mentions:n,userList:e})})},a.onSuggestionsOpen=function(){a.setState({isSuggestionsOpen:!0})},a.onSuggestionsClose=function(){a.setState({isSuggestionsOpen:!1,mentions:[]})},a.suggestionsFilter=function(e,t){var n=e.toLowerCase(),i=t.filter(function(e){return e.onEntryActiveCallback=a.props.onEntryActiveCallback,!n||e.name.toLowerCase().indexOf(n)>-1}),o=i.length<20?i.length:20;return i.slice(0,o)},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"render",value:function(){var e=this;return s.default.createElement(u.default,{type:"mentions",open:this.state.isSuggestionsOpen&&this.state.mentions.length>0,headerText:""+(0,c.getTranslation)("component_chat-input_showing-members",{mentionCount:this.state.mentions.length,userCount:this.state.userList.length})},s.default.createElement(l.Scrollbars,{autoHeight:!0,autoHeightMax:300},s.default.createElement(f,{onSearchChange:this.onSearchChange,onOpen:function(){e.onSuggestionsOpen()},onClose:this.onSuggestionsClose,suggestions:this.state.mentions,entryComponent:d.default})))}}]),t}();t.default=p},,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=a(n(1));a(n(3)),t.default=function(e){var t=e.mention,n=(e.theme,e.searchValue,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["mention","theme","searchValue"])),a=t.get("role"),r=t.get("image"),s=t.get("color"),l=t.get("name"),c=t.get("onEntryActiveCallback");return o.default.createElement("div",i({},n,{ref:function(e){e&&e.classList.contains("chat-input-suggestions__list__item--focus")&&c(e,l)}}),o.default.createElement("span",{className:"chat-input-suggestions__list__item__user "+a},o.default.createElement("span",{className:"chat-input-suggestions__badge"}),o.default.createElement("span",{className:"chat-input-suggestions__badge__sub",style:{backgroundImage:r?"url("+r+")":""}}),o.default.createElement("span",{className:"chat-input-suggestions__username",style:{color:s?"#"+s:""}},l)))}},,,,,,,,,,,,,,,,function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=(a(n(3)),n(1)),s=a(r),l=n(237),c=n(26),u=a(n(581)),d=a(n(238)),f=a(n(1436));n(1437);var p=u.default.MentionSuggestions,m=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={isSuggestionsOpen:!1,commands:[]},a.onSearchChange=function(e){a.setState({commands:a.suggestionsFilter("/"+e.value,a.props.getCommands())})},a.onSuggestionsOpen=function(){a.setState({isSuggestionsOpen:!0})},a.onSuggestionsClose=function(){a.setState({isSuggestionsOpen:!1,commands:[]})},a.canOpen=function(){return"/"===a.props.getEditorState().getCurrentContent().getFirstBlock().getText().substr(0,1)},a.suggestionsFilter=function(e,t){var n=e.toLowerCase(),i=t.filter(function(e){e.onEntryActiveCallback=a.props.onEntryActiveCallback;var t=e.hasAccess;return(!n||e.name.toLowerCase().indexOf(n)>-1)&&t&&t()}),o=i.size<20?i.size:20;return i.slice(0,o)},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"render",value:function(){return this.canOpen()?s.default.createElement(d.default,{type:"commands",open:this.state.isSuggestionsOpen&&this.state.commands.length>0,headerText:(0,c.getTranslation)("components_chat-input_chat-commands")},s.default.createElement(l.Scrollbars,{autoHeight:!0,autoHeightMax:300},s.default.createElement(p,{onSearchChange:this.onSearchChange,onOpen:this.onSuggestionsOpen,onClose:this.onSuggestionsClose,suggestions:this.state.commands,entryComponent:f.default}))):s.default.createElement("div",null)}}]),t}();t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=a(n(1));a(n(3)),t.default=function(e){var t=e.mention,n=(e.theme,e.searchValue,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["mention","theme","searchValue"])),a=t.get("description"),r=a,s=t.get("onEntryActiveCallback");return"function"==typeof a&&(r=a()),o.default.createElement("div",i({},n,{ref:function(e){e&&e.classList.contains("chat-input-suggestions__list__item--focus")&&s(e)}}),o.default.createElement("span",{className:"chat-input-suggestions__list__item__command__name"},t.get("name")),o.default.createElement("span",{className:"chat-input-suggestions__list__item__command__description"},r))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),s=a(r),l=(a(n(3)),a(n(67))),c=a(n(238));n(1440);var u=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={contentCollapsed:!0},a.toggleContent=function(){a.setState({contentCollapsed:!a.state.contentCollapsed})},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.open!==e.open||this.state.contentCollapsed!==t.contentCollapsed}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.headerText,a=e.headerNote,i=e.children,o=!this.state.contentCollapsed;return this.props.isCollapsed||(o=!0),s.default.createElement(c.default,{open:t,headerText:n,headerNote:a,headerNoteClick:this.toggleContent},i?s.default.createElement("div",{className:(0,l.default)({"chat-input-info":!0,"chat-input-info--is-active":o})},i):null)}}]),t}();u.defaultProps={headerNote:"",isCollapsed:!0,children:null},t.default=u},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1));a(n(3)),n(1442),t.default=function(e){var t=e.children;return i.default.createElement("div",{className:"chat-input__input chat-input-connecting"},t)}},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(67))),r=a(n(35)),s=a(n(335)),l=a(n(461)),c=a(n(1448)),u=function(e){var t=e.disabled,n=e.loading,a=e.onClick;return i.default.createElement(c.default,{className:(0,o.default)({"chat-input-button--send":!0,"chat-input-button--send--disabled":t}),onClick:function(e){return a(e)}},n?i.default.createElement(s.default,null):i.default.createElement(r.default,{size:24,icon:l.default}))};u.defaultProps={disabled:!1,loading:!1},t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(77)),n(1447)),r=function(e){return i.default.createElement(o.StyledSpinny,e)};r.defaultProps={size:"default",variant:"dark",center:!1},t.default=r},function(e,t,n){"use strict";var a=n(22),i=n(6),o=n(1446);e.exports=function(){function e(e,t,n,a,r,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return e.raw=t,e}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledSpinny=void 0;var o=n(10),r=a(o),s=n(180),l=a(n(20)),c=i(["\n    0% {\n        transform: rotate(0deg);\n    }\n\n    100% {\n        transform: rotate(359deg);\n    }\n"],["\n    0% {\n        transform: rotate(0deg);\n    }\n\n    100% {\n        transform: rotate(359deg);\n    }\n"]),u=i(["\n    0% {\n        transform: rotate(0deg);\n    }\n\n    100% {\n        transform: rotate(-359deg);\n    }\n"],["\n    0% {\n        transform: rotate(0deg);\n    }\n\n    100% {\n        transform: rotate(-359deg);\n    }\n"]),d=i(["\n    position: relative;\n    display: inline-block;\n\n    &:before {\n        content: '';\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        border: 2px solid transparent;\n        border-radius: 100%;\n        animation: "," .8s infinite linear;\n        backface-visibility: hidden;\n    }\n\n    ","\n    ","\n    ","\n"],["\n    position: relative;\n    display: inline-block;\n\n    &:before {\n        content: '';\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        border: 2px solid transparent;\n        border-radius: 100%;\n        animation: "," .8s infinite linear;\n        backface-visibility: hidden;\n    }\n\n    ","\n    ","\n    ","\n"]),f=(0,o.keyframes)(c),p=(0,o.keyframes)(u),m={default:"\n        width: 20px;\n        height: 20px;\n    ",small:"\n        width: 15px;\n        height: 15px;\n    ",medium:"\n        width: 30px;\n        height: 30px;\n    ",large:"\n        width: 50px;\n        height: 50px;\n    "},h={light:"\n        &:before {\n            border-color: "+l.default.lineLight+";\n            border-top-color: "+(0,s.rgba)(l.default.lineLight,.3)+";\n        }\n    ",dark:"\n        &:before {\n            border-color: "+l.default.lineDark+";\n            border-top-color: "+(0,s.rgba)(l.default.lineDark,.3)+";\n        }\n    ",brand:"\n        &:before,\n        &:after {\n            border-color: "+(0,s.rgba)(l.default.blue,.5)+";\n        }\n\n        &:before {\n            top: -15%;\n            left: -15%;\n            border-top-color: "+l.default.blue+";\n        }\n\n        &:after {\n            content: '';\n            width: 130%;\n            height: 130%;\n            border: 2px solid transparent;\n            border-radius: 100%;\n            animation: "+p+" 2.2s infinite linear;\n            backface-visibility: hidden;\n            position: absolute;\n            top: -30%;\n            left: -30%;\n            border-bottom-color: "+l.default.red+";\n        }\n    "};t.StyledSpinny=r.default.span.withConfig({displayName:"Spinnystyles__StyledSpinny",componentId:"sc-3nrpyd-0"})(d,f,function(e){return m[e.size]},function(e){return h[e.variant]},function(e){return e.center?"\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translateY(-50%) translateX(-50%);\n    ":""})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(67)));n(1449);var r=function(e){var t=e.className,n=e.onClick,a=e.children;return i.default.createElement("button",{type:"button",className:(0,o.default)("chat-input-button",t),onClick:n},a)};r.defaultProps={className:"",onClick:function(){},children:null},t.default=r},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),n(26)),r=a(n(238));n(1451),t.default=function(e){var t=e.headerText,n=e.title,a=e.text,s=e.imageUrl,l=e.onClick;return i.default.createElement(r.default,{open:!0,headerText:t||(0,o.getTranslation)("components_chat-input_upload-image_header-text"),headerNote:(0,o.getTranslation)("global_button_cancel"),headerNoteClick:function(e){return l(e)}},i.default.createElement("div",{className:"image-upload-preview"},i.default.createElement("div",{className:"image-upload-preview__image",style:{backgroundImage:"url("+s+")"}}),i.default.createElement("div",{className:"image-upload-preview__text"},i.default.createElement("div",{className:"image-upload-preview__title"},n),i.default.createElement("div",{className:"image-upload-preview__description"},a||(0,o.getTranslation)("components_chat-input_upload-image_title")))))}},function(e,t){},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1));a(n(3)),n(583),t.default=function(e){var t=e.text,n=e.openLoginDialog;return i.default.createElement("div",{className:"chat-input"},i.default.createElement("div",{className:"chat-input__inner"},i.default.createElement("button",{type:"button",className:"chat-input__login",onClick:n},t)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1455));t.default={bindings:{},templateUrl:a.default,controller:function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}}},function(e,t,n){var a="/src/js/chat/chat-input/angular/components/chat-input-wrap.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-authorize permission=post_chat signin-purpose=\"{{:: 'global_text_chat' | translate }}\" class=chat-input-permission-switch> <unauthenticated on-click=void() once-signed-in=chat.disconnect()> <htbx-chat-input-not-authorized></htbx-chat-input-not-authorized> <chat-buttons></chat-buttons> </unauthenticated> <access-denied> <div>{{:: 'view_subscribe_text_subscriber-only' | translate }}</div> </access-denied> <access-granted> <htbx-chat-input></htbx-chat-input> <chat-buttons></chat-buttons> </access-granted> </htbx-authorize> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1457));t.default=i.default.module("htbx.webcam",[]).directive("htbxWebcam",o.default).name},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=n(42),r=n(8),s=a(n(1458)),l=a(n(2)),c=a(n(1459));n(1460);var u="noWebcam",d=function(e){var t=e.channel;return{channelName:(0,r.getName)(t)}};t.default=function(){function t(t,n,a,r,c,f,p){function m(){v="",e.reset(),e.set({width:325,height:244}),e.setSWFLocation(s.default),e.attach(_)}function h(e){var t=f.getName(),o=f.getToken();g.uploading||(g.uploading=!0,g.udaUrl=l.default.apiUri+"/upload/screenshot/",n.upload({url:g.udaUrl+t+"/"+o,method:"POST",data:{file:e,fileFormDataName:"file"}}).then(function(e){g.uploading=!1,function(e){var t=g.channelName,n="https://edge.sf.hitbox.tv"+e;a.send(t.toLowerCase(),n),g.removeSnapshot(),c.trackEvent("selfie","posted",g.channelName),i.default.isFunction(g.onSave)&&g.onSave()}(e.data.file)}).catch(function(){g.uploading=!1}))}var g=this,_=void 0,v="";g.dataUri=null,g.file=null,g.available=!0,g.uploading=!1,g.channelName=null;var b=p.connect(d)(this);g.setTargetElement=function(e){e&&(_=e,m(),c.trackEvent("selfie","open",g.channelName))},g.takeSnapshot=function(){f.isAuthenticated()?e.snap(function(e){var t=function(e,t){var n=e;return n.lastModifiedDate=new Date,n.name="screenshot.jpg",e}(function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],a=[],i=0;i<t.length;i++)a.push(t.charCodeAt(i));return new Blob([new Uint8Array(a)],{type:n})}(e));r(function(){g.dataUri=e,g.file=t,g.available=!1}),c.trackEvent("selfie","taken",g.channelName)}):p.dispatch((0,o.showChatSignup)())},g.removeSnapshot=function(){e.snap(function(){r(function(){g.dataUri=null,g.file=null,g.available=!0}),c.trackEvent("selfie","cancel",g.channelName)})},g.doPost=function(){h(g.file)},g.authorize=function(){m()},g.hasError=function(e){return i.default.isDefined(e)?v===e:""!==v},e.on("error",function(t){function n(e){return t.constraintName===e||t.message===e||t.name===e}n("No camera was detected")>-1?v=u:n("Could not access webcam")>-1?n("NotFoundError")>-1?v=u:n("PermissionDeniedError")>-1&&-1===n("Only secure origins are allowed")?v="noHTML5Permission":r(function(){m(),e.set({force_flash:!0})},100):n("Adobe Flash Player not found")>-1?v="noFlash":n("Access to camera denied")>-1&&(v="noFlashPermission"),v&&r(function(){})}),t.$on("$destroy",function(){_=null,v="",g.removeSnapshot(),e.reset(),b&&b()})}return t.$inject=["$scope","Upload","chatMessages","$timeout","Analytics","loggedUser","$ngRedux"],{restrict:"E",scope:{onSave:"&"},templateUrl:c.default,replace:!0,controllerAs:"webcam",bindToController:!0,controller:t,link:function(e,t,n,a){var i=t.find(".webcam__target");a.setTargetElement(i[0])}}}}).call(t,n(584))},function(e,t,n){e.exports=n.p+"swf/04a726ad2d128f355a34626b36300bc2.swf"},function(e,t,n){var a="/src/js/webcam/directives/webcam-directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-class=\"{\n        'webcam--has-error webcam--has-error-no-webcam': webcam.hasError('noWebcam'),\n        'webcam--has-error webcam--has-error-no-flash': webcam.hasError('noFlash'),\n        'webcam--has-error webcam--has-error-no-permission': (webcam.hasError('noHTML5Permission') || webcam.hasError('noFlashPermission'))\n    }\" class=webcam> <div class=webcam__auth-message> <p ng-if=\"webcam.hasError('noWebcam')\" class=\"webcam__auth-message__text webcam__auth-message__text--no-webcam\"> {{::'component_webcam_error_text_no-webcam' | translate}} </p> <p ng-if=\"!webcam.hasError() || (webcam.hasError('noHTML5Permission') || webcam.hasError('noFlashPermission'))\" class=\"webcam__auth-message__text webcam__auth-message__text--no-permission\"> {{::'view_chat_text_authorize-webcam' | translate}} </p> <p ng-if=\"webcam.hasError('noFlash')\" class=\"webcam__auth-message__text webcam__auth-message__text--no-flash\"> {{::'component_webcam_error_text_no-flash-plugin' | translate}} </p> </div> <div class=webcam__target></div> <div ng-if=webcam.file class=webcam__preview> <img ng-src={{webcam.dataUri}} class=webcam__preview__image alt=\"\"/> <button class=\"webcam__preview__button webcam__preview__button--retry\" tooltip-placement=\"auto right\" uib-tooltip=\"{{::'global_text_retry' | translate}}\" tooltip-append-to-body=true ng-click=webcam.removeSnapshot()> <smash-icon data-icon=close data-size=24 data-center=true></smash-icon> </button> <button ng-click=webcam.doPost() uib-tooltip=\"{{::'global_button_post' | translate}}\" tooltip-placement=\"auto left\" tooltip-append-to-body=true class=\"webcam__preview__button webcam__preview__button--post\"> <smash-spinny ng-show=webcam.uploading data-variant=\"'light'\" data-center=true></smash-spinny> <smash-icon ng-hide=webcam.uploading data-icon=check data-size=24 data-center=true></smash-icon> </button> </div> <htbx-button ng-if=\"!webcam.hasError() && webcam.available\" data-type=button data-variant=ok data-on-select=webcam.takeSnapshot() class=\"webcam__button webcam__button--take-picture animate\"> {{::'view_chat_text_screenshot-take-picture' | translate}} </htbx-button> <htbx-button ng-if=\"webcam.hasError('noFlashPermission')\" data-type=button data-variant=ok data-on-select=webcam.authorize() class=\"webcam__buton webcam__button--authorize animate\"> {{::'component_webcam_text_authorize' | translate}} </htbx-button> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(t){var n=this;this.poll=t,"paused"===t.status&&(this.paused=!0),"ended"!==t.status?((0,o.default)(this.poll.voters,e.getName())&&(0,r.default)(this.poll.answer)&&(this.poll.answer=-1),this.poll.choices.forEach(function(e){e.percentage=n.poll.votes&&(n.paused||(0,s.default)(n.poll.answer))?function(e){return(e.votes/n.poll.votes*100).toFixed(1)}(e):0}),((0,s.default)(this.poll.answer)||"paused"===this.poll.status)&&(this.maxVotedChoice=(0,l.default)(this.poll.choices,"votes"))):this.finished=!0}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(57)),r=a(n(11)),s=a(n(240)),l=a(n(1462));i.$inject=["loggedUser"],t.default=i},function(e,t,n){var a=n(1463),i=n(1464),o=n(55);e.exports=function(e,t){return e&&e.length?a(e,o(t,2),i):void 0}},function(e,t,n){var a=n(127);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var r=e[i],s=t(r);if(null!=s&&(void 0===l?s==s&&!a(s):n(s,l)))var l=s,c=r}return c}},function(e,t){e.exports=function(e,t){return e>t}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(11)),o=a(n(66));t.default=function(){return function(e){this.poll=e,"paused"===e.status&&(this.paused=!0),"ended"===e.status&&(this.ended=!0),"hidden"===e.status&&(this.hidden=!0),"delete"!==e.status?(0,i.default)(this.poll.answer)||(0,o.default)(this.poll.answer)||(this.poll.choices[this.poll.answer].percentage=100):this.finished=!0}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){l.default.sendMessage("chat.getPoll",{channel:e})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=a(n(240)),s=a(n(32)),l=a(n(12)),c=n(42),u=n(8),d=a(n(1467));n(1468);var f=void 0,p=function(e){var t=e.channel,n=e.chat;return{channelName:(0,u.getName)(t),isAdminOfChat:n.permissions.isAdmin,isSubscribedToChat:n.permissions.isSubscribed}},m=function(){function e(t,n,a,i,o,c,u,d,m,h,g){var _=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.raffleMsgCallback=function(e){_.msgCallback(e,"raffleMsg")},this.winnerMsgCallback=function(e){_.msgCallback(e,"winnerMsg")},this.msgCallback=function(e,t){e.isRaffle="raffleMsg"===t,_.$rootScope.$applyAsync(function(){"winnerMsg"===t?function(e){if(e.winner_picked&&e.winner_name===this.loggedUser.getName()&&(this.isWinner=!0),e.forAdmin&&e.winner_picked){var t={name:e.winner_name,email:e.winner_email};if(this.winners=this.winners||[],this.winners[e.answer]=this.winners[e.answer]||[],(0,s.default)(this.winners[e.answer],t))return;this.winners[e.answer].push(t)}}.call(_,e):function(e){this.isRaffle=!!e.isRaffle,e.answer=(0,r.default)(e.answer)?e.answer:this.answer,e.choices=e.choices||f,this.behaviour=this.isRaffle?new this.RaffleBehaviour(e):new this.PollBehaviour(e,this.loggedUser),this.answer=this.behaviour.poll.answer,this.startTime=e.start_time||new Date,this.isActive=this.behaviour.poll&&!this.behaviour.finished&&!this.behaviour.hidden&&!this.hideControls,f=this.behaviour.poll.choices,this.behaviour.finished&&(this.behaviour=null,this.answer=null,this.isWinner=!1,f=[])}.call(_,e)})},Object.assign(this,{$location:t,$state:n,$stateParams:a,$rootScope:i,$window:o,Follow:c,FollowingStore:u,loggedUser:d,PollBehaviour:m,RaffleBehaviour:h}),this.$ngRedux=g,this.hideControls="embedchat"===n.current.section&&"true"===a.mini,this.unsubscribeReduxConnection=this.$ngRedux.connect(p)(this),l.default.on("chat.pollMsg",this.msgCallback),l.default.on("chat.raffleMsg",this.raffleMsgCallback),l.default.on("chat.winnerMsg",this.winnerMsgCallback)}return e.$inject=["$location","$state","$stateParams","$rootScope","$window","Follow","FollowingStore","loggedUser","PollBehaviour","RaffleBehaviour","$ngRedux"],o(e,[{key:"$onInit",value:function(){var e=this;(function(){var e=this,t={type:"user",follow_id:this.channelName,authToken:this.loggedUser.getToken(),user_name:this.loggedUser.getName()};this.FollowingStore.get(t).then(function(t){e.isFollowing=t.following&&t.following.follow_id})}).call(this),"embedchat"===this.$state.current.section?i(this.channelName):l.default.once("feed.loginMsg",function(){i(e.channelName)})}},{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection(),l.default.off("chat.pollMsg",this.msgCallback),l.default.off("chat.raffleMsg",this.raffleMsgCallback),l.default.off("chat.winnerMsg",this.winnerMsgCallback)}},{key:"vote",value:function(e){this.loggedUser.isAuthenticated()?this.hasVoted()||(!this.behaviour.poll.followerOnly||this.isFollowing||this.isAdminOfChat?!this.behaviour.poll.subscriberOnly||this.isSubscribedToChat||this.isAdminOfChat?(this.answer=e,function(){var t=this.isRaffle?"voteRaffle":"votePoll";l.default.sendMessage(t,{name:this.loggedUser.getName(),channel:this.channelName,choice:e,token:this.loggedUser.getToken()})}.call(this)):function(){var e="https://"+this.$location.host()+"/"+this.channelName+"/subscribe";this.loggedUser.isAuthenticated()&&(e+="/"+this.loggedUser.getName()),this.$window.open(e,"_blank")}.call(this):function(){var t=this,n={type:"user",follow_id:this.channelName,authToken:this.loggedUser.getToken()};this.Follow.add(n,function(){t.isFollowing=!0,t.$rootScope.$broadcast("followingUpdate",{id:t.channelName,value:!0}),t.vote(e)})}.call(this)):this.$ngRedux.dispatch((0,c.showChatSignup)())}},{key:"hasVoted",value:function(){return!!this.behaviour&&(0,r.default)(this.behaviour.poll.answer)}},{key:"pause",value:function(){var e=this.isRaffle?"pauseRaffle":"pausePoll";l.default.sendMessage("chat."+e,{channel:this.channelName,token:this.loggedUser.getToken()})}},{key:"resume",value:function(){var e=this.isRaffle?"startRaffle":"startPoll";l.default.sendMessage("chat."+e,{channel:this.channelName,token:this.loggedUser.getToken()})}},{key:"end",value:function(){var e=this.isRaffle?"endRaffle":"endPoll";l.default.sendMessage("chat."+e,{channel:this.channelName,token:this.loggedUser.getToken()})}},{key:"reset",value:function(){delete this.winners,l.default.sendMessage("chat.cleanupRaffle",{channel:this.channelName,token:this.loggedUser.getToken()})}},{key:"pickWinOption",value:function(e){this.end(),l.default.sendMessage("chat.winnerRaffle",{channel:this.channelName,answer:e})}}]),e}();t.default={bindings:{startTime:"=",isActive:"="},templateUrl:d.default,controller:m}},function(e,t,n){var a="/src/js/poll/components/poll.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=poll ng-if=\"($ctrl.behaviour.poll && !$ctrl.behaviour.finished && !$ctrl.behaviour.hidden) && !$ctrl.hideControls\" ng-class=\"{\n        'poll__results': $ctrl.hasVoted() || $ctrl.behaviour.paused,\n    }\"> <div> <div class=poll__question> <span class=poll__question__prefix ng-if=!$ctrl.isRaffle> {{::'view_dashboard_header_poll' | translate}}: </span> <span class=poll__question__prefix ng-if=$ctrl.isRaffle> Answer to win: </span> {{$ctrl.behaviour.poll.question}} </div> <div ng-if=$ctrl.isRaffle> <div class=poll-prize-head><span>{{::'global_text_win' | translate}}</span>:</div> <div class=poll-prize>{{$ctrl.behaviour.poll.prize}}</div> </div> </div> <form name=startForm role=form novalidate> <div ng-hide=\"$ctrl.behaviour.poll.status !== 'started' || $ctrl.loggedUser.isSuperAdmin()\"> <div ng-if=::$ctrl.loggedUser.isAuthenticated()> <span ng-if=\"$ctrl.behaviour.poll.followerOnly && !$ctrl.isFollowing\" class=poll-description>Follow to vote.</span> <span ng-if=\"$ctrl.behaviour.poll.subscriberOnly && !$ctrl.isSubscribedToChat\" class=poll-description>Subscribe to vote.</span> </div> <span ng-if=::!$ctrl.loggedUser.isAuthenticated() class=poll-description>Sign in to vote.</span> </div> <div class=item-wrap ng-class=\"{picked: $ctrl.hasVoted() || $ctrl.behaviour.paused}\"> <span ng-repeat=\"choice in $ctrl.behaviour.poll.choices track by $index\"> <div href=javascript:void(0); class=\"item poll-choice nono\" ng-click=$ctrl.vote($index) ng-class=\"{winner: $ctrl.behaviour.maxVotedChoice === choice}\"> <span class=choice-text>{{choice.text}}</span> <div class=bar> <div ng-style=\"{ width: choice.percentage + '%'}\"></div> </div> <div class=votes ng-show=\"!$ctrl.isRaffle && ($ctrl.hasVoted() || $ctrl.behaviour.paused)\"> {{choice.percentage}}% </div> <div ng-if=\"($ctrl.isRaffle && ($ctrl.isAdminOfChat || $ctrl.loggedUser.isSuperAdmin())) && ($ctrl.behaviour.poll.status == 'paused' || $ctrl.behaviour.poll.status == 'ended' || $ctrl.behaviour.poll.status == 'hidden') && $ctrl.winners[$index].length > 0\" class=giveaway-settings__winners> <span>{{::'view_dashboard_label_winners-are' | translate}} </span> <a ng-repeat=\"winner in $ctrl.winners[$index]\" tooltip-placement=\"auto top\" uib-tooltip=\"{{:: 'view_dashboard_tooltip_notify-email' | translate }}\" tooltip-append-to-body=true ng-href=mailto:{{::winner.email}} target=_blank rel=noopener> {{::winner.name}} </a> </div> <div class=votes ng-if=\"$ctrl.isRaffle && ($ctrl.isAdminOfChat || $ctrl.loggedUser.isSuperAdmin())\"> {{ choice.count | number }} {{ 'global_text_vote-votes' | translate:{ COUNT: choice.count }:'messageformat' }} </div> <div class=poll__pick-winner ng-if=\"$ctrl.isRaffle && ($ctrl.isAdminOfChat || $ctrl.loggedUser.isSuperAdmin())\" ng-show=\"$ctrl.behaviour.poll.status == 'paused' || $ctrl.behaviour.poll.status == 'ended' || $ctrl.behaviour.poll.status == 'hidden'\"> <htbx-button type=button data-variant=outline data-size=super-small data-on-select=$ctrl.pickWinOption($index) ng-if=\"choice.count - $ctrl.winners[$index].length > 0\"> <translation-message-format translation=view_dashboard_button_pick-winner value=$ctrl.winners[$index].length></translation-message-format> </htbx-button> </div> </div> </span> </div> </form> <footer class=poll__footer> <div ng-if=\"$ctrl.behaviour.paused || ($ctrl.behaviour.ended && !$ctrl.isWinner) || $ctrl.isWinner\" class=poll__status ng-class=\"{ 'poll__status--winner': $ctrl.isWinner}\"> <div class=poll__status__icon> <smash-icon data-icon=question data-center=true></smash-icon> <smash-icon data-icon=trophy data-center=true></smash-icon> </div> <div class=poll__status__text> <div class=poll__status__text__title> <span ng-if=$ctrl.isWinner> {{::'global_text_you-won' | translate}} </span> <span ng-if=$ctrl.behaviour.paused> {{::'view_chat_text_poll-ended'|translate}} </span> <span ng-if=\"$ctrl.behaviour.ended && !$ctrl.isWinner\"> {{::'global_text_giveaway-ended' | translate}} </span> </div> <div class=poll__status__text__description> <span ng-if=\"$ctrl.behaviour.paused && $ctrl.isRaffle\"> {{::'view_chat_text_voting-over' | translate}} </span> <span ng-if=$ctrl.isWinner> {{::'view_chat_text_user-got-your-email' | translate:{ username: $ctrl.channelName } }} </span> </div> </div> </div> <div ng-if=\"$ctrl.isAdminOfChat || $ctrl.loggedUser.isSuperAdmin()\" class=poll__buttons> <htbx-button data-type=button data-variant=warning data-size=super-small ng-if=!$ctrl.isRaffle data-on-select=$ctrl.end()> {{:: 'global_text_end' | translate }} </htbx-button> <htbx-button data-type=button data-variant=warning data-size=super-small ng-if=\"$ctrl.isRaffle && $ctrl.behaviour.poll.status === 'started'\" data-on-select=$ctrl.pause()> {{:: 'view_dashboard_button_stop-pick-winners' | translate }} </htbx-button> <htbx-button data-type=button data-variant=outline data-size=super-small data-on-select=$ctrl.reset() ng-if=\"$ctrl.isRaffle && ($ctrl.behaviour.paused ||  $ctrl.behaviour.poll.status == 'started' || $ctrl.behaviour.poll.status == 'ended')\"> {{:: 'global_text_end' | translate }} </htbx-button> </div> </footer> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(12)),r=a(n(226)),s=a(n(129)),l=a(n(319)),c=n(8),u=a(n(1470)),d=140,f=100,p=100,m=function(e){var t=e.channel,n=e.chat;return{channelName:(0,c.getName)(t),subEnabled:(0,c.subscriptionsAllowed)(t),nameColor:n.options.nameColor}},h=function(){function e(t,n,a,i,r){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.postCallback=function(e){s.removeEmptyChoices();var t={channel:s.channelName,question:e,choices:s.choices,subscriberOnly:s.subscriberOnly,followerOnly:s.followerOnly,start_time:new Date,nameColor:s.nameColor},n="createPoll";s.hasPrize&&(n="createRaffle",t.prize=s.prize),o.default.sendMessage("chat."+n,t),s.reset(),s.onPost&&s.onPost(),s.Analytics.trackEvent("chat","pollStarted")},this.messageLengthCallback=function(e){s.messageLength=e},this.getEmotes=function(){var e=s.emotes.emotifierEmotes,t=s.emotes.emotifierSubEmotes,n=[];return e&&t&&(n=(n=e.getEmotes()).concat(t.getEmotes())),n},this.getTranslation=function(e,t){return s.$translate.instant(e,t)},this.$ngRedux=t,this.$translate=n,this.Analytics=a,this.emotes=i,this.maxQuestionLength=f,this.maxChoicelength=d,this.maxPrizelength=p,this.reset(),this.unsubscribeReduxConnection=this.$ngRedux.connect(m)(this),r.$watch(function(){return s.hasPrize},function(){return s.reset()})}return e.$inject=["$ngRedux","$translate","Analytics","emotes","$scope"],i(e,[{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"post",value:function(){this.postTrigger||(this.postTrigger=!0)}},{key:"addChoiceOnChange",value:function(){this.choices.length>=10||(0,s.default)((0,l.default)(this.choices).text)||this.addChoice()}},{key:"addChoice",value:function(){this.choices.push({text:"",votes:0})}},{key:"removeEmptyChoicesOnChange",value:function(){this.choices.length!==this.minChoicesCount&&(this.removeEmptyChoices(),this.addChoiceOnChange())}},{key:"removeEmptyChoices",value:function(){this.choices=(0,r.default)(this.choices,function(e){return!e.text})}},{key:"reset",value:function(){this.question="",this.prize="",this.subscriberOnly=!1,this.followerOnly=!1,this.choices=[],this.minChoicesCount=this.hasPrize?1:2;for(var e=0;e<this.minChoicesCount;e++)this.addChoice();this.postTrigger=!1}}]),e}();t.default={templateUrl:u.default,bindings:{hasPrize:"<?",activePollType:"<?",onPost:"&?",compactMode:"<?"},controller:h}},function(e,t,n){var a="/src/js/poll/components/create-poll.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <div ng-if=\"$ctrl.activePollType === 'raffle'\" class=poll-settings__warning> {{::'view_dashboard_error_end-running-raffle' | translate}} </div> <div ng-if=\"$ctrl.activePollType === 'poll'\" class=giveaway-settings__warning> {{::'view_dashboard_error_end-running-poll' | translate}} </div> <form ng-if=!$ctrl.activePollType ng-submit=$ctrl.post() name=startForm novalidate> <div class=\"create-poll__input__wrap dash__input\"> <react-feed-post-input max-length=$ctrl.maxQuestionLength get-emotes=$ctrl.getEmotes send-message-trigger=$ctrl.postTrigger send-message-callback=$ctrl.postCallback message-length-callback=$ctrl.messageLengthCallback placeholder=\"'{{::'view_dashboard_placeholder_enter-question' | translate}}'\" enable-emotes=false enable-links=false multi-line=false></react-feed-post-input> </div> <div ng-if=$ctrl.hasPrize class=dash__input> <div class=dash__input__label> {{::'view_dashboard_label_prize-to-win' | translate}} </div> <input class=dash__input__input name=prize placeholder=\"{{:: 'view_dashboard_placeholder_enter-prize' | translate }}\" autocomplete=off required ng-model=$ctrl.prize maxlength={{::$ctrl.maxPrizelength}} spellcheck=false /> </div> <div ng-repeat=\"choice in $ctrl.choices track by $index\" class=dash__input> <div class=dash__input__label> {{$index+1}}. {{::'view_dashboard_label_option' | translate}} </div> <input class=dash__input__input name=text placeholder=\"{{::'view_dashboard_placeholder_enter-option' | translate}}\" autocomplete=off ng-required=!$last ng-model=choice.text ng-change=$ctrl.addChoiceOnChange() ng-blur=$ctrl.removeEmptyChoicesOnChange() maxlength={{::$ctrl.maxChoicelength}} /> </div> <div ng-show=$ctrl.subEnabled class=dash__input> <toggle-checkbox data-dark-background=true ng-model=$ctrl.subscriberOnly label=\"{{::'view_dashboard_text_subscribers-only' | translate}}\"></toggle-checkbox> </div> <div class=dash__input> <toggle-checkbox data-dark-background=true ng-model=$ctrl.followerOnly label=\"{{::'view_dashboard_text_followers-only' | translate}}\"></toggle-checkbox> </div> <div ng-class=\"::[\n            'feed__input__buttons',\n            {\n                'feed__input__buttons--is-compact-mode': $ctrl.compactMode,\n            },\n        ]\"> <htbx-button type=reset data-variant=outline data-size=super-small ng-click=$ctrl.reset()> {{::'global_button_reset' | translate}} </htbx-button> <button-mobile-icon type=submit data-variant=ok data-size=super-small data-disabled=\"$ctrl.choices.length <= $ctrl.minChoicesCount || startForm.$invalid\" data-icon=paperplane data-compact-mode=$ctrl.compactMode> {{::'global_text_start' | translate}} </button-mobile-icon> </div> </form> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(87)),r=a(n(586)),s=a(n(15)),l=a(n(337)),c=a(n(1476)),u=a(n(1477)),d=a(n(1479)),f=a(n(1481));t.default=i.default.module("chat.user-card",[o.default,r.default,s.default,l.default]).component("htbxUserPopoverLink",u.default).component("userPopover",d.default).component("userCard",f.default).service("userPopover",c.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(8),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),r=void 0,s=function(e){var t=e.channel;return{channelName:(0,i.getName)(t)}},l=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$q:t,SubscriberBadges:n,tryImage:a}),this.$ngRedux=i,this.$ngRedux.connect(s)(this),this.reset()}return e.$inject=["$q","SubscriberBadges","tryImage","$ngRedux"],a(e,[{key:"init",value:function(e){var t=this;this.reset(),this.SubscriberBadges.get({channel:e||this.channelName},function(e){t.set(e.badges)})}},{key:"set",value:function(e){var t=this;(r=e).forEach(function(e){t.tryImage(o.default.imgUrl+e.badge_image).catch(function(){e.badge_image_fallback=!0})}),this.deferredBadges.resolve(r)}},{key:"get",value:function(){return r}},{key:"reset",value:function(){r=[],this.deferredBadges=this.$q.defer()}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1474));n(1475),t.default={bindings:{partnerType:"<"},templateUrl:a.default}},function(e,t,n){var a="/src/js/ui-elements/verified-badge/components/verified-badge.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<span ng-if=\"::$ctrl.partnerType && $ctrl.partnerType !== 'self' && $ctrl.partnerType !== 'team'\" class=verified-badge uib-tooltip=\"{{::'component_media-meta_verified'|translate}}\" data-tooltip-append-to-body=true> <smash-icon data-icon=check data-center=true></smash-icon> </span> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),o={user:{user_logo_small:i.default.fallbackImages.userLogoSmall}},r=function(){function e(t,n,a,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{User:t,$rootScope:n,ignoreList:a,$timeout:i,$q:o}),this.tooltipLoading=!1,this.deferred=this.$q.defer()}return e.$inject=["User","$rootScope","ignoreList","$timeout","$q"],a(e,[{key:"isLoading",value:function(){return this.tooltipLoading}},{key:"get",value:function(){return o}},{key:"getPromise",value:function(){return this.deferred.promise}},{key:"selectUser",value:function(e){var t=this;o.user.user_name!==e&&(o={user:{user_logo_small:i.default.fallbackImages.userLogoSmall}}),this.tooltipLoading=!0,this.deferred=this.$q.defer(),this.User.get({user_name:e,withDiscord:!0}).$promise.then(function(n){t.$rootScope.popover_follow_id=n.user_name,o.user=n,o.user.ignored=t.ignoreList.contains(e),o.user.user_name?o.user.user_logo_small=""+i.default.imgUrl+o.user.user_logo_small:(o.user.user_name=e,o.user.user_logo_small=i.default.fallbackImages.userLogoSmall,o.userNotExisting=!0),t.deferred.resolve(o)}).catch(function(){t.deferred.reject()}).finally(function(){t.tooltipLoading=!1})}}]),e}();t.default=r},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(92),r=a(n(1478)),s=a(n(523)),l=function(){function e(t,n,a,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{userPopover:t,$rootScope:n,$window:a,$timeout:i}),this.$ngRedux=o,this.templateUrlUserCard=s.default}return e.$inject=["userPopover","$rootScope","$window","$timeout","$ngRedux"],i(e,[{key:"$onInit",value:function(){this.popoverOpen=!1}},{key:"userClick",value:function(e){e.preventDefault(),this.$window.getSelection&&this.$window.getSelection().removeAllRanges(),e.ctrlKey?(this.$ngRedux.dispatch((0,o.goToChat)()),this.$rootScope.$broadcast("chatInputEvent",{type:"mention",data:"@"+this.userName})):(this.userPopover.selectUser(this.userName),this.popoverOpen=!this.popoverOpen)}}]),e}();t.default={bindings:{userName:"<",customClass:"@"},templateUrl:r.default,transclude:!0,controller:l}},function(e,t,n){var a="/src/js/chat/user-card/components/user-popover-link.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<span ng-click=$ctrl.userClick($event) ng-class=\"['user-popover-name', 'name', $ctrl.customClass]\" generic-popover gp-width=180 gp-height=420 gp-position=left gp-template-url={{::$ctrl.templateUrlUserCard}} gp-on=click gp-keep-open=true> <span ng-transclude></span> </span> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(42),r=n(76),s=n(8),l=n(92),c=a(n(12)),u=a(n(1480)),d=function(e){var t=e.channel,n=e.chat,a=e.user;return{channelName:(0,s.getName)(t),isAdminOfChat:n.permissions.isAdmin,isModeratorOfChat:n.permissions.isModerator,isEditorOfChat:n.permissions.isEditor,isAuthenticated:(0,r.isAuthenticated)(a)}},f=function(){function e(t,n,a,i,o,r,s,l,c){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getFullUserList=function(){return u.userList.getUserLists().full||[]},this.userInfoCallback=function(e){u.popover.user.role=e.role,u.popover.user.banned=e.banned,u.userInfoPromise.resolve()},Object.assign(this,{userPopover:t,userList:n,$rootScope:a,$timeout:i,$q:o,ignoreList:r,userActions:s,loggedUser:l}),this.$ngRedux=c,this.unsubscribeReduxConnection=this.$ngRedux.connect(d)(this)}return e.$inject=["userPopover","userList","$rootScope","$timeout","$q","ignoreList","userActions","loggedUser","$ngRedux"],i(e,[{key:"$onInit",value:function(){var e=this;this.tooltipLoading=!0,this.userInfoPromise=this.$q.defer(),Promise.all([this.userPopover.getPromise(),this.userInfoPromise.promise]).then(function(){e.$timeout(function(){e.tooltipLoading=!1})}),this.userPopover.getPromise().then(function(t){e.popover=t,e.checkIfUserIsInChannel()}).catch(function(){}),c.default.on("chat.userInfo",this.userInfoCallback)}},{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection(),c.default.off("chat.userInfo",this.userInfoCallback)}},{key:"checkIfUserIsInChannel",value:function(){var e=this;c.default.once("chat.userList",function(){e.getFullUserList().some(function(t){return t.name===e.popover.user.user_name})||(e.popover.user.notInChannel=!0,e.userInfoPromise.resolve())}),c.default.sendMessage("chat.getChannelUser",{channel:this.channelName,name:this.popover.user.user_name})}},{key:"hasNavAction",value:function(){return this.showMentionOrWhisper()||this.popover.user.banned&&(this.isAdminOfChat||this.isModeratorOfChat)||this.canIgnore()||this.popover.user.ignored||this.showModerativeActions()||this.showMakeMod()||this.showRemoveMod()||this.showIPBanAction()}},{key:"hasNavActionExceptWhisper",value:function(){return!this.popover.user.notInChannel&&(this.popover.user.banned&&(this.isAdminOfChat||this.isModeratorOfChat)||this.canIgnore()||this.popover.user.ignored||this.showModerativeActions()||this.showMakeMod()||this.showRemoveMod()||this.showIPBanAction())}},{key:"isMe",value:function(){return this.loggedUser.getName()===this.popover.user.user_name}},{key:"citateUser",value:function(){this.$ngRedux.dispatch((0,l.goToChat)()),this.$rootScope.$broadcast("chatInputEvent",{type:"mention",data:"@"+this.popover.user.user_name}),this.triggerCloseChatSettings(),this.closePopover()}},{key:"kick",value:function(){this.userActions.kick(this.popover.user.user_name),this.triggerCloseChatSettings(),this.closePopover()}},{key:"purge",value:function(){this.userActions.kick(this.popover.user.user_name,0),this.triggerCloseChatSettings(),this.closePopover()}},{key:"ban",value:function(){this.userActions.ban(this.popover.user.user_name),this.triggerCloseChatSettings(),this.closePopover()}},{key:"canIgnore",value:function(){return!this.isMe()&&!this.popover.user.ignored&&"admin"!==this.popover.user.role}},{key:"showMentionOrWhisper",value:function(){return!this.isMe()&&!this.popover.user.banned}},{key:"showModerativeActions",value:function(){return!this.isMe()&&(this.isAdminOfChat&&"admin"!==this.popover.user.role||this.isModeratorOfChat&&"anon"===this.popover.user.role)&&!this.popover.user.banned}},{key:"showRemoveMod",value:function(){return this.isAdminOfChat&&!this.isEditorOfChat&&!this.isModeratorOfChat&&"user"===this.popover.user.role}},{key:"showMakeMod",value:function(){return!this.isMe()&&this.isAdminOfChat&&!this.isEditorOfChat&&!this.isModeratorOfChat&&"anon"===this.popover.user.role&&!this.popover.user.banned}},{key:"showIPBanAction",value:function(){return!this.isMe()&&this.isAdminOfChat&&!this.isModeratorOfChat&&"admin"!==this.popover.user.role}},{key:"ipBanConfirm",value:function(){this.userActions.banIp(this.popover.user.user_name),this.resetIpBanNeedConfirm(),this.triggerCloseChatSettings()}},{key:"ipBanProcessStart",value:function(){this.ipBanNeedConfirm=!0}},{key:"unBanIp",value:function(){this.userActions.unBan(this.popover.user.user_name),this.triggerCloseChatSettings()}},{key:"makeMod",value:function(){this.userActions.makeMod(this.popover.user.user_name),this.triggerCloseChatSettings(),this.closePopover()}},{key:"removeMod",value:function(){this.userActions.removeMod(this.popover.user.user_name),this.triggerCloseChatSettings(),this.closePopover()}},{key:"unBan",value:function(){this.userActions.unBan(this.popover.user.user_name),this.triggerCloseChatSettings(),this.closePopover()}},{key:"ignore",value:function(){this.userActions.ignore(this.popover.user.user_name),this.popover.user.ignored=!0,this.triggerCloseChatSettings()}},{key:"unIgnore",value:function(){this.userActions.unIgnore(this.popover.user.user_name),this.popover.user.ignored=!1,this.triggerCloseChatSettings(),this.closePopover()}},{key:"resetIpBanNeedConfirm",value:function(){this.ipBanNeedConfirm=!1}},{key:"triggerCloseChatSettings",value:function(){this.$ngRedux.dispatch((0,l.goToChat)())}},{key:"sendWhisper",value:function(){this.$rootScope.$broadcast("chatInputEvent",{type:"whisper",data:"/w "+this.popover.user.user_name+" "}),this.triggerCloseChatSettings(),this.closePopover()}},{key:"openLoginDialog",value:function(){this.closePopover(),this.$ngRedux.dispatch((0,o.showSignup)())}},{key:"closePopover",value:function(){this.$rootScope.$broadcast("popover:close")}}]),e}();t.default={bindings:{},templateUrl:u.default,controller:f}},function(e,t,n){var a="/src/js/chat/user-card/components/user-popover.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-class=\"{\n        'chat-user-popover--loading': $ctrl.tooltipLoading,\n    }\" class=chat-user-popover> <div ng-if=$ctrl.tooltipLoading class=chat-user-popover__loader> <smash-spinny data-size=\"'medium'\" data-center=true></smash-spinny> </div> <div ng-if=!$ctrl.tooltipLoading> <div class=chat-user-popover__header> <a class=chat-user-popover__header__logo ui-sref=\"detail.feed({ channel: $ctrl.popover.user.user_name})\" target=_blank rel=noopener> <img ng-src={{$ctrl.popover.user.user_logo_small}} fallback-src={{::$root.config.fallbackImages.userLogo}} class=round alt=\"\"/> </a> <a ui-sref=\"detail.feed({ channel: $ctrl.popover.user.user_name})\" target=_blank rel=noopener class=chat-user-popover__header__name> {{$ctrl.popover.user.user_name}} </a> <follow-button ng-if=\"!$ctrl.popover.userNotExisting && $ctrl.popover.user.followers !== null\" follow-id=$ctrl.popover.user.user_id follow-name=$ctrl.popover.user.user_name follow-count=$ctrl.popover.user.followers variant=compact></follow-button> </div> <div ng-if=$ctrl.hasNavAction() class=\"chat-user-popover__navigation navigation\"> <div class=navigation__separator></div> <div ng-if=!$ctrl.isAuthenticated ng-click=$ctrl.openLoginDialog() class=chat-user-popover__navigation__login></div> <a ng-if=\"$ctrl.showMentionOrWhisper() && !$ctrl.popover.user.notInChannel\" ng-click=$ctrl.citateUser() class=navigation__item__link> {{::'view_chat_button_at-mention' | translate}} </a> <a ng-if=$ctrl.showMentionOrWhisper() ng-click=$ctrl.sendWhisper() class=navigation__item__link> {{::'global_text_whisper' | translate}} </a> <span ng-if=\"$ctrl.popover.user.discord_guilds.length > 0\"> <div class=navigation__separator></div> <span class=navigation__collection__link--primary> {{::'component_discord-join_usernames-servers'|translate:{ user_name: $ctrl.popover.user.user_name } }} </span> <div class=navigation__separator></div> <a ng-repeat=\"guildID in $ctrl.popover.user.discord_guilds\" class=navigation__item__link> <htbx-discord-guild-info guild-id=guildID></htbx-discord-guild-info> </a> <div class=navigation__separator></div> </span> <span ng-if=$ctrl.hasNavActionExceptWhisper()> <div class=navigation__separator></div> <a ng-if=\"$ctrl.popover.user.banned && ($ctrl.isAdminOfChat || $ctrl.isModeratorOfChat)\" ng-click=$ctrl.unBan() class=navigation__item__link> {{::'global_text_unban' | translate}} </a> <div> <a ng-if=$ctrl.canIgnore() ng-click=$ctrl.ignore() class=navigation__item__link> {{::'global_text_ignore' | translate}} </a> <a ng-if=$ctrl.popover.user.ignored ng-click=$ctrl.unIgnore() class=navigation__item__link> {{::'global_text_unignore' | translate}} </a> <span ng-if=$ctrl.showModerativeActions()> <a ng-click=$ctrl.purge() class=navigation__item__link> {{::'view_chat_button_remove-messages' | translate}} </a> <a ng-click=$ctrl.kick() class=navigation__item__link> {{::'global_text_timeout' | translate}} </a> <a ng-click=$ctrl.ban() class=navigation__item__link> {{::'global_text_ban' | translate}} </a> </span> <a ng-if=$ctrl.showMakeMod() ng-click=$ctrl.makeMod() class=navigation__item__link> {{::'global_button_make-moderator' | translate}} </a> <a ng-if=$ctrl.showRemoveMod() ng-click=$ctrl.removeMod() class=navigation__item__link> {{::'global_button_remove-moderator' | translate}} </a> <li ng-if=$ctrl.showIPBanAction()> <a ng-if=!$ctrl.ipBanNeedConfirm ng-click=$ctrl.ipBanProcessStart() id=banUserIp class=\"navigation__item__link navigation__item__link--red\"> {{::'view_chat_button_ip-ban' | translate}} </a> <div class=chat-user-popover__ip-ban ng-if=$ctrl.ipBanNeedConfirm> <a ng-click=$ctrl.ipBanConfirm() class=\"navigation__item__link navigation__item__link--red\"> {{::'global_text_yes' | translate}}, {{::'view_chat_button_ip-ban' | translate}}! </a> <a ng-click=$ctrl.resetIpBanNeedConfirm() class=navigation__item__link> {{::'global_text_cancel' | translate}} </a> </div> </li> </div> </span> </div> </div> </div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(1482)),r=a(n(1483));n(1484);var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loggedUser=t}return e.$inject=["loggedUser"],i(e,[{key:"$onInit",value:function(){this.user=this.user||this.loggedUser.getData(),this.followButton=this.followButton||!1}}]),e}();t.default={bindings:{user:"<",followButton:"<?",variant:"@?",hideFollowCount:"<?",hideFollow:"<?",isFollowing:"<?",isSubscribed:"<?"},templateUrl:["$attrs",function(e){"ngInject";var t=void 0;switch(e.variant){case"sidebar":t=r.default;break;default:t=o.default}return t}],controller:s,transclude:!0}},function(e,t,n){var a="/src/js/chat/user-card/components/user-card.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=user-card ng-class="[\n        \'user-card--variant-{{::$ctrl.variant}}\',\n    ]"> <a ui-sref="detail.feed({channel: $ctrl.user.user_name})"> <img class=user-card__logo ng-src="{{::$root.config.imgUrl}}{{$ctrl.user.user_logo_small }}" fallback-src={{::$root.config.fallbackImages.userLogoSmall}} /> </a> <a ui-sref="detail.feed({channel: $ctrl.user.user_name})" class=user-card__name> {{$ctrl.user.user_name}} </a> <verified-badge data-partner-type=$ctrl.user.partner_type></verified-badge> <div ng-if=::!$ctrl.followButton class=user-card__followers> <smash-icon data-icon=heart-filled data-size=16></smash-icon> <span ng-if=::!$ctrl.hideFollowCount>{{$ctrl.user.followers || 0 | abbreviate:2:false:false}}</span> </div> <follow-button ng-if=::$ctrl.followButton follow-id=$ctrl.user.user_id follow-name=$ctrl.user.user_name follow-count=$ctrl.user.followers variant=compact class=user-card__followers></follow-button> <div ng-transclude></div> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/chat/user-card/components/user-card-sidebar.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="user-card user-card--variant-sidebar" ng-class="::{\n        \'user-card--is-following\': $ctrl.isFollowing,\n        \'user-card--is-subscribed\': $ctrl.isSubscribed,\n    }"> <div class=user-card--variant-sidebar__image> <a ui-sref="detail.feed({channel: $ctrl.user.user_name})"> <img class=user-card__logo ng-src="{{::$root.config.imgUrl}}{{$ctrl.user.user_logo_small }}" fallback-src={{::$root.config.fallbackImages.userLogoSmall}} /> </a> <div class=user-card--variant-sidebar__status> <smash-icon data-icon=heart-filled data-size=12 data-center=true></smash-icon> <smash-icon data-icon=check data-size=12 data-center=true></smash-icon> </div> </div> <div class=user-card--variant-sidebar__meta> <div class=user-card--variant-sidebar__meta__name-wrap> <a ui-sref="detail.feed({channel: $ctrl.user.user_name})" class=user-card__name> {{$ctrl.user.user_name}} </a> <verified-badge data-partner-type=$ctrl.user.partner_type></verified-badge> </div> <span class=user-card--variant-sidebar__transclude ng-transclude></span> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(15)),r=a(n(587)),s=a(n(1490)),l=a(n(1491)),c=a(n(1494));t.default=i.default.module("chat.image-log",[o.default,r.default]).service("imageLog",s.default).component("imageLog",l.default).component("imageLogImageModal",c.default).name},function(e,t,n){"use strict";function a(e){return function(t,n){return new Promise(function(a,i){var o=new Image;o.src=t,o.onload=function(){o.width<=1&&o.height<=1?o.onerror():a(o)},o.onerror=function(){n&&e.error(n),i()}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,a.$inject=["$log"]},function(e,t,n){"use strict";function a(e){function t(e,t){t&&e.css({backgroundImage:"url('"+t+"')",backgroundPosition:"center center",backgroundSize:"cover"})}return function(n,a,o){(!!(0,i.isUndefined)(o.useAsLoading)||"true"===o.useAsLoading)&&o.backImgFallback&&t(a,o.backImgFallback),o.$observe("backImg",function(n){e(n).then(function(){t(a,n),a.hasClass("has-fallback")&&a.removeClass("has-fallback")}).catch(function(){o.backImgFallback&&(t(a,o.backImgFallback),a.addClass("has-fallback"))})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(0);a.$inject=["tryImage"]},function(e,t,n){"use strict";function a(e,t,n){return{restrict:"A",link:function(e,a,i){function o(e){var o=e;o&&n(o).then(function(){a[0].src=o}).catch(function(){t(function(){!function(){var e=i.fallbackSrc;a[0].src!==e&&(a[0].src=e),a.addClass("has-fallback")}()})})}a[0].src=i.fallbackSrc,o(i.src),i.$observe("ngSrc",function(e){o(e)})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,a.$inject=["$interpolate","$timeout","tryImage"]},function(e,t,n){"use strict";function a(e,t,n,a){var o=[],r=function(){function a(){for(var e=[],t=[],n=p.height(),a=p.scrollTop(),i=a+n,o=0;o<u.length;o++){var s=u[o];s.isVisible(a,i)?e.push(s):t.push(s)}for(var c=0;c<e.length;c++)e[c].render();u=t,r(),u.length||l()}function r(){clearTimeout(d),d=null}function s(){d=n(a,f)}function l(){m=!1,p.off("resize.lazyLoad"),p.off("scroll.lazyLoad")}function c(){d||s()}o.push(t.$on("lazyLoadManual",function(){s()}));var u=[],d=null,f=100,p=(0,i.element)(e),m=!1;return{addImage:function(e){u.push(e),d||s(),m||(m=!0,p.on("resize.lazyLoad",c),p.on("scroll.lazyLoad",c),o.push(t.$on("tseScroll",function(){!d&&m&&s()})))},removeImage:function(e){for(var t=0;t<u.length;t++)if(u[t]===e){u.splice(t,1);break}u.length||(r(),l())}}}();return{link:function(e,t,n){var i=new function(e,t){function n(){a(i).then(function(){e.css({"background-image":'url("'+i+'")'}),angular.element(e).addClass("loaded")},function(){t.lazyLoadFallback&&e.css({"background-image":"url("+t.lazyLoadFallback,"background-position":"center center","background-size":"cover"}),e.addClass("has-fallback")})}var i=null,o=!1,r=null;return{isVisible:function(t,n){if(!e.is(":visible"))return!1;null===r&&(r=e.height());var a=e.offset().top,i=a+r;return a<=n&&a>=t||i<=n&&i>=t||a<=t&&i>=n},render:function(){o=!0,n()},setSource:function(e){i=e,o&&n()}}}(t,n);r.addImage(i),n.$observe("lazyLoad",function(e){i.setSource(e)}),e.$on("$destroy",function(){r.removeImage(i),o.forEach(function(e){e()})})},restrict:"A"}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(0);a.$inject=["$window","$rootScope","$timeout","tryImage"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(12)),r=a(n(222)),s=a(n(46)),l=a(n(226)),c=n(8),u=a(n(2)),d=[],f=!1,p=function(e){var t=e.channel;return{channelName:(0,c.getName)(t)}},m=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{loggedUser:t,$rootScope:n,$location:a}),this.$ngRedux=i,this.$ngRedux.connect(p)(this),this.mediaLogCallback=this.mediaLogCallback.bind(this)}return e.$inject=["loggedUser","$rootScope","$location","$ngRedux"],i(e,[{key:"init",value:function(){d=[],o.default.off("chat.mediaLog",this.mediaLogCallback),o.default.on("chat.mediaLog",this.mediaLogCallback),this.getLog()}},{key:"mediaLogCallback",value:function(e){var t=this;this.$rootScope.$apply(function(){"image"===e.type&&(d=function(e){return(0,r.default)(e,!1,function(e){return e.url})}(e.data.reverse())).forEach(function(e){if("https"===t.$location.protocol()){var n=new RegExp(u.default.chatHTTPUrl,"gim");e.proxyUrl=e.proxyUrl.replace(n,u.default.chatHTTPSUrl)}e.id=(0,s.default)()}),f=!1})}},{key:"get",value:function(){return d}},{key:"isLoading",value:function(){return f}},{key:"getLog",value:function(){f=!0,o.default.sendMessage("chat.mediaLog",{channel:this.channelName,type:"image",name:this.loggedUser.getName(),token:this.loggedUser.getToken()})}},{key:"removeImagesOfUser",value:function(e){d=(0,l.default)(d,function(t){return t.name&&t.name.toLowerCase()===e.toLowerCase()})}}]),e}();t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=n(8),r=n(92),s=function(e){return e&&e.__esModule?e:{default:e}}(n(1492));n(1493);var l=function(e){var t=e.channel;return{channelName:(0,o.getName)(t)}},c=function(){function e(t,n,a,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$rootScope:t,chatMessages:n,imageLog:a,$uibModal:i}),this.$ngRedux=o,this.unsubscribeReduxConnection=this.$ngRedux.connect(l)(this)}return e.$inject=["$rootScope","chatMessages","imageLog","$uibModal","$ngRedux"],a(e,[{key:"$onInit",value:function(){this.getImages=this.imageLog.get,this.isLoading=this.imageLog.isLoading,this.imageLog.init()}},{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"reuseImage",value:function(e,t){e.preventDefault(),this.$ngRedux.dispatch((0,r.goToChat)()),this.chatMessages.send(this.channelName,t.url)}},{key:"openImageInModal",value:function(e,t){var n=this;e.preventDefault();var a=(0,i.element)(e.currentTarget)[0].getElementsByClassName("chat-imagelist__item__image__img")[0].className;if(a&&a.includes("loaded")){var o={animation:!0,backdrop:!0,keyboard:!0,windowClass:"image-modal",backdropClass:"image-modal",component:"ImageLogImageModal",resolve:{image:function(){return t}}};this.$uibModal.open(o).result.then(function(a){"repost"===a&&n.reuseImage(e,t)})}}}]),e}();t.default={bindings:{onClose:"&"},templateUrl:s.default,controller:c}},function(e,t,n){var a="/src/js/chat/image-log/components/image-log.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=chat-imagelist__header ng-if="!$ctrl.isLoading() && $ctrl.getImages().length"> {{:: \'view_chat_text_images\' | translate }} <button ng-click=$ctrl.onClose() class=chat-imagelist__header__close> <smash-icon icon=close size=16 center=true></smash-icon> </button> </div> <htbx-scrollable disable-over-scroll=true class=chat-imagelist__scrollwrapper> <ul ng-if="$ctrl.getImages().length && !$ctrl.isLoading()" data-vs-repeat data-vs-scroll-parent=.tse-scroll-content data-vs-autoresize> <li class=chat-imagelist__item ng-repeat="item in $ctrl.getImages() track by item.id"> <div class=chat-imagelist__item__meta> <htbx-user-popover-link user-name=item.name> <a ng-style="::{ color: \'#\' + item.nameColor }" class=chat-imagelist__item__meta__username> {{::item.name}} </a> </htbx-user-popover-link> <span class=chat-imagelist__item__meta__status> {{item.time*1000 | timeAgo}} </span> </div> <a ng-style="::{ maxWidth: (item.size | imageMaxWidth) }" class=chat-imagelist__item__image ng-href={{::item.proxyUrl}} ng-click="$ctrl.openImageInModal($event, item)"> <div ng-style="::{ height: 0, paddingBottom: (item.size | imageRatio)+\'%\' }"> <div class=chat-imagelist__item__image__img lazy-load={{::item.proxyUrl}}> <div class=chat-imagelist__item__image__img__repost ng-click=$ctrl.reuseImage($event,item)> {{::\'global_text_repost\' | translate}} </div> <smash-spinny data-center=true></smash-spinny> </div> </div> </a> </li> </ul> <div ng-if=$ctrl.isLoading() class=chat-imagelist__loader> <smash-spinny></smash-spinny> </div> <div ng-if="!$ctrl.isLoading() && !$ctrl.getImages().length" class=chat-imagelist__no-images> {{::\'view_chat_text_no-images\' | translate}} </div> </htbx-scrollable> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1495));n(1496);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"repost",value:function(){this.close({$value:"repost"})}}]),e}();t.default={bindings:{close:"&",dismiss:"&",resolve:"<"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/chat/image-log/components/image-log-image-modal.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<img ng-src={{::$ctrl.resolve.image.proxyUrl}} alt=\"\"/> <device-check show-if-mobile=true show-if-tablet=true show-if-desktop=false> <div class=image-log-image-modal__bar> <div class=image-log-image-modal__actions> <span class=image-log-image-modal__actions__action> <a class=image-log-image-modal__actions__action__link href=javascript:void(0); ng-click=$ctrl.repost()> <smash-icon data-icon=share data-size=24 data-center=true></smash-icon> </a> </span> <span class=image-log-image-modal__actions__action> <a class=image-log-image-modal__actions__action__link href={{::$ctrl.resolve.image.proxyUrl}} target=_blank rel=noopener> <smash-icon data-icon=popout data-size=24 data-center=true></smash-icon> </a> </span> </div> <htbx-button-close data-on-select=$ctrl.dismiss()></htbx-button-close> </div> </device-check> <device-check show-if-mobile=false show-if-tablet=false show-if-desktop=true> <htbx-button-close data-variant=modal-fixed data-on-select=$ctrl.dismiss()></htbx-button-close> <div class=image-log-image-modal__bar> <div class=image-log-image-modal__actions> <span ng-if=::!$ctrl.resolve.hideRepost class=image-log-image-modal__actions__action> <a class=image-log-image-modal__actions__action__link href=javascript:void(0); ng-click=$ctrl.repost()> {{::'global_text_repost' | translate}} </a> </span> <span class=image-log-image-modal__actions__action> <a class=image-log-image-modal__actions__action__link href={{::$ctrl.resolve.image.proxyUrl}} target=_blank rel=noopener> {{::'component_image-log-image-modal_show-original' | translate}} </a> </span> </div> </div> </device-check> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(87)),r=a(n(15)),s=a(n(1498)),l=a(n(1499)),c=a(n(1500));t.default=i.default.module("chat.options",[o.default,r.default]).factory("ChatAllowPM",s.default).service("chatOptions",l.default).service("chatModOptions",c.default).name},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/chat/pm/:value",{value:"@value",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(66)),o=n(164),r=n(8),s=n(229),l=function(e){var t=e.channel,n=e.chat;return{channelName:(0,r.getName)(t),subEnabled:(0,r.subscriptionsAllowed)(t),images:n.options.images,stickyUserList:n.options.stickyUserList,whisper:n.options.whisper}},c=function(){function e(t,n,a,i,o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isStickyUserList=function(){return!!r.loggedUser.isAuthenticated()&&r.stickyUserList},this.$ngRedux=t,Object.assign(this,{ChatSettings:n,ChatAllowPM:a,loggedUser:i,SubscriptionInfoStore:o}),this.$ngRedux.connect(l)(this)}return e.$inject=["$ngRedux","ChatSettings","ChatAllowPM","loggedUser","SubscriptionInfoStore"],a(e,[{key:"init",value:function(){var e=this;(0,i.default)(this.whisper)&&this.loggedUser.isAuthenticated()&&this.ChatSettings.get({authToken:this.loggedUser.getToken(),channel:this.loggedUser.getName()},function(t){e.$ngRedux.dispatch(t.whisper?(0,s.allowWhisper)():(0,s.denyWhisper)())}),this.SubscriptionInfoStore.get(this.channelName).then(function(){e.$ngRedux.dispatch((0,o.allowSubscriptions)())},function(){e.$ngRedux.dispatch((0,o.denySubscriptions)())})}},{key:"setWhisperEnabled",value:function(e){var t=this;return this.$ngRedux.dispatch(e?(0,s.allowWhisper)():(0,s.denyWhisper)()),this.ChatSettings.set({authToken:this.loggedUser.getToken(),channel:this.loggedUser.getName(),whisper:e}).$promise.then(function(){t.ChatAllowPM.get({authToken:t.loggedUser.getToken(),value:e?1:0})}).catch(function(){t.$ngRedux.dispatch(e?(0,s.denyWhisper)():(0,s.allowWhisper)())})}},{key:"setStickyUserList",value:function(e){this.$ngRedux.dispatch(e?(0,s.enableStickyUserList)():(0,s.disableStickyUserList)())}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(12)),o=n(0),r=n(8),s=n(174),l=n(338),c=function(e){var t=e.channel,n=e.chat;return{channelName:(0,r.getName)(t),isChatModerator:n.permissions.isModerator,isChatAdmin:n.permissions.isAdmin}},u=function(){function e(t,n,a,i,r){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.slowMsgCallback=function(e){u.$timeout(function(){(0,o.isUndefined)(e.slowTime)?u.$ngRedux.dispatch((0,s.enableSubscriberMode)()):(u.$ngRedux.dispatch((0,l.setSlowModeSeconds)(e.slowTime,!1)),0===e.slowTime&&u.$ngRedux.dispatch((0,s.disableSubscriberMode)()),null===e.slowTime&&u.$ngRedux.dispatch((0,s.enableSubscriberMode)())),u.chatMessages.newMessage("slowMsg",e)})},this.subscriberImagesCallback=function(e){"sub_images"===e.type&&u.$timeout(function(){var t=!!e.value;u.$ngRedux.dispatch(t?(0,l.enableSubscriberImages)():(0,l.disableSubscriberImages)())})},Object.assign(this,{ChatSettings:t,chatMessages:n,loggedUser:a,$timeout:i}),this.$ngRedux=r,this.$ngRedux.connect(c)(this)}return e.$inject=["ChatSettings","chatMessages","loggedUser","$timeout","$ngRedux"],a(e,[{key:"init",value:function(){var e=this;(this.isChatModerator||this.isChatAdmin)&&this.ChatSettings.get({authToken:this.loggedUser.getToken(),channel:this.channelName},function(t){var n=t.sub_images;e.$ngRedux.dispatch(n?(0,l.enableSubscriberImages)():(0,l.disableSubscriberImages)())}),i.default.off("chat.slowMsg",this.slowMsgCallback),i.default.on("chat.slowMsg",this.slowMsgCallback),i.default.off("chat.chatMsg",this.subscriberImagesCallback),i.default.on("chat.chatMsg",this.subscriberImagesCallback)}},{key:"setSubScriberImages",value:function(e){var t=this;return this.$ngRedux.dispatch(e?(0,l.enableSubscriberImages)():(0,l.disableSubscriberImages)()),this.ChatSettings.set({authToken:this.loggedUser.getToken(),channel:this.channelName,sub_images:e}).$promise.then(function(){}).catch(function(){t.$ngRedux.dispatch(e?(0,l.disableSubscriberImages)():(0,l.enableSubscriberImages)())})}}]),e}();t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,m,h,g,_,v,b,y,w,$,x,k,S,C,M,E,T,P,O){function j(e){"reconnectMessage"===e.type&&o.default.disconnect()}function A(t){e.$applyAsync(function(){!function(t){"isAdmin"===t.action&&"view.chat.text.you_are_now_moderator"===t.lang&&O.dispatch((0,d.enableModerator)()),"removeMod"===t.action&&O.dispatch((0,d.disableModerator)()),"ban"!==t.action&&"kicked"!==t.action||e.gotUserBanned(t.name,!1),"banip"===t.action&&e.gotUserBanned(t.name,!0),"unban"===t.action&&e.gotUserUnBanned(t.name)}(t)})}function I(t){var i=t.role,o=a.accessLevels,r=a.hasPermission(o.user,i)&&!a.hasPermission(o.admin,i),s=a.hasPermission(o.admin,i),l=!V&&!W&&s;O.dispatch((0,d.setUserRole)(i)),O.dispatch(r?(0,d.enableModerator)():(0,d.disableModerator)()),O.dispatch(s?(0,d.enableAdmin)():(0,d.disableAdmin)()),O.dispatch(l?(0,d.enableEditor)():(0,d.disableEditor)()),O.dispatch((0,f.reset)()),S.init(),x.removeConnected(),x.newMessage("infoMsg",{text:v.instant("global_text_connected")+".",action:"connected"}),("dashboard"===n.section||k.isStickyUserList())&&w.update(),e.$applyAsync(function(){})}function L(){var t=O.getState(),n=t.chat,a=t.channel,i=t.user,o=n.enabled;z=(0,c.getName)(a),H=(0,p.isAuthenticated)(i),V=(0,p.isSuperAdmin)(i),q=(0,p.getToken)(i),G=(0,p.getName)(i),null!==B&&B!==o&&(C.trackEvent("chatState",o?"show":"hide"),o&&e.init()),B=o}function U(){O.dispatch((0,u.connect)())}function D(){O.dispatch((0,u.disconnect)())}var N=O.getState(),R=N.channel,F=N.user,B=null,z=(0,c.getName)(R),H=(0,p.isAuthenticated)(F),V=(0,p.isSuperAdmin)(F),q=(0,p.getToken)(F),G=(0,p.getName)(F);O.dispatch((0,d.reset)()),$.init(),w.init(),b.init(),y.init(),M.init(),e.chatOptions=m.chatOptions,e.deviceSize=m.deviceSize,e.deviceSize.update(),e.isMobile=!1,"embedchat"!==t.current.section&&(e.isMobile=n.mobileBrowser(),e.$on("isMobile",function(){e.isMobile=!0})),e.$on("isTablet",function(){e.isMobile=!1}),e.$on("isDesktop",function(){e.isMobile=!1}),s.default.get("chat.ban."+z)&&s.default.get("chat.ban."+z)>(0,r.default)().valueOf()&&O.dispatch((0,d.flagAsBanned)()),e.gotUserBanned=function(e,t){t&&e===G&&(s.default.set("chat.ban."+z,(0,r.default)().add(1,"h").valueOf()),O.dispatch((0,d.unflagAsBanned)())),x.removeMessagesOfUser(e),E.removeImagesOfUser(e)},e.gotUserUnBanned=function(e){e===G&&(s.default.get("chat.ban."+z)&&H&&s.default.remove("chat.ban."+z),O.dispatch((0,d.unflagAsBanned)()))};var W=!1;if(H&&(G.toLowerCase()===z&&(W=!0),O.dispatch(W?(0,d.enableOwner)():(0,d.disableOwner)()),h.get({authToken:q,channel:z},function(t){if(t.isSubscriber){O.dispatch((0,d.enableSubscription)());var n={channel:z,user_name:G,authToken:q};_.get(n,function(t){O.dispatch((0,d.setSubscriptionData)(t)),t.resub&&(e.resub=t.resub)})}})),"video"===t.current.section)return!1;e.init=function(){H&&k.init(),b.updateEmotes()},e.initMedia=function(){g.get(z,"live").then(function(t){t&&(e.media_user_name=t.media_user_name,e.media=t,O.dispatch((0,l.setLogo)(t.channel.user_logo)),O.dispatch((0,l.setBackgroundImage)(t.media_bg_image)),O.dispatch(null!==t.channel.user_partner?(0,l.enablePartner)():(0,l.disablePartner)()))})},o.default.on("open",U),o.default.on("close",D),o.default.on("chat.serverMsg",j),o.default.on("chat.infoMsg",A),o.default.on("chat.loginMsg",I),e.init(),e.initMedia(),L();var Y=O.subscribe(L);e.$on("$destroy",function(){x.cancelLastSentMessagesTimeout(),o.default.off("open",U),o.default.off("close",D),o.default.off("chat.serverMsg",j),o.default.off("chat.infoMsg",A),o.default.off("chat.loginMsg",I),O.dispatch((0,f.reset)()),O.dispatch((0,d.reset)()),O.dispatch((0,u.disconnect)()),Y&&Y()})}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(12)),r=a(n(5)),s=a(n(16)),l=n(164),c=n(8),u=n(1502),d=n(174),f=n(338),p=n(76);i.$inject=["$scope","$state","$rootScope","Auth","$uibModal","DisplayService","Subscribed","medias","Subscription","$translate","emotes","favoriteEmotes","userList","badges","chatMessages","chatOptions","chatModOptions","Analytics","blacklist","imageLog","authSigninStateDiagram","AuthSigninAction","$ngRedux"],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disconnect=t.connect=void 0;var a=n(589);t.connect=function(){return{type:a.CONNECT}},t.disconnect=function(){return{type:a.DISCONNECT}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(12)),r=n(0),s=n(8),l=["kickUser","banUser","unbanUser","makeMod","removeMod"],c=function(e){var t=e.channel;return{channelName:(0,s.getName)(t)}},u=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{ignoreList:t,loggedUser:n}),this.$ngRedux=a,this.$ngRedux.connect(c)(this)}return e.$inject=["ignoreList","loggedUser","$ngRedux"],i(e,[{key:"action",value:function(e,t,n){l.some(function(t){return t===e})&&o.default.sendMessage("chat."+e,a({channel:this.channelName,token:this.loggedUser.getToken(),name:t},n))}},{key:"kick",value:function(e,t){var n=((0,r.isUndefined)(t)?600:parseInt(t,10)).toString();this.action("kickUser",e,{timeout:n})}},{key:"ban",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.action("banUser",e,{banIP:t})}},{key:"unBan",value:function(e){this.action("unbanUser",e)}},{key:"banIp",value:function(e){this.ban(e,!0)}},{key:"makeMod",value:function(e){this.action("makeMod",e)}},{key:"removeMod",value:function(e){this.action("removeMod",e)}},{key:"ignore",value:function(e){this.ignoreList.add(e)}},{key:"unIgnore",value:function(e){this.ignoreList.remove(e)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(9),o=n(8),r=function(e){return e&&e.__esModule?e:{default:e}}(n(1505));n(1506);var s=function(e){var t=e.channel;return{isChannelPartner:(0,o.isPartner)(t)}},l=function(){function e(t,n,a,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isPartner=function(){return o.isChannelPartner},this.hasSubEmotes=function(){return!o.emotes.hasNoSubEmotes()},this.$scope=t,this.badges=n,this.emotes=a,this.$ngRedux=i,this.unsubscribeReduxConnection=this.$ngRedux.connect(s)(this)}return e.$inject=["$scope","badges","emotes","$ngRedux"],a(e,[{key:"$onInit",value:function(){var e=this;this.chatInputLength=0,this.subEmotes=null,this.emotes.deferredSubEmotes.promise.then(function(t){e.subEmotes=(0,i.fromJS)(t)}),this.emotes.deferredAvailableEmotes.promise.then(function(t){e.availableEmotes=(0,i.fromJS)(t)}),this.badges.deferredBadges.promise.then(function(t){t.length&&(e.subBadge=t[0].badge_image)}),this.$scope.$on("chat.chatMsg",function(){e.setTab("")}),this.$scope.$on("chatInputLength",function(t,n){e.chatInputLength=n})}},{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"setTab",value:function(e){this.activeTab!==e?this.activeTab=e:this.activeTab=""}},{key:"getAvailableMessageLength",value:function(){return 300-this.chatInputLength}}]),e}();t.default={templateUrl:r.default,controller:l}},function(e,t,n){var a="/src/js/chat/components/chat-buttons/chat-buttons.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<section ng-if=$ctrl.activeTab class=\"chat-buttons__tab-content animate\"> <div class=chat-buttons__tab-content__content> <emotes-list ng-if=\"$ctrl.activeTab === 'subEmotes' && $ctrl.subEmotes\" emotes=$ctrl.subEmotes requires-partner=true></emotes-list> <emotes-list ng-if=\"$ctrl.activeTab === 'emotes' && $ctrl.availableEmotes\" emotes=$ctrl.availableEmotes></emotes-list> <tenor ng-if=\"$ctrl.activeTab === 'gifs'\" data-on-done=\"$ctrl.setTab('')\"></tenor> <htbx-webcam ng-if=\"$ctrl.activeTab === 'upload'\" data-on-save=\"$ctrl.setTab('')\"></htbx-webcam> </div> </section> <section class=chat-buttons__button-row> <div class=chat-buttons__button-row__left> <chat-button-sub-emotes ng-if=\"$ctrl.isPartner() && $ctrl.hasSubEmotes()\" class=chat-buttons__button-row__button ng-class=\"{ 'chat-buttons__button-row__button--active': $ctrl.activeTab === 'subEmotes' }\" on-click=\"$ctrl.setTab('subEmotes')\" sub-badge=$ctrl.subBadge></chat-button-sub-emotes> <chat-button-emoticons class=chat-buttons__button-row__button ng-class=\"{ 'chat-buttons__button-row__button--active': $ctrl.activeTab === 'emotes' }\" on-click=\"$ctrl.setTab('emotes')\"></chat-button-emoticons> <chat-button-gifs class=chat-buttons__button-row__button ng-class=\"{ 'chat-buttons__button-row__button--active': $ctrl.activeTab === 'gifs' }\" on-click=\"$ctrl.setTab('gifs')\"></chat-button-gifs> <chat-button-upload class=chat-buttons__button-row__button ng-class=\"{ 'chat-buttons__button-row__button--active': $ctrl.activeTab === 'upload' }\" on-click=\"$ctrl.setTab('upload')\"></chat-button-upload> </div> <div class=chat-buttons__button-row__right> <span class=chat-buttons__chat-message-length> {{$ctrl.getAvailableMessageLength()}} </span> </div> </section> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(11)),r=a(n(1508));n(1509);var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"$onInit",value:function(){(0,o.default)(this.variant)&&(this.variant="default")}}]),e}();t.default={bindings:{variant:"@?",onClick:"&"},templateUrl:r.default,transclude:!0,controller:s}},function(e,t,n){var a="/src/js/chat/components/chat-buttons/chat-button/chat-button.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<button type=button ng-class=\"[\n        'chat-button',\n        'chat-button--variant-{{$ctrl.variant}}',\n    ]\" ng-click=$ctrl.onClick() ng-transclude></button> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1511));t.default={bindings:{onClick:"&"},templateUrl:a.default}},function(e,t,n){var a="/src/js/chat/components/chat-buttons/chat-button-upload/chat-button-upload.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <chat-button data-variant=upload on-click=$ctrl.onClick()> <smash-icon data-icon=camera data-size=24></smash-icon> </chat-button> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1513));t.default={bindings:{onClick:"&"},templateUrl:a.default}},function(e,t,n){var a="/src/js/chat/components/chat-buttons/chat-button-gifs/chat-button-gifs.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <chat-button data-variant=gifs on-click=$ctrl.onClick()> <smash-icon data-icon=images data-size=24></smash-icon> </chat-button> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1515));t.default={bindings:{onClick:"&"},templateUrl:a.default}},function(e,t,n){var a="/src/js/chat/components/chat-buttons/chat-button-emoticons/chat-button-emoticons.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <chat-button data-variant=emoticons on-click=$ctrl.onClick()> <smash-icon data-icon=emoticons data-size=24></smash-icon> </chat-button> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1517));t.default={bindings:{onClick:"&",subBadge:"<"},templateUrl:a.default}},function(e,t,n){var a="/src/js/chat/components/chat-buttons/chat-button-sub-emotes/chat-button-sub-emotes.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <chat-button data-variant=sub-emotes on-click=$ctrl.onClick()> <smash-icon data-size=24> <span back-img={{::$root.config.imgUrl}}{{$ctrl.subBadge}} back-img-fallback={{::$root.config.fallbackImages.subBadge}} class="logo round"></span> </smash-icon> </chat-button> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=e.search(),a=/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,i=this;n.widget&&(e.search("mini",!0),o.default.on("chat.loginMsg",function(){var e=!!n.showtimestamps,o=!!n.iscompact;t.dispatch(e?(0,r.enableTimestamps)(!1):(0,r.disableTimestamps)(!1)),t.dispatch(o?(0,r.enableCompactMode)(!1):(0,r.disableCompactMode)(!1)),n.messagecolor&&a.test(n.messagecolor)?i.messageColor="#"+n.messagecolor:i.messageColor="inherit"}),n.backgroundcolor&&a.test(n.backgroundcolor)?i.backgroundColor="#"+n.backgroundcolor:"transparent"===n.backgroundcolor?i.backgroundColor=n.backgroundcolor:i.backgroundColor="",i.showSystemMessages=!!n.showsystemmessages,i.fontSize=parseInt(n.fontsize,10))}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(12)),r=n(229),s=a(n(1519));n(1520),i.$inject=["$location","$ngRedux"],t.default={templateUrl:s.default,controller:i}},function(e,t,n){var a="/src/js/chat/components/embed/embed.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<section class=embed-chat> <div class=embed-chat__chat> <detail-chat is-embed=true></detail-chat> </div> </section> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1522));t.default=a.default},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),l=a(s),c=(a(n(3)),n(227)),u=n(110),d=a(n(12)),f=n(92),p=n(42),m=a(n(591)),h=n(172),g=a(n(1636)),_=(0,u.connect)(function(e){var t=e.chat;return{isLoggedin:!!e.user,activeTab:t.tab.active}},function(e,t){return{onChange:function(n){switch(n){case h.CHAT_TAB_CHAT:t.$rootScope.$broadcast("chat.ScrollToBottom");break;case h.CHAT_TAB_USERS:if(!d.default.isConnected())return;t.userList.update()}e((0,f.setActive)(n))},onLogin:function(){return e((0,p.showChatSignup)())}}})(g.default),v=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={settingsIsOpen:!1},a.onOpenSettings=function(){a.state.settingsIsOpen||a.setState({settingsIsOpen:!0})},a.onCloseSettings=function(){a.state.settingsIsOpen&&a.setState({settingsIsOpen:!1})},a.onClickBlacklist=function(){var e=a.props.onClickBlacklist;a.onCloseSettings(),e&&e()},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.store,n=e.newChatMessage,a=e.section,i=e.stateHref,r=e.chatOptions,s=e.chatModOptions,c=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["store","newChatMessage","section","stateHref","chatOptions","chatModOptions"]),d=this.state.settingsIsOpen;return l.default.createElement(u.Provider,{store:t},l.default.createElement(_,o({},c,{onOpenSettings:this.onOpenSettings,onCloseSettings:this.onCloseSettings,settingsIsOpen:d}),l.default.createElement(m.default,{onClickBlacklist:this.onClickBlacklist,newChatMessage:n,section:a,stateHref:i,chatOptions:r,chatModOptions:s,onCloseSettings:this.onCloseSettings})))}}]),t}();v.defaultProps={section:null,stateHref:null,onClickBlacklist:null},t.default=(0,c.hot)(e)(v)}).call(t,n(44)(e))},,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),s=a(r),l=n(110),c=a(n(3)),u=n(26),d=a(n(66)),f=a(n(12)),p=n(76),m=n(8),h=n(341),g=n(92),_=n(229),v=n(338),b=n(174),y=n(42),w=a(n(1531)),$=a(n(342)),x=a(n(593)),k=a(n(1538)),S=a(n(1627)),C=n(1635),M=(0,l.connect)(function(e){var t=e.chat;return{subscriberMode:t.permissions.subscriberMode,subscriberImages:t.config.subscriberImages,slowModeSeconds:t.config.slowModeSeconds}})(k.default),E=(0,l.connect)(function(e){var t=e.chat;return{nameColor:t.options.nameColor,fontSize:t.options.fontSize,images:t.options.images,timestamps:t.options.timestamps,whisper:t.options.whisper,compact:t.options.compact}},function(e){return{onColorPick:function(t){return e((0,_.setNameColor)(t))},onFontSizeChange:function(t){return e((0,_.setFontSize)(t))},onAllowImagesChange:function(t){return e(t?(0,_.showImages)():(0,_.hideImages)())},onTimestampsChange:function(t){return e(t?(0,_.enableTimestamps)():(0,_.disableTimestamps)())},onCompactChange:function(t){return e(t?(0,_.enableCompactMode)():(0,_.disableCompactMode)())}}})(S.default),T=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onChangeSlowMode=function(e){var t=a.context.store;clearTimeout(a.slowModeTimeout),a.slowModeTimeout=setTimeout(function(){t.dispatch((0,v.setSlowModeSeconds)(e))},1e3)},a.onChangeSubscriberMode=function(e){var t=a.context.store,n=a.props.channelName;e?f.default.sendMessage("chat.slowMode",{channel:n,subscriber:!0,rate:0}):t.dispatch((0,v.setSlowModeSeconds)(0)),t.dispatch(e?(0,b.enableSubscriberMode)():(0,b.disableSubscriberMode)())},a.onChangeSubscriberImages=function(e){a.props.chatModOptions.setSubScriberImages(e)},a.onWhisperChange=function(e){var t=a.props,n=t.chatOptions,i=t.newChatMessage,o=function(e){e?i("localLog",{text:(0,u.getTranslation)("view_chat_text_enabled-messages")}):i("localLog",{text:(0,u.getTranslation)("view_chat_text_disabled-messages")})};n.setWhisperEnabled(e).then(o).catch(o)},a.onPopOutChat=function(){var e=a.context.store,t=a.props,n=t.stateHref,i=t.channelName;if(n){var o=n("embedchat",{channel:i,autoconnect:!0},{absolute:!0}),r=window.open(o,"_blank","width=380,height=540"),s=setInterval(function(){((0,d.default)(r)||r.closed)&&(clearTimeout(s),e.dispatch((0,h.showChat)(!1)))},1e3);e.dispatch((0,h.hideChat)(!1)),a.closeSettings()}},a.closeSettings=function(){var e=a.props.onCloseSettings;e&&e()},a.onGotoImageLog=function(){var e=a.context.store;f.default.isConnected()&&(e.dispatch((0,g.goToImageLog)()),a.closeSettings())},a.onToggleChat=function(){a.context.store.dispatch((0,h.hideChat)()),a.closeSettings()},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),o(t,[{key:"isDashboard",value:function(){return"dashboard"===this.props.section}},{key:"isEmbedChat",value:function(){return"embedchat"===this.props.section}},{key:"render",value:function(){var e=this.props,t=e.isLoggedIn,n=e.isAdminOfChat,a=e.onClickLogin,i=e.onClickBlacklist;return s.default.createElement(C.StyledComponent,null,t?null:s.default.createElement(C.StyledLoginOverlay,{onClick:a}),s.default.createElement(w.default,null,n?s.default.createElement(s.default.Fragment,null,s.default.createElement(M,{onClickBlacklist:i,onChangeSlowMode:this.onChangeSlowMode,onChangeSubscriberMode:this.onChangeSubscriberMode,onChangeSubscriberImages:this.onChangeSubscriberImages}),s.default.createElement($.default,{basic:!0},s.default.createElement(x.default,null))):null,s.default.createElement(E,{showImageLogLink:this.isDashboard(),showPopoutLink:this.isEmbedChat(),showHideChatLink:this.isDashboard(),onWhisperChange:this.onWhisperChange,onGotoImageLog:this.onGotoImageLog,onPopOutChat:this.onPopOutChat,onToggleChat:this.onToggleChat})))}}]),t}();T.defaultProps={section:null,stateHref:null,isLoggedIn:!1,isAdminOfChat:!1,onClickLogin:null,onClickBlacklist:null,onCloseSettings:null},T.contextTypes={store:c.default.object.isRequired},t.default=(0,l.connect)(function(e){var t=e.channel,n=e.chat,a=e.user;return{channelName:(0,m.getName)(t),isLoggedIn:(0,p.isAuthenticated)(a),isAdminOfChat:n.permissions.isAdmin||n.permissions.isModerator}},function(e){return{onClickLogin:function(){return e((0,y.showChatSignup)())}}})(T)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1532));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),n(1533)),r=function(e){var t=e.children;return i.default.createElement(o.StyledComponent,null,t)};r.defaultProps={children:null},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledComponent=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.StyledComponent=a.default.ul.withConfig({displayName:"Menustyles__StyledComponent",componentId:"sc-1lqzw1x-0"})(["margin:0;padding:10px;list-style:none;"])},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),n(10)),r=n(1535),s=function(e){var t=e.isActive,n=e.href,a=e.basic,s=e.onClick,l=e.children,c=void 0;return c=n?i.default.createElement(r.StyledLink,{href:n,onClick:s},l):s?i.default.createElement(r.StyledButton,{onClick:s},l):a?l:i.default.createElement(r.StyledContent,null,l),i.default.createElement(o.ThemeProvider,{theme:{state:{isActive:t}}},i.default.createElement(r.StyledComponent,null,c))};s.defaultProps={isActive:!1,basic:!1,href:null,onClick:null,children:null},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledButton=t.StyledLink=t.StyledContent=t.StyledComponent=void 0;var a=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    "],["\n    "]),i=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),o=n(20),r=(t.StyledComponent=i.default.li.withConfig({displayName:"Itemstyles__StyledComponent",componentId:"nt7z4y-0"})(["display:block;"]),t.StyledContent=i.default.div.withConfig({displayName:"Itemstyles__StyledContent",componentId:"nt7z4y-1"})(["display:block;border-radius:3px;padding:0 10px;width:100%;height:30px;white-space:nowrap;text-overflow:ellipsis;color:",";text-align:left;font-size:14px;cursor:pointer;line-height:30px;background-color:transparent;overflow:hidden;"," &:focus,&:hover{color:",";}"],o.text,function(e){return e.theme.state.isActive?"\n        color: #fff;\n        background-color: "+o.primary+";\n    ":null},o.primary));t.StyledLink=r.withComponent("a").extend(a),t.StyledButton=r.withComponent("button").extend.attrs({type:"button"})(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(1537);t.default=function(){return a.default.createElement(i.StyledComponent,null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledComponent=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.StyledComponent=a.default.span.withConfig({displayName:"Separatorstyles__StyledComponent",componentId:"sc-16buiv7-0"})(["display:block;margin:5px -10px;height:1px;font-size:0;background-color:#ddd;"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1539));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),n(26)),r=a(n(594)),s=a(n(342)),l=a(n(1542)),c=function(e){var t=e.slowModeSeconds,n=e.subscriberMode,a=e.subscriberImages,c=e.onClickBlacklist,u=e.onChangeSlowMode,d=e.onChangeSubscriberMode,f=e.onChangeSubscriberImages;return i.default.createElement(i.default.Fragment,null,i.default.createElement(s.default,{onClick:c},(0,o.getTranslation)("view_chat_label_word-blacklist")),i.default.createElement(s.default,{basic:!0},i.default.createElement(l.default,{seconds:t,onChange:u})),i.default.createElement(s.default,null,i.default.createElement(r.default,{checked:n,onChange:d},(0,o.getTranslation)("global_text_subscriber-only"))),i.default.createElement(s.default,null,i.default.createElement(r.default,{checked:a,onChange:f},(0,o.getTranslation)("global_text_subscriber-images"))))};c.defaultProps={slowModeSeconds:0,subscriberMode:!1,subscriberImages:!1,onClickBlacklist:null,onChangeSlowMode:null,onChangeSubscriberMode:null,onChangeSubscriberImages:null},t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),s=a(r),l=(a(n(77)),a(n(35))),c=a(n(1541)),u=n(595),d=function(e){function t(){var n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,e.call.apply(e,[this].concat(s))),a.state={checked:!1},a.onChange=function(){var e=a.props,t=e.disabled,n=e.onChange,i=a.state.checked;t||(i=!i,a.setState({checked:i}),n&&n(i))},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.setState({checked:this.props.checked})},t.prototype.componentWillReceiveProps=function(e){void 0!==e.checked&&e.checked!==this.state.checked&&this.setState({checked:e.checked})},t.prototype.render=function(){var e=this.props,t=e.name,n=e.value,a=e.variant,i=e.disabled,o=e.children,r=this.state.checked;return s.default.createElement(u.StyledWrapper,{disabled:i},s.default.createElement(u.StyledCheckboxWrapper,{variant:a,checked:r},s.default.createElement(u.StyledCheckbox,{name:t,value:n,checked:r,disabled:i,onChange:this.onChange}),r?s.default.createElement(u.StyledIcon,null,s.default.createElement(l.default,{icon:c.default,center:!0})):null),o?s.default.createElement(u.StyledLabel,null,o):"")},t}(r.PureComponent);d.defaultProps={name:"checkbox",value:"1",checked:!1,disabled:!1,variant:"default",onChange:null,children:null},t.default=d},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1.667 7.52A.938.938 0 0 1 3 7.52l2.051 2.07a1 1 0 0 0 1.421 0l5.861-5.917a.938.938 0 0 1 1.334 0 .957.957 0 0 1 0 1.346l-7.195 7.264a1 1 0 0 1-1.42 0L1.666 8.865a.956.956 0 0 1 0-1.346z" fill="#303C42" fill-rule="evenodd"></path></svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1543));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),s=a(r),l=(a(n(3)),n(26)),c=n(10),u=a(n(596)),d=n(1626),f=[0,10,20,30,45,60,90,120,180,300,600],p=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={seconds:null,isOpen:!1},a.toggle=function(){a.setState(function(e){return{isOpen:!e.isOpen}})},a.onChange=function(e){var t=a.props.onChange,n=f[e];a.setState({seconds:n}),t&&t(n)},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),o(t,[{key:"componentWillMount",value:function(){this.setState({seconds:this.props.seconds})}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.seconds&&e.seconds!==this.state.seconds&&this.setState({seconds:e.seconds})}},{key:"render",value:function(){var e=this.state,t=e.seconds,n=e.isOpen;return s.default.createElement(c.ThemeProvider,{theme:{state:{isOpen:n,seconds:t}}},s.default.createElement(d.StyledComponent,null,s.default.createElement(d.StyledToggle,{onClick:this.toggle},(0,l.getTranslation)("global_text_slow-mode"),":",s.default.createElement(d.StyledToggleValue,null,t>1?t+"s":(0,l.getTranslation)("global_text_off"))),n?s.default.createElement(d.StyledContent,null,s.default.createElement(d.StyledSlider,null,s.default.createElement(u.default,{min:0,max:f.length-1,step:1,defaultValue:0,value:function(e){return f.indexOf(e)}(t),onChange:this.onChange})),s.default.createElement(d.StyledLegend,null,s.default.createElement(d.StyledLegendMin,null,(0,l.getTranslation)("global_text_off")),s.default.createElement(d.StyledLegendMax,null,"600s"))):null))}}]),t}();p.defaultProps={onChange:null},t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=a(n(1)),r=a(n(1545));n(1625),t.default=function(e){return o.default.createElement(r.default,i({},e,{className:"smash-slider"}))}},function(e,t,n){"use strict";function a(e,t,n){var a=ne.a.unstable_batchedUpdates?function(e){ne.a.unstable_batchedUpdates(n,e)}:n;return ee()(e,t,a)}function i(e,t){return Object.keys(t).some(function(n){return e.target===Object(te.findDOMNode)(t[n])})}function o(e,t){var n=t.min,a=t.max;return e<n||e>a}function r(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function s(e,t){return e?t.clientY:t.pageX}function l(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function c(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:n.left+.5*n.width}function u(e,t){var n=t.max,a=t.min;return e<=a?a:e>=n?n:e}function d(e,t){var n=t.step,a=function(e,t){var n=t.marks,a=t.step,i=t.min,o=Object.keys(n).map(parseFloat);if(null!==a){var r=Math.round((e-i)/a)*a+i;o.push(r)}var s=o.map(function(t){return Math.abs(e-t)});return o[s.indexOf(Math.min.apply(Math,fe()(s)))]}(e,t);return null===n?a:parseFloat(a.toFixed(function(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}(n)))}function f(e){e.stopPropagation(),e.preventDefault()}function p(){}function m(e){var t,n;return n=t=function(e){function t(e){A()(this,t);var n=D()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseDown=function(e){if(0===e.button){var t=n.props.vertical,a=s(t,e);if(i(e,n.handlesRefs)){var o=c(t,e.target);n.dragOffset=a-o,a=o}else n.dragOffset=0;n.removeDocumentEvents(),n.onStart(a),n.addDocumentMouseEvents(),f(e)}},n.onTouchStart=function(e){if(!r(e)){var t=n.props.vertical,a=l(t,e);if(i(e,n.handlesRefs)){var o=c(t,e.target);n.dragOffset=a-o,a=o}else n.dragOffset=0;n.onStart(a),n.addDocumentTouchEvents(),f(e)}},n.onFocus=function(e){var t=n.props.vertical;if(i(e,n.handlesRefs)){var a=c(t,e.target);n.dragOffset=0,n.onStart(a),f(e)}},n.onBlur=function(e){n.onEnd(e)},n.onMouseUp=function(){n.onEnd(),n.removeDocumentEvents()},n.onMouseMove=function(e){if(n.sliderRef){var t=s(n.props.vertical,e);n.onMove(e,t-n.dragOffset)}else n.onEnd()},n.onTouchMove=function(e){if(!r(e)&&n.sliderRef){var t=l(n.props.vertical,e);n.onMove(e,t-n.dragOffset)}else n.onEnd()},n.onKeyDown=function(e){n.sliderRef&&i(e,n.handlesRefs)&&n.onKeyboard(e)},n.saveSlider=function(e){n.sliderRef=e},n.handlesRefs={},n}return R()(t,e),L()(t,[{key:"componentWillUnmount",value:function(){Q()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this)&&Q()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"componentDidMount",value:function(){this.document=this.sliderRef.ownerDocument}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=a(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=a(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=a(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=a(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"getSliderStart",value:function(){var e=this.sliderRef.getBoundingClientRect();return this.props.vertical?e.top:e.left}},{key:"getSliderLength",value:function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,a=t.min,i=t.max,o=Math.abs(Math.max(e,0)/this.getSliderLength());return n?(1-o)*(i-a)+a:o*(i-a)+a}},{key:"calcValueByPos",value:function(e){var t=e-this.getSliderStart();return this.trimAlignValue(this.calcValue(t))}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min;return(e-n)/(t.max-n)*100}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,n=this.props,a=n.prefixCls,i=n.className,o=n.marks,r=n.dots,s=n.step,l=n.included,c=n.disabled,u=n.vertical,d=n.min,f=n.max,m=n.children,h=n.maximumTrackStyle,g=n.style,_=n.railStyle,v=n.dotStyle,b=n.activeDotStyle,y=Q()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this),w=y.tracks,$=y.handles,x=ie()(a,(e={},J()(e,a+"-with-marks",Object.keys(o).length),J()(e,a+"-disabled",c),J()(e,a+"-vertical",u),J()(e,i,i),e));return B.a.createElement("div",{ref:this.saveSlider,className:x,onTouchStart:c?p:this.onTouchStart,onMouseDown:c?p:this.onMouseDown,onMouseUp:c?p:this.onMouseUp,onKeyDown:c?p:this.onKeyDown,onFocus:c?p:this.onFocus,onBlur:c?p:this.onBlur,style:g},B.a.createElement("div",{className:a+"-rail",style:O()({},h,_)}),w,B.a.createElement(oe,{prefixCls:a,vertical:u,marks:o,dots:r,step:s,included:l,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:f,min:d,dotStyle:v,activeDotStyle:b}),$,B.a.createElement(le,{className:a+"-mark",vertical:u,marks:o,included:l,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:f,min:d}),m)}}]),t}(e),t.displayName="ComponentEnhancer("+e.displayName+")",t.propTypes=O()({},e.propTypes,{min:H.a.number,max:H.a.number,step:H.a.number,marks:H.a.object,included:H.a.bool,className:H.a.string,prefixCls:H.a.string,disabled:H.a.bool,children:H.a.any,onBeforeChange:H.a.func,onChange:H.a.func,onAfterChange:H.a.func,handle:H.a.func,dots:H.a.bool,vertical:H.a.bool,style:H.a.object,minimumTrackStyle:H.a.object,maximumTrackStyle:H.a.object,handleStyle:H.a.oneOfType([H.a.object,H.a.arrayOf(H.a.object)]),trackStyle:H.a.oneOfType([H.a.object,H.a.arrayOf(H.a.object)]),railStyle:H.a.object,dotStyle:H.a.object,activeDotStyle:H.a.object}),t.defaultProps=O()({},e.defaultProps,{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,n=Y()(e,["index"]);return delete n.dragging,B.a.createElement(ue,O()({},n,{key:t}))},onBeforeChange:p,onChange:p,onAfterChange:p,included:!0,disabled:!1,dots:!1,vertical:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),n}function h(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}function g(e){var t=[];return B.a.Children.forEach(e,function(e){t.push(e)}),t}function _(e,t){var n=null;return e&&e.forEach(function(e){n||e&&e.key===t&&(n=e)}),n}function v(e,t,n){var a=null;return e&&e.forEach(function(e){if(e&&e.key===t&&e.props[n]){if(a)throw new Error("two child with same key for <rc-animate> children");a=e}}),a}function b(e,t){for(var n=window.getComputedStyle(e,null),a="",i=0;i<Fe.length&&!(a=n.getPropertyValue(Fe[i]+t));i++);return a}function y(e){if(Ne){var t=parseFloat(b(e,"transition-delay"))||0,n=parseFloat(b(e,"transition-duration"))||0,a=parseFloat(b(e,"animation-delay"))||0,i=parseFloat(b(e,"animation-duration"))||0,o=Math.max(n+t,i+a);e.rcEndAnimTimeout=setTimeout(function(){e.rcEndAnimTimeout=null,e.rcEndListener&&e.rcEndListener()},1e3*o+200)}}function w(e){e.rcEndAnimTimeout&&(clearTimeout(e.rcEndAnimTimeout),e.rcEndAnimTimeout=null)}function $(e){var t=e.children;return B.a.isValidElement(t)&&!t.key?B.a.cloneElement(t,{key:We}):t}function x(){}function k(e,t){return e[0]===t[0]&&e[1]===t[1]}function S(e,t){this[e]=t}function C(){}function M(){return""}function E(){return window.document}function T(e){var t,n;return n=t=function(t){function n(e){A()(this,n);var t=D()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleTooltipVisibleChange=function(e,n){t.setState(function(t){return{visibles:O()({},t.visibles,J()({},e,n))}})},t.handleWithTooltip=function(e){var n=e.value,a=e.dragging,i=e.index,o=e.disabled,r=Y()(e,["value","dragging","index","disabled"]),s=t.props,l=s.tipFormatter,c=s.tipProps,u=s.handleStyle,d=c.prefixCls,f=void 0===d?"rc-slider-tooltip":d,p=c.overlay,m=void 0===p?l(n):p,h=c.placement,g=void 0===h?"top":h,_=Y()(c,["prefixCls","overlay","placement"]);return B.a.createElement(_t,O()({},_,{prefixCls:f,overlay:m,placement:g,visible:!o&&(t.state.visibles[i]||a),key:i}),B.a.createElement(ue,O()({},r,{style:O()({},u[0]),value:n,onMouseEnter:function(){return t.handleTooltipVisibleChange(i,!0)},onMouseLeave:function(){return t.handleTooltipVisibleChange(i,!1)}})))},t.state={visibles:{}},t}return R()(n,t),L()(n,[{key:"render",value:function(){return B.a.createElement(e,O()({},this.props,{handle:this.handleWithTooltip}))}}]),n}(B.a.Component),t.propTypes={tipFormatter:H.a.func,handleStyle:H.a.arrayOf(H.a.object),tipProps:H.a.object},t.defaultProps={tipFormatter:function(e){return e},handleStyle:[{}],tipProps:{}},n}Object.defineProperty(t,"__esModule",{value:!0});var P=n(39),O=n.n(P),j=n(49),A=n.n(j),I=n(62),L=n.n(I),U=n(50),D=n.n(U),N=n(51),R=n.n(N),F=n(1),B=n.n(F),z=n(186),H=n.n(z),V=n(245),q=n.n(V),G=function(e){var t=e.className,n=e.included,a=e.vertical,i=e.offset,o=e.length,r=e.style,s=a?{bottom:i+"%",height:o+"%"}:{left:i+"%",width:o+"%"},l=O()({visibility:n?"visible":"hidden"},r,s);return B.a.createElement("div",{className:t,style:l})},W=n(187),Y=n.n(W),K=n(137),J=n.n(K),X=n(1584),Q=n.n(X),Z=n(609),ee=n.n(Z),te=n(27),ne=n.n(te),ae=n(246),ie=n.n(ae),oe=function(e){var t=e.prefixCls,n=e.vertical,a=e.marks,i=e.dots,o=e.step,r=e.included,s=e.lowerBound,l=e.upperBound,c=e.max,u=e.min,d=e.dotStyle,f=e.activeDotStyle,p=c-u,m=function(e,t,n,a,i,o){q()(!n||a>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var r=Object.keys(t).map(parseFloat);if(n)for(var s=i;s<=o;s+=a)r.indexOf(s)>=0||r.push(s);return r}(0,a,i,o,u,c).map(function(e){var a,i=Math.abs(e-u)/p*100+"%",o=!r&&e===l||r&&e<=l&&e>=s,c=n?O()({bottom:i},d):O()({left:i},d);o&&(c=O()({},c,f));var m=ie()((a={},J()(a,t+"-dot",!0),J()(a,t+"-dot-active",o),a));return B.a.createElement("span",{className:m,style:c,key:e})});return B.a.createElement("div",{className:t+"-step"},m)},re=n(184),se=n.n(re),le=function(e){var t=e.className,n=e.vertical,a=e.marks,i=e.included,o=e.upperBound,r=e.lowerBound,s=e.max,l=e.min,c=Object.keys(a),u=c.length,d=.9*(u>1?100/(u-1):100),f=s-l,p=c.map(parseFloat).sort(function(e,t){return e-t}).map(function(e){var s,c=a[e],u="object"===(void 0===c?"undefined":se()(c))&&!B.a.isValidElement(c),p=u?c.label:c;if(!p)return null;var m=!i&&e===o||i&&e<=o&&e>=r,h=ie()((s={},J()(s,t+"-text",!0),J()(s,t+"-text-active",m),s)),g=n?{marginBottom:"-50%",bottom:(e-l)/f*100+"%"}:{width:d+"%",marginLeft:-d/2+"%",left:(e-l)/f*100+"%"},_=u?O()({},g,c.style):g;return B.a.createElement("span",{className:h,style:_,key:e},p)});return B.a.createElement("div",{className:t},p)},ce=function(e){function t(){return A()(this,t),D()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R()(t,e),L()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.vertical,a=e.offset,i=e.style,o=e.disabled,r=e.min,s=e.max,l=e.value,c=Y()(e,["className","vertical","offset","style","disabled","min","max","value"]),u=n?{bottom:a+"%"}:{left:a+"%"},d=O()({},i,u),f={};return void 0!==l&&(f=O()({},f,{"aria-valuemin":r,"aria-valuemax":s,"aria-valuenow":l,"aria-disabled":!!o})),B.a.createElement("div",O()({role:"slider",tabIndex:"0"},f,c,{className:t,style:d}))}}]),t}(B.a.Component),ue=ce;ce.propTypes={className:H.a.string,vertical:H.a.bool,offset:H.a.number,style:H.a.object,disabled:H.a.bool,min:H.a.number,max:H.a.number,value:H.a.number};var de=n(610),fe=n.n(de),pe={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229};pe.isTextModifyingKeyEvent=function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=pe.F1&&t<=pe.F12)return!1;switch(t){case pe.ALT:case pe.CAPS_LOCK:case pe.CONTEXT_MENU:case pe.CTRL:case pe.DOWN:case pe.END:case pe.ESC:case pe.HOME:case pe.INSERT:case pe.LEFT:case pe.MAC_FF_META:case pe.META:case pe.NUMLOCK:case pe.NUM_CENTER:case pe.PAGE_DOWN:case pe.PAGE_UP:case pe.PAUSE:case pe.PRINT_SCREEN:case pe.RIGHT:case pe.SHIFT:case pe.UP:case pe.WIN_KEY:case pe.WIN_KEY_RIGHT:return!1;default:return!0}},pe.isCharacterKey=function(e){if(e>=pe.ZERO&&e<=pe.NINE)return!0;if(e>=pe.NUM_ZERO&&e<=pe.NUM_MULTIPLY)return!0;if(e>=pe.A&&e<=pe.Z)return!0;if(-1!==window.navigation.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case pe.SPACE:case pe.QUESTION_MARK:case pe.NUM_PLUS:case pe.NUM_MINUS:case pe.NUM_PERIOD:case pe.NUM_DIVISION:case pe.SEMICOLON:case pe.DASH:case pe.EQUALS:case pe.COMMA:case pe.PERIOD:case pe.SLASH:case pe.APOSTROPHE:case pe.SINGLE_QUOTE:case pe.OPEN_SQUARE_BRACKET:case pe.BACKSLASH:case pe.CLOSE_SQUARE_BRACKET:return!0;default:return!1}};var me=pe,he=function(e){function t(e){A()(this,t);var n=D()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onEnd=function(){n.setState({dragging:!1}),n.removeDocumentEvents(),n.props.onAfterChange(n.getValue())};var a=void 0!==e.defaultValue?e.defaultValue:e.min,i=void 0!==e.value?e.value:a;return n.state={value:n.trimAlignValue(i),dragging:!1},n}return R()(t,e),L()(t,[{key:"componentWillReceiveProps",value:function(e){if("value"in e||"min"in e||"max"in e){var t=this.state.value,n=void 0!==e.value?e.value:t,a=this.trimAlignValue(n,e);a!==t&&(this.setState({value:a}),o(n,e)&&this.props.onChange(a))}}},{key:"onChange",value:function(e){var t=this.props;!("value"in t)&&this.setState(e);var n=e.value;t.onChange(n)}},{key:"onStart",value:function(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var a=this.calcValueByPos(e);this.startValue=a,this.startPosition=e,a!==n&&this.onChange({value:a})}},{key:"onMove",value:function(e,t){f(e);var n=this.state.value,a=this.calcValueByPos(t);a!==n&&this.onChange({value:a})}},{key:"onKeyboard",value:function(e){var t=function(e){switch(e.keyCode){case me.UP:case me.RIGHT:return function(e,t){return e+t.step};case me.DOWN:case me.LEFT:return function(e,t){return e-t.step};case me.END:return function(e,t){return t.max};case me.HOME:return function(e,t){return t.min};case me.PAGE_UP:return function(e,t){return e+2*t.step};case me.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}}(e);if(t){f(e);var n=this.state.value,a=t(n,this.props),i=this.trimAlignValue(a);if(i===n)return;this.onChange({value:i})}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){return this.props.min}},{key:"getUpperBound",value:function(){return this.state.value}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O()({},this.props,t);return d(u(e,n),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,a=t.vertical,i=t.included,o=t.disabled,r=t.minimumTrackStyle,s=t.trackStyle,l=t.handleStyle,c=t.min,u=t.max,d=t.handle,f=this.state,p=f.value,m=f.dragging,h=this.calcOffset(p),g=d({className:n+"-handle",vertical:a,offset:h,value:p,dragging:m,disabled:o,min:c,max:u,index:0,style:l[0]||l,ref:function(t){return e.saveHandle(0,t)}}),_=s[0]||s;return{tracks:B.a.createElement(G,{className:n+"-track",vertical:a,included:i,offset:0,length:h,style:O()({},r,_)}),handles:g}}}]),t}(B.a.Component);he.propTypes={defaultValue:H.a.number,value:H.a.number,disabled:H.a.bool};var ge=m(he),_e=n(1602),ve=n.n(_e),be=function(e){function t(e){A()(this,t);var n=D()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onEnd=function(){n.setState({handle:null}),n.removeDocumentEvents(),n.props.onAfterChange(n.getValue())};var a=e.count,i=e.min,o=e.max,r=Array.apply(null,Array(a+1)).map(function(){return i}),s="defaultValue"in e?e.defaultValue:r,l=(void 0!==e.value?e.value:s).map(function(e){return n.trimAlignValue(e)}),c=l[0]===o?0:l.length-1;return n.state={handle:null,recent:c,bounds:l},n}return R()(t,e),L()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(("value"in e||"min"in e||"max"in e)&&(this.props.min!==e.min||this.props.max!==e.max||!ve()(this.props.value,e.value))){var n=this.state.bounds,a=(e.value||n).map(function(n){return t.trimAlignValue(n,e)});a.length===n.length&&a.every(function(e,t){return e===n[t]})||(this.setState({bounds:a}),n.some(function(t){return o(t,e)})&&this.props.onChange(a))}}},{key:"onChange",value:function(e){var t=this.props;"value"in t?void 0!==e.handle&&this.setState({handle:e.handle}):this.setState(e);var n=O()({},this.state,e).bounds;t.onChange(n)}},{key:"onStart",value:function(e){var t=this.props,n=this.state,a=this.getValue();t.onBeforeChange(a);var i=this.calcValueByPos(e);this.startValue=i,this.startPosition=e;var o=this.getClosestBound(i),r=this.getBoundNeedMoving(i,o);if(this.setState({handle:r,recent:r}),i!==a[r]){var s=[].concat(fe()(n.bounds));s[r]=i,this.onChange({bounds:s})}}},{key:"onMove",value:function(e,t){f(e);var n=this.props,a=this.state,i=this.calcValueByPos(t);if(i!==a.bounds[a.handle]){var o=[].concat(fe()(a.bounds));o[a.handle]=i;var r=a.handle;if(!1!==n.pushable){var s=a.bounds[r];this.pushSurroundingHandles(o,r,s)}else n.allowCross&&(o.sort(function(e,t){return e-t}),r=o.indexOf(i));this.onChange({handle:r,bounds:o})}}},{key:"onKeyboard",value:function(){q()(!0,"Keyboard support is not yet supported for ranges.")}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,n=0,a=1;a<t.length-1;++a)e>t[a]&&(n=a);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function(e,t){var n=this.state,a=n.bounds,i=n.recent,o=t,r=a[t+1]===a[t];return r&&a[i]===a[t]&&(o=i),r&&e!==a[t+1]&&(o=e<a[t+1]?t:t+1),o}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,n=e.step,a=e.min,i=e.max,o=this._getPointsCache;if(!o||o.marks!==t||o.step!==n){var r=O()({},t);if(null!==n)for(var s=a;s<=i;s+=n)r[s]=s;var l=Object.keys(r).map(parseFloat);l.sort(function(e,t){return e-t}),this._getPointsCache={marks:t,step:n,points:l}}return this._getPointsCache.points}},{key:"pushSurroundingHandles",value:function(e,t,n){var a=this.props.pushable,i=e[t],o=0;if(e[t+1]-i<a&&(o=1),i-e[t-1]<a&&(o=-1),0!==o){var r=t+o,s=o*(e[r]-i);this.pushHandle(e,r,o,a-s)||(e[t]=n)}}},{key:"pushHandle",value:function(e,t,n,a){for(var i=e[t],o=e[t];n*(o-i)<a;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=i,!1;o=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,n){var a=this.getPoints(),i=a.indexOf(e[t])+n;if(i>=a.length||i<0)return!1;var o=t+n,r=a[i],s=this.props.pushable,l=n*(e[o]-r);return!!this.pushHandle(e,o,n,s-l)&&(e[t]=r,!0)}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O()({},this.props,t),a=u(e,n);return d(this.ensureValueNotConflict(a,n),n)}},{key:"ensureValueNotConflict",value:function(e,t){var n=t.allowCross,a=this.state||{},i=a.handle,o=a.bounds;if(!n&&null!=i){if(i>0&&e<=o[i-1])return o[i-1];if(i<o.length-1&&e>=o[i+1])return o[i+1]}return e}},{key:"render",value:function(){var e=this,t=this.state,n=t.handle,a=t.bounds,i=this.props,o=i.prefixCls,r=i.vertical,s=i.included,l=i.disabled,c=i.min,u=i.max,d=i.handle,f=i.trackStyle,p=i.handleStyle,m=a.map(function(t){return e.calcOffset(t)}),h=o+"-handle",g=a.map(function(t,a){var i;return d({className:ie()((i={},J()(i,h,!0),J()(i,h+"-"+(a+1),!0),i)),vertical:r,offset:m[a],value:t,dragging:n===a,index:a,min:c,max:u,disabled:l,style:p[a],ref:function(t){return e.saveHandle(a,t)}})});return{tracks:a.slice(0,-1).map(function(e,t){var n,a=t+1,i=ie()((n={},J()(n,o+"-track",!0),J()(n,o+"-track-"+a,!0),n));return B.a.createElement(G,{className:i,vertical:r,included:s,offset:m[a-1],length:m[a]-m[a-1],style:f[t],key:a})}),handles:g}}}]),t}(B.a.Component);be.displayName="Range",be.propTypes={defaultValue:H.a.arrayOf(H.a.number),value:H.a.arrayOf(H.a.number),count:H.a.number,pushable:H.a.oneOfType([H.a.bool,H.a.number]),allowCross:H.a.bool,disabled:H.a.bool},be.defaultProps={count:1,allowCross:!0,pushable:!1};var ye=m(be),we=n(1603),$e=n.n(we),xe=n(247),ke=n.n(xe),Se=n(1608),Ce=n.n(Se),Me=n(611),Ee=n.n(Me),Te=n(1610),Pe=n.n(Te),Oe=n(612),je=n.n(Oe),Ae={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},Ie=[];"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var e=document.createElement("div").style;"AnimationEvent"in window||delete Ae.animationend.animation,"TransitionEvent"in window||delete Ae.transitionend.transition;for(var t in Ae)if(Ae.hasOwnProperty(t)){var n=Ae[t];for(var a in n)if(a in e){Ie.push(n[a]);break}}}();var Le={addEndEventListener:function(e,t){0!==Ie.length?Ie.forEach(function(n){!function(e,t,n){e.addEventListener(t,n,!1)}(e,n,t)}):window.setTimeout(t,0)},endEvents:Ie,removeEndEventListener:function(e,t){0!==Ie.length&&Ie.forEach(function(n){!function(e,t,n){e.removeEventListener(t,n,!1)}(e,n,t)})}},Ue=n(1619),De=n.n(Ue),Ne=0!==Le.endEvents.length,Re=["Webkit","Moz","O","ms"],Fe=["-webkit-","-moz-","-o-","ms-",""],Be=function(e,t,n){var a="object"===(void 0===t?"undefined":se()(t)),i=a?t.name:t,o=a?t.active:t+"-active",r=n,s=void 0,l=void 0,c=De()(e);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(r=n.end,s=n.start,l=n.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),w(e),c.remove(i),c.remove(o),Le.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,r&&r())},Le.addEndEventListener(e,e.rcEndListener),s&&s(),c.add(i),e.rcAnimTimeout=setTimeout(function(){e.rcAnimTimeout=null,c.add(o),l&&setTimeout(l,0),y(e)},30),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};Be.style=function(e,t,n){e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),w(e),Le.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,n&&n())},Le.addEndEventListener(e,e.rcEndListener),e.rcAnimTimeout=setTimeout(function(){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);e.rcAnimTimeout=null,y(e)},0)},Be.setTransition=function(e,t,n){var a=t,i=n;void 0===n&&(i=a,a=""),a=a||"",Re.forEach(function(t){e.style[t+"Transition"+a]=i})},Be.isCssAnimationSupported=Ne;var ze=Be,He={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}},Ve={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},qe=function(e){function t(){return A()(this,t),D()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R()(t,e),L()(t,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(e){He.isEnterSupported(this.props)?this.transition("enter",e):e()}},{key:"componentWillAppear",value:function(e){He.isAppearSupported(this.props)?this.transition("appear",e):e()}},{key:"componentWillLeave",value:function(e){He.isLeaveSupported(this.props)?this.transition("leave",e):e()}},{key:"transition",value:function(e,t){var n=this,a=ne.a.findDOMNode(this),i=this.props,o=i.transitionName,r="object"===(void 0===o?"undefined":se()(o));this.stop();var s=function(){n.stopper=null,t()};if((Ne||!i.animation[e])&&o&&i[Ve[e]]){var l=r?o[e]:o+"-"+e,c=l+"-active";r&&o[e+"Active"]&&(c=o[e+"Active"]),this.stopper=ze(a,{name:l,active:c},s)}else this.stopper=i.animation[e](a,s)}},{key:"stop",value:function(){var e=this.stopper;e&&(this.stopper=null,e.stop())}},{key:"render",value:function(){return this.props.children}}]),t}(B.a.Component);qe.propTypes={children:je.a.any};var Ge=qe,We="rc_animate_"+Date.now(),Ye=function(e){function t(e){A()(this,t);var n=D()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Ke.call(n),n.currentlyAnimatingKeys={},n.keysToEnter=[],n.keysToLeave=[],n.state={children:g($(n.props))},n.childrenRefs={},n}return R()(t,e),L()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter(function(e){return!!e.props[t]})),n.forEach(function(t){t&&e.performAppear(t.key)})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.nextProps=e;var n=g($(e)),a=this.props;a.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(e){t.stop(e)});var i=a.showProp,o=this.currentlyAnimatingKeys,r=a.exclusive?g($(a)):this.state.children,s=[];i?(r.forEach(function(e){var t=e&&_(n,e.key),a=void 0;(a=t&&t.props[i]||!e.props[i]?t:B.a.cloneElement(t||e,J()({},i,!0)))&&s.push(a)}),n.forEach(function(e){e&&_(r,e.key)||s.push(e)})):s=function(e,t){var n=[],a={},i=[];return e.forEach(function(e){e&&_(t,e.key)?i.length&&(a[e.key]=i,i=[]):i.push(e)}),t.forEach(function(e){e&&a.hasOwnProperty(e.key)&&(n=n.concat(a[e.key])),n.push(e)}),n=n.concat(i)}(r,n),this.setState({children:s}),n.forEach(function(e){var n=e&&e.key;if(!e||!o[n]){var a=e&&_(r,n);if(i){var s=e.props[i];a?!v(r,n,i)&&s&&t.keysToEnter.push(n):s&&t.keysToEnter.push(n)}else a||t.keysToEnter.push(n)}}),r.forEach(function(e){var a=e&&e.key;if(!e||!o[a]){var r=e&&_(n,a);if(i){var s=e.props[i];r?!v(n,a,i)&&s&&t.keysToLeave.push(a):s&&t.keysToLeave.push(a)}else r||t.keysToLeave.push(a)}})}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(e,t){var n=this.props.showProp;return n?v(e,t,n):_(e,t)}},{key:"stop",value:function(e){delete this.currentlyAnimatingKeys[e];var t=this.childrenRefs[e];t&&t.stop()}},{key:"render",value:function(){var e=this,t=this.props;this.nextProps=t;var n=this.state.children,a=null;n&&(a=n.map(function(n){if(null===n||void 0===n)return n;if(!n.key)throw new Error("must set key for <rc-animate> children");return B.a.createElement(Ge,{key:n.key,ref:function(t){return e.childrenRefs[n.key]=t},animation:t.animation,transitionName:t.transitionName,transitionEnter:t.transitionEnter,transitionAppear:t.transitionAppear,transitionLeave:t.transitionLeave},n)}));var i=t.component;if(i){var o=t;return"string"==typeof i&&(o=O()({className:t.className,style:t.style},t.componentProps)),B.a.createElement(i,o,a)}return a[0]||null}}]),t}(B.a.Component);Ye.propTypes={component:je.a.any,componentProps:je.a.object,animation:je.a.object,transitionName:je.a.oneOfType([je.a.string,je.a.object]),transitionEnter:je.a.bool,transitionAppear:je.a.bool,exclusive:je.a.bool,transitionLeave:je.a.bool,onEnd:je.a.func,onEnter:je.a.func,onLeave:je.a.func,onAppear:je.a.func,showProp:je.a.string},Ye.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:x,onEnter:x,onLeave:x,onAppear:x};var Ke=function(){var e=this;this.performEnter=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillEnter(e.handleDoneAdding.bind(e,t,"enter")))},this.performAppear=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillAppear(e.handleDoneAdding.bind(e,t,"appear")))},this.handleDoneAdding=function(t,n){var a=e.props;if(delete e.currentlyAnimatingKeys[t],!a.exclusive||a===e.nextProps){var i=g($(a));e.isValidChildByKey(i,t)?"appear"===n?He.allowAppearCallback(a)&&(a.onAppear(t),a.onEnd(t,!0)):He.allowEnterCallback(a)&&(a.onEnter(t),a.onEnd(t,!0)):e.performLeave(t)}},this.performLeave=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillLeave(e.handleDoneLeaving.bind(e,t)))},this.handleDoneLeaving=function(t){var n=e.props;if(delete e.currentlyAnimatingKeys[t],!n.exclusive||n===e.nextProps){var a=g($(n));if(e.isValidChildByKey(a,t))e.performEnter(t);else{var i=function(){He.allowLeaveCallback(n)&&(n.onLeave(t),n.onEnd(t,!1))};!function(e,t,n){var a=e.length===t.length;return a&&e.forEach(function(e,i){var o=t[i];e&&o&&(e&&!o||!e&&o?a=!1:e.key!==o.key?a=!1:n&&e.props[n]!==o.props[n]&&(a=!1))}),a}(e.state.children,a,n.showProp)?e.setState({children:a},i):i()}}}},Je=Ye,Xe=function(e){function t(){return A()(this,t),D()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R()(t,e),L()(t,[{key:"shouldComponentUpdate",value:function(e){return e.hiddenClassName||e.visible}},{key:"render",value:function(){var e=this.props,t=e.hiddenClassName,n=e.visible,a=Y()(e,["hiddenClassName","visible"]);return t||B.a.Children.count(a.children)>1?(!n&&t&&(a.className+=" "+t),B.a.createElement("div",a)):B.a.Children.only(a.children)}}]),t}(F.Component);Xe.propTypes={children:ke.a.any,className:ke.a.string,visible:ke.a.bool,hiddenClassName:ke.a.string};var Qe=Xe,Ze=function(e){function t(){return A()(this,t),D()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R()(t,e),L()(t,[{key:"render",value:function(){var e=this.props,t=e.className;return e.visible||(t+=" "+e.hiddenClassName),B.a.createElement("div",{className:t,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,style:e.style},B.a.createElement(Qe,{className:e.prefixCls+"-content",visible:e.visible},e.children))}}]),t}(F.Component);Ze.propTypes={hiddenClassName:ke.a.string,className:ke.a.string,prefixCls:ke.a.string,onMouseEnter:ke.a.func,onMouseLeave:ke.a.func,children:ke.a.any};var et=Ze,tt=function(e){function t(e){A()(this,t);var n=D()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return nt.call(n),n.savePopupRef=S.bind(n,"popupInstance"),n.saveAlignRef=S.bind(n,"alignInstance"),n}return R()(t,e),L()(t,[{key:"componentDidMount",value:function(){this.rootNode=this.getPopupDomNode()}},{key:"getPopupDomNode",value:function(){return ne.a.findDOMNode(this.popupInstance)}},{key:"getMaskTransitionName",value:function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t}},{key:"getTransitionName",value:function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t}},{key:"getClassName",value:function(e){return this.props.prefixCls+" "+this.props.className+" "+e}},{key:"getPopupElement",value:function(){var e=this.savePopupRef,t=this.props,n=t.align,a=t.style,i=t.visible,o=t.prefixCls,r=t.destroyPopupOnHide,s=this.getClassName(this.currentAlignClassName||t.getClassNameFromAlign(n)),l=o+"-hidden";i||(this.currentAlignClassName=null);var c=O()({},a,this.getZIndexStyle()),u={className:s,prefixCls:o,ref:e,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,style:c};return r?B.a.createElement(Je,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName()},i?B.a.createElement(Pe.a,{target:this.getTarget,key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,align:n,onAlign:this.onAlign},B.a.createElement(et,O()({visible:!0},u),t.children)):null):B.a.createElement(Je,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible"},B.a.createElement(Pe.a,{target:this.getTarget,key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,xVisible:i,childrenProps:{visible:"xVisible"},disabled:!i,align:n,onAlign:this.onAlign},B.a.createElement(et,O()({hiddenClassName:l},u),t.children)))}},{key:"getZIndexStyle",value:function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e}},{key:"getMaskElement",value:function(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=B.a.createElement(Qe,{style:this.getZIndexStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible}),n&&(t=B.a.createElement(Je,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t}},{key:"render",value:function(){return B.a.createElement("div",null,this.getMaskElement(),this.getPopupElement())}}]),t}(F.Component);tt.propTypes={visible:ke.a.bool,style:ke.a.object,getClassNameFromAlign:ke.a.func,onAlign:ke.a.func,getRootDomNode:ke.a.func,onMouseEnter:ke.a.func,align:ke.a.any,destroyPopupOnHide:ke.a.bool,className:ke.a.string,prefixCls:ke.a.string,onMouseLeave:ke.a.func};var nt=function(){var e=this;this.onAlign=function(t,n){var a=e.props,i=a.getClassNameFromAlign(n);e.currentAlignClassName!==i&&(e.currentAlignClassName=i,t.className=e.getClassName(i)),a.onAlign(t,n)},this.getTarget=function(){return e.props.getRootDomNode()}},at=tt,it=n(1620),ot=n.n(it),rt=n(1621),st=n.n(rt),lt=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"],ct=!!te.createPortal,ut="undefined"!=typeof navigator&&!!navigator.userAgent.match(/(Android|iPhone|iPad|iPod|iOS|UCWEB)/i),dt=[];ct||dt.push(ot()({autoMount:!1,isVisible:function(e){return e.state.popupVisible},getContainer:function(e){return e.getContainer()}}));var ft=Ce()({displayName:"Trigger",propTypes:{children:ke.a.any,action:ke.a.oneOfType([ke.a.string,ke.a.arrayOf(ke.a.string)]),showAction:ke.a.any,hideAction:ke.a.any,getPopupClassNameFromAlign:ke.a.any,onPopupVisibleChange:ke.a.func,afterPopupVisibleChange:ke.a.func,popup:ke.a.oneOfType([ke.a.node,ke.a.func]).isRequired,popupStyle:ke.a.object,prefixCls:ke.a.string,popupClassName:ke.a.string,popupPlacement:ke.a.string,builtinPlacements:ke.a.object,popupTransitionName:ke.a.oneOfType([ke.a.string,ke.a.object]),popupAnimation:ke.a.any,mouseEnterDelay:ke.a.number,mouseLeaveDelay:ke.a.number,zIndex:ke.a.number,focusDelay:ke.a.number,blurDelay:ke.a.number,getPopupContainer:ke.a.func,getDocument:ke.a.func,destroyPopupOnHide:ke.a.bool,mask:ke.a.bool,maskClosable:ke.a.bool,onPopupAlign:ke.a.func,popupAlign:ke.a.object,popupVisible:ke.a.bool,maskTransitionName:ke.a.oneOfType([ke.a.string,ke.a.object]),maskAnimation:ke.a.string},mixins:dt,getDefaultProps:function(){return{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:M,getDocument:E,onPopupVisibleChange:C,afterPopupVisibleChange:C,onPopupAlign:C,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]}},getInitialState:function(){var e=this.props,t=void 0;return t="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,this.prevPopupVisible=t,{popupVisible:t}},componentWillMount:function(){var e=this;lt.forEach(function(t){e["fire"+t]=function(n){e.fireEvents(t,n)}})},componentDidMount:function(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},componentWillReceiveProps:function(e){var t=e.popupVisible;void 0!==t&&this.setState({popupVisible:t})},componentDidUpdate:function(e,t){var n=this.props,a=this.state;if(ct||this.renderComponent(null,function(){t.popupVisible!==a.popupVisible&&n.afterPopupVisibleChange(a.popupVisible)}),this.prevPopupVisible=t.popupVisible,a.popupVisible){var i=void 0;return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(i=n.getDocument(),this.clickOutsideHandler=Ee()(i,"mousedown",this.onDocumentClick)),!this.touchOutsideHandler&&ut&&(i=i||n.getDocument(),this.touchOutsideHandler=Ee()(i,"click",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(i=i||n.getDocument(),this.contextMenuOutsideHandler1=Ee()(i,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Ee()(window,"blur",this.onContextMenuClose)))}this.clearOutsideHandler()},componentWillUnmount:function(){this.clearDelayTimer(),this.clearOutsideHandler()},onMouseEnter:function(e){this.fireEvents("onMouseEnter",e),this.delaySetPopupVisible(!0,this.props.mouseEnterDelay)},onMouseLeave:function(e){this.fireEvents("onMouseLeave",e),this.delaySetPopupVisible(!1,this.props.mouseLeaveDelay)},onPopupMouseEnter:function(){this.clearDelayTimer()},onPopupMouseLeave:function(e){e.relatedTarget&&!e.relatedTarget.setTimeout&&this._component&&this._component.getPopupDomNode&&h(this._component.getPopupDomNode(),e.relatedTarget)||this.delaySetPopupVisible(!1,this.props.mouseLeaveDelay)},onFocus:function(e){this.fireEvents("onFocus",e),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.props.focusDelay))},onMouseDown:function(e){this.fireEvents("onMouseDown",e),this.preClickTime=Date.now()},onTouchStart:function(e){this.fireEvents("onTouchStart",e),this.preTouchTime=Date.now()},onBlur:function(e){this.fireEvents("onBlur",e),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.props.blurDelay)},onContextMenu:function(e){e.preventDefault(),this.fireEvents("onContextMenu",e),this.setPopupVisible(!0)},onContextMenuClose:function(){this.isContextMenuToShow()&&this.close()},onClick:function(e){if(this.fireEvents("onClick",e),this.focusTime){var t=void 0;if(this.preClickTime&&this.preTouchTime?t=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?t=this.preClickTime:this.preTouchTime&&(t=this.preTouchTime),Math.abs(t-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,e.preventDefault();var n=!this.state.popupVisible;(this.isClickToHide()&&!n||n&&this.isClickToShow())&&this.setPopupVisible(!this.state.popupVisible)},onDocumentClick:function(e){if(!this.props.mask||this.props.maskClosable){var t=e.target,n=Object(te.findDOMNode)(this),a=this.getPopupDomNode();h(n,t)||h(a,t)||this.close()}},handlePortalUpdate:function(){this.prevPopupVisible!==this.state.popupVisible&&this.props.afterPopupVisibleChange(this.state.popupVisible)},getPopupDomNode:function(){return this._component&&this._component.getPopupDomNode?this._component.getPopupDomNode():null},getRootDomNode:function(){return Object(te.findDOMNode)(this)},getPopupClassNameFromAlign:function(e){var t=[],n=this.props,a=n.popupPlacement,i=n.builtinPlacements,o=n.prefixCls;return a&&i&&t.push(function(e,t,n){var a=n.points;for(var i in e)if(e.hasOwnProperty(i)&&k(e[i].points,a))return t+"-placement-"+i;return""}(i,o,e)),n.getPopupClassNameFromAlign&&t.push(n.getPopupClassNameFromAlign(e)),t.join(" ")},getPopupAlign:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,a=e.builtinPlacements;return t&&a?function(e,t,n){var a=e[t]||{};return O()({},a,n)}(a,t,n):n},getComponent:function(){var e=this.props,t=this.state,n={};return this.isMouseEnterToShow()&&(n.onMouseEnter=this.onPopupMouseEnter),this.isMouseLeaveToHide()&&(n.onMouseLeave=this.onPopupMouseLeave),B.a.createElement(at,O()({prefixCls:e.prefixCls,destroyPopupOnHide:e.destroyPopupOnHide,visible:t.popupVisible,className:e.popupClassName,action:e.action,align:this.getPopupAlign(),onAlign:e.onPopupAlign,animation:e.popupAnimation,getClassNameFromAlign:this.getPopupClassNameFromAlign},n,{getRootDomNode:this.getRootDomNode,style:e.popupStyle,mask:e.mask,zIndex:e.zIndex,transitionName:e.popupTransitionName,maskAnimation:e.maskAnimation,maskTransitionName:e.maskTransitionName,ref:this.savePopup}),"function"==typeof e.popup?e.popup():e.popup)},getContainer:function(){var e=this.props,t=document.createElement("div");return t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",(e.getPopupContainer?e.getPopupContainer(Object(te.findDOMNode)(this)):e.getDocument().body).appendChild(t),t},setPopupVisible:function(e){this.clearDelayTimer(),this.state.popupVisible!==e&&("popupVisible"in this.props||this.setState({popupVisible:e}),this.props.onPopupVisibleChange(e))},delaySetPopupVisible:function(e,t){var n=this,a=1e3*t;this.clearDelayTimer(),a?this.delayTimer=setTimeout(function(){n.setPopupVisible(e),n.clearDelayTimer()},a):this.setPopupVisible(e)},clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire"+e]:t[e]||n[e]},isClickToShow:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},isContextMenuToShow:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")},isClickToHide:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},isMouseEnterToShow:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")},isMouseLeaveToHide:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")},isFocusToShow:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")},isBlurToHide:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")},forcePopupAlign:function(){this.state.popupVisible&&this._component&&this._component.alignInstance&&this._component.alignInstance.forceAlign()},fireEvents:function(e,t){var n=this.props.children.props[e];n&&n(t);var a=this.props[e];a&&a(t)},close:function(){this.setPopupVisible(!1)},savePopup:function(e){ct&&(this._component=e)},render:function(){var e=this.state.popupVisible,t=this.props.children,n=B.a.Children.only(t),a={key:"trigger"};this.isContextMenuToShow()?a.onContextMenu=this.onContextMenu:a.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(a.onClick=this.onClick,a.onMouseDown=this.onMouseDown,a.onTouchStart=this.onTouchStart):(a.onClick=this.createTwoChains("onClick"),a.onMouseDown=this.createTwoChains("onMouseDown"),a.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?a.onMouseEnter=this.onMouseEnter:a.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?a.onMouseLeave=this.onMouseLeave:a.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(a.onFocus=this.onFocus,a.onBlur=this.onBlur):(a.onFocus=this.createTwoChains("onFocus"),a.onBlur=this.createTwoChains("onBlur"));var i=B.a.cloneElement(n,a);if(!ct)return i;var o=void 0;return(e||this._component)&&(o=B.a.createElement(st.a,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),[i,o]}}),pt={adjustX:1,adjustY:1},mt=[0,0],ht={left:{points:["cr","cl"],overflow:pt,offset:[-4,0],targetOffset:mt},right:{points:["cl","cr"],overflow:pt,offset:[4,0],targetOffset:mt},top:{points:["bc","tc"],overflow:pt,offset:[0,-4],targetOffset:mt},bottom:{points:["tc","bc"],overflow:pt,offset:[0,4],targetOffset:mt},topLeft:{points:["bl","tl"],overflow:pt,offset:[0,-4],targetOffset:mt},leftTop:{points:["tr","tl"],overflow:pt,offset:[-4,0],targetOffset:mt},topRight:{points:["br","tr"],overflow:pt,offset:[0,-4],targetOffset:mt},rightTop:{points:["tl","tr"],overflow:pt,offset:[4,0],targetOffset:mt},bottomRight:{points:["tr","br"],overflow:pt,offset:[0,4],targetOffset:mt},rightBottom:{points:["bl","br"],overflow:pt,offset:[4,0],targetOffset:mt},bottomLeft:{points:["tl","bl"],overflow:pt,offset:[0,4],targetOffset:mt},leftBottom:{points:["br","bl"],overflow:pt,offset:[-4,0],targetOffset:mt}},gt=function(e){function t(){var n,a,i;A()(this,t);for(var o=arguments.length,r=Array(o),s=0;s<o;s++)r[s]=arguments[s];return n=a=D()(this,e.call.apply(e,[this].concat(r))),a.getPopupElement=function(){var e=a.props,t=e.arrowContent,n=e.overlay,i=e.prefixCls,o=e.id;return[B.a.createElement("div",{className:i+"-arrow",key:"arrow"},t),B.a.createElement("div",{className:i+"-inner",key:"content",id:o},"function"==typeof n?n():n)]},a.saveTrigger=function(e){a.trigger=e},i=n,D()(a,i)}return R()(t,e),t.prototype.getPopupDomNode=function(){return this.trigger.getPopupDomNode()},t.prototype.render=function(){var e=this.props,t=e.overlayClassName,n=e.trigger,a=e.mouseEnterDelay,i=e.mouseLeaveDelay,o=e.overlayStyle,r=e.prefixCls,s=e.children,l=e.onVisibleChange,c=e.afterVisibleChange,u=e.transitionName,d=e.animation,f=e.placement,p=e.align,m=e.destroyTooltipOnHide,h=e.defaultVisible,g=e.getTooltipContainer,_=Y()(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),v=O()({},_);return"visible"in this.props&&(v.popupVisible=this.props.visible),B.a.createElement(ft,O()({popupClassName:t,ref:this.saveTrigger,prefixCls:r,popup:this.getPopupElement,action:n,builtinPlacements:ht,popupPlacement:f,popupAlign:p,getPopupContainer:g,onPopupVisibleChange:l,afterPopupVisibleChange:c,popupTransitionName:u,popupAnimation:d,defaultPopupVisible:h,destroyPopupOnHide:m,mouseLeaveDelay:i,popupStyle:o,mouseEnterDelay:a},v),s)},t}(F.Component);gt.propTypes={trigger:$e.a.any,children:$e.a.any,defaultVisible:$e.a.bool,visible:$e.a.bool,placement:$e.a.string,transitionName:$e.a.oneOfType([$e.a.string,$e.a.object]),animation:$e.a.any,onVisibleChange:$e.a.func,afterVisibleChange:$e.a.func,overlay:$e.a.oneOfType([$e.a.node,$e.a.func]).isRequired,overlayStyle:$e.a.object,overlayClassName:$e.a.string,prefixCls:$e.a.string,mouseEnterDelay:$e.a.number,mouseLeaveDelay:$e.a.number,getTooltipContainer:$e.a.func,destroyTooltipOnHide:$e.a.bool,align:$e.a.object,arrowContent:$e.a.any,id:$e.a.string},gt.defaultProps={prefixCls:"rc-tooltip",mouseEnterDelay:0,destroyTooltipOnHide:!1,mouseLeaveDelay:.1,align:{},placement:"right",trigger:["hover"],arrowContent:null};var _t=gt;n.d(t,"Range",function(){return ye}),n.d(t,"Handle",function(){return ue}),n.d(t,"createSliderWithTooltip",function(){return T}),ge.Range=ye,ge.Handle=ue,ge.createSliderWithTooltip=T,t.default=ge},function(e,t,n){e.exports={default:n(1547),__esModule:!0}},function(e,t,n){n(1548),e.exports=n(48).Object.assign},function(e,t,n){var a=n(94);a(a.S+a.F,"Object",{assign:n(1550)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var a=n(241),i=n(351),o=n(243),r=n(244),s=n(600),l=Object.assign;e.exports=!l||n(136)(function(){var e={},t={},n=Symbol(),a="abcdefghijklmnopqrst";return e[n]=7,a.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=a})?function(e,t){for(var n=r(e),l=arguments.length,c=1,u=i.f,d=o.f;l>c;)for(var f,p=s(arguments[c++]),m=u?a(p).concat(u(p)):a(p),h=m.length,g=0;h>g;)d.call(p,f=m[g++])&&(n[f]=p[f]);return n}:l},function(e,t,n){var a=n(113),i=n(601),o=n(1552);e.exports=function(e){return function(t,n,r){var s,l=a(t),c=i(l.length),u=o(r,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var a=n(347),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=a(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){n(1554);var a=n(48).Object;e.exports=function(e,t,n){return a.defineProperty(e,t,n)}},function(e,t,n){var a=n(94);a(a.S+a.F*!n(111),"Object",{defineProperty:n(96).f})},function(e,t,n){e.exports={default:n(1556),__esModule:!0}},function(e,t,n){n(603),n(1561),e.exports=n(355).f("iterator")},function(e,t,n){var a=n(347),i=n(346);e.exports=function(e){return function(t,n){var o,r,s=String(i(t)),l=a(n),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(r=s.charCodeAt(l+1))<56320||r>57343?e?s.charAt(l):o:e?s.slice(l,l+2):r-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var a=n(353),i=n(183),o=n(354),r={};n(134)(r,n(70)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=a(r,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var a=n(96),i=n(135),o=n(241);e.exports=n(111)?Object.defineProperties:function(e,t){i(e);for(var n,r=o(t),s=r.length,l=0;s>l;)a.f(e,n=r[l++],t[n]);return e}},function(e,t,n){var a=n(95).document;e.exports=a&&a.documentElement},function(e,t,n){n(1562);for(var a=n(95),i=n(134),o=n(185),r=n(70)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=a[c],d=u&&u.prototype;d&&!d[r]&&i(d,r,c),o[c]=o.Array}},function(e,t,n){"use strict";var a=n(1563),i=n(1564),o=n(185),r=n(113);e.exports=n(604)(Array,"Array",function(e,t){this._t=r(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,a("keys"),a("values"),a("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(1566),__esModule:!0}},function(e,t,n){n(1567),n(1572),n(1573),n(1574),e.exports=n(48).Symbol},function(e,t,n){"use strict";var a=n(95),i=n(112),o=n(111),r=n(94),s=n(605),l=n(1568).KEY,c=n(136),u=n(349),d=n(354),f=n(242),p=n(70),m=n(355),h=n(356),g=n(1569),_=n(1570),v=n(135),b=n(113),y=n(344),w=n(183),$=n(353),x=n(1571),k=n(357),S=n(96),C=n(241),M=k.f,E=S.f,T=x.f,P=a.Symbol,O=a.JSON,j=O&&O.stringify,A=p("_hidden"),I=p("toPrimitive"),L={}.propertyIsEnumerable,U=u("symbol-registry"),D=u("symbols"),N=u("op-symbols"),R=Object.prototype,F="function"==typeof P,B=a.QObject,z=!B||!B.prototype||!B.prototype.findChild,H=o&&c(function(){return 7!=$(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(e,t,n){var a=M(R,t);a&&delete R[t],E(e,t,n),a&&e!==R&&E(R,t,a)}:E,V=function(e){var t=D[e]=$(P.prototype);return t._k=e,t},q=F&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},G=function(e,t,n){return e===R&&G(N,t,n),v(e),t=y(t,!0),v(n),i(D,t)?(n.enumerable?(i(e,A)&&e[A][t]&&(e[A][t]=!1),n=$(n,{enumerable:w(0,!1)})):(i(e,A)||E(e,A,w(1,{})),e[A][t]=!0),H(e,t,n)):E(e,t,n)},W=function(e,t){v(e);for(var n,a=g(t=b(t)),i=0,o=a.length;o>i;)G(e,n=a[i++],t[n]);return e},Y=function(e){var t=L.call(this,e=y(e,!0));return!(this===R&&i(D,e)&&!i(N,e))&&(!(t||!i(this,e)||!i(D,e)||i(this,A)&&this[A][e])||t)},K=function(e,t){if(e=b(e),t=y(t,!0),e!==R||!i(D,t)||i(N,t)){var n=M(e,t);return!n||!i(D,t)||i(e,A)&&e[A][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=T(b(e)),a=[],o=0;n.length>o;)i(D,t=n[o++])||t==A||t==l||a.push(t);return a},X=function(e){for(var t,n=e===R,a=T(n?N:b(e)),o=[],r=0;a.length>r;)!i(D,t=a[r++])||n&&!i(R,t)||o.push(D[t]);return o};F||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===R&&t.call(N,n),i(this,A)&&i(this[A],e)&&(this[A][e]=!1),H(this,e,w(1,n))};return o&&z&&H(R,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",function(){return this._k}),k.f=K,S.f=G,n(607).f=x.f=J,n(243).f=Y,n(351).f=X,o&&!n(352)&&s(R,"propertyIsEnumerable",Y,!0),m.f=function(e){return V(p(e))}),r(r.G+r.W+r.F*!F,{Symbol:P});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Z=0;Q.length>Z;)p(Q[Z++]);for(var ee=C(p.store),te=0;ee.length>te;)h(ee[te++]);r(r.S+r.F*!F,"Symbol",{for:function(e){return i(U,e+="")?U[e]:U[e]=P(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),r(r.S+r.F*!F,"Object",{create:function(e,t){return void 0===t?$(e):W($(e),t)},defineProperty:G,defineProperties:W,getOwnPropertyDescriptor:K,getOwnPropertyNames:J,getOwnPropertySymbols:X}),O&&r(r.S+r.F*(!F||c(function(){var e=P();return"[null]"!=j([e])||"{}"!=j({a:e})||"{}"!=j(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!q(e)){for(var t,n,a=[e],i=1;arguments.length>i;)a.push(arguments[i++]);return"function"==typeof(t=a[1])&&(n=t),!n&&_(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!q(t))return t}),a[1]=t,j.apply(O,a)}}}),P.prototype[I]||n(134)(P.prototype,I,P.prototype.valueOf),d(P,"Symbol"),d(Math,"Math",!0),d(a.JSON,"JSON",!0)},function(e,t,n){var a=n(242)("meta"),i=n(182),o=n(112),r=n(96).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(136)(function(){return l(Object.preventExtensions({}))}),u=function(e){r(e,a,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:a,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,a)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[a].i},getWeak:function(e,t){if(!o(e,a)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[a].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!o(e,a)&&u(e),e}}},function(e,t,n){var a=n(241),i=n(351),o=n(243);e.exports=function(e){var t=a(e),n=i.f;if(n)for(var r,s=n(e),l=o.f,c=0;s.length>c;)l.call(e,r=s[c++])&&t.push(r);return t}},function(e,t,n){var a=n(345);e.exports=Array.isArray||function(e){return"Array"==a(e)}},function(e,t,n){var a=n(113),i=n(607).f,o={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return r&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return r.slice()}}(e):i(a(e))}},function(e,t){},function(e,t,n){n(356)("asyncIterator")},function(e,t,n){n(356)("observable")},function(e,t,n){e.exports={default:n(1576),__esModule:!0}},function(e,t,n){n(1577),e.exports=n(48).Object.setPrototypeOf},function(e,t,n){var a=n(94);a(a.S,"Object",{setPrototypeOf:n(1578).set})},function(e,t,n){var a=n(182),i=n(135),o=function(e,t){if(i(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{(a=n(343)(Function.call,n(357).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:a(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(1580),__esModule:!0}},function(e,t,n){n(1581);var a=n(48).Object;e.exports=function(e,t){return a.create(e,t)}},function(e,t,n){var a=n(94);a(a.S,"Object",{create:n(353)})},function(e,t,n){"use strict";var a=n(22),i=n(6),o=n(1583);e.exports=function(){function e(e,t,n,a,r,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=a(n(1585)),o=a(n(1588));t.default=function e(t,n,a){null===t&&(t=Function.prototype);var r=(0,o.default)(t,n);if(void 0===r){var s=(0,i.default)(t);return null===s?void 0:e(s,n,a)}if("value"in r)return r.value;var l=r.get;return void 0!==l?l.call(a):void 0}},function(e,t,n){e.exports={default:n(1586),__esModule:!0}},function(e,t,n){n(1587),e.exports=n(48).Object.getPrototypeOf},function(e,t,n){var a=n(244),i=n(606);n(608)("getPrototypeOf",function(){return function(e){return i(a(e))}})},function(e,t,n){e.exports={default:n(1589),__esModule:!0}},function(e,t,n){n(1590);var a=n(48).Object;e.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var a=n(113),i=n(357).f;n(608)("getOwnPropertyDescriptor",function(){return function(e,t){return i(a(e),t)}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return null===e||void 0===e}function o(){return u}function r(){return d}function s(e){var t=e.type,n="function"==typeof e.stopPropagation||"boolean"==typeof e.cancelBubble;l.default.call(this),this.nativeEvent=e;var a=r;"defaultPrevented"in e?a=e.defaultPrevented?o:r:"getPreventDefault"in e?a=e.getPreventDefault()?o:r:"returnValue"in e&&(a=e.returnValue===d?o:r),this.isDefaultPrevented=a;var i=[],s=void 0,c=void 0,u=f.concat();for(p.forEach(function(e){t.match(e.reg)&&(u=u.concat(e.props),e.fix&&i.push(e.fix))}),s=u.length;s;)this[c=u[--s]]=e[c];for(!this.target&&n&&(this.target=e.srcElement||document),this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode),s=i.length;s;)(0,i[--s])(this,e);this.timeStamp=e.timeStamp||Date.now()}Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(1592)),c=a(n(60)),u=!0,d=!1,f=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"],p=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(e,t){i(e.which)&&(e.which=i(t.charCode)?t.keyCode:t.charCode),void 0===e.metaKey&&(e.metaKey=e.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(e,t){var n=void 0,a=void 0,i=void 0,o=t.wheelDelta,r=t.axis,s=t.wheelDeltaY,l=t.wheelDeltaX,c=t.detail;o&&(i=o/120),c&&(i=0-(c%3==0?c/3:c)),void 0!==r&&(r===e.HORIZONTAL_AXIS?(a=0,n=0-i):r===e.VERTICAL_AXIS&&(n=0,a=i)),void 0!==s&&(a=s/120),void 0!==l&&(n=-1*l/120),n||a||(a=i),void 0!==n&&(e.deltaX=n),void 0!==a&&(e.deltaY=a),void 0!==i&&(e.delta=i)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(e,t){var n=void 0,a=void 0,o=void 0,r=e.target,s=t.button;return r&&i(e.pageX)&&!i(t.clientX)&&(a=(n=r.ownerDocument||document).documentElement,o=n.body,e.pageX=t.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===r?e.toElement:e.fromElement),e}}],m=l.default.prototype;(0,c.default)(s.prototype,m,{constructor:s,preventDefault:function(){var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=d,m.preventDefault.call(this)},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=u,m.stopPropagation.call(this)}}),t.default=s,e.exports=t.default},function(e,t,n){"use strict";function a(){return!1}function i(){return!0}function o(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}Object.defineProperty(t,"__esModule",{value:!0}),o.prototype={isEventObject:1,constructor:o,isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){this.isDefaultPrevented=i},stopPropagation:function(){this.isPropagationStopped=i},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()},halt:function(e){e?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},t.default=o,e.exports=t.default},function(e,t,n){e.exports={default:n(1594),__esModule:!0}},function(e,t,n){n(603),n(1595),e.exports=n(48).Array.from},function(e,t,n){"use strict";var a=n(343),i=n(94),o=n(244),r=n(1596),s=n(1597),l=n(601),c=n(1598),u=n(1599);i(i.S+i.F*!n(1601)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,d,f=o(e),p="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,g=void 0!==h,_=0,v=u(f);if(g&&(h=a(h,m>2?arguments[2]:void 0,2)),void 0==v||p==Array&&s(v))for(n=new p(t=l(f.length));t>_;_++)c(n,_,g?h(f[_],_):f[_]);else for(d=v.call(f),n=new p;!(i=d.next()).done;_++)c(n,_,g?r(d,h,[i.value,_],!0):i.value);return n.length=_,n}})},function(e,t,n){var a=n(135);e.exports=function(e,t,n,i){try{return i?t(a(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&a(o.call(e)),t}}},function(e,t,n){var a=n(185),i=n(70)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[i]===e)}},function(e,t,n){"use strict";var a=n(96),i=n(183);e.exports=function(e,t,n){t in e?a.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var a=n(1600),i=n(70)("iterator"),o=n(185);e.exports=n(48).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[a(e)]}},function(e,t,n){var a=n(345),i=n(70)("toStringTag"),o="Arguments"==a(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?a(t):"Object"==(r=a(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var a=n(70)("iterator"),i=!1;try{var o=[7][a]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],r=o[a]();r.next=function(){return{done:n=!0}},o[a]=function(){return r},e(o)}catch(e){}return n}},function(e,t){e.exports=function(e,t,n,a){var i=n?n.call(a,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),r=Object.keys(t);if(o.length!==r.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(a,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}},function(e,t,n){e.exports=n(1604)()},function(e,t,n){"use strict";var a=n(22),i=n(6),o=n(1605);e.exports=function(){function e(e,t,n,a,r,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var a=n(22),i=n(6),o=n(1607);e.exports=function(){function e(e,t,n,a,r,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var a=n(1),i=n(1609);if(void 0===a)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new a.Component).updater;e.exports=i(a.Component,a.isValidElement,o)},function(e,t,n){"use strict";var a=n(60),i=n(315),o=n(6),r="mixins";e.exports=function(e,t,n){function s(e,t){var n=p.hasOwnProperty(t)?p[t]:null;_.hasOwnProperty(t)&&o("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&o("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function l(e,n){if(n){o("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var a=e.prototype,i=a.__reactAutoBindPairs;n.hasOwnProperty(r)&&m.mixins(e,n.mixins);for(var l in n)if(n.hasOwnProperty(l)&&l!==r){var c=n[l],d=a.hasOwnProperty(l);if(s(d,l),m.hasOwnProperty(l))m[l](e,c);else{var f=p.hasOwnProperty(l);if("function"!=typeof c||f||d||!1===n.autobind)if(d){var h=p[l];o(f&&("DEFINE_MANY_MERGED"===h||"DEFINE_MANY"===h),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",h,l),"DEFINE_MANY_MERGED"===h?a[l]=u(a[l],c):"DEFINE_MANY"===h&&(a[l]=function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}(a[l],c))}else a[l]=c;else i.push(l,c),a[l]=c}}}}function c(e,t){o(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(o(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function u(e,t){return function(){var n=e.apply(this,arguments),a=t.apply(this,arguments);if(null==n)return a;if(null==a)return n;var i={};return c(i,n),c(i,a),i}}function d(e,t){return t.bind(e)}var f=[],p={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},m={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)l(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=a({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=a({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=a({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var a=t[n];t.hasOwnProperty(n)&&(o(!(n in m),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),o(!(n in e),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=a)}}(e,t)},autobind:function(){}},h={componentDidMount:function(){this.__isMounted=!0}},g={componentWillUnmount:function(){this.__isMounted=!1}},_={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},v=function(){};return a(v.prototype,e.prototype,_),function(e){var t=function(e,a,r){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var a=t[n],i=t[n+1];e[a]=d(e,i)}}(this),this.props=e,this.context=a,this.refs=i,this.updater=r||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;o("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};t.prototype=new v,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],f.forEach(l.bind(null,t)),l(t,h),l(t,e),l(t,g),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),o(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var a in p)t.prototype[a]||(t.prototype[a]=null);return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1611));t.default=a.default,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var i=n[a],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=a(r),l=a(n(1612)),c=a(n(27)),u=a(n(1615)),d=a(n(611)),f=a(n(1616)),p=function(e){function t(){var n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,e.call.apply(e,[this].concat(s))),a.forceAlign=function(){var e=a.props;if(!e.disabled){var t=c.default.findDOMNode(a);e.onAlign(t,(0,u.default)(t,e.target(),e.align))}},o=n,i(a,o)}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props;this.forceAlign(),!e.disabled&&e.monitorWindowResize&&this.startMonitorWindowResize()},t.prototype.componentDidUpdate=function(e){var t=!1,n=this.props;if(!n.disabled)if(e.disabled||e.align!==n.align)t=!0;else{var a=e.target(),i=n.target();(0,f.default)(a)&&(0,f.default)(i)?t=!1:a!==i&&(t=!0)}t&&this.forceAlign(),n.monitorWindowResize&&!n.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize()},t.prototype.componentWillUnmount=function(){this.stopMonitorWindowResize()},t.prototype.startMonitorWindowResize=function(){this.resizeHandler||(this.bufferMonitor=function(e,t){function n(){i&&(clearTimeout(i),i=null)}function a(){n(),i=setTimeout(e,t)}var i=void 0;return a.clear=n,a}(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=(0,d.default)(window,"resize",this.bufferMonitor))},t.prototype.stopMonitorWindowResize=function(){this.resizeHandler&&(this.bufferMonitor.clear(),this.resizeHandler.remove(),this.resizeHandler=null)},t.prototype.render=function(){var e=this.props,t=e.childrenProps,n=e.children,a=s.default.Children.only(n);if(t){var i={};for(var o in t)t.hasOwnProperty(o)&&(i[o]=this.props[t[o]]);return s.default.cloneElement(a,i)}return a},t}(r.Component);p.propTypes={childrenProps:l.default.object,align:l.default.object.isRequired,target:l.default.func,onAlign:l.default.func,monitorBufferTime:l.default.number,monitorWindowResize:l.default.bool,disabled:l.default.bool,children:l.default.any},p.defaultProps={target:function(){return window},onAlign:function(){},monitorBufferTime:50,monitorWindowResize:!1,disabled:!1},t.default=p,e.exports=t.default},function(e,t,n){e.exports=n(1613)()},function(e,t,n){"use strict";var a=n(22),i=n(6),o=n(1614);e.exports=function(){function e(e,t,n,a,r,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function a(){if(void 0!==j)return j;j="";var e=document.createElement("p").style;for(var t in A)t+"Transform"in e&&(j=t);return j}function i(){return a()?a()+"TransitionProperty":"transitionProperty"}function o(){return a()?a()+"Transform":"transform"}function r(e,t){var n=i();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function s(e,t){var n=o();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}function l(e,t,n){var a=n;if("object"!==(void 0===t?"undefined":U(t)))return void 0!==a?("number"==typeof a&&(a+="px"),void(e.style[t]=a)):N(e,t);for(var i in t)t.hasOwnProperty(i)&&l(e,i,t[i])}function c(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],a="scroll"+(t?"Top":"Left");if("number"!=typeof n){var i=e.document;"number"!=typeof(n=i.documentElement[a])&&(n=i.body[a])}return n}function u(e){return c(e)}function d(e){return c(e,!0)}function f(e){var t=function(e){var t=void 0,n=void 0,a=void 0,i=e.ownerDocument,o=i.body,r=i&&i.documentElement;return t=e.getBoundingClientRect(),n=t.left,a=t.top,n-=r.clientLeft||o.clientLeft||0,a-=r.clientTop||o.clientTop||0,{left:n,top:a}}(e),n=e.ownerDocument,a=n.defaultView||n.parentWindow;return t.left+=u(a),t.top+=d(a),t}function p(e){return null!==e&&void 0!==e&&e==e.window}function m(e){return p(e)?e.document:9===e.nodeType?e:e.ownerDocument}function h(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function g(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function _(e,t,n){"static"===l(e,"position")&&(e.style.position="relative");var a=-999,o=-999,s=h("left",n),c=h("top",n),u=g(s),d=g(c);"left"!==s&&(a=999),"top"!==c&&(o=999);var p="",m=f(e);("left"in t||"top"in t)&&(p=function(e){return e.style.transitionProperty||e.style[i()]}(e)||"",r(e,"none")),"left"in t&&(e.style[u]="",e.style[s]=a+"px"),"top"in t&&(e.style[d]="",e.style[c]=o+"px");var _=f(e),v={};for(var b in t)if(t.hasOwnProperty(b)){var y=h(b,n),w="left"===b?a:o,$=m[b]-_[b];v[y]=y===b?w+$:w-$}l(e,v),e.offsetTop,e.offsetLeft,("left"in t||"top"in t)&&r(e,p);var x={};for(var k in t)if(t.hasOwnProperty(k)){var S=h(k,n),C=t[k]-m[k];x[S]=k===S?v[S]+C:v[S]-C}l(e,x)}function v(e,t){var n=f(e),a=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(o());if(n&&"none"!==n){var a=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(a[12]||a[4],0),y:parseFloat(a[13]||a[5],0)}}return{x:0,y:0}}(e),i={x:a.x,y:a.y};"left"in t&&(i.x=a.x+t.left-n.left),"top"in t&&(i.y=a.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),a=n.getPropertyValue("transform")||n.getPropertyValue(o());if(a&&"none"!==a){var i=void 0,r=a.match(I);r?((i=(r=r[1]).split(",").map(function(e){return parseFloat(e,10)}))[4]=t.x,i[5]=t.y,s(e,"matrix("+i.join(",")+")")):((i=a.match(L)[1].split(",").map(function(e){return parseFloat(e,10)}))[12]=t.x,i[13]=t.y,s(e,"matrix3d("+i.join(",")+")"))}else s(e,"translateX("+t.x+"px) translateY("+t.y+"px) translateZ(0)")}(e,i)}function b(e,t){for(var n=0;n<e.length;n++)t(e[n])}function y(e){return"border-box"===N(e,"boxSizing")}function w(e,t,n){var a=0,i=void 0,o=void 0,r=void 0;for(o=0;o<t.length;o++)if(i=t[o])for(r=0;r<n.length;r++){var s=void 0;s="border"===i?""+i+n[r]+"Width":i+n[r],a+=parseFloat(N(e,s))||0}return a}function $(e,t,n){var a=n;if(p(e))return"width"===t?Y.viewportWidth(e):Y.viewportHeight(e);if(9===e.nodeType)return"width"===t?Y.docWidth(e):Y.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,r=(N(e),y(e)),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,(null===(s=N(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===a&&(a=r?W:q);var l=void 0!==o||r,c=o||s;return a===q?l?c-w(e,["border","padding"],i):s:l?a===W?c:c+(a===G?-w(e,["border"],i):w(e,["margin"],i)):s+w(e,V.slice(a),i)}function x(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=void 0,i=t[0];return 0!==i.offsetWidth?a=$.apply(void 0,t):function(e,t,n){var a={},i=e.style,o=void 0;for(o in t)t.hasOwnProperty(o)&&(a[o]=i[o],i[o]=t[o]);n.call(e);for(o in t)t.hasOwnProperty(o)&&(i[o]=a[o])}(i,K,function(){a=$.apply(void 0,t)}),a}function k(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function S(e,t,n){return e.left<n.left||e.left+t.width>n.right}function C(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function M(e,t,n){var a=[];return X.each(e,function(e){a.push(e.replace(t,function(e){return n[e]}))}),a}function E(e,t){return e[t]=-e[t],e}function T(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function P(e,t){e[0]=T(e[0],t.width),e[1]=T(e[1],t.height)}function O(e,t,n){var a=n.points,i=n.offset||[0,0],o=n.targetOffset||[0,0],r=n.overflow,s=n.target||t,l=n.source||e;i=[].concat(i),o=[].concat(o),r=r||{};var c={},u=0,d=Z(l),f=te(l),p=te(s);P(i,f),P(o,p);var m=ae(f,p,a,i,o),h=X.merge(f,m),g=!function(e){var t=Z(e),n=te(e);return!t||n.left+n.width<=t.left||n.top+n.height<=t.top||n.left>=t.right||n.top>=t.bottom}(s);if(d&&(r.adjustX||r.adjustY)&&g){if(r.adjustX&&S(m,f,d)){var _=M(a,/[lr]/gi,{l:"r",r:"l"}),v=E(i,0),b=E(o,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(ae(f,p,_,v,b),f,d)||(u=1,a=_,i=v,o=b)}if(r.adjustY&&C(m,f,d)){var y=M(a,/[tb]/gi,{t:"b",b:"t"}),w=E(i,1),$=E(o,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(ae(f,p,y,w,$),f,d)||(u=1,a=y,i=w,o=$)}u&&(m=ae(f,p,a,i,o),X.mix(h,m)),c.adjustX=r.adjustX&&S(m,f,d),c.adjustY=r.adjustY&&C(m,f,d),(c.adjustX||c.adjustY)&&(h=ee(m,f,d,c))}return h.width!==f.width&&X.css(l,"width",X.width(l)+h.width-f.width),h.height!==f.height&&X.css(l,"height",X.height(l)+h.height-f.height),X.offset(l,{left:h.left,top:h.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform}),{points:a,offset:i,targetOffset:o,overflow:c}}Object.defineProperty(t,"__esModule",{value:!0});var j=void 0,A={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"},I=/matrix\((.*)\)/,L=/matrix3d\((.*)\)/,U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,N=void 0,R=new RegExp("^("+D+")(?!px)[a-z%]+$","i"),F=/^(top|right|bottom|left)$/,B="currentStyle",z="runtimeStyle",H="left";"undefined"!=typeof window&&(N=window.getComputedStyle?function(e,t,n){var a=n,i="",o=m(e);return(a=a||o.defaultView.getComputedStyle(e,null))&&(i=a.getPropertyValue(t)||a[t]),i}:function(e,t){var n=e[B]&&e[B][t];if(R.test(n)&&!F.test(t)){var a=e.style,i=a[H],o=e[z][H];e[z][H]=e[B][H],a[H]="fontSize"===t?"1em":n||0,n=a.pixelLeft+"px",a[H]=i,e[z][H]=o}return""===n?"auto":n});var V=["margin","border","padding"],q=-1,G=2,W=1,Y={};b(["Width","Height"],function(e){Y["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],Y["viewport"+e](n))},Y["viewport"+e]=function(t){var n="client"+e,a=t.document,i=a.body,o=a.documentElement[n];return"CSS1Compat"===a.compatMode&&o||i&&i[n]||o}});var K={position:"absolute",visibility:"hidden",display:"block"};b(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Y["outer"+t]=function(t,n){return t&&x(t,e,n?0:W)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Y[e]=function(t,a){var i=a;return void 0===i?t&&x(t,e,q):t?(N(t),y(t)&&(i+=w(t,["padding","border"],n)),l(t,e,i)):void 0}});var J={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:m,offset:function(e,t,n){if(void 0===t)return f(e);!function(e,t,n){n.useCssRight||n.useCssBottom?_(e,t,n):n.useCssTransform&&o()in document.body.style?v(e,t):_(e,t,n)}(e,t,n||{})},isWindow:p,each:b,css:l,clone:function(e){var t=void 0,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:k,getWindowScrollLeft:function(e){return u(e)},getWindowScrollTop:function(e){return d(e)},merge:function(){for(var e={},t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var i=0;i<n.length;i++)J.mix(e,n[i]);return e},viewportWidth:0,viewportHeight:0};k(J,Y);var X=J,Q=function(e){if(X.isWindow(e)||9===e.nodeType)return null;var t=X.getDocument(e).body,n=void 0,a=X.css(e,"position");if("fixed"!==a&&"absolute"!==a)return"html"===e.nodeName.toLowerCase()?null:e.parentNode;for(n=e.parentNode;n&&n!==t;n=n.parentNode)if("static"!==(a=X.css(n,"position")))return n;return null},Z=function(e){for(var t={left:0,right:1/0,top:0,bottom:1/0},n=Q(e),a=X.getDocument(e),i=a.defaultView||a.parentWindow,o=a.body,r=a.documentElement;n;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===n.clientWidth||n===o||n===r||"visible"===X.css(n,"overflow")){if(n===o||n===r)break}else{var s=X.offset(n);s.left+=n.clientLeft,s.top+=n.clientTop,t.top=Math.max(t.top,s.top),t.right=Math.min(t.right,s.left+n.clientWidth),t.bottom=Math.min(t.bottom,s.top+n.clientHeight),t.left=Math.max(t.left,s.left)}n=Q(n)}var l=null;X.isWindow(e)||9===e.nodeType||(l=e.style.position,"absolute"===X.css(e,"position")&&(e.style.position="fixed"));var c=X.getWindowScrollLeft(i),u=X.getWindowScrollTop(i),d=X.viewportWidth(i),f=X.viewportHeight(i),p=r.scrollWidth,m=r.scrollHeight;if(e.style&&(e.style.position=l),function(e){if(X.isWindow(e)||9===e.nodeType)return!1;var t=X.getDocument(e).body,n=null;for(n=e.parentNode;n&&n!==t;n=n.parentNode)if("fixed"===X.css(n,"position"))return!0;return!1}(e))t.left=Math.max(t.left,c),t.top=Math.max(t.top,u),t.right=Math.min(t.right,c+d),t.bottom=Math.min(t.bottom,u+f);else{var h=Math.max(p,c+d);t.right=Math.min(t.right,h);var g=Math.max(m,u+f);t.bottom=Math.min(t.bottom,g)}return t.top>=0&&t.left>=0&&t.bottom>t.top&&t.right>t.left?t:null},ee=function(e,t,n,a){var i=X.clone(e),o={width:t.width,height:t.height};return a.adjustX&&i.left<n.left&&(i.left=n.left),a.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),a.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),a.adjustY&&i.top<n.top&&(i.top=n.top),a.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),a.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),X.mix(i,o)},te=function(e){var t=void 0,n=void 0,a=void 0;if(X.isWindow(e)||9===e.nodeType){var i=X.getWindow(e);t={left:X.getWindowScrollLeft(i),top:X.getWindowScrollTop(i)},n=X.viewportWidth(i),a=X.viewportHeight(i)}else t=X.offset(e),n=X.outerWidth(e),a=X.outerHeight(e);return t.width=n,t.height=a,t},ne=function(e,t){var n=t.charAt(0),a=t.charAt(1),i=e.width,o=e.height,r=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===a?r+=i/2:"r"===a&&(r+=i),{left:r,top:s}},ae=function(e,t,n,a,i){var o=ne(t,n[1]),r=ne(e,n[0]),s=[r.left-o.left,r.top-o.top];return{left:e.left-s[0]+a[0]-i[0],top:e.top-s[1]+a[1]-i[1]}};O.__getOffsetParent=Q,O.__getVisibleRectForElement=Z,t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null!=e&&e==e.window},e.exports=t.default},function(e,t,n){"use strict";var a=n(22),i=n(6),o=n(1618);e.exports=function(){function e(e,t,n,a,r,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){function a(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}try{i=n(613)}catch(e){var i=n(613)}var o=/\s+/,r=Object.prototype.toString;e.exports=function(e){return new a(e)},a.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~i(t,e)||t.push(e),this.el.className=t.join(" "),this},a.prototype.remove=function(e){if("[object RegExp]"==r.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=i(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},a.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},a.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},a.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(o);return""===e[0]&&e.shift(),e},a.prototype.has=a.prototype.contains=function(e){return this.list?this.list.contains(e):!!~i(this.array(),e)}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(39));t.default=function(e){function t(e,t,n){if(!c||e._component||c(e)){e._container||(e._container=f(e));var a=void 0;a=e.getComponent?e.getComponent(t):u(e,t),o.default.unstable_renderSubtreeIntoContainer(e,a,e._container,function(){e._component=this,n&&n.call(this)})}}function n(e){if(e._container){var t=e._container;o.default.unmountComponentAtNode(t),t.parentNode.removeChild(t),e._container=null}}var a=e.autoMount,r=void 0===a||a,s=e.autoDestroy,l=void 0===s||s,c=e.isVisible,u=e.getComponent,d=e.getContainer,f=void 0===d?function(){var e=document.createElement("div");return document.body.appendChild(e),e}:d,p=void 0;return r&&(p=(0,i.default)({},p,{componentDidMount:function(){t(this)},componentDidUpdate:function(){t(this)}})),r&&l||(p=(0,i.default)({},p,{renderComponent:function(e,n){t(this,e,n)}})),p=l?(0,i.default)({},p,{componentWillUnmount:function(){n(this)}}):(0,i.default)({},p,{removeContainer:function(){n(this)}})};var o=a(n(27));e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(49)),o=a(n(62)),r=a(n(50)),s=a(n(51)),l=a(n(1)),c=a(n(1622)),u=n(27),d=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.createContainer()}},{key:"componentDidUpdate",value:function(e){var t=this.props.didUpdate;t&&t(e)}},{key:"componentWillUnmount",value:function(){this.removeContainer()}},{key:"createContainer",value:function(){this._container=this.props.getContainer(),this.forceUpdate()}},{key:"removeContainer",value:function(){this._container&&this._container.parentNode.removeChild(this._container)}},{key:"render",value:function(){return this._container?(0,u.createPortal)(this.props.children,this._container):null}}]),t}(l.default.Component);d.propTypes={getContainer:c.default.func.isRequired,children:c.default.node.isRequired,didUpdate:c.default.func},t.default=d,e.exports=t.default},function(e,t,n){e.exports=n(1623)()},function(e,t,n){"use strict";var a=n(22),i=n(6),o=n(1624);e.exports=function(){function e(e,t,n,a,r,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledLegendMax=t.StyledLegendMin=t.StyledLegend=t.StyledSlider=t.StyledContent=t.StyledToggleValue=t.StyledToggle=t.StyledComponent=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),i=n(20);t.StyledComponent=a.default.div.withConfig({displayName:"SlowModestyles__StyledComponent",componentId:"sc-1z0nh7m-0"})(["border-radius:3px;",""],function(e){return e.theme.state.isOpen?"\n        box-shadow: 0 0 0 1px #ddd;\n    ":null}),t.StyledToggle=a.default.button.withConfig({displayName:"SlowModestyles__StyledToggle",componentId:"sc-1z0nh7m-1"})(["display:block;padding:0 10px;width:100%;text-align:left;line-height:30px;color:inherit;background-color:transparent;&:hover{color:",";}"],i.primary),t.StyledToggleValue=a.default.span.withConfig({displayName:"SlowModestyles__StyledToggleValue",componentId:"sc-1z0nh7m-2"})(["",""],function(e){return e.theme.state.seconds?"\n        font-weight: bold;\n        color: "+i.primary+";\n    ":null}),t.StyledContent=a.default.div.withConfig({displayName:"SlowModestyles__StyledContent",componentId:"sc-1z0nh7m-3"})(["margin-top:10px;padding:0 10px;"]),t.StyledSlider=a.default.div.withConfig({displayName:"SlowModestyles__StyledSlider",componentId:"sc-1z0nh7m-4"})(["padding-left:4px;"]),t.StyledLegend=a.default.div.withConfig({displayName:"SlowModestyles__StyledLegend",componentId:"sc-1z0nh7m-5"})(["margin-top:6px;padding-bottom:4px;font-size:11px;color:",";line-height:15px;overflow:hidden;"],i.gray),t.StyledLegendMin=a.default.span.withConfig({displayName:"SlowModestyles__StyledLegendMin",componentId:"sc-1z0nh7m-6"})(["float:left;"]),t.StyledLegendMax=a.default.span.withConfig({displayName:"SlowModestyles__StyledLegendMax",componentId:"sc-1z0nh7m-7"})(["float:right;"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1628));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),n(26)),r=a(n(594)),s=a(n(342)),l=a(n(593)),c=n(175),u=a(n(1629)),d=a(n(1632)),f=function(e){var t=e.nameColor,n=e.fontSize,a=e.images,c=e.timestamps,f=e.whisper,p=e.compact,m=e.showImageLogLink,h=e.showPopoutLink,g=e.showHideChatLink,_=e.onColorPick,v=e.onFontSizeChange,b=e.onAllowImagesChange,y=e.onTimestampsChange,w=e.onWhisperChange,$=e.onCompactChange,x=e.onGotoImageLog,k=e.onPopOutChat,S=e.onToggleChat;return i.default.createElement(i.default.Fragment,null,i.default.createElement(s.default,{basic:!0},i.default.createElement(u.default,{color:t,onPick:_})),i.default.createElement(s.default,null,i.default.createElement(d.default,{size:n,onChange:v})),i.default.createElement(s.default,null,i.default.createElement(r.default,{checked:a,onChange:b},(0,o.getTranslation)("view_chat_label_load-images"))),i.default.createElement(s.default,null,i.default.createElement(r.default,{checked:c,onChange:y},(0,o.getTranslation)("global_text_timestamps"))),i.default.createElement(s.default,null,i.default.createElement(r.default,{checked:f,onChange:w},(0,o.getTranslation)("global_text_whisper"))),i.default.createElement(s.default,null,i.default.createElement(r.default,{checked:p,onChange:$},(0,o.getTranslation)("view_chat_label_compact-mode"))),m?null:i.default.createElement(i.default.Fragment,null,i.default.createElement(s.default,{basic:!0},i.default.createElement(l.default,null)),i.default.createElement(s.default,{onClick:x},(0,o.getTranslation)("view_chat_text_images"))),h?null:i.default.createElement(i.default.Fragment,null,i.default.createElement(s.default,{basic:!0},i.default.createElement(l.default,null)),i.default.createElement(s.default,{onClick:k},(0,o.getTranslation)("global_menu_popout-chat")),g?null:i.default.createElement(s.default,{onClick:S},(0,o.getTranslation)("global_menu_hide-chat"))))};f.defaultProps={nameColor:(0,c.getRandom)(),fontSize:1,images:!1,timestamps:!1,whisper:!1,compact:!1,showImageLogLink:!0,showPopoutLink:!0,showHideChatLink:!0,onColorPick:null,onFontSizeChange:null,onAllowImagesChange:null,onTimestampsChange:null,onWhisperChange:null,onCompactChange:null,onGotoImageLog:null,onPopOutChat:null,onToggleChat:null},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1630));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),s=a(r),l=(a(n(3)),n(26)),c=n(10),u=n(175),d=n(1631),f=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={color:null,isOpen:!1},a.toggle=function(){a.setState(function(e){return{isOpen:!e.isOpen}})},a.onPick=function(e){return function(){var t=a.props.onPick;a.setState({color:e}),t&&t(e)}},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),o(t,[{key:"componentWillMount",value:function(){this.setState({color:this.props.color})}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.color&&e.color!==this.state.color&&this.setState({color:e.color})}},{key:"render",value:function(){var e=this,t=this.state,n=t.color,a=t.isOpen;return s.default.createElement(c.ThemeProvider,{theme:{modifiers:{isOpen:a}}},s.default.createElement(d.StyledComponent,null,s.default.createElement(d.StyledToggle,{color:n,onClick:this.toggle},s.default.createElement(d.StyledToggleColor,null),s.default.createElement(d.StyledToggleText,null,(0,l.getTranslation)("view_chat_label_your-nick-color"))),s.default.createElement(d.StyledColorPicker,null,u.colors.map(function(t){return s.default.createElement(d.StyledColorPickerColor,{key:"color_"+t,onClick:e.onPick(t),color:t})}))))}}]),t}();f.defaultProps={color:(0,u.getRandom)(),onPick:null},t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledColorPickerColor=t.StyledColorPicker=t.StyledToggleText=t.StyledToggleColor=t.StyledToggle=t.StyledComponent=void 0;var i=a(n(3)),o=a(n(10)),r=(t.StyledComponent=o.default.div.withConfig({displayName:"ColorPickerstyles__StyledComponent",componentId:"jsd8sa-0"})(["position:relative;height:auto;",""],function(e){var t=e.theme;return t.modifiers&&t.modifiers.isOpen?"\n        border-radius: 3px;\n        box-shadow: 0 0 0 1px #ddd;\n    ":null}),t.StyledToggle=o.default.button.attrs({className:"toggle-checkbox",style:function(e){return{color:"#"+e.color}}}).withConfig({displayName:"ColorPickerstyles__StyledToggle",componentId:"jsd8sa-1"})(["display:block;padding:0 10px;width:100%;text-align:left;background-color:#fff;"]));r.propTypes={color:i.default.string},r.defaultProps={color:"000"},t.StyledToggleColor=o.default.div.attrs({className:"toggle-checkbox__box"}).withConfig({displayName:"ColorPickerstyles__StyledToggleColor",componentId:"jsd8sa-2"})(["box-shadow:none !important;background-color:currentColor !important;,"]),t.StyledToggleText=o.default.div.attrs({className:"toggle-checkbox__label"}).withConfig({displayName:"ColorPickerstyles__StyledToggleText",componentId:"jsd8sa-3"})([""]),t.StyledColorPicker=o.default.div.attrs({className:"cf"}).withConfig({displayName:"ColorPickerstyles__StyledColorPicker",componentId:"jsd8sa-4"})(["position:relative;width:100%;height:0;overflow:hidden;border-bottom-left-radius:3px;border-bottom-right-radius:3px;transition:height .1s linear;"," &:before{content:'';position:absolute;border-style:solid;border-width:5px 5px 0;border-color:rgb(142,73,192) transparent;display:block;width:0;z-index:1;top:-5px;left:8px;}"],function(e){var t=e.theme;return t.modifiers&&t.modifiers.isOpen?"\n            height: 30px;\n        ":null});var s=t.StyledColorPickerColor=o.default.button.attrs({type:"button",style:function(e){return{backgroundColor:"#"+e.color}}}).withConfig({displayName:"ColorPickerstyles__StyledColorPickerColor",componentId:"jsd8sa-5"})(["float:left;margin:0;border-radius:0;padding:0;width:1%;height:30px;"]);s.propTypes={color:i.default.string},s.defaultProps={color:"000"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1633));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(596))),r=n(1634),s=function(e){var t=e.size,n=e.onChange;return i.default.createElement(r.StyledComponent,null,i.default.createElement(r.StyledFontSize,null,i.default.createElement(r.StyledFontSizeSmall,null,"A"),i.default.createElement(r.StyledFontSizeLarge,null,"A")),i.default.createElement(r.StyledSlider,null,i.default.createElement(o.default,{min:0,max:4,step:1,defaultValue:2,value:t,onChange:n||function(){}})))};s.defaultProps={size:1,onChange:null},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledSlider=t.StyledFontSizeLarge=t.StyledFontSizeSmall=t.StyledFontSize=t.StyledComponent=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.StyledComponent=a.default.div.withConfig({displayName:"FontSizestyles__StyledComponent",componentId:"sc-1a0i4c5-0"})(["display:flex;flex-direction:row;width:100%;height:30px;line-height:30px;"]),t.StyledFontSize=a.default.div.withConfig({displayName:"FontSizestyles__StyledFontSize",componentId:"sc-1a0i4c5-1"})(["display:inline-block;padding-right:8px;font-weight:bold;"]),t.StyledFontSizeSmall=a.default.span.withConfig({displayName:"FontSizestyles__StyledFontSizeSmall",componentId:"sc-1a0i4c5-2"})(["font-size:10px;"]),t.StyledFontSizeLarge=a.default.span.withConfig({displayName:"FontSizestyles__StyledFontSizeLarge",componentId:"sc-1a0i4c5-3"})(["font-size:15px;"]),t.StyledSlider=a.default.div.withConfig({displayName:"FontSizestyles__StyledSlider",componentId:"sc-1a0i4c5-4"})(["display:flex;padding-left:6px;width:100%;align-items:center;"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledLoginOverlay=t.StyledComponent=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.StyledComponent=a.default.div.withConfig({displayName:"ChatOptionsstyles__StyledComponent",componentId:"sc-12d6fg9-0"})(["position:relative;"]),t.StyledLoginOverlay=a.default.div.withConfig({displayName:"ChatOptionsstyles__StyledLoginOverlay",componentId:"sc-12d6fg9-1"})(["position:absolute;top:0;bottom:0;left:0;right:0;z-index:9999;"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1637));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),s=a(r),l=(a(n(3)),n(358)),c=n(26),u=a(n(35)),d=a(n(614)),f=a(n(459)),p=a(n(616)),m=n(172),h=n(1650),g=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={settingsIsOpen:!1},a.gotoChat=function(){a.onChangeTab(m.CHAT_TAB_CHAT)},a.gotoUserList=function(){a.onChangeTab(m.CHAT_TAB_USERS)},a.gotoFeed=function(){a.onChangeTab(m.CHAT_TAB_FEED)},a.onChangeTab=function(e){a.props.onChange&&a.props.onChange(e)},a.toggleSettings=function(){var e=a.props,t=e.onOpenSettings,n=e.onCloseSettings,i=a.state.settingsIsOpen;!i&&t&&t(),i&&n&&n(),a.setState({settingsIsOpen:!i})},a.closeSettings=function(){var e=a.props.onCloseSettings;e&&e(),a.setState({settingsIsOpen:!1})},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),o(t,[{key:"componentWillReceiveProps",value:function(e){void 0!==e.settingsIsOpen&&e.settingsIsOpen!==this.state.settingsIsOpen&&this.setState({settingsIsOpen:e.settingsIsOpen})}},{key:"render",value:function(){var e=this,t=this.props,n=t.activeTab,a=t.unreadFeedItems,i=t.feedLink,o=t.isLoggedin,r=t.onLogin,g=t.children,_=this.state.settingsIsOpen;return s.default.createElement(l.Manager,null,s.default.createElement(h.StyledComponent,null,s.default.createElement(h.StyledTabs,null,s.default.createElement(h.StyledTab,{active:n===m.CHAT_TAB_CHAT,onClick:this.gotoChat},(0,c.getTranslation)("global_text_chat")),i?s.default.createElement(h.StyledTab,{active:n===m.CHAT_TAB_FEED,onClick:this.gotoFeed},s.default.createElement(h.StyledTabFeed,null,s.default.createElement(u.default,{icon:f.default,size:24,center:!0}),a>0?s.default.createElement(h.StyledTabFeedNotifications,null,a):null)):null,s.default.createElement(h.StyledTab,{active:n===m.CHAT_TAB_USERS,onClick:o?this.gotoUserList:r},(0,c.getTranslation)("global_text_viewers")),s.default.createElement(h.StyledTabSpacer,null),s.default.createElement(h.StyledTabMore,null,s.default.createElement(l.Target,{component:d.default,innerRef:function(t){e.popperTrigger=t},onClick:this.toggleSettings})))),s.default.createElement(p.default,{trigger:this.popperTrigger,isOpen:_,onClose:this.closeSettings,placement:"bottom-end",modifiers:{offset:{offset:"-15, 15"}},style:{width:220}},g))}}]),t}();g.defaultProps={feedLink:!1,isLoggedin:!1,activeTab:m.CHAT_TAB_DEFAULT,isEmbed:!1,unreadFeedItems:0,settingsIsOpen:!1,onLogin:null,onChange:null,onOpenSettings:null,onCloseSettings:null,children:null},t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),s=(a(r),a(n(248))),l=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a._setTargetNode=function(e){a._targetNode=e},a._getTargetNode=function(){return a._targetNode},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"getChildContext",value:function(){return{popperManager:{setTargetNode:this._setTargetNode,getTargetNode:this._getTargetNode}}}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.children,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["tag","children"]);return!1!==t?(0,r.createElement)(t,a,n):n}}]),t}();l.childContextTypes={popperManager:s.default.object.isRequired},l.propTypes={tag:s.default.oneOfType([s.default.string,s.default.bool])},l.defaultProps={tag:"div"},t.default=l},function(e,t,n){"use strict";var a=n(22),i=n(6),o=n(1640);e.exports=function(){function e(e,t,n,a,r,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(1),r=(a(o),a(n(248))),s=function(e,t){var n=e.component,a=void 0===n?"div":n,r=e.innerRef,s=e.children,l=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["component","innerRef","children"]),c=t.popperManager,u=function(e){c.setTargetNode(e),"function"==typeof r&&r(e)};if("function"==typeof s)return s({targetProps:{ref:u},restProps:l});var d=i({},l);return"string"==typeof a?d.ref=u:d.innerRef=u,(0,o.createElement)(a,d,s)};s.contextTypes={popperManager:r.default.object.isRequired},s.propTypes={component:r.default.oneOfType([r.default.node,r.default.func]),innerRef:r.default.func,children:r.default.oneOfType([r.default.node,r.default.func])},t.default=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),c=(a(l),a(n(248))),u=a(n(1643)),d=function(e){function t(){var e,n,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},a._setArrowNode=function(e){a._arrowNode=e},a._getTargetNode=function(){return a.context.popperManager.getTargetNode()},a._getOffsets=function(e){return Object.keys(e.offsets).map(function(t){return e.offsets[t]})},a._isDataDirty=function(e){return!a.state.data||JSON.stringify(a._getOffsets(a.state.data))!==JSON.stringify(a._getOffsets(e))},a._updateStateModifier={enabled:!0,order:900,fn:function(e){return a._isDataDirty(e)&&a.setState({data:e}),e}},a._getPopperStyle=function(){var e=a.state.data;if(!e)return{position:"absolute",pointerEvents:"none",opacity:0};var t=e.offsets.popper,n=(t.top,t.left,t.position);return r({position:n},e.styles)},a._getPopperPlacement=function(){return a.state.data?a.state.data.placement:void 0},a._getPopperHide=function(){return a.state.data&&a.state.data.hide?"":void 0},a._getArrowStyle=function(){if(a.state.data&&a.state.data.offsets.arrow){var e=a.state.data.offsets.arrow;return{top:e.top,left:e.left}}return{}},i=n,o(a,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"getChildContext",value:function(){return{popper:{setArrowNode:this._setArrowNode,getArrowStyle:this._getArrowStyle}}}},{key:"componentDidUpdate",value:function(e){e.placement===this.props.placement&&e.eventsEnabled===this.props.eventsEnabled||(this._destroyPopper(),this._createPopper()),e.children!==this.props.children&&this._popper.scheduleUpdate()}},{key:"componentWillUnmount",value:function(){this._destroyPopper()}},{key:"_createPopper",value:function(){var e=this.props,t=e.placement,n=e.eventsEnabled,a=r({},this.props.modifiers,{applyStyle:{enabled:!1},updateState:this._updateStateModifier});this._arrowNode&&(a.arrow={element:this._arrowNode}),this._popper=new u.default(this._getTargetNode(),this._node,{placement:t,eventsEnabled:n,modifiers:a}),this._popper.scheduleUpdate()}},{key:"_destroyPopper",value:function(){this._popper&&this._popper.destroy()}},{key:"render",value:function(){var e=this,t=this.props,n=t.component,a=t.innerRef,o=(t.placement,t.eventsEnabled,t.modifiers,t.children),s=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["component","innerRef","placement","eventsEnabled","modifiers","children"]),c=function(t){e._node=t,t?e._createPopper():e._destroyPopper(),"function"==typeof a&&a(t)},u=this._getPopperStyle(),d=this._getPopperPlacement(),f=this._getPopperHide();if("function"==typeof o){var p;return o({popperProps:(p={ref:c,style:u},i(p,"data-placement",d),i(p,"data-x-out-of-boundaries",f),p),restProps:s,scheduleUpdate:function(){e._popper&&e._popper.scheduleUpdate()}})}var m=r({},s,{style:r({},s.style,u),"data-placement":d,"data-x-out-of-boundaries":f});return"string"==typeof n?m.ref=c:m.innerRef=c,(0,l.createElement)(n,m,o)}}]),t}();d.contextTypes={popperManager:c.default.object.isRequired},d.childContextTypes={popper:c.default.object.isRequired},d.propTypes={component:c.default.oneOfType([c.default.node,c.default.func]),innerRef:c.default.func,placement:c.default.oneOf(u.default.placements),eventsEnabled:c.default.bool,modifiers:c.default.object,children:c.default.oneOfType([c.default.node,c.default.func])},d.defaultProps={component:"div",placement:"bottom",eventsEnabled:!0,modifiers:{}},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function n(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var n=getComputedStyle(e,null);return t?n[t]:n}function i(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function o(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),n=t.overflow,r=t.overflowX;return/(auto|scroll)/.test(n+t.overflowY+r)?e:o(i(e))}function r(e){var t=e&&e.offsetParent,n=t&&t.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TD","TABLE"].indexOf(t.nodeName)&&"static"===a(t,"position")?r(t):t:e?e.ownerDocument.documentElement:document.documentElement}function s(e){return null!==e.parentNode?s(e.parentNode):e}function l(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,a=n?e:t,i=n?t:e,o=document.createRange();o.setStart(a,0),o.setEnd(i,0);var c=o.commonAncestorContainer;if(e!==c&&t!==c||a.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||r(e.firstElementChild)===e)}(c)?c:r(c);var u=s(e);return u.host?l(u.host,t):l(e,s(t).host)}function c(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var a=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||a)[t]}return e[t]}function u(e,t){var n="x"===t?"Left":"Top",a="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+a+"Width"],10)}function d(e,t,n,a){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],z()?n["offset"+e]+a["margin"+("Height"===e?"Top":"Left")]+a["margin"+("Height"===e?"Bottom":"Right")]:0)}function f(){var e=document.body,t=document.documentElement,n=z()&&getComputedStyle(t);return{height:d("Height",e,t,n),width:d("Width",e,t,n)}}function p(e){return G({},e,{right:e.left+e.width,bottom:e.top+e.height})}function m(e){var t={};if(z())try{t=e.getBoundingClientRect();var n=c(e,"top"),i=c(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}catch(e){}else t=e.getBoundingClientRect();var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?f():{},s=r.width||e.clientWidth||o.right-o.left,l=r.height||e.clientHeight||o.bottom-o.top,d=e.offsetWidth-s,m=e.offsetHeight-l;if(d||m){var h=a(e);d-=u(h,"x"),m-=u(h,"y"),o.width-=d,o.height-=m}return p(o)}function h(e,t){var n=z(),i="HTML"===t.nodeName,r=m(e),s=m(t),l=o(e),u=a(t),d=parseFloat(u.borderTopWidth,10),f=parseFloat(u.borderLeftWidth,10),h=p({top:r.top-s.top-d,left:r.left-s.left-f,width:r.width,height:r.height});if(h.marginTop=0,h.marginLeft=0,!n&&i){var g=parseFloat(u.marginTop,10),_=parseFloat(u.marginLeft,10);h.top-=d-g,h.bottom-=d-g,h.left-=f-_,h.right-=f-_,h.marginTop=g,h.marginLeft=_}return(n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=c(t,"top"),i=c(t,"left"),o=n?-1:1;return e.top+=a*o,e.bottom+=a*o,e.left+=i*o,e.right+=i*o,e}(h,t)),h}function g(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===a(e,"position")||g(i(e)))}function _(e,t,n,a){var r={top:0,left:0},s=l(e,t);if("viewport"===a)r=function(e){var t=e.ownerDocument.documentElement,n=h(e,t),a=Math.max(t.clientWidth,window.innerWidth||0),i=Math.max(t.clientHeight,window.innerHeight||0),o=c(t),r=c(t,"left");return p({top:o-n.top+n.marginTop,left:r-n.left+n.marginLeft,width:a,height:i})}(s);else{var u=void 0;"scrollParent"===a?"BODY"===(u=o(i(t))).nodeName&&(u=e.ownerDocument.documentElement):u="window"===a?e.ownerDocument.documentElement:a;var d=h(u,s);if("HTML"!==u.nodeName||g(s))r=d;else{var m=f(),_=m.height,v=m.width;r.top+=d.top-d.marginTop,r.bottom=_+d.top,r.left+=d.left-d.marginLeft,r.right=v+d.left}}return r.left+=n,r.top+=n,r.right-=n,r.bottom-=n,r}function v(e,t,n,a,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var r=_(n,a,o,i),s={top:{width:r.width,height:t.top-r.top},right:{width:r.right-t.right,height:r.height},bottom:{width:r.width,height:r.bottom-t.bottom},left:{width:t.left-r.left,height:r.height}},l=Object.keys(s).map(function(e){return G({key:e},s[e],{area:function(e){return e.width*e.height}(s[e])})}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,a=e.height;return t>=n.clientWidth&&a>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function b(e,t,n){return h(n,l(t,n))}function y(e){var t=getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),a=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+a,height:e.offsetHeight+n}}function w(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function $(e,t,n){n=n.split("-")[0];var a=y(e),i={width:a.width,height:a.height},o=-1!==["right","left"].indexOf(n),r=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return i[r]=t[r]+t[l]/2-a[l]/2,i[s]=n===s?t[s]-a[c]:t[w(s)],i}function x(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function k(e,t,a){return(void 0===a?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var a=x(e,function(e){return e[t]===n});return e.indexOf(a)}(e,"name",a))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var a=e.function||e.fn;e.enabled&&n(a)&&(t.offsets.popper=p(t.offsets.popper),t.offsets.reference=p(t.offsets.reference),t=a(t,e))}),t}function S(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function C(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),a=0;a<t.length-1;a++){var i=t[a],o=i?""+i+n:e;if(void 0!==document.body.style[o])return o}return null}function M(e){var t=e.ownerDocument;return t?t.defaultView:window}function E(e,t,n,a){var i="BODY"===e.nodeName,r=i?e.ownerDocument.defaultView:e;r.addEventListener(t,n,{passive:!0}),i||E(o(r.parentNode),t,n,a),a.push(r)}function T(){this.state.eventsEnabled||(this.state=function(e,t,n,a){n.updateBound=a,M(e).addEventListener("resize",n.updateBound,{passive:!0});var i=o(e);return E(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}(this.reference,this.options,this.state,this.scheduleUpdate))}function P(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(e,t){return M(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function O(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function j(e,t){Object.keys(t).forEach(function(n){var a="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&O(t[n])&&(a="px"),e.style[n]=t[n]+a})}function A(e,t,n){var a=x(e,function(e){return e.name===t}),i=!!a&&e.some(function(e){return e.name===n&&e.enabled&&e.order<a.order});if(!i){var o="`"+t+"`",r="`"+n+"`";console.warn(r+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function I(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Y.indexOf(e),a=Y.slice(n+1).concat(Y.slice(0,n));return t?a.reverse():a}function L(e,t,n,a){var i=[0,0],o=-1!==["right","left"].indexOf(a),r=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=r.indexOf(x(r,function(e){return-1!==e.search(/,|\s/)}));r[s]&&-1===r[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[r.slice(0,s).concat([r[s].split(l)[0]]),[r[s].split(l)[1]].concat(r.slice(s+1))]:[r];return(c=c.map(function(e,a){var i=(1===a?!o:o)?"height":"width",r=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,r=!0,e):r?(e[e.length-1]+=t,r=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,a){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],r=i[2];if(!o)return e;if(0===r.indexOf("%")){var s=void 0;switch(r){case"%p":s=n;break;case"%":case"%r":default:s=a}return p(s)[t]/100*o}return"vh"===r||"vw"===r?("vh"===r?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}(e,i,t,n)})})).forEach(function(e,t){e.forEach(function(n,a){O(n)&&(i[t]+=n*("-"===e[a-1]?-1:1))})}),i}for(var U="undefined"!=typeof window&&"undefined"!=typeof document,D=["Edge","Trident","Firefox"],N=0,R=0;R<D.length;R+=1)if(U&&navigator.userAgent.indexOf(D[R])>=0){N=1;break}var F=U&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},N))}},B=void 0,z=function(){return void 0===B&&(B=-1!==navigator.appVersion.indexOf("MSIE 10")),B},H=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},V=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),q=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},W=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Y=W.slice(3),K={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},J={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],a=t.split("-")[1];if(a){var i=e.offsets,o=i.reference,r=i.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:q({},l,o[l]),end:q({},l,o[l]+o[c]-r[c])};e.offsets.popper=G({},r,u[a])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,a=e.placement,i=e.offsets,o=i.popper,r=i.reference,s=a.split("-")[0],l=void 0;return l=O(+n)?[+n,0]:L(n,o,r,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||r(e.instance.popper);e.instance.reference===n&&(n=r(n));var a=_(e.instance.popper,e.instance.reference,t.padding,n);t.boundaries=a;var i=t.priority,o=e.offsets.popper,s={primary:function(e){var n=o[e];return o[e]<a[e]&&!t.escapeWithReference&&(n=Math.max(o[e],a[e])),q({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=o[n];return o[e]>a[e]&&!t.escapeWithReference&&(i=Math.min(o[n],a[e]-("right"===e?o.width:o.height))),q({},n,i)}};return i.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";o=G({},o,s[t](e))}),e.offsets.popper=o,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,a=t.reference,i=e.placement.split("-")[0],o=Math.floor,r=-1!==["top","bottom"].indexOf(i),s=r?"right":"bottom",l=r?"left":"top",c=r?"width":"height";return n[s]<o(a[l])&&(e.offsets.popper[l]=o(a[l])-n[c]),n[l]>o(a[s])&&(e.offsets.popper[l]=o(a[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!A(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],r=e.offsets,s=r.popper,l=r.reference,c=-1!==["left","right"].indexOf(o),u=c?"height":"width",d=c?"Top":"Left",f=d.toLowerCase(),m=c?"left":"top",h=c?"bottom":"right",g=y(i)[u];l[h]-g<s[f]&&(e.offsets.popper[f]-=s[f]-(l[h]-g)),l[f]+g>s[h]&&(e.offsets.popper[f]+=l[f]+g-s[h]),e.offsets.popper=p(e.offsets.popper);var _=l[f]+l[u]/2-g/2,v=a(e.instance.popper),b=parseFloat(v["margin"+d],10),w=parseFloat(v["border"+d+"Width"],10),$=_-e.offsets.popper[f]-b-w;return $=Math.max(Math.min(s[u]-g,$),0),e.arrowElement=i,e.offsets.arrow=(n={},q(n,f,Math.round($)),q(n,m,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(S(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=_(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),a=e.placement.split("-")[0],i=w(a),o=e.placement.split("-")[1]||"",r=[];switch(t.behavior){case K.FLIP:r=[a,i];break;case K.CLOCKWISE:r=I(a);break;case K.COUNTERCLOCKWISE:r=I(a,!0);break;default:r=t.behavior}return r.forEach(function(s,l){if(a!==s||r.length===l+1)return e;a=e.placement.split("-")[0],i=w(a);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,f="left"===a&&d(c.right)>d(u.left)||"right"===a&&d(c.left)<d(u.right)||"top"===a&&d(c.bottom)>d(u.top)||"bottom"===a&&d(c.top)<d(u.bottom),p=d(c.left)<d(n.left),m=d(c.right)>d(n.right),h=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),_="left"===a&&p||"right"===a&&m||"top"===a&&h||"bottom"===a&&g,v=-1!==["top","bottom"].indexOf(a),b=!!t.flipVariations&&(v&&"start"===o&&p||v&&"end"===o&&m||!v&&"start"===o&&h||!v&&"end"===o&&g);(f||_||b)&&(e.flipped=!0,(f||_)&&(a=r[l+1]),b&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=a+(o?"-"+o:""),e.offsets.popper=G({},e.offsets.popper,$(e.instance.popper,e.offsets.reference,e.placement)),e=k(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],a=e.offsets,i=a.popper,o=a.reference,r=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[r?"left":"top"]=o[n]-(s?i[r?"width":"height"]:0),e.placement=w(t),e.offsets.popper=p(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!A(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=x(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,a=t.y,i=e.offsets.popper,o=x(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:t.gpuAcceleration,l=m(r(e.instance.popper)),c={position:i.position},u={left:Math.floor(i.left),top:Math.floor(i.top),bottom:Math.floor(i.bottom),right:Math.floor(i.right)},d="bottom"===n?"top":"bottom",f="right"===a?"left":"right",p=C("transform"),h=void 0,g=void 0;if(g="bottom"===d?-l.height+u.bottom:u.top,h="right"===f?-l.width+u.right:u.left,s&&p)c[p]="translate3d("+h+"px, "+g+"px, 0)",c[d]=0,c[f]=0,c.willChange="transform";else{var _="bottom"===d?-1:1,v="right"===f?-1:1;c[d]=g*_,c[f]=h*v,c.willChange=d+", "+f}var b={"x-placement":e.placement};return e.attributes=G({},b,e.attributes),e.styles=G({},c,e.styles),e.arrowStyles=G({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return j(e.instance.popper,e.styles),function(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&j(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,a,i){var o=b(0,t,e),r=v(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",r),j(t,{position:"absolute"}),n},gpuAcceleration:void 0}}},X=function(){function e(t,a){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};H(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=F(this.update.bind(this)),this.options=G({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=a&&a.jquery?a[0]:a,this.options.modifiers={},Object.keys(G({},e.Defaults.modifiers,o.modifiers)).forEach(function(t){i.options.modifiers[t]=G({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return G({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&n(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return V(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=b(this.state,this.popper,this.reference),e.placement=v(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=$(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=k(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,S(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[C("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return T.call(this)}},{key:"disableEventListeners",value:function(){return P.call(this)}}]),e}();X.Utils=("undefined"!=typeof window?window:e).PopperUtils,X.placements=W,X.Defaults=J,t.default=X}.call(t,n(7))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(1),r=(a(o),a(n(248))),s=function(e,t){var n=e.component,a=void 0===n?"span":n,r=e.innerRef,s=e.children,l=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["component","innerRef","children"]),c=t.popper,u=function(e){c.setArrowNode(e),"function"==typeof r&&r(e)},d=c.getArrowStyle();if("function"==typeof s)return s({arrowProps:{ref:u,style:d},restProps:l});var f=i({},l,{style:i({},d,l.style)});return"string"==typeof a?f.ref=u:f.innerRef=u,(0,o.createElement)(a,f,s)};s.contextTypes={popper:r.default.object.isRequired},s.propTypes={component:r.default.oneOfType([r.default.node,r.default.func]),innerRef:r.default.func,children:r.default.oneOfType([r.default.node,r.default.func])},t.default=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(77)),a(n(35))),r=a(n(1646)),s=a(n(335)),l=n(615),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(e){var t=e.icon,n=e.iconSize,a=e.loading,r=e.disabled,u=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["icon","iconSize","loading","disabled"]);return i.default.createElement(l.StyledComponent,c({},u,{loading:a,disabled:r}),i.default.createElement(o.default,{icon:t,size:n,center:!0}),a?i.default.createElement(s.default,{center:!0}):null)};u.defaultProps={icon:r.default,iconSize:32,loading:!1,disabled:!1},t.default=u},function(e,t){e.exports='<svg viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><path d="M14 12.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm7 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-14 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z" fill="#303B42" fill-rule="evenodd"></path></svg>'},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),l=a(s),c=(a(n(3)),n(26)),u=n(358),d=a(n(13)),f=n(1648),p=(0,d.default)(document),m=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={isOpen:!1},a.documentClickBound=!1,a.documentClickEvent=function(e){var t=a.props.trigger;if(a.state.isOpen){var n=e.target,i=(0,d.default)(n);!n||n===a.popper||i.closest(a.popper).length||t&&(!t||n===t||i.closest(t).length)||a.onClose()}},a.onOpen=function(){a.state.isOpen||(a.documentClickBound||(a.documentClickBound=!0,p.bind("click",a.documentClickEvent)),a.setState({isOpen:!0},function(){var e=a.props.onOpen;e&&e()}))},a.onClose=function(){a.state.isOpen&&(a.documentClickBound=!1,p.unbind("click",a.documentClickEvent),a.setState({isOpen:!1},function(){var e=a.props.onClose;e&&e()}))},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.PureComponent),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state.isOpen,n=e.isOpen;void 0!==n&&n!==t&&(n?this.onOpen():this.onClose())}},{key:"render",value:function(){var e=this,t=this.props,n=t.placement,a=t.children,i=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["placement","children"]),r=this.state.isOpen;return a&&r?l.default.createElement(u.Popper,o({},i,{component:f.StyledComponent,placement:n,innerRef:function(t){e.popper=t}}),a,l.default.createElement(f.StyledCloseButton,{onClick:this.onClose},(0,c.getTranslation)("global_text_close"))):null}}]),t}();m.defaultProps={isOpen:!1,placement:"bottom-end",trigger:null,onOpen:null,onClose:null,children:null},t.default=m},function(e,t,n){"use strict";function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledCloseButton=t.StyledComponent=void 0;var i=a(["\n        position: absolute;\n        top: auto !important;\n        bottom: 0 !important;\n        left: 0 !important;\n        right: 0 !important;\n        width: 100% !important;\n        transform: none !important;\n    "],["\n        position: absolute;\n        top: auto !important;\n        bottom: 0 !important;\n        left: 0 !important;\n        right: 0 !important;\n        width: 100% !important;\n        transform: none !important;\n    "]),o=a(["\n            display: none;\n        "],["\n            display: none;\n        "]),r=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),s=n(180),l=n(20),c=n(40);t.StyledComponent=r.default.div.withConfig({displayName:"Popoverstyles__StyledComponent",componentId:"sc-1t9d6xa-0"})(["position:fixed;display:block;user-select:none;cursor:default;opacity:1;z-index:2010;background-color:#fff;border:1px solid ",";box-shadow:1px 1px 5px ",";",""],l.line,(0,s.rgba)("#000",.2),c.mediaQueries.lessThan("phone")(i)),t.StyledCloseButton=r.default.button.attrs({type:"button"}).withConfig({displayName:"Popoverstyles__StyledCloseButton",componentId:"sc-1t9d6xa-1"})(["display:block;margin-top:-5px;border-top:1px solid ",";padding:10px;width:100%;color:",";text-align:center;background-color:#fff;",""],l.graySuperLight,l.grayDark,c.mediaQueries.greaterThan("phone")(o))},function(e,t,n){"use strict";function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2?arguments[2]:void 0,a={};for(var i in e){var o=e[i];String(o).includes("px")?a[i]=+parseInt(o)/t+n:a[i]=o}return a}function o(e){return i(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,"em")}function r(e){return i(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,"rem")}function s(){var e=a(["\n          @media (min-width: ",") {\n            ","\n          }\n        "]);return s=function(){return e},e}function l(){var e=a(["\n          @media (max-width: ",") {\n            ","\n          }\n        "]);return l=function(){return e},e}function c(){var e=a(["\n    @media (min-width: ",") and\n      (max-width: ",") {\n      ","\n    }\n  "]);return c=function(){return e},e}function u(){var e=a(["\n    @media (min-width: ",") {\n      ","\n    }\n  "]);return u=function(){return e},e}function d(){var e=a(["\n    @media (max-width: ",") {\n      ","\n    }\n  "]);return d=function(){return e},e}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t[e]?t[e]:parseInt(e)?e:(console.error("styled-media-query: No valid breakpoint or size specified for media."),"0")}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=Object.keys(e).reduce(function(t,n){var a=e[n];return t.to[n]=function(){return console.warn("styled-media-query: Use media.lessThan('".concat(n,"') instead of old media.to.").concat(n," (Probably we'll deprecate it)")),Object(m.css)(l(),a,m.css.apply(void 0,arguments))},t.from[n]=function(){return console.warn("styled-media-query: Use media.greaterThan('".concat(n,"') instead of old media.from.").concat(n," (Probably we'll deprecate it)")),Object(m.css)(s(),a,m.css.apply(void 0,arguments))},t},{to:{},from:{}});return Object.assign({lessThan:function(t){return function(){return Object(m.css)(d(),f(t,e),m.css.apply(void 0,arguments))}},greaterThan:function(t){return function(){return Object(m.css)(u(),f(t,e),m.css.apply(void 0,arguments))}},between:function(t,n){return function(){return Object(m.css)(c(),f(t,e),f(n,e),m.css.apply(void 0,arguments))}}},t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"pxToEm",function(){return o}),n.d(t,"pxToRem",function(){return r}),n.d(t,"defaultBreakpoints",function(){return h}),n.d(t,"generateMedia",function(){return p});var m=n(10),h={huge:"1440px",large:"1170px",medium:"768px",small:"450px"},g=p();t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledTabFeedNotifications=t.StyledTabFeed=t.StyledTabSpacer=t.StyledTabMore=t.StyledTab=t.StyledTabs=t.StyledComponent=void 0;var i=a(n(3)),o=a(n(10)),r=n(20),s=n(615),l=(t.StyledComponent=o.default.nav.withConfig({displayName:"ChatTabsstyles__StyledComponent",componentId:"xkr8xj-0"})([""]),t.StyledTabs=o.default.ul.attrs({className:"nono"}).withConfig({displayName:"ChatTabsstyles__StyledTabs",componentId:"xkr8xj-1"})(["position:relative;display:flex;justify-content:space-between;box-shadow:inset 0 -1px 0 0 ",";height:","px;white-space:nowrap;"],r.line,50),t.StyledTab=o.default.li.withConfig({displayName:"ChatTabsstyles__StyledTab",componentId:"xkr8xj-2"})(["position:relative;display:inline-block;padding:0 ","px;height:","px;line-height:","px;vertical-align:top;font-size:15px;cursor:pointer;color:",";&:after{content:'';position:absolute;bottom:0;right:0;left:0;height:2px;background-color:",";transition:transform .2s ease-in-out;transform:scaleX(0);z-index:10;}&:hover{color:",";.smash-icon{color:",";}}",""],16,50,50,r.gray,r.primary,r.primary,r.primary,function(e){return e.active?"\n        color: "+r.primary+";\n        font-weight: bold;\n\n        &:after {\n            transform: scaleX(1);\n        }\n\n        // icon component:\n        .smash-icon {\n            color: "+r.primary+";\n        }\n    ":null}));l.propTypes={active:i.default.bool},l.defaultProps={active:!1},t.StyledTabMore=(0,o.default)(l).withConfig({displayName:"ChatTabsstyles__StyledTabMore",componentId:"xkr8xj-3"})(["padding:0;","{width:60px;height:100%;color:inherit;.smash-icon{color:inherit;&:hover,&:focus{color:inherit;}}}"],s.StyledComponent),t.StyledTabSpacer=o.default.li.withConfig({displayName:"ChatTabsstyles__StyledTabSpacer",componentId:"xkr8xj-4"})(["flex:1;"]),t.StyledTabFeed=o.default.span.withConfig({displayName:"ChatTabsstyles__StyledTabFeed",componentId:"xkr8xj-5"})(["position:relative;display:inline-block;width:24px;height:24px;vertical-align:middle;"]),t.StyledTabFeedNotifications=o.default.span.withConfig({displayName:"ChatTabsstyles__StyledTabFeedNotifications",componentId:"xkr8xj-6"})(["position:absolute;top:-3px;right:-3px;border-radius:2px;min-height:13px;line-height:1.3;background-color:",";color:#fff;font-size:9px;padding:1px 3px;"],r.secondary)},function(e,t,n){"use strict";function a(e,t){var n={},a=t("chatSettings",{capacity:1}),o={response:function(e){return a.removeAll(),e.data}};return e(i.default.apiUri+"/chat/settings/:channel",{channel:"@channel",authToken:"@authToken"},{get:{method:"GET",params:n,cache:a,isArray:!1},set:{method:"POST",params:n,isArray:!1,interceptor:o}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource","$cacheFactory"]},function(e,t,n){"use strict";function a(e,t){return function(){function n(a){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.joinChannel=function(n){var a=e.search();o.default.sendMessage("chat.joinChannel",{channel:i.channelName,name:t.getName(),token:t.getToken(),hideBuffered:n>0||"false"===a["chat-buffered"]})},this.channelName=a}return i(n,[{key:"partChannel",value:function(){o.default.sendMessage("chat.partChannel",{channel:this.channelName,name:t.getName()})}}]),n}()}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=a;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(12));a.$inject=["$location","loggedUser"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(5));t.default=function(){return function(e,t,n){return t?n?a.default.unix(e).format(t):a.default.utc(e).local().format(t):a.default.utc(e).local()}}},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(0)),r=a(n(1656)),s=a(n(1657));n(1658);var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ready=!1}return i(e,[{key:"$onInit",value:function(){this.typeaheadItemTemplate=this.typeaheadItemTemplate||r.default,this.ngChange=this.ngChange||o.default.noop,this.ngDisabled=this.ngDisabled||!1,this.debounceTime=this.debounceTime||500,this.triggerOnFocus=this.triggerOnFocus||!1,this.openToTop=this.openToTop||!1,this.isTextarea=this.isTextarea||!1,this.isRequired=this.isRequired||!1,this.appendToBody=this.appendToBody||!1}},{key:"refresh",value:function(e){return this.onRefresh?this.onRefresh({$viewValue:e}):[]}},{key:"selectItem",value:function(e,t,n,a){this.onSelect&&this.onSelect({$item:e,$model:t,$label:n,$event:a})}},{key:"enter",value:function(e){this.onEnter&&this.onEnter({$event:e})}},{key:"blur",value:function(e){this.onBlur&&this.onBlur({$event:e})}},{key:"focus",value:function(e){this.onFocus&&this.onFocus({$event:e})}}]),e}();t.default={bindings:{ngModel:"=",ngChange:"&?",ngDisabled:"<?",placeholder:"@?",loading:"=?",minLength:"@?",isOpen:"=?",debounceTime:"<?",triggerOnFocus:"<?",typeaheadItemTemplate:"@?",appendToBody:"<?",isTextarea:"<?",inputClass:"@?",openToTop:"<?",isRequired:"<?",onRefresh:"&?",onSelect:"&?",onEnter:"&?",onBlur:"&?",onFocus:"&?",noResults:"=?"},transclude:!0,controller:l,template:'\n<div\n    class="hitbox-typeahead"\n    ng-class="{\n        \'hitbox-typeahead--direction-top\': $ctrl.openToTop,\n    }"\n>\n    <input\n        type="text"\n        autocomplete="off"\n        spellcheck="false"\n        ng-if="!$ctrl.isTextarea"\n        ng-model="$ctrl.ngModel"\n        ng-model-options="{ debounce: $ctrl.debounceTime }"\n        ng-change="$ctrl.ngChange()"\n        ng-blur="$ctrl.blur()"\n        ng-disabled="$ctrl.ngDisabled"\n        ng-focus="$ctrl.focus()"\n        placeholder="{{$ctrl.placeholder}}"\n        uib-typeahead="item for item in $ctrl.refresh($viewValue)"\n        typeahead-loading="$ctrl.loading"\n        typeahead-min-length="$ctrl.minLength"\n        typeahead-is-open="$ctrl.isOpen"\n        typeahead-trigger-on-focus="{{$ctrl.triggerOnFocus}}"\n        typeahead-on-select="$ctrl.selectItem($item, $model, $label, $event)"\n        typeahead-template-url="{{$ctrl.typeaheadItemTemplate}}"\n        typeahead-popup-template-url="'+s.default+'"\n        typeahead-append-to-body="$ctrl.appendToBody"\n        typeahead-no-results="$ctrl.noResults"\n        ng-required="$ctrl.isRequired"\n        class="hitbox-typeahead__input {{$ctrl.inputClass}}"\n    />\n\n    <textarea\n        autocomplete="off"\n        spellcheck="false"\n        ng-if="$ctrl.isTextarea"\n        ng-model="$ctrl.ngModel"\n        ng-model-options="{ debounce: $ctrl.debounceTime }"\n        ng-change="$ctrl.ngChange()"\n        ng-blur="$ctrl.blur()"\n        ng-disabled="$ctrl.ngDisabled"\n        ng-focus="$ctrl.focus()"\n        placeholder="{{$ctrl.placeholder}}"\n        uib-typeahead="item for item in $ctrl.refresh($viewValue)"\n        typeahead-loading="$ctrl.loading"\n        typeahead-min-length="$ctrl.minLength"\n        typeahead-is-open="$ctrl.isOpen"\n        typeahead-trigger-on-focus="{{$ctrl.triggerOnFocus}}"\n        typeahead-on-select="$ctrl.selectItem($item, $model, $label, $event)"\n        typeahead-template-url="{{$ctrl.typeaheadItemTemplate}}"\n        typeahead-popup-template-url="'+s.default+'"\n        typeahead-append-to-body="$ctrl.appendToBody"\n        typeahead-no-results="$ctrl.noResults"\n        ui-keypress="{enter:\'$ctrl.enter($event)\'}"\n        ng-required="{{$ctrl.isRequired}}"\n        msd-elastic\n        class="hitbox-typeahead__input {{$ctrl.inputClass}}"\n    ></textarea>\n</div>\n    '}},function(e,t,n){var a="/src/js/ui-elements/typeahead/views/list.typeahead-item.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<a class=hitbox-typeahead__dropdown__item__link> {{match.label}} </a> ")}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/typeahead/views/typeahead.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-show="isOpen() && !moveInProgress" ng-style="{\n        top: position().top+\'px\',\n        left: position().left+\'px\',\n    }" aria-hidden={{!isOpen()}} class=hitbox-typeahead__dropdown-wrapper> <ul class="hitbox-typeahead__dropdown dropdown-menu" role=listbox> <li ng-repeat="match in matches track by $index" ng-class="{\'hitbox-typeahead__dropdown__item--active\': isActive($index) }" ng-mouseenter=selectActive($index) ng-click=selectMatch($index) role=option id={{::match.id}} class="hitbox-typeahead__dropdown__item uib-typeahead-match"> <div ng-include=templateUrl></div> </li> </ul> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return{restrict:"A",require:"ngModel",link:function(t,n,a){"false"!==a.typeaheadTriggerOnFocus&&n.bind("click",function(){var t=n.controller("ngModel"),a=t.$modelValue||"",i=t.$options.debounce||0;a?(t.$options=t.$options.createChild({debounce:0,updateOnDefault:!0}),t.$setViewValue(""),e(function(){t.$setViewValue(a),t.$options=t.$options.createChild({debounce:i,updateOnDefault:!0})})):t.$setViewValue(" ")})}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$timeout"],t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i){e.user={},e.logs=null,e.getLog=function(){e.logs=null;var a={authToken:n.getToken(),channel:e.user.user_name};t.get(a,function(t){i.error(t),e.logs=t.log},function(e){i.error(e)})},e.userFormatResult=function(e){return e.user_name},e.userFormatSelection=function(e){return e.user_name},e.searchUser=[],e.select2={selected_user:{}},e.refreshSelectUser=function(t){if(!t)return!1;var n={q:t,limit:100};return a.get(o.default.apiUri+"/user/list",{params:n}).then(function(t){e.searchUser=t.data},function(e){i.error(e)})},e.selectSelectUser=function(t){e.select2.selected_user=t,e.user.user_name=t.user_name,e.searchUser=[],e.getLog()}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{scope:{},restrict:"E",templateUrl:r.default,controller:i}};var o=a(n(2)),r=a(n(1661));n(1662),i.$inject=["$scope","AdminBroadcastLog","loggedUser","$http","$log"]},function(e,t,n){var a="/src/js/admin/directives/admin-broadcast-log.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=broadcast-log-admin> <div class="broadcast-log-admin__form cf"> <ui-select ng-model=select2.selected_user.user_name theme=select2 on-select="selectSelectUser($item, $model)" autofocus=true class=broadcast-log-admin__form__user> <ui-select-match placeholder="Select a User"> {{$select.selected}} </ui-select-match> <ui-select-choices refresh=refreshSelectUser($select.search) repeat="user in searchUser"> <div>{{user.user_name}}</div> </ui-select-choices> </ui-select> </div> <table class="broadcast-log-admin__table cf"> <tr> <th style=width:10%> resolution </th> <th style=width:10%> vbitrate </th> <th style=width:10%> abitrate </th> <th style=width:5%> vcodec </th> <th style=width:5%> acodec </th> <th style=width:10%> profile </th> <th style=width:5%> level </th> <th style=width:5%> fps </th> <th style=width:5%> keyframe </th> <th style=width:10%> hostname </th> <th style=width:20%> log_date </th> <th style=width:5%> location </th> </tr> <tr ng-repeat="log in logs"> <td>{{log.width}}x{{log.height}}</td> <td>{{log.vbitrate}}</td> <td>{{log.abitrate}}</td> <td>{{log.vcodec}}</td> <td>{{log.acodec}}</td> <td>{{log.profile}}</td> <td>{{log.level}}</td> <td>{{log.fps}}</td> <td>{{log.kf_interval}}</td> <td>{{log.hostname}}</td> <td>{{log.log_date}}</td> <td>{{log.location}}</td> </tr> </table> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a){this.$translate=e,this.adminTranslations=t,this.loggedInUserService=n,this.tableItemTpl=p.default,this.loading=!1,this.filter={identifier:"",en_US:"",current_language:"",showMissing:!1,showModified:!1,search:""},this.languages=d.languages,this.defaultLanguage=[],this.language=[],this.filteredLanguage=[],this.defaultLanguageOriginal=[],this.languageOriginal=[],this.differences=[],this.current_language={id:"en_US",name:"English"},this.defaultLanguageId="en_US",this.resetNewVariable(),this.identifierRegex=/^([a-z0-9\-]+)_([a-z0-9\-]+)_([a-z0-9\-]+)_?([a-z0-9\-]+)$/,this.error={title:"",msg:""},this.$onInit=function(){this.getTranslations()},this.getDefaultLanguageItem=function(e){return(0,r.default)(this.defaultLanguage,["variable",e.variable])}.bind(this),this.getCurrentLanguage=function(){return this.current_language}.bind(this),this.setCurrentLanguage=function(e){this.hasDifferences()&&!a.confirm("You have unsaved changes!\nChanging the language will discard them!\nDo you really want to continue?")||(this.current_language=e,this.getTranslations(e.id))}.bind(this),this.updateDifferences=function(e){var t=(0,r.default)(this.differences,function(t){return t.variable===e.variable&&t.language.id===e.language.id}),n=this.getCurrentLanguage().id!==this.defaultLanguageId&&e.language.id===this.defaultLanguageId?this.defaultLanguageOriginal:this.languageOriginal,a=(0,r.default)(n,function(t){return t.variable===e.variable&&t.language.id===e.language.id});t&&a&&t.value!==a.value?t.value=e.value:t?t&&a&&t.value===a.value&&(this.differences=(0,c.default)(this.differences,e)):this.differences.push(e),this.filter.showModified&&0===this.differences.length&&(this.filter.showModified=!1,this.filterList())}.bind(this)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(32)),s=a(n(58)),l=a(n(57)),c=a(n(56)),u=a(n(320)),d=n(124),f=a(n(1664)),p=a(n(1665));n(1666),i.$inject=["$translate","AdminTranslations","loggedUser","$window"],i.prototype.getTranslations=function(e){function t(e,t){var n=[],a=(0,d.find)(e);return t.forEach(function(t){t.identifier&&n.push({variable:t.identifier,value:t[e]||"",note:t.note||"",language:{id:a.id,name:a.name}})}),n}var n=this;e=e||"en_US",this.loading=!0,this.adminTranslations.get({authToken:n.loggedInUserService.getToken(),lang:e},function(a){n.defaultLanguage=t(n.defaultLanguageId,a),n.language=t(e,a),n.defaultLanguageOriginal=o.default.copy(n.defaultLanguage),n.languageOriginal=o.default.copy(n.language),n.differences=[],n.filterList(),n.loading=!1},function(e){n.throwError(e),n.loading=!1})},i.prototype.save=function(){var e=this,t=[],n=[];this.getCurrentLanguage().id!==this.defaultLanguageId?this.differences.forEach(function(a){a.language.id===e.defaultLanguageId?n.push(a):t.push(a)}):t=this.differences,t.length>0&&this.saveLanguage(this.getCurrentLanguage().id,t),n.length>0&&this.getCurrentLanguage().id!==this.defaultLanguageId&&this.saveLanguage(this.defaultLanguageId,n)},i.prototype.hasDifferences=function(){return this.differences.length>0},i.prototype.getDifference=function(e){return e?(0,s.default)(this.differences,function(t){return t.language.id===e}):this.differences},i.prototype.variableExists=function(e){return!!(0,r.default)(this.language,["variable",e])},i.prototype.saveLanguage=function(e,t){var n=this;this.saving=!0,this.adminTranslations.post({lang:e,authToken:this.loggedInUserService.getToken(),translations:function(e){var t={};return e.forEach(function(e){t[e.variable]=e.value}),t}(t)},function(){n.saving=!1,e===n.defaultLanguageId&&n.getDifference(n.defaultLanguageId).forEach(function(e){var t=(0,r.default)(n.defaultLanguage,["variable",e.variable]),a=(0,r.default)(n.defaultLanguageOriginal,["variable",e.variable]);t&&a&&(t.value=e.value,a.value=e.value)}),n.differences=[],n.filterList()},function(e){n.throwError(e),n.saving=!1})},i.prototype.addNewVariable=function(){this.newVariable.language=(0,d.find)(this.getCurrentLanguage().id),this.language.push(this.newVariable),this.defaultLanguage.push(this.newVariable),this.updateDifferences(this.newVariable),this.resetNewVariable(),this.filterList()},i.prototype.resetNewVariable=function(){this.newVariable={variable:"",value:"",note:""}},i.prototype.filterList=function(){var e=this,t=this.language,n=void 0,a=void 0;this.filter.search.length>0&&(t=[],n=(0,s.default)(this.language,function(t){return(0,l.default)(t.variable,e.filter.search)||(0,l.default)(t.value,e.filter.search)}),a=(0,s.default)(this.defaultLanguage,function(t){return(0,l.default)(t.value,e.filter.search)}),(t=n.concat(a)).forEach(function(t){(0,r.default)(t,function(t){return(0,l.default)(e.defaultLanguage,t.value)})}),t=(0,u.default)(t,"variable")),this.filter.showModified&&(t=(0,s.default)(t,function(t){return!!(0,r.default)(e.getDifference(),["variable",t.variable])})),this.filter.showMissing&&(t=(0,s.default)(t,function(e){return""===e.value})),this.filteredLanguage=t},i.prototype.throwError=function(e){this.error={title:this.$translate.instant("global_error_error-occured"),msg:"Error: "+o.default.toJson(e)}},t.default={bindings:{},templateUrl:f.default,controller:i}},function(e,t,n){var a="/src/js/admin/components/translations-admin.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=translation-admin ng-class="{ \'translation-admin--hasPagination\': $ctrl.hasPagination }"> <htbx-table class=translation-admin__list list=$ctrl.filteredLanguage track-by=variable order-by=variable item-tpl={{::$ctrl.tableItemTpl}} actions="{ getDefaultLanguageItem: $ctrl.getDefaultLanguageItem, getCurrentLanguage: $ctrl.getCurrentLanguage, updateDifferences: $ctrl.updateDifferences }" loading=$ctrl.loading items-per-page=20 has-pagination=$ctrl.hasPagination> <ul class="table__list table__list--header"> <li class="table__list__row table__list__row--no-missing" ng-if="$ctrl.filteredLanguage.length === 0 && $ctrl.filter.showMissing"> <div class=translation-admin__no-missing> <span class=translation-admin__no-missing__emote> <smash-icon icon=emoticons size=32></smash-icon> </span> <span>There are no missing {{$ctrl.getCurrentLanguage().name}} translations!</span> </div> </li> <li class="table__list__row translation-admin__add-variable-form-wrap" ng-if="!$ctrl.loading && $ctrl.getCurrentLanguage().id === $ctrl.defaultLanguageId"> <form name=addNewVariableForm accept-charset=UTF-8 class=translation-admin__add-variable-form ng-submit=$ctrl.addNewVariable() novalidate> <div class=translation-admin__identifier> <div class=translation-admin__identifier__value> <input class=translation-admin__identifier__variable-input ng-class="{\'translation-admin__identifier__variable-input--invalid\': addNewVariableForm.variableName.$invalid || $ctrl.variableExists($ctrl.newVariable.variable)}" type=text name=variableName ng-model=$ctrl.newVariable.variable ng-pattern=$ctrl.identifierRegex placeholder="Enter a new identifier" required/> </div> <div class=translation-admin__identifier__variable> <textarea class=translation-admin__identifier__note name=variableNote ng-model=$ctrl.newVariable.note placeholder=Note msd-elastic>\n                            </textarea> </div> <div ng-if=!addNewVariableForm.$pristine> <htbx-alert data-type=error data-alert-title="Hey there!" data-on-dismiss="$ctrl.addVariableDismiss = true" data-dismissable=true> <p>It seems that you\'re trying to add a new language variable!</p> <p><strong>Please only use this feature if you really know what you are doing!</strong></p> </htbx-alert> </div> </div> <div class=translation-admin__variable-input> <textarea class=translation-admin__variable-input__textarea name=variableValue ng-class="{\'translation-admin__variable-input__textarea--new\': !$ctrl.newVariable.value,\n                                  \'translation-admin__variable-input__textarea--missing\': !$ctrl.newVariable.value && $ctrl.newVariable.variable && !addNewVariableForm.variableValue.$pristine}" ng-model=$ctrl.newVariable.value msd-elastic=\\n required placeholder="Enter content in {{$ctrl.getCurrentLanguage().name}} ({{$ctrl.getCurrentLanguage().id}}) for the new identifier">\n                        </textarea> </div> <button class="button button--size-default button--ok translation-admin__add-variable-form__submit" ng-disabled="addNewVariableForm.$invalid || !$ctrl.addVariableDismiss || $ctrl.variableExists($ctrl.newVariable.variable)" ng-class="{\'button--disabled\': addNewVariableForm.$invalid || !$ctrl.addVariableDismiss || $ctrl.variableExists($ctrl.newVariable.variable)}" type=submit> Add variable </button> </form> </li> </ul> </htbx-table> <div class=translation-admin__header> <div class=translation-admin__header__left> <input type=text class=translation-admin__header__search-input ng-model=$ctrl.filter.search ng-change=$ctrl.filterList() ng-model-options="{debounce: 250}" placeholder=Search /> </div> <div class=translation-admin__header__right> <htbx-saving-indicator data-saving=$ctrl.saving></htbx-saving-indicator> <div uib-dropdown class="translation-admin__header__right__item dropdown table__list__filter"> <div class=table__list__filter__button uib-dropdown-toggle> <span class=table__list__filter__button__text> {{$ctrl.getCurrentLanguage().name}} ({{$ctrl.getCurrentLanguage().id}}) </span> <span class=table__list__filter__button__icon> <smash-icon icon=tiny-arrow center=true></smash-icon> </span> </div> <ul uib-dropdown-menu class="dropdown-menu table__list__filter__dropdown"> <li ng-repeat="language in $ctrl.languages"> <a ng-click=$ctrl.setCurrentLanguage(language)> {{language.name}} ({{language.id}}) </a> </li> </ul> </div> <div class=translation-admin__header__right__item> <toggle-checkbox data-dark-background=true ng-model=$ctrl.filter.showMissing ng-change=$ctrl.filterList() label="Only missing"> </toggle-checkbox> <toggle-checkbox data-dark-background=true ng-model=$ctrl.filter.showModified ng-change=$ctrl.filterList() data-disabled=!$ctrl.hasDifferences() label="Only modified"> </toggle-checkbox> </div> <htbx-button data-variant=ok data-on-select=$ctrl.save() data-disabled=!$ctrl.hasDifferences() class=translation-admin__header__right__item> Save </htbx-button> </div> </div> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/admin/views/list.translation.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=translation-admin__identifier> <div class=translation-admin__identifier__value> {{$ctrl.actions.getDefaultLanguageItem(item).value}} </div> <div class=translation-admin__identifier__variable title="{{::($ctrl.actions.getDefaultLanguageItem(item).note || \'No note available\')}}"> {{::$ctrl.actions.getDefaultLanguageItem(item).variable}} </div> </div> <div class=translation-admin__variable-input> <textarea class=translation-admin__variable-input__textarea ng-class="{\'translation-admin__variable-input__textarea--missing\': !item.value}" ng-model=item.value msd-elastic=\\n ng-change=$ctrl.actions.updateDifferences(item) placeholder="{{::item.language.name}} ({{::item.language.id}})">\n    </textarea> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(32)),r=a(n(58)),s=a(n(532)),l=a(n(1668)),c=a(n(1669));n(1670);var u=function(){function e(t,n,a,i,o,r){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.alreadyEnabled=function(e){return s.subscription.members_before.some(function(t){return t.user_name===e.user_name})},this.isSaving=function(){return s.saving},this.setSortUserName=function(){s.Sortable.setSort("user_name")},this.setSortEnabled=function(){s.Sortable.setSort("enabled")},Object.assign(this,{loggedUser:n,SubPlanAdmin:a,Sortable:i,Users:o,TeamList:r}),this.partner={},this.loading=!1,this.saving=!1,this.tableItemTpl=c.default;var l=function(e,n,a){return{listName:e,placeholder:n,connectWith:a,start:function(){t(function(){s.listDragging[e]=!0})},stop:function(){s.listDragging[e]=!1}}};this.sortableOptionsList=[l("benefitsAvailable","benefits",".apps-container"),l("benefitsEnabled","benefits",".apps-container"),l("membersAvailable","members",".apps-container"),l("membersEnabled","members",".apps-container")],this.listDragging={benefitsAvailable:!1,benefitsEnabled:!1,membersAvailable:!1,membersEnabled:!1}}return e.$inject=["$timeout","loggedUser","SubPlanAdmin","Sortable","Users","TeamList"],i(e,[{key:"isDragging",value:function(e){return!!this.listDragging[e]&&this.listDragging[e]}},{key:"searchUsers",value:function(e){return this.Users.get({q:e}).$promise.then(function(e){return e.map(function(e){return e.user_name})})}},{key:"searchTeams",value:function(e){return this.TeamList.get({q:e}).$promise.then(function(e){return e.teams.map(function(e){return e.group_name})})}},{key:"select",value:function(e,t){"user"===t&&(this.user=e,this.partner.user_name=e),"team"===t&&(this.team=e,this.partner.team_name=e.group_name),this.loadSubscription(t,e)}},{key:"loadSubscription",value:function(e,t,n){var a=this;this.partner.type=e,this.partner.id=t;var i={id:t,type:e,authToken:this.loggedUser.getToken(),cacheBuster:Number(new Date)};n||(this.loading=!0),this.SubPlanAdmin.get(i,function(e){if(a.subscription=e.subscription,a.subscription.emoji={},"team"===a.partner.type){a.subscription.members_before=a.subscription.members_enabled;var t=a.subscription.members_available.map(function(e){return e.enabled=!1,e}),n=a.subscription.members_enabled.map(function(e){return e.enabled=!0,e});a.teamMembers=(0,s.default)(t,n,"user_id"),a.Sortable.sortBy?a.Sortable.setSort(a.Sortable.sortBy,a.Sortable.sortDesc?"DESC":"ASC"):a.Sortable.setSort("user_name","DESC")}null===a.subscription.plan_charge&&(a.subscription.plan_charge=4.99,a.subscription.plan_recurring=1,a.subscription.plan_share=.5),a.plan_share=100*a.subscription.plan_share,a.plan_ads="1"===a.subscription.plan_ads,a.plan_hd="1"===a.subscription.plan_hd,a.plan_recurring="1"===a.subscription.plan_recurring,a.plan_videos="1"===a.subscription.plan_videos,a.filterBenefits(),a.loading=!1,a.saving=!1})}},{key:"setPlanShare",value:function(){this.subscription&&(this.subscription.plan_share=this.plan_share/100)}},{key:"setCheckboxes",value:function(){this.subscription.plan_ads=this.plan_ads?"1":"0",this.subscription.plan_hd=this.plan_hd?"1":"0",this.subscription.plan_recurring=this.plan_recurring?"1":"0",this.subscription.plan_videos=this.plan_videos?"1":"0"}},{key:"filterBenefits",value:function(){var e=this;this.subscription&&(this.subscription.benefits_available=(0,r.default)(this.subscription.benefits_available,function(t){return!(0,o.default)(e.subscription.benefits_enabled,["sb_name",t.sb_name])}))}},{key:"save",value:function(){var e=this;"team"===this.partner.type&&this.moveMembers();var t={id:this.partner.id,type:this.partner.type,authToken:this.loggedUser.getToken(),subscription:this.subscription};this.saving=!0,this.SubPlanAdmin.update(t,function(){e.loadSubscription(e.partner.type,e.partner.id,!0),e.subscriptionForm&&e.subscriptionForm.$setPristine()})}},{key:"moveMembers",value:function(){var e=this;this.subscription.members_enabled=this.teamMembers.filter(function(t){return t.enabled&&!e.alreadyEnabled(t)}),this.subscription.members_before=[],this.subscription.members_available=[]}}]),e}();t.default={templateUrl:l.default,controller:u}},function(e,t,n){var a="/src/js/admin/components/subscription-admin.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section class="subscription-admin content"> <header class=subscription-admin__header> <htbx-typeahead class=subscription-admin__select ng-model=$ctrl.user placeholder="Search for a user" on-select="$ctrl.select($item, \'user\')" on-refresh=$ctrl.searchUsers($viewValue)> </htbx-typeahead> <htbx-typeahead class=subscription-admin__select ng-model=$ctrl.team placeholder="Search for a team" on-select="$ctrl.select($item, \'team\')" on-refresh=$ctrl.searchTeams($viewValue)> </htbx-typeahead> </header> <article ng-if=$ctrl.subscription class=subscription-admin__subscription> <form accept-charset=UTF-8 name=$ctrl.subscriptionForm ng-submit=$ctrl.save() novalidate> <header class=subscription-admin__subscription__header> <h1 class=subscription-admin__subscription__header__title> Subscription Details </h1> </header> <section ng-if=$ctrl.loading class=subscription-admin__subscription__content> <bouncy></bouncy> </section> <section ng-if="!$ctrl.subscription.plan_id && !$ctrl.loading" class=subscription-admin__subscription__content> <h2>{{$ctrl.subscription.group_id ? $ctrl.team : $ctrl.subscription.user_name}} doesn\'t have a subscription plan.</h2> </section> <section ng-if="$ctrl.subscription.plan_id && !$ctrl.loading" class=subscription-admin__subscription__content> <section class=subscription-admin__subscription__sections--flex> <section ng-if=$ctrl.subscription.group_id class=subscription-admin__subscription__sections__section> <h3 class=subscription-admin__subscription__title>Team</h3> <div> <a ui-sref="team({team: $ctrl.team})" target=_blank rel=noopener>{{$ctrl.team}}</a> </div> </section> <section class=subscription-admin__subscription__sections__section> <h3 class=subscription-admin__subscription__title>{{$ctrl.subscription.group_id ? \'Founder\' : \'User\'}}</h3> <div> <a ui-sref="detail.feed({channel: $ctrl.subscription.user_name})" target=_blank rel=noopener> {{$ctrl.subscription.user_name}} </a> </div> </section> <section class=subscription-admin__subscription__sections__section> <h3 class=subscription-admin__subscription__title>Price</h3> <div>{{$ctrl.subscription.plan_charge + \' \' + $ctrl.subscription.plan_currency}}</div> </section> </section> <section class=subscription-admin__subscription__sections> <section class=subscription-admin__subscription__sections__section> <h3 class=subscription-admin__subscription__title>Share {{$ctrl.plan_share}}%</h3> <div ui-slider="{orientation: \'horizontal\',min: 50, max: 100,step: 5, tick: true, range: \'min\'}" class=subscription-admin__subscription__share-slider ng-model=$ctrl.plan_share ng-change=$ctrl.setPlanShare()> </div> </section> <section class=subscription-admin__subscription__sections__section> <h3 class=subscription-admin__subscription__title>Emoteprefix</h3> <input type=text ng-model=$ctrl.subscription.plan_prefix /> </section> </section> <section class=subscription-admin__subscription__sections--flex> <section class=subscription-admin__subscription__sections__section> <toggle-checkbox data-dark-background=true ng-model=$ctrl.plan_ads ng-change=$ctrl.setCheckboxes() is-disabled=true label=Ad-Free> </toggle-checkbox> </section> <section class=subscription-admin__subscription__sections__section> <toggle-checkbox data-dark-background=true ng-model=$ctrl.plan_recurring ng-change=$ctrl.setCheckboxes() label="Recurring Payment"> </toggle-checkbox> </section> </section> <section class=subscription-admin__subscription__sections--flex> <section class=subscription-admin__subscription__sections__section> <toggle-checkbox data-dark-background=true ng-model=$ctrl.plan_hd ng-change=$ctrl.setCheckboxes() label=HD-Paywall> </toggle-checkbox> </section> <section class=subscription-admin__subscription__sections__section> <toggle-checkbox data-dark-background=true ng-model=$ctrl.plan_videos ng-change=$ctrl.setCheckboxes() label=Video-Paywall> </toggle-checkbox> </section> </section> <section class=subscription-admin__subscription__sections> <section class=subscription-admin__subscription__sections__section> <h3 class=subscription-admin__subscription__title> Available Benefits </h3> <div ui-sortable=$ctrl.sortableOptionsList[0] class="subscription-admin__subscription__benefits apps-container" ng-class="{ \'studio__admin__settings__cdn__box--dragging\': $ctrl.isDragging(\'benefitsEnabled\') }" ng-model=$ctrl.subscription.benefits_available> <div class=studio__admin__settings__cdn__box__item ng-repeat="benefit in $ctrl.subscription.benefits_available"> {{benefit.sb_name}} </div> </div> </section> <section class=subscription-admin__subscription__sections__section> <h3 class=subscription-admin__subscription__title> Enabled Benefits </h3> <div ui-sortable=$ctrl.sortableOptionsList[1] class="subscription-admin__subscription__benefits apps-container" ng-class="{ \'studio__admin__settings__cdn__box--dragging\': $ctrl.isDragging(\'benefitsAvailable\') }" ng-model=$ctrl.subscription.benefits_enabled> <div class=studio__admin__settings__cdn__box__item ng-repeat="benefit in $ctrl.subscription.benefits_enabled"> {{benefit.sb_name}} </div> </div> </section> </section> <section class=subscription-admin__subscription__sections> <section class=subscription-admin__subscription__sections__section> <h3 class=subscription-admin__subscription__title> Badge </h3> <img class=subscription-admin__subscription__emote ng-src={{::$root.config.imgUrl}}{{$ctrl.subscription.badge_image}} tooltip-placement="auto top" fallback-src={{::$root.config.fallbackImages.subBadge}} uib-tooltip="{{:: \'view_subscribe_tooltip_chat-badge\' | translate }}"/> </section> <section class=subscription-admin__subscription__sections__section> <h3 class=subscription-admin__subscription__title>Emotes</h3> <section> <span ng-if="$ctrl.subscription.icons.length === 0">&mdash;</span> <img class=subscription-admin__subscription__emote ng-repeat="emote in $ctrl.subscription.icons" ng-src={{::$root.config.imgUrl}}{{emote.icon_path}} tooltip-placement="auto top" fallback-src={{::$root.config.fallbackImages.subBadge}} uib-tooltip={{emote.icon_name}} /> </section> </section> </section> </section> <section ng-if=$ctrl.subscription.group_id> <htbx-table list=$ctrl.teamMembers filter={{$ctrl.memberSearch}} track-by=user_id order-by={{$ctrl.Sortable.getSort()}} item-tpl={{::$ctrl.tableItemTpl}} items-per-page=15 class=box-list actions="{ alreadyEnabled: $ctrl.alreadyEnabled, isSaving: $ctrl.isSaving }"> <ul class=table__list--header> <li class=table__list__row> <div class=col-1> <smash-sort data-sort="::$ctrl.Sortable.getSortType(\'user_name\')" data-active="$ctrl.Sortable.isSortActive(\'user_name\')" data-on-sort=::$ctrl.setSortUserName data-children="\'User\'"></smash-sort> </div> <div class=col-2> <span class="sort nono"> <div class=subscription-admin__member-search-wrap> <span class="subscription-admin__member-search dash__input"> <input class=dash__input__input placeholder="Search member" ng-model=$ctrl.memberSearch ng-model-options="{ debounce: 300 }"/> </span> </div> </span> </div> <div class=col-3> <smash-sort data-sort="::$ctrl.Sortable.getSortType(\'enabled\')" data-active="$ctrl.Sortable.isSortActive(\'enabled\')" data-on-sort=::$ctrl.setSortEnabled data-children="\'Enabled\'"></smash-sort> </div> </li> </ul> </htbx-table> </section> <footer class=subscription-admin__subscription__footer> <div class=subscription-admin__subscription__footer__item> <a ui-sref="studio.emotes({user: $ctrl.subscription.user_name})" class="button button--size-default" type=button> Manage Emotes </a> </div> <div class=subscription-admin__subscription__footer__item> <htbx-button data-type=submit data-disabled="$ctrl.subscriptionForm.$invalid || $ctrl.saving" data-variant=ok data-loading=$ctrl.saving> {{::\'global_button_save\' | translate}} </htbx-button> </div> </footer> </form> </article> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/admin/views/list.team-member.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=col-1> <a ui-sref="detail.feed({channel: item.user_name})"> <img class="table__row__image round" ng-src="{{::$root.config.imgUrl + item.user_logo_small}}" fallback-src={{::$root.config.fallbackImages.userLogo}} /> </a> </div> <div class="table__list__row__col--username col-2"> <a class="table__list__row__col--username__link trim" ui-sref="detail.feed({channel: item.user_name})">{{item.user_name}}</a> </div> <div class=col-3> <toggle-checkbox data-dark-background=true ng-model=item.enabled data-is-disabled="$ctrl.actions.alreadyEnabled(item) || $ctrl.actions.isSaving()"></toggle-checkbox> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1672)),o=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$scope=t,this.$rootScope=n,this.$document=a,this.isSuperAdmin=i.isSuperAdmin,i.isSuperAdmin()&&this.init()}return e.$inject=["$scope","$rootScope","$document","loggedUser"],a(e,[{key:"init",value:function(){var t=this,n=this.$document.find("meta[name=viewport]")[0];n&&(this.toggle=e.toggleState,this.$scope.$watch(function(){return t.toggle},function(t){t?(n.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"),e.toggleState=!0):(n.setAttribute("content","width=1280"),e.toggleState=!1)}))}}]),e}();o.toggleState=!0,t.default={templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/admin/components/viewport-toggle.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <toggle-checkbox ng-if=$ctrl.isSuperAdmin() ng-model=$ctrl.toggle label="Mobile View"></toggle-checkbox> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(620)),r=a(n(1675)),s=a(n(621));n(1676);var l=function(){function e(t,n,a,i,o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.searchGames=function(e){return!!e&&r.GameSearch.get({limit:100,q:e}).$promise.then(function(e){return e.categories&&(r.games=e.categories),r.games})},Object.assign(this,{$translate:t,Game:n,GameSearch:a,loggedUser:i,HtbxModal:o}),this.templateUrlGameList=s.default,this.loading=!1,this.error={title:"",msg:""}}return e.$inject=["$translate","Game","GameSearch","loggedUser","HtbxModal"],i(e,[{key:"$onInit",value:function(){this.resetForm()}},{key:"getGame",value:function(e){var t=this,n={authToken:this.loggedUser.getToken()};e&&(n=Object.assign(n,e)),this.Game.get(n,function(e){t.game=e.category,t.loading=!1},function(e){t.throwError(e.data)})}},{key:"selectGame",value:function(e){this.game=e,this.games=[],this.selectedGame={};var t={authToken:this.loggedUser.getToken(),game_name:this.game.category_id};this.getGame(t)}},{key:"createGame",value:function(){var e=this;this.error={title:"",msg:""};var t={category_id:this.game.category_id,category_name:this.game.category_name,category_name_short:this.game.category_name_short,category_seo_key:this.game.category_seo_key},n={authToken:this.loggedUser.getToken(),game:this.game.category_id?t:this.game};this.loading=!0,this.Game[this.game.category_id?"update":"create"](n).$promise.then(function(t){n.game_name=t.category.category_id,n.nocache=!0,e.getGame(n)}).catch(function(t){e.throwError(t.data)})}},{key:"createSeoKey",value:function(){this.game.category_seo_key=(0,o.default)(this.game.category_name)}},{key:"uploadCallback",value:function(e){var t=this;return function(n){"box"===e?t.game.category_logo_small=n.game_cover:t.game.category_logo_large=n.game_cover}}},{key:"throwError",value:function(e){if(this.error.msg=this.$translate.instant("global_error_try-again"),e.error_msg)switch(e.error_msg){case"duplicate_game":this.error.msg="Oops, this game already exists! Please use the search function!"}this.loading=!1}},{key:"resetForm",value:function(e){e&&e.preventDefault(),this.gameForm&&this.gameForm.$setPristine(),this.game={},this.selectedGame={},this.games=[],this.loading=!1}},{key:"deleteGame",value:function(){var e=this;if(this.game.category_id){var t="Do you really want to delete this game?",n="You will not be able to undo this! Please be careful!",a=[{result:!1,label:this.$translate.instant("global_text_cancel")},{result:!0,label:this.$translate.instant("global_button_delete"),variant:"warning"}];new this.HtbxModal(t,n,a).open().then(function(i){i&&(e.loading=!0,e.Game.delete({game_name:e.game.category_id,authToken:e.loggedUser.getToken()}).$promise.then(function(){t=e.game.category_name+" has been deleted.",n="",a=[{result:!0,label:"Ok",variant:"ok"}],new e.HtbxModal(t,n,a).open(),e.resetForm()}).catch(function(t){e.throwError(t.data)}))})}}}]),e}();t.default={bindings:{},templateUrl:r.default,controller:l}},,function(e,t,n){var a="/src/js/admin/components/games-admin.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=admin-games> <form accept-charset=UTF-8 name=$ctrl.gameForm ng-submit=$ctrl.createGame() novalidate> <div class=admin-games__header> <div class="admin-games__header__text admin__headline" ng-class="{\n                    \'admin-games__header__text--focus\': $ctrl.typeaheadFocus,\n                }"> Edit or add a Game </div> <htbx-typeahead class=admin-games__search ng-class="{ \'admin-games__search--focus\': $ctrl.typeaheadFocus }" ng-model=$ctrl.selectedGame.selected placeholder="Search for a game" typeahead-item-template={{::$ctrl.templateUrlGameList}} on-select=$ctrl.selectGame($item) on-refresh=$ctrl.searchGames($viewValue) on-focus="$ctrl.typeaheadFocus=true" on-blur="$ctrl.typeaheadFocus=false"></htbx-typeahead> </div> <aside class=admin-games__cover> <upload-drop-area class=admin-games__cover__image uda-image={{::$root.config.imgUrl}}{{$ctrl.game.category_logo_small}} uda-success-callback="$ctrl.uploadCallback(\'box\')" uda-data-name=file uda-url={{$root.config.apiUri}}/upload/game/ uda-user-name={{$ctrl.game.category_seo_key}} uda-name=GameBoxCover uda-delete=true uda-crop=true uda-crop-width=190 uda-crop-height=260 uda-crop-type=rect uda-error-callback=$ctrl.errorCallback()></upload-drop-area> <upload-drop-area class=admin-games__cover__image--background uda-image={{::$root.config.imgUrl}}{{$ctrl.game.category_logo_large}} uda-success-callback=$ctrl.uploadCallback() uda-data-name=file uda-url={{$root.config.apiUri}}/upload/game/ uda-user-name={{$ctrl.game.category_seo_key}} uda-name=GameBGCover uda-delete=true uda-crop=true uda-crop-width=1920 uda-crop-height=1080 uda-crop-type=rect uda-error-callback=$ctrl.errorCallback()></upload-drop-area> </aside> <div class=admin-games__inputs> <div class=form-group> <label class=form-group__label for=category_id> ID: </label> <div class=form-group__content> <input type=text id=category_id name=category_id placeholder=0 ng-model=$ctrl.game.category_id readonly=readonly /> </div> </div> <div class=form-group> <label class=form-group__label for=category_name> Game Name </label> <div class=form-group__content> <input type=text id=category_name name=category_name placeholder="Enter a game name" ng-change=$ctrl.createSeoKey() ng-model=$ctrl.game.category_name required/> </div> </div> <div class=form-group> <label class=form-group__label for=category_name_short> Short Name </label> <div class=form-group__content> <input type=text id=category_name_short name=category_name_short placeholder="Enter a shortcut for the game name" ng-model=$ctrl.game.category_name_short /> </div> </div> <div class=form-group> <label class=form-group__label for=category_seo_key> SEO Key </label> <div class=form-group__content> <input type=text id=category_seo_key name=category_seo_key placeholder="SEO Key" ng-model=$ctrl.game.category_seo_key readonly=readonly /> </div> </div> <div class=form-group> <label class=form-group__label for=category_logo_small> Box Cover URL </label> <div class=form-group__content> <input type=text id=category_logo_small name=category_logo_small placeholder=&mdash; ng-model=$ctrl.game.category_logo_small readonly=readonly /> </div> </div> <div class=form-group> <label class=form-group__label for=category_logo_large> BG Cover URL </label> <div class=form-group__content> <input type=text id=category_logo_large name=category_logo_large placeholder=&mdash; ng-model=$ctrl.game.category_logo_large readonly=readonly /> </div> </div> <div class=admin-games__buttons> <htbx-button class=admin-games__buttons__button data-type=button data-variant=warning ng-click=$ctrl.deleteGame() data-disabled="!$ctrl.game.category_id || $ctrl.loading"> <smash-icon icon=trash size=20 center=true></smash-icon> </htbx-button> <htbx-button class=admin-games__buttons__button data-type=reset data-variant=default ng-click=$ctrl.resetForm($event) data-disabled="$ctrl.gameForm.$pristine || $ctrl.loading"> Reset form </htbx-button> <htbx-button class=admin-games__buttons__button data-type=submit data-variant=ok data-disabled="$ctrl.gameForm.$invalid || $ctrl.loading" data-loading=$ctrl.loading> {{($ctrl.game.category_id ? \'global_button_save\' : \'global_button_create\') | translate}} </htbx-button> </div> <div class=admin-games__error> <htbx-alert ng-if=$ctrl.error.msg data-type=warning data-dismissable=true> {{$ctrl.error.msg}} </htbx-alert> </div> </div> </form> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(1678)),r=a(n(1679));n(1680);var s=function(){function e(t,n,a,i,o,s,l){var c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.unbanUser=function(e){var t={authToken:c.loggedUser.getToken(),type:"user",value:e.user_name};c.searchUsers.find(function(t){return t.user_name===e.user_name}).bans=[],c.Banlist.remove(t,function(){},function(e){c.$log.error(e)})},this.banUser=function(e){var t={authToken:c.loggedUser.getToken(),type:"user",value:e.user_name,reason:"Admin-Ban",length:0,addtl_reason:""};c.Banlist.add(t,function(t){for(var n=0;n<c.searchUsers.length;n++)if(c.searchUsers[n].user_name===e.user_name){c.searchUsers[n].ban_id=t.ban_id;break}},function(e){c.$log.error(e)})},this.showBans=function(e){var t={animation:!0,backdrop:!0,keyboard:!0,windowClass:"modal",component:"BanTable",size:"md",resolve:{bans:function(){return e}}};c.$uibModal.open(t)},this.getWarnings=function(e){return e.filter(function(e){return!e.ban_expires&&!e.ban_permaban})},this.setSortUserName=function(){c.setSort("user_name")},this.setSortUserEmail=function(){c.setSort("user_email")},this.setSortPartnerType=function(){c.setSort("partner_type")},this.setSortComment=function(){c.setSort("comment")},Object.assign(this,{$log:t,$scope:n,AdminUserSearch:a,Banlist:i,loggedUser:s,$uibModal:l}),Object.assign(this,o),this.setSort("user_name"),this.setSort("user_name"),this.searchUsers=[],this.searchLoading=!1,this.templateUrlTableItem=r.default}return e.$inject=["$log","$scope","AdminUserSearch","Banlist","Sortable","loggedUser","$uibModal"],i(e,[{key:"updateSearch",value:function(){var e=this,t={authToken:this.loggedUser.getToken(),q:this.search.user};this.searchLoading=!0,this.AdminUserSearch.get(t).$promise.then(function(t){e.searchUsers=t}).catch(function(t){e.$log.error(t)}).finally(function(){e.searchLoading=!1})}}]),e}();t.default={templateUrl:o.default,controller:s}},function(e,t,n){var a="/src/js/admin/components/admin-user-search.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<form accept-charset=UTF-8 ng-submit=$ctrl.updateSearch() class=admin-user-search> <div class=admin-user-search__search> <input class="fltL admin-user-search__search__input" placeholder="Email or Username" ng-model=$ctrl.search.user /> <htbx-button data-type=submit data-variant=ok data-disabled=$ctrl.searchLoading> Search </htbx-button> </div> <htbx-table list=$ctrl.searchUsers track-by=user_name item-tpl={{::$ctrl.templateUrlTableItem}} items-per-page=10 loading=$ctrl.searchLoading actions="{unbanUser: $ctrl.unbanUser, banUser: $ctrl.banUser, showBans: $ctrl.showBans, getWarnings: $ctrl.getWarnings }" order-by={{$ctrl.getSort()}} class=box-list> <div ng-if="!$ctrl.searchUsers.length && !$ctrl.searchLoading" class="box__content community__nodata"> No users found. </div> <ul ng-if=$ctrl.searchUsers.length class=table__list--header> <li class=table__list__row> <smash-sort data-sort="::$ctrl.getSortType(\'user_name\')" data-active="$ctrl.isSortActive(\'user_name\')" data-on-sort=::$ctrl.setSortUserName data-children="\'user_name\'" class=admin-user-search__flex></smash-sort> <smash-sort data-sort="::$ctrl.getSortType(\'user_email\')" data-active="$ctrl.isSortActive(\'user_email\')" data-on-sort=::$ctrl.setSortUserEmail data-children="\'user_email\'" class=admin-user-search__flex></smash-sort> <smash-sort data-sort="::$ctrl.getSortType(\'partner_type\')" data-active="$ctrl.isSortActive(\'partner_type\')" data-on-sort=::$ctrl.setSortPartnerType data-children="\'partner_type\'" class=admin-user-search__flex></smash-sort> <span class="sort nono admin-user-search__flex"> ban </span> <smash-sort data-sort="::$ctrl.getSortType(\'comment\')" data-active="$ctrl.isSortActive(\'comment\')" data-on-sort=::$ctrl.setSortComment data-children="\'comment\'" class=admin-user-search__flex></smash-sort> </li> </ul> </htbx-table> </form> ')}]),e.exports=a},function(e,t,n){var a="/src/js/admin/views/list.user.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <a class=admin-user-search__flex target=_blank ui-sref="settings.account({user: item.user_name})"> <span>{{item.user_name}}</span> <verified-badge data-partner-type=item.partner_type></verified-badge> </a> <div class=admin-user-search__flex>{{item.user_email}}</div> <div class=admin-user-search__flex>{{item.partner_type}}</div> <div class=admin-user-search__flex> <htbx-button ng-if=item.bans.length variant=warning on-select=$ctrl.actions.unbanUser(item) data-size=super-small> Unban </htbx-button> <htbx-button ng-if=!item.bans.length variant=warning on-select=$ctrl.actions.banUser(item) data-size=super-small> Ban </htbx-button> <ul ng-if=item.bans.length class="admin-user-search__bans admin-user-search__ban-note"> <li class=admin-user-search__bans__item> <a href=javascript:void(0); ng-click=$ctrl.actions.showBans(item.bans)> {{::item.bans.length - $ctrl.actions.getWarnings(item.bans).length}} Bans </a> </li> <li class=admin-user-search__bans__item> <a href=javascript:void(0); ng-click=$ctrl.actions.showBans(item.bans)> {{::$ctrl.actions.getWarnings(item.bans).length}} Warnings </a> </li> <li class=admin-user-search__bans__item> <span title="{{::item.bans[item.bans.length - 1].ban_date}}"> {{::item.bans[item.bans.length - 1].ban_date | timeAgo}} </span> </li> </ul> </div> <div class=admin-user-search__flex> <input disabled=disabled ng-model=item.comment style=width:100% /> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(5),r=a(o),s=a(n(1682)),l=a(n(1683)),c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setSortBanComment=function(){n.setSort("ban_comment")},this.setSortBanDate=function(){n.setSort("ban_date")},this.setSortBannedBy=function(){n.setSort("banned_by")},Object.assign(this,t),this.setSort("ban_date"),this.templateUrlTableItem=s.default}return e.$inject=["Sortable"],i(e,[{key:"$onInit",value:function(){this.resolve&&this.resolve.bans&&(this.bans=this.resolve.bans,this.bans.forEach(function(e){var t=e.ban_comment.split(" -");e.reason=t[0].trim(),e.comment=t.length>1?t[1].trim():"",e.isWarning=!e.ban_expires&&!e.ban_permaban,e.isWarning?e.ban_expires_string="Warning":e.ban_expires_string=e.ban_expires?(0,o.duration)((0,r.default)(e.ban_expires).diff((0,r.default)(e.ban_date))).humanize():"Indefinite"}))}}]),e}();t.default={bindings:{bans:"<?",resolve:"<?"},templateUrl:l.default,controller:c}},function(e,t,n){var a="/src/js/admin/views/list.ban.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=admin-user-search__flex> {{::item.ban_id}} </div> <div class=admin-user-search__flex> <div>{{::item.reason}}</div> <div ng-if=::item.comment class=admin-user-search__ban-note> {{::item.comment}} </div> </div> <div class=admin-user-search__flex title={{::item.ban_date}}> <div>{{::item.ban_date | timeAgo}}</div> <div class=admin-user-search__ban-note title="{{::item.ban_expires ? item.ban_expires : \'\'}}"> {{::item.ban_expires_string}} </div> </div> <div class=admin-user-search__flex> <a ui-sref="settings.account({ user: item.banned_by })"> {{::item.banned_by}} </a> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/admin/components/ban-table.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<htbx-table list=$ctrl.bans track-by=ban_id item-tpl={{::$ctrl.templateUrlTableItem}} items-per-page=10 order-by={{$ctrl.getSort()}} class=box-list> <div ng-if=!$ctrl.bans.length class="box__content community__nodata"> No bans. </div> <ul ng-if=$ctrl.bans.length class=table__list--header> <li class=table__list__row> <span class="sort nono admin-user-search__flex"> Ban ID </span> <smash-sort data-sort="::$ctrl.getSortType(\'ban_comment\')" data-active="$ctrl.isSortActive(\'ban_comment\')" data-on-sort=::$ctrl.setSortBanComment data-children="\'Reason\'" class=admin-user-search__flex></smash-sort> <smash-sort data-sort="::$ctrl.getSortType(\'ban_date\')" data-active="$ctrl.isSortActive(\'ban_date\')" data-on-sort=::$ctrl.setSortBanDate data-children="\'Banned\'" class=admin-user-search__flex></smash-sort> <smash-sort data-sort="::$ctrl.getSortType(\'banned_by\')" data-active="$ctrl.isSortActive(\'banned_by\')" data-on-sort=::$ctrl.setSortBannedBy data-children="\'Banned by\'" class=admin-user-search__flex></smash-sort> </li> </ul> </htbx-table> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e,t,n,a,o){e.user={},e.data=null,e.errorMessage=null,e.default={user:0,automated:0,exclusive:0};var r={authToken:n.getToken(),channel:"all"};t.get(r,function(t){e.default={user:t.user,automated:t.automated,exclusive:t.exclusive}}),e.getAdcount=function(){e.errorMessage="Loading data for channel "+e.user.user_name,e.data=null,r={authToken:n.getToken(),channel:e.user.user_name},t.get(r,function(t){e.data={count:t.count,no_prerolls:t.no_prerolls},e.errorMessage=""},function(t){e.errorMessage=t,o.error(t)})},e.userFormatResult=function(e){return e.user_name},e.userFormatSelection=function(e){return e.user_name},e.searchUser=[],e.select2={selected_user:{}},e.refreshSelectUser=function(t){return!!t&&(r={q:t,limit:100},a.get(i.default.apiUri+"/user/list",{params:r}).then(function(t){e.searchUser=t.data},function(e){o.error(e)}))},e.selectSelectUser=function(t){e.select2.selected_user=t,e.user.user_name=t.user_name,e.searchUser=[],e.getAdcount()},e.save=function(){e.errorMessage="Saving data for channel "+e.user.user_name,e.data.count=parseInt(e.data.count,10),e.data.count||(e.data.count=0),e.data.count<0||e.data.count>100?e.errorMessage="Wrong data, must be a number between 0 and 100":(e.data.no_prerolls?e.data.no_prerolls=1:e.data.no_prerolls=null,r={authToken:n.getToken(),channel:e.user.user_name,count:e.data.count,no_prerolls:e.data.no_prerolls},t.put(r,function(t){e.data.count=t.count,e.data.no_prerolls=t.no_prerolls;var n=e.data.no_prerolls?"off":"on";e.errorMessage="Saved limit of "+e.data.count+" ads/hour and set prerolls to "+n+" for channel "+e.user.user_name},function(t){e.errorMessage=t,o.error(t)}))},e.togglePrerolls=function(){e.data&&(e.data.no_prerolls=!e.data.no_prerolls)}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$scope","AdminAdcount","loggedUser","$http","$log"],t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i){e.backdrops=[],e.new_image_disabled=!0,e.new_save_disabled=!0,e.new_backdrop=!1,e.$watch("new_backdrop",function(){e.new_backdrop.user&&e.new_backdrop.user.user_name&&(e.new_backdrop.media_file=e.new_backdrop.user.user_name,e.new_image_disabled=!1)},!0),e.doUpload=function(){},e.save=function(n){n.user&&n.user.user_name&&(n.media_file=n.user.user_name);var o={media_id:n.media_file,since:n.backdrop_since,until:n.backdrop_until,image:n.backdrop_image,authToken:i.getToken()};n.backdrop_id&&(o.id=n.backdrop_id),t.post(o,function(){e.new_image_disabled=!0,e.new_save_disabled=!0,e.new_backdrop=!1,e.getBackdrops()},function(e){a.error(e)})},e.new=function(){var t=(0,o.default)().format("YYYY-MM-DD HH:mm:ss"),n=(0,o.default)().add(1,"d").format("YYYY-MM-DD HH:mm:ss");e.new_backdrop={media_file:"",backdrop_since:t,backdrop_until:n,backdrop_image:"",is_new:!0}},e.getBackdrops=function(){var n={authToken:i.getToken()};t.get(n,function(t){t.backdrops&&t.backdrops.length&&(e.backdrops=t.backdrops)},function(e){a.error(e)})},e.userFormatResult=function(e){return e.user_name},e.userFormatSelection=function(e){return e.user_name},e.searchUser=[],e.select2={selected_user:{}},e.refreshSelectUser=function(t){if(!t)return!1;var i={q:t,limit:100};return n.get(r.default.apiUri+"/user/list",{params:i}).then(function(t){e.searchUser=t.data},function(e){a.error(e)})},e.selectSelectUser=function(t){e.select2.selected_user=t,e.new_backdrop.user=t,e.searchUser=[]},e.cbupload=function(t){return function(n){n.backdrop.file&&(t.backdrop_image=n.backdrop.file,t.is_new&&(e.new_save_disabled=!1))}},e.getBackdrops()}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(5)),r=a(n(2));i.$inject=["$scope","AdminBackdrop","$http","$log","loggedUser"],t.default=i},function(e,t,n){"use strict";function a(e,t,n,a){var i={authToken:a.getToken()};e.coupons=[],e.coupon_count=1,e.user_name="",e.createCoupons=function(){var t={user_name:e.user_name};n.get(t,function(t){e.getCoupons(t.user_id)})},e.getCoupons=function(n){i.count=e.coupon_count,i.media_user_id=n,t.get(i,function(t){e.coupons=t.coupons})}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$scope","Coupon","User","loggedUser"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,i,o){var r={authToken:o.getToken()};t.getIcons=function(){n.get(r,function(e){t.icons=e.icons},function(t){e.error(t)})},t.deleteEmoji=function(e){new i("Remove this emote?","",[{result:!1,label:"Cancel"},{result:!0,label:"Remove",variant:"warning"}]).open().then(function(n){if(n){var i={media_id:e.channel,icon_id:e.icon_id,authToken:o.getToken(),action:"delete"};a.add(i,function(){for(var n=0;n<t.icons.length;n++)if(t.icons[n]===e){t.icons.splice(n,1);break}})}})},t.approveEmoji=function(e){var a={icon_id:e.icon_id,authToken:o.getToken(),enabled:1};e.icon_comment&&""!==e.icon_comment&&(a.icon_comment=e.icon_comment),n.post(a,function(){for(var n=0;n<t.icons.length;n++)if(t.icons[n]===e){t.icons.splice(n,1);break}})},t.declineEmoji=function(e){new i("Decline this emote?","",[{result:!1,label:"Cancel"},{result:!0,label:"Decline",variant:"warning"}]).open().then(function(a){if(a){var i={icon_id:e.icon_id,authToken:o.getToken(),enabled:2};e.icon_comment&&""!==e.icon_comment&&(i.icon_comment=e.icon_comment),n.post(i,function(){for(var n=0;n<t.icons.length;n++)if(t.icons[n]===e){t.icons.splice(n,1);break}})}})},t.getIcons()}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$log","$scope","ChatIconsApprove","ChatIcons","HtbxModal","loggedUser"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,o,r,s){t.featured={media_id:null,weight:10,foreced:0},t.countryFilterString="",t.getMedia=function(){function a(e){for(var t=0;t<e.length;t++){var n=e[t];if(1===parseInt(n.media_featured_forced,10))return!0}return!1}t.media={};var i={media_type:"live",authToken:s.getToken(),nocache:!0,cacheBuster:Number(new Date),showHidden:!0,media_name:"list",liveonly:!1,featured:"list",limit:1e3,fast:!0};n.get(i,function(e){for(var n=0;n<e.livestream.length;n++)e.livestream[n].media_featured_weight=parseInt(e.livestream[n].media_featured_weight,10),e.livestream[n].score="1"===e.livestream[n].media_is_live?function(e,t,n){var i=0,o=0;if(t=parseInt(t,10),a(n)&&1!==t)return 0;for(var r=0;r<n.length;r++){var s=n[r];"1"===s.media_is_live&&(a(n)&&1===parseInt(s.media_featured_forced,10)?i+=parseInt(s.media_featured_weight,10):a(n)||(i+=parseInt(s.media_featured_weight,10)))}return i>0&&(o=Math.round(e/i*100*100)/100),o}(e.livestream[n].media_featured_weight,e.livestream[n].media_featured_forced,e.livestream):0;t.media.livestream=e.livestream},function(t){e.error(t)})},t.userFormatResult=function(e){return e.media_name},t.userFormatSelection=function(e){return e.media_name},t.searchUser=[],t.select2={selected_user:{}},t.refreshSelectUser=function(n){if(!n)return!1;var a={search:n,showHidden:!0,liveonly:!1,limit:100};return r.get(i.default.apiUri+"/media/live/list",{params:a}).then(function(e){t.searchUser=e.data.livestream},function(t){e.error(t)})},t.selectSelectUser=function(e){t.select2.selected_user=e,t.featured.media_id=e,t.searchUser=[]},t.sortReverse=!1,t.sortColumn="media_name",t.setSortMediaIsLive=function(){t.setOrder("media_is_live")},t.setSortMediaName=function(){t.setOrder("media_name")},t.setSortMediaLiveSince=function(){t.setOrder("media_live_since")},t.setSortMediaFeaturedWeight=function(){t.setOrder("media_featured_weight")},t.setSortMediaFeaturedForced=function(){t.setOrder("media_featured_forced")},t.setOrder=function(e){t.sortReverse=t.sortColumn===e&&!t.sortReverse,t.sortColumn=e},t.saveChanges=function(e){var n={media_id:e.media_id,weight:e.media_featured_weight,forced:e.media_featured_forced,countries:e.media_featured_countries,featured:!0,authToken:s.getToken()};a.put(n,function(){t.getMedia()})},t.featureChannel=function(e){var n={media_id:e.media_id.media_id,weight:e.weight,forced:e.forced,countries:e.countries,featured:!0,authToken:s.getToken()};a.put(n,function(){t.getMedia()},function(){alert("Oops, something went wrong!")})},t.removeMedia=function(e){if(o.confirm("Are you absolutely sure?")){var n={media_id:e.media_id,authToken:s.getToken()};a.delete(n,function(){t.getMedia()},function(){alert("Oops, something went wrong!")})}},t.getMedia()}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$log","$scope","Media","MediaFeatured","$window","$http","loggedUser"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,o,r){t.partner={},t.plan={},t.currencies=[{name:"EUR"},{name:"USD"}],t.countries=[{name:"Austria,Germany,Switzerland"},{name:"Australia,Belgium,Canada,Denmark,Finland,France,Luxembourg,Netherlands,Norway,Sweden,United Kingdom,United States"},{name:"*"}],t.new_plan={plan_cpm:["2.50","2.50","1.25"]},t.plan.plan_cpm="0.00",t.userFormatResult=function(e){return e.user_name},t.userFormatSelection=function(e){return e.user_name},t.searchUser=[],t.select2={selected_user:{},selected_team:{}},t.refreshSelectUser=function(n){if(!n)return!1;var a={q:n,limit:100};return o.get(i.default.apiUri+"/user/list",{params:a}).then(function(e){t.searchUser=e.data},function(t){e.error(t)})},t.selectSelectUser=function(e){t.select2.selected_user=e,t.partner.user_name=e.user_name,t.searchUser=[]},t.teamFormatResult=function(e){return e.group_name},t.teamFormatSelection=function(e){return e.group_name},t.searchTeam=[],t.refreshSelectTeam=function(n){if(!n)return!1;var a={q:n,limit:100};return o.get(i.default.apiUri+"/teamlist",{params:a}).then(function(e){t.searchTeam=e.data.teams},function(t){e.error(t)})},t.selectSelectTeam=function(e){t.select2.selected_team=e,t.partner.team_name=e.group_name,t.searchTeam=[]},t.$watch("partner.user_name",function(e,n){n!==e&&t.loadPartner("user",t.partner.user_name)},!0),t.$watch("partner.team_name",function(e,n){n!==e&&t.loadPartner("team",t.partner.team_name)},!0),t.loadPartner=function(a,i){"string"==typeof i&&(t.partner.id=i,t.partner.type=a,t.params={id:i,type:a,authToken:r.getToken()},n.get(t.params,function(e){t.plans=e.plans,t.plans.length>1&&(t.currencies=[{name:t.plans[0].plan_currency}]),e.sub_currency&&(t.currencies=[{name:e.sub_currency}])},function(t){e.error(t)}))},t.addPlan=function(){for(var e=0;e<3;e++){var i={country:t.countries[e],currency:t.new_plan.currency,plan_cpm:t.new_plan.plan_cpm[e],plan_date_added:t.new_plan.plan_date_added},o={id:t.partner.id,type:t.partner.type,authToken:r.getToken(),plan:i};n.add(o)}t.new_plan={plan_cpm:["2.50","2.50","1.25"]},a(function(){t.loadPartner(t.partner.type,t.partner.id)},2e3)},t.deletePlan=function(e){t.params={id:t.partner.id,type:t.partner.type,authToken:r.getToken(),plan_id:e},n.delete(t.params,function(){t.loadPartner(t.partner.type,t.partner.id),t.plan={}})}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$log","$scope","RevenuePlans","$timeout","$http","loggedUser"],t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,s,l){t.partner={},t.currencies=["EUR","USD"],t.userFormatResult=function(e){return e.user_name},t.userFormatSelection=function(e){return e.user_name},t.searchUser=[],t.select2={selected_user:{},selected_team:{}},t.refreshSelectUser=function(n){if(!n)return!1;var a={q:n,limit:100};return s.get(r.default.apiUri+"/user/list",{params:a}).then(function(e){t.searchUser=e.data},function(t){e.error(t)})},t.selectSelectUser=function(e){t.select2.selected_user=e,t.partner.user_name=e.user_name,t.searchUser=[]},t.teamFormatResult=function(e){return e.group_name},t.teamFormatSelection=function(e){return e.group_name},t.searchTeam=[],t.refreshSelectTeam=function(n){if(!n)return!1;var a={q:n,limit:100};return s.get(r.default.apiUri+"/teamlist",{params:a}).then(function(e){t.searchTeam=e.data.teams},function(t){e.error(t)})},t.selectSelectTeam=function(e){t.select2.selected_team=e,t.partner.team_name=e.group_name,t.searchTeam=[]},t.$watch("partner.user_name",function(e,n){n!==e&&t.loadSubscription("user",t.partner.user_name)},!0),t.$watch("partner.team_name",function(e,n){n!==e&&t.loadSubscription("team",t.partner.team_name)},!0),t.loadSubscription=function(e,a){"string"==typeof a&&(t.cacheBuster=Number(new Date),t.partner.id=a,t.partner.type=e,t.params={id:a,type:e,authToken:l.getToken()},n.get(t.params,function(e){t.subscription=e.subscription,t.subscription.emoji={},"team"===t.partner.type&&(t.subscription.members_before=t.subscription.members_enabled),null===t.subscription.plan_charge&&(t.subscription.plan_charge=4.99,t.subscription.plan_recurring=1,t.subscription.plan_share=.5)}))},t.updatePlan=function(){t.params={id:t.partner.id,type:t.partner.type,authToken:l.getToken(),subscription:t.subscription},n.update(t.params,function(){t.loadSubscription(t.partner.type,t.partner.id)})},t.addPlan=function(){t.params={id:t.partner.id,type:t.partner.type,authToken:l.getToken(),subscription:t.subscription},n.add(t.params,function(){t.loadSubscription(t.partner.type,t.partner.id)})},t.addEmoji=function(){t.params={media_id:t.partner.id,icon_name:t.subscription.emoji.name,icon_path:t.subscription.emoji.file,authToken:l.getToken(),icon_premium:1},a.add(t.params,function(){t.loadSubscription(t.partner.type,t.partner.id)})},t.deleteEmoji=function(e){new i("Remove this emote?","",[{result:!1,label:"Cancel"},{result:!0,label:"Remove",variant:"warning"}]).open().then(function(n){if(n){var i={media_id:t.partner.id,icon_id:e.icon_id,authToken:l.getToken(),action:"delete"};a.add(i,function(){t.loadSubscription(t.partner.type,t.partner.id)})}})},t.sortableOptionsList={placeholder:"benefits",connectWith:".apps-container"},t.membersOptionsList=(0,o.default)(t.sortableOptionsList),t.cbupload=function(e){return function(){e.emoji&&(t.subscription.emoji={},t.subscription.emoji.file=e.emoji.file,t.subscription.emoji.name=t.subscription.plan_prefix),e.emoji||t.loadSubscription(t.partner.type,t.partner.id)}},t.removeSubscription=function(e){new i("Cancel all subscriptions and remove subscription button?","",[{result:!1,label:"Abort"},{result:!0,label:"Confirm",variant:"warning"}]).open().then(function(t){t&&s.get(r.default.apiUri+"/adminremovesubscription/"+e.user_name,{params:{authToken:l.getToken()}}).success(function(){alert("Sucessfully removed sub button.")}).error(function(){alert("There was a problem removing the sub button.")})})}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(525)),r=a(n(2));i.$inject=["$log","$scope","SubPlanAdmin","ChatIcons","HtbxModal","$http","loggedUser"],t.default=i},function(e,t,n){"use strict";function a(e,t,n,a,i){t.params={authToken:i.getToken(),limit:100},t.filters={user_name:"",channel:"",payment_method:"",payment_uuid:""},t.updateFilters=function(){t.params={authToken:i.getToken(),limit:100},t.filters.user_name&&t.filters.user_name.length&&(t.params.user_name=t.filters.user_name),t.filters.channel&&t.filters.channel.length&&(t.params.channel=t.filters.channel),t.filters.payment_method&&t.filters.payment_method.length&&(t.params.payment_method=t.filters.payment_method),t.filters.payment_uuid&&t.filters.payment_uuid.length&&(t.params.payment_uuid=t.filters.payment_uuid),t.getSubscriptions()},t.getSubscriptions=function(){n.get(t.params,function(e){t.subscriptions=e.subscriptions})},t.cancelSubscription=function(e){new a("Cancel this subscription?","",[{result:!1,label:"Abort"},{result:!0,label:"Confirm",variant:"warning"}]).open().then(function(a){if(a){var o={authToken:i.getToken(),sub_id:e.sub_id,cancel:1};n.cancel(o,function(){t.getSubscriptions()})}})},t.enableSubscription=function(e){new a("Enable this subscription?","",[{result:!1,label:"Abort"},{result:!0,label:"Confirm",variant:"warning"}]).open().then(function(a){if(a){var o={authToken:i.getToken(),sub_id:e.sub_id,cancel:null};n.cancel(o,function(){t.getSubscriptions()})}})},t.saveComment=function(t){var a={authToken:i.getToken(),sub_id:t.sub_id,cancel:t.cancel,comment:t.comment};n.update(a,function(t){e.debug(t)},function(t){e.error(t)})},t.getSubscriptions()}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$log","$scope","AdminSubList","HtbxModal","loggedUser"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/promo/frontpage",{},{get:{method:"GET",params:{},isArray:!1},post:{method:"POST",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/admin/user/search",{user_name:"@user_name"},{get:{method:"GET",params:t,isArray:!0},single:{url:i.default.apiUri+"/admin/user/search/:user_name",method:"GET",params:t,isArray:!0}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/translation",{lang:"@lang"},{get:{method:"GET",params:t,isArray:!0},post:{method:"POST",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/teamlist",{q:"@q",limit:"@$limit"},{get:{method:"GET",params:{}}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/adcount/:channel",{channel:"@channel",count:"@count"},{get:{method:"GET",params:{},isArray:!1},put:{method:"PUT",params:{authToken:"@authToken",channel:"@channel",count:"@count",no_prerolls:"@no_prerolls"},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/system/broadcastlog/:channel",{channel:"@channel"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/chat/iconapprove",{authToken:"@authToken"},{get:{method:"GET",params:t,isArray:!1},post:{method:"POST",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){var a="/src/js/admin/views/admin.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=admin ng-class="{ \'admin--navOpened\': $ctrl.showNav }"> <header class="admin__logo admin-nav"> <div ng-click="$ctrl.showNav = !$ctrl.showNav" class=admin__logo__burger> <smash-icon data-icon=burger data-size=24></smash-icon> </div> <a ui-sref=home.root> <logo></logo> </a> </header> <ul class=admin__nav> <li ng-repeat="navItem in $ctrl.navigationLinks" ui-sref-active=active class=admin__nav__item> <a class=admin__nav__item__link ui-sref={{::navItem.sref}}> {{::navItem.label}} </a> </li> </ul> <div class="admin__width admin__overlay" ng-click="$ctrl.showNav=false"></div> <div class=admin__width ng-class=tab ui-view></div> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/admin/views/settings_admin_partnerships.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-controller=AdminPartnershipCtrl> <div> <ui-select ng-model=select2.selected_user.user_name theme=select2 on-select="selectSelectUser($item, $model)" autofocus=true class=fltL style=display:inline-block;width:30%> <ui-select-match placeholder="Select a User"> {{$select.selected}} </ui-select-match> <ui-select-choices refresh=refreshSelectUser($select.search) repeat="user in searchUser"> <div>{{user.user_name}}</div> </ui-select-choices> </ui-select> <div class=fltL style=line-height:38px;width:2%;text-align:center> or </div> <ui-select ng-model=select2.selected_team.group_name theme=select2 on-select="selectSelectTeam($item, $model)" autofocus=true class=fltL style=display:inline-block;width:30%> <ui-select-match placeholder="Select a Team"> {{$select.selected}} </ui-select-match> <ui-select-choices refresh=refreshSelectTeam($select.search) repeat="team in searchTeam"> <div>{{team.group_name}}</div> </ui-select-choices> </ui-select> </div> <br/> <br/> <div ng-show=plans> <h2>Current Plans ({{partner.type}}: {{partner.id}})</h2> <section> <div ng-repeat="plan in plans"> <input type=text ng-model=plan.plan_countries style=display:inline-block;width:50% disabled=disabled /> <input type=text ng-model=plan.plan_currency style=display:inline-block;width:10% disabled=disabled /> <input type=text ng-model=plan.plan_cpm style=display:inline-block;width:10% disabled=disabled /> <input type=text ng-model=plan.plan_date_added style=display:inline-block;width:18% disabled=disabled /> </div> </section> <br> <h2>New Plan</h2> <section> <input type=text value={{countries[0].name}} style=display:inline-block;width:60% /> <select ng-model=new_plan.currency ng-options="currency.name for currency in currencies" style=display:inline-block;width:10%></select> <input type=text ng-model=new_plan.plan_cpm[0] style=display:inline-block;width:10% /> <input kalendae=dropdown mode=single months=1 type=text ng-model=new_plan.plan_date_added format="YYYY-MM-DD 00:00:00" flexdate id=plan-date-added style=display:inline-block;width:18% /> <input type=text value={{countries[1].name}} style=display:inline-block;width:60% /> <select ng-model=new_plan.currency ng-options="currency.name for currency in currencies" style=display:inline-block;width:10%></select> <input type=text ng-model=new_plan.plan_cpm[1] style=display:inline-block;width:10% /> <input type=text ng-model=new_plan.plan_date_added style=display:inline-block;width:18% /> <input type=text value={{countries[2].name}} style=display:inline-block;width:60% /> <select ng-model=new_plan.currency ng-options="currency.name for currency in currencies" style=display:inline-block;width:10%></select> <input type=text ng-model=new_plan.plan_cpm[2] style=display:inline-block;width:10% /> <input type=text ng-model=new_plan.plan_date_added style=display:inline-block;width:18% /> <htbx-button data-on-select=addPlan()> Add Plan </htbx-button> </section> </div> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/admin/views/settings_admin_featuredmedia.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-controller=AdminFeaturedCtrl> <div class=admin__headline> Feature a channel on the frontpage <div class=admin__headline__sub> Set the <i>Weight</i> between 0 and 100. Higher <i>Weight</i> makes the channel more likely to get shown.<br/> Always set <i>Countries</i> to features channels by territory.<br/> <i>Forced</i> overrules the set <i>Weight</i>.<br/> DON\'T <i>Force</i> without setting <i>Countries</i>. (With rare exceptions.)<br/> <br/> How streams are picked: Forced -> Forced Local -> Featured Local -> Featured -> Local Partner -> Partner -> Top Live </div> </div> <div class=admin__featured__add> <div class="admin__featured__columns admin__featured__add__header"> <span class="admin__featured__columns__cell admin__featured__columns__cell-1 bold">Add channel</span> <span class="admin__featured__columns__cell admin__featured__columns__cell-2">Weight</span> <span class="admin__featured__columns__cell admin__featured__columns__cell-4">Countries (eg. US,DE,AT)</span> </div> <div class=admin__featured__columns> <span class="admin__featured__columns__cell admin__featured__columns__cell-1"> <ui-select ng-model=select2.selected_user theme=select2 on-select="selectSelectUser($item, $model)" autofocus=true> <ui-select-match placeholder="Select a User">{{$select.selected.media_user_name}}</ui-select-match> <ui-select-choices refresh=refreshSelectUser($select.search) repeat="user in searchUser"> <div>{{user.media_user_name}}</div> </ui-select-choices> </ui-select> </span> <span class="admin__featured__columns__cell admin__featured__columns__cell-2"> <input type=text ng-model=featured.weight placeholder=Weight /></span> <span class="admin__featured__columns__cell admin__featured__columns__cell-4"> <input type=text ng-model=featured.countries placeholder=Countries /></span> <span class="admin__featured__columns__cell admin__featured__columns__cell-5"> <htbx-button data-type=button data-variant=outline data-on-select=featureChannel(featured)> Add channel </htbx-button></span> </div> </div> <div class="admin__featured__columns admin__featured__columns__content-header"> <span class="admin__featured__columns__cell admin__featured__columns__cell-1"> <smash-sort data-sort="((sortColumn == \'media_is_live\') && sortReverse) ? \'desc\' : \'asc\'" data-active="sortColumn == \'media_is_live\'" data-on-sort=::setSortMediaIsLive data-children="\'Is Live\'"></smash-sort> <smash-sort data-sort="((sortColumn == \'media_name\') && sortReverse) ? \'desc\' : \'asc\'" data-active="sortColumn == \'media_name\'" data-on-sort=::setSortMediaName data-children="\'Channel\'"></smash-sort> <smash-sort data-sort="((sortColumn == \'media_live_since\') && sortReverse) ? \'desc\' : \'asc\'" data-active="sortColumn == \'media_live_since\'" data-on-sort=::setSortMediaLiveSince data-children="\'Last Stream\'"></smash-sort> </span> <smash-sort data-sort="((sortColumn == \'media_featured_weight\') && sortReverse) ? \'asc\' : \'desc\'" data-active="sortColumn == \'media_featured_weight\'" data-on-sort=::setSortMediaFeaturedWeight data-children="\'Weight\'" class="admin__featured__columns__cell admin__featured__columns__cell-2"></smash-sort> <span class="admin__featured__columns__cell admin__featured__columns__cell-3"> Est. global score </span> <span class="admin__featured__columns__cell admin__featured__columns__cell-4"> Countries </span> <smash-sort data-sort="((sortColumn == \'media_featured_forced\') && sortReverse) ? \'desc\' : \'asc\'" data-active="sortColumn == \'media_featured_forced\'" data-on-sort=::setSortMediaFeaturedForced class="admin__featured__columns__cell admin__featured__columns__cell-5" data-children="\'Forced\'"></smash-sort> </div> <div ng-hide=media.livestream>Loading...</div> <div class=admin__featured__columns ng-hide=liveonly> <div class=admin__featured__columns__content-row ng-repeat="live in media.livestream | featuredCountryFilter:countryFilterString | orderBy:sortColumn:sortReverse" ng-class="{\'admin__featured__columns__content-row--islive\': live.media_is_live == 1}"> <span class="admin__featured__columns__cell admin__featured__columns__cell-1"> <a ui-sref="detail.feed({ channel: live.media_name})"> <span>{{live.media_name}}</span> <verified-badge data-partner-type=live.partner_type></verified-badge> </a> <div ng-if="live.media_is_live === \'0\'" class=admin__featured__columns__last-stream title={{live.media_live_since}}>Last livestream: {{live.media_live_since | timeAgo}}</div> </span> <span class="admin__featured__columns__cell admin__featured__columns__cell-2"><input type=text ng-model=live.media_featured_weight /></span> <span class="admin__featured__columns__cell admin__featured__columns__cell-3">{{live.score}} %</span> <span class="admin__featured__columns__cell admin__featured__columns__cell-4"><input type=text ng-model=live.media_featured_countries /></span> <span class="admin__featured__columns__cell admin__featured__columns__cell-5"><input type=checkbox ng-model=live.media_featured_forced ng-true-value="\'1\'" ng-false-value=0></span> <span class="admin__featured__columns__cell admin__featured__columns__cell-6"> <htbx-button data-on-select=saveChanges(live)> Save </htbx-button> <htbx-button-remove data-on-select=removeMedia(live)></htbx-button-remove> </span> </div> </div> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/admin/views/settings_admin_backdrop.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-controller=AdminBackdropCtrl> <htbx-button data-on-select=new()> New </htbx-button> <br/><br/><br/> <div ng-if=new_backdrop> {{new_image_disabled}} {{new_save_disabled}} <div> <label>Media Name:</label> <ui-select ng-model=select2.selected_user.user_name theme=select2 on-select="selectSelectUser($item, $model)" autofocus=true> <ui-select-match placeholder="Select a User">{{$select.selected}}</ui-select-match> <ui-select-choices refresh=refreshSelectUser($select.search) repeat="user in searchUser"> <div>{{user.user_name}}</div> </ui-select-choices> </ui-select> </div> <div> <label>Since:</label> <input type=text ng-model=new_backdrop.backdrop_since /> <label>Until:</label> <input type=text ng-model=new_backdrop.backdrop_until /> </div> <div> <label>Image:</label> <upload-drop-area uda-image={{::config.imgUrl}}{{new_backdrop.backdrop_image}} uda-success-callback=cbupload(new_backdrop) class=home-promo-bg uda-data-name=file uda-url={{config.apiUri}}/upload/promo/ uda-user-name={{new_backdrop.media_file}} uda-name=Backdrop uda-delete=true uda-error-callback=cberror() style=background-color:transparent;height:315px;width:1440px ng-hide=new_image_disabled> </upload-drop-area> </div> <htbx-button ng-hide=new_save_disabled data-on-select=save(new_backdrop)> Save </htbx-button> <br/><br/><br/> </div> <div ng-repeat="media in backdrops"> <div> <label>Media Name:</label> <div>{{media.media_file}}</div> </div> <div> <label>Since:</label> <input type=text ng-model=media.backdrop_since /> <label>Until:</label> <input type=text ng-model=media.backdrop_until /> </div> <div> <label>Image:</label> <upload-drop-area uda-image={{::config.imgUrl}}{{media.backdrop_image}} uda-success-callback=cbupload(media) class=home-promo-bg uda-data-name=file uda-url={{config.apiUri}}/upload/promo/ uda-user-name={{media.media_file}} uda-name=Backdrop uda-delete=true uda-error-callback=cberror() style=background-color:transparent;height:315px;width:1440px> </upload-drop-area> </div> <htbx-button data-on-select=save(media)> Save </htbx-button> <br/><br/><br/> </div> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/admin/views/settings_admin_subscription_list.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-controller=AdminSubscriptionListCtrl class=subscription-list-admin> <div class=inputs> <div style=display:inline-block;width:49%><label>Username</label><input type=text ng-model=filters.user_name tolltip=Username /></div> <div style=display:inline-block;width:49%><label>Channel</label><input type=text ng-model=filters.channel tolltip=Channel /></div> <div style=display:inline-block;width:49%><label>Payment method</label><input type=text ng-model=filters.payment_method tolltip="Payment method"/></div> <div style=display:inline-block;width:49%><label>Transaction ID</label><input type=text ng-model=filters.payment_uuid tolltip="Transaction ID"/></div> <htbx-button data-on-select=updateFilters()> Update </htbx-button> </div> <div class=header-row> <div tooltip-placement="auto bottom" uib-tooltip=sub_id tooltip-append-to-body=true class="sub_id column col-1 header">sub_id</div> <div tooltip-placement="auto bottom" uib-tooltip=user_name tooltip-append-to-body=true style=width:7% class="user_name column col-2 header">user_name</div> <div tooltip-placement="auto bottom" uib-tooltip=channel_name tooltip-append-to-body=true class="channel_name column col-3 header">channel_name</div> <div tooltip-placement="auto bottom" uib-tooltip=sub_date_added tooltip-append-to-body=true class="sub_date_added column col-4 header">sub_date_added</div> <div tooltip-placement="auto bottom" uib-tooltip=sub_date_valid tooltip-append-to-body=true class="sub_date_valid column col-5 header">sub_date_valid</div> <div tooltip-placement="auto bottom" uib-tooltip=sub_payment_method tooltip-append-to-body=true class="sub_payment_method column col-6 header">sub_payment_method</div> <div tooltip-placement="auto bottom" uib-tooltip=sub_payment_uuid tooltip-append-to-body=true class="sub_payment_uuid column col-7 header">sub_payment_uuid</div> <div tooltip-placement="auto bottom" uib-tooltip=cancel tooltip-append-to-body=true class="column col-8 header">canceled</div> <div tooltip-placement="auto bottom" uib-tooltip=comment tooltip-append-to-body=true class="comment column col-9 header">comment</div> <div tooltip-placement="auto bottom" uib-tooltip=geo_loc tooltip-append-to-body=true class="geo_loc column col-10 header">geo_loc</div> </div> <div class=row ng-repeat="subscription in subscriptions"> <div class="sub_id column col-1">{{subscription.sub_id}}</div> <div tooltip-placement="auto left" uib-tooltip={{subscription.user_name}} tooltip-append-to-body=true style=width:7% class="user_name column col-2">{{subscription.user_name}}</div> <div tooltip-placement="auto left" uib-tooltip={{subscription.channel_name}} tooltip-append-to-body=true class="channel_name column col-3">{{subscription.channel_name}}</div> <div tooltip-placement="auto left" uib-tooltip={{subscription.sub_date_added}} tooltip-append-to-body=true class="sub_date_added column col-4">{{subscription.sub_date_added}}</div> <div tooltip-placement="auto left" uib-tooltip={{subscription.sub_date_valid}} tooltip-append-to-body=true class="sub_date_valid column col-5">{{subscription.sub_date_valid}}</div> <div class="sub_payment_method column col-6">{{subscription.sub_payment_method}}</div> <div class="sub_payment_uuid column col-7">{{subscription.sub_payment_uuid}}</div> <div class="column col-8"> <htbx-button ng-show=!subscription.cancel data-size=small data-variant=warning data-on-select=cancelSubscription(subscription)> Cancel </htbx-button> <htbx-button ng-show=subscription.cancel data-size=small data-variant=ok data-on-select=enableSubscription(subscription)> Enable </htbx-button> </div> <div tooltip-placement="auto left" uib-tooltip={{subscription.comment}} tooltip-append-to-body=true class="comment column subscription-list-admin__user__column subscription-list-admin__user__column--comment col-9"> <input ng-model=subscription.comment class=subscription-list-admin__user__comment /> <htbx-button size=small variant=outline data-on-select=saveComment(subscription)> Save </htbx-button> </div> <div class="geo_loc column col-10">{{subscription.geo_loc}}</div> </div> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/admin/views/settings_admin_coupons.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-controller=AdminCouponCtrl> <div class=inputs> <label>Count:</label><input type=number ng-model=coupon_count /> <label>Channelname:</label><input type=text ng-model=user_name /> <htbx-button data-on-select=createCoupons()> Create </htbx-button> </div> <br/> <br/> <br/> <label>Coupons:</label> <br/> <ul> <li ng-repeat="coupon in coupons"> {{coupon}} </li> </ul> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/admin/views/settings_admin_emotes.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-controller=AdminEmotesCtrl> <div class=admin__headline> Approve or reject chat-emotes <div class=admin__headline__sub> Chat-emotes uploaded by self registered partners<br/> Judge by our Tos </div> </div> <div ng-repeat="icon in icons" class=admin__new-emotes> <a class=admin__new-emotes__channel ui-sref="detail.feed({channel: icon.channel})" target=_blank>{{icon.channel}}</a> <a class=admin__new-emotes__count ui-sref="settings.channel({user: icon.channel})" target=_blank>{{icon.icon_count}} Emotes</a> <div class=admin__new-emotes__date>{{icon.icon_date_added}}</div> <img class=admin__new-emotes__image ng-src="{{::$root.config.imgUrl + icon.icon_path}}"/> <div class=admin__new-emotes__name>{{icon.icon_name}}</div> <div class=admin__new-emotes__buttons> <htbx-button data-type=button data-variant=ok data-size=super-small data-on-select=approveEmoji(icon)> <smash-icon data-icon=check data-size=20 data-center=true></smash-icon> </htbx-button> <htbx-button data-type=button data-variant=warning data-size=super-small data-on-select=declineEmoji(icon)> <smash-icon data-icon=close data-size=12 data-center=true></smash-icon> </htbx-button> </div> <textarea class=admin__new-emotes__comment ng-model=icon.icon_comment placeholder=Comment></textarea> </div> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/admin/views/settings_admin_adcount.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-controller=AdminAdcountCtrl> <div class=admin__headline> Set Ads per Hour for a Channel or disable Preroll for a Channel <div class=admin__headline__sub> Here you can set the allowed ads per hour a channel can trigger via the dashboard (midroll) and if a channel has prerolls enabled or not. <br> <br>The defaults for normal user & automated partner is {{default.automated}} ads/hour, for premium partner {{default.exclusive}} ads/hour. <br>Prerolls are enabled by default on all channels. <br>When you set it to 0 this channel is not allowed to trigger any advertisment via the dashboard. <br>Disabling the preroll means user don\'t see an ad when the come to the channel. </div> </div> <div class=admin__featured__add> <div class="admin__featured__columns admin__featured__add__header"> <span class="admin__featured__columns__cell admin__featured__columns__cell-1 bold"> Channel </span> <span class="admin__featured__columns__cell admin__featured__columns__cell-2"> Ads/Hour </span> <span class="admin__featured__columns__cell admin__featured__columns__cell-3"> Prerolls </span> </div> <div class=admin__featured__columns> <span class="admin__featured__columns__cell admin__featured__columns__cell-1"> <ui-select style=width:90% ng-model=select2.selected_user.user_name theme=select2 on-select="selectSelectUser($item, $model)" autofocus=true> <ui-select-match placeholder="Select a Channel"> {{$select.selected}} </ui-select-match> <ui-select-choices refresh=refreshSelectUser($select.search) repeat="user in searchUser"> <div>{{user.user_name}}</div> </ui-select-choices> </ui-select> </span> <span class="admin__featured__columns__cell admin__featured__columns__cell-2" style=width:100px> <input type=text style=width:80%;display:block ng-model=data.count placeholder=Ads/Hour /> </span> <span class="admin__featured__columns__cell admin__featured__columns__cell-3"> <toggle-switch checked="(data.no_prerolls != 1)" on-change=togglePrerolls></toggle-switch> </span> <span class="admin__featured__columns__cell admin__featured__columns__cell-4"> <htbx-button data-on-select=save()> {{::\'global_button_save\' | translate}} </htbx-button> </span> </div> </div> <div class=admin__headline__sub> {{errorMessage}} </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){var t={init:function(){this.browser=this.searchString(this.dataBrowser)||"",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"",this.OS=this.searchString(this.dataOS)||""},searchString:function(e){for(var t=0;t<e.length;t++){var n=e[t].string,a=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,n){if(-1!==n.indexOf(e[t].subString))return e[t].identity}else if(a)return e[t].identity}return""},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);return-1===t?0:parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:e.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Trident",identity:"IE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};return t.init(),{getName:function(){return t.browser},getVersion:function(){return t.version},getOS:function(){return t.OS}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,a.$inject=["$window"]},function(e,t,n){var a="/src/js/auth/signin/pages/views/login-page.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="login-page page login" ng-controller="LoginPageCtrl as $ctrl"> <signin-page></signin-page> </div> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1711)),r=a(n(1712)),s=a(n(1713));t.default=i.default.module("htbx.ban",[]).factory("Banlist",o.default).controller("BanUserCtrl",r.default).controller("BanUserDialogCtrl",s.default).name},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/banlist/:type/:value",{authToken:"@authToken",type:"@type",value:"@value",server_ip:"@server_ip"},{add:{method:"PUT",params:t,isArray:!1}},{remove:{method:"DELETE",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e,t,n,a,o,r,l,c){e.error={},e.banForm={reason:"Non-Gaming Content",length:-1,addtl_reason:""},e.ban_reasons=[l.instant("view_report_label_non-gaming-content"),l.instant("view_report_label_violence-threats"),l.instant("view_report_label_sexual-content"),l.instant("view_report_label_impersonation"),l.instant("view_report_label_harassment"),l.instant("view_report_label_hate-speech"),l.instant("view_report_label_privacy"),l.instant("view_report_label_copyright-infringement"),l.instant("view_report_label_unlawful-use"),l.instant("view_report_label_ban-evasion")],e.ban_lengths=[{key:-1,value:l.instant("view_report_text_warning")},{key:0,value:l.instant("view_report_text_indefinate")},{key:24,value:l.instant("view_report_text_24-hours")},{key:72,value:l.instant("view_report_text_72-hours")}],e.select2={selected_length:e.ban_lengths[0]};var u=c.connect(s)(e);e.$on("$destroy",function(){u&&u()}),e.validate=function(){return!0},e.selectLength=function(t){e.banForm.length=t.key},e.send=function(){if(e.error={},e.validate()){var t=i.default.extend({authToken:e.authToken,type:"user",value:e.channelName},e.banForm);e.$parent.ingest&&e.$parent.ingest.server.server_ip&&(t.server_ip=e.$parent.ingest.server.server_ip),r.trackEvent("team","banChannel"),o.add(t),a.close()}},e.close=function(){a.dismiss()}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(13)),o=n(8),r=n(76);a.$inject=["$scope","$rootScope","$timeout","$uibModalInstance","Banlist","Analytics","$translate","$ngRedux"];var s=function(e){var t=e.channel,n=e.user;return{channelName:(0,o.getName)(t),authToken:(0,r.getToken)(n)}}},function(e,t,n){"use strict";function a(e,t){var n={animation:!0,backdrop:!0,keyboard:!0,windowClass:"modal-feedback",templateUrl:i.default,controller:"BanUserCtrl"};e.openDialog=function(){t.open(n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1714));a.$inject=["$scope","$uibModal"]},function(e,t,n){var a="/src/js/ban/views/banuser.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=feedback> <form accept-charset=UTF-8 class="form_enclosed formL" name=feedbackForm novalidate> <section> <label> {{::\'view_modal-banuser_label_reason\' | translate}} </label> <div ng-show=error.reason class=input-help> {{error.reason}} </div> <ui-select ng-model=banForm.reason theme=select2 search-enabled=false> <ui-select-match placeholder=""> {{$select.selected}} </ui-select-match> <ui-select-choices repeat="category in ban_reasons"> <div value={{category}}> {{category}} </div> </ui-select-choices> </ui-select> </section> <section> <label> {{::\'view_modal-banuser_label_length\' | translate}} </label> <div ng-show=error.length class=input-help> {{error.length}} </div> <ui-select ng-model=select2.selected_length theme=select2 search-enabled=false on-select="selectLength($item, $model)"> <ui-select-match placeholder=""> {{$select.selected.value}} </ui-select-match> <ui-select-choices repeat="length in ban_lengths"> <div value={{length.key}}> {{length.value}} </div> </ui-select-choices> </ui-select> </section> <section> <label> {{::\'view_modal-banuser_label_reason\' | translate}} </label> <div ng-show=error.addtl_reason class=input-help> {{error.addtl_reason}} </div> <textarea placeholder="{{ \'view_modal-banuser_placeholder_detailed-explenation\' | translate }}" class=desc name=addtl_reason ng-model=banForm.addtl_reason></textarea> </section> <div class=submitWrap> <htbx-button data-variant=warning data-on-select=send()> {{banForm.length == -1 ? \'Warn User\' : \'Ban User\'}} </htbx-button> </div> </form> </div> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1716)),r=a(n(1734));t.default=i.default.module("branding",[o.default,r.default]).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1717)),r=a(n(1723)),s=a(n(1727));t.default=i.default.module("smashcast-branding",[o.default,r.default,s.default]).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1718));t.default=i.default.module("smashcast-branding.colors",[]).directive("smashColorsStyleguide",["reactDirective",function(e){return e(o.default)}]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1719));t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(20),o=n(1720);t.default=function(){return a.default.createElement(o.StyledWrapper,null,a.default.createElement(o.StyledPalette,null,a.default.createElement(o.StyledColor,{color:i.primary},a.default.createElement(o.StyledTitle,null,"Electric blue"),a.default.createElement(o.StyledValues,null,a.default.createElement(o.StyledValueName,null,"Name"),a.default.createElement(o.StyledValue,null,"primary"),a.default.createElement(o.StyledValueName,null,"Hex"),a.default.createElement(o.StyledValue,null,i.primary))),a.default.createElement(o.StyledColor,{color:i.secondary},a.default.createElement(o.StyledTitle,null,"Mandy"),a.default.createElement(o.StyledValues,null,a.default.createElement(o.StyledValueName,null,"Name"),a.default.createElement(o.StyledValue,null,"secondary"),a.default.createElement(o.StyledValueName,null,"Hex"),a.default.createElement(o.StyledValue,null,i.secondary))),a.default.createElement(o.StyledColor,{color:i.background},a.default.createElement(o.StyledTitle,null,"Blue Charcoal"),a.default.createElement(o.StyledValues,null,a.default.createElement(o.StyledValueName,null,"Name"),a.default.createElement(o.StyledValue,null,"background"),a.default.createElement(o.StyledValueName,null,"Hex"),a.default.createElement(o.StyledValue,null,i.background))),a.default.createElement(o.StyledColor,{color:i.blueDark},a.default.createElement(o.StyledTitle,null,"Regal blue"),a.default.createElement(o.StyledValues,null,a.default.createElement(o.StyledValueName,null,"Name"),a.default.createElement(o.StyledValue,null,"blueDark"),a.default.createElement(o.StyledValueName,null,"Hex"),a.default.createElement(o.StyledValue,null,i.blueDark))),a.default.createElement(o.StyledColor,{color:i.grayCool,textColor:"#000"},a.default.createElement(o.StyledTitle,null,"Cool gray"),a.default.createElement(o.StyledValues,null,a.default.createElement(o.StyledValueName,null,"Name"),a.default.createElement(o.StyledValue,null,"grayCool"),a.default.createElement(o.StyledValueName,null,"Hex"),a.default.createElement(o.StyledValue,null,i.grayCool))),a.default.createElement(o.StyledColor,{color:i.backgroundLight,textColor:"#000"},a.default.createElement(o.StyledTitle,null,"Off white"),a.default.createElement(o.StyledValues,null,a.default.createElement(o.StyledValueName,null,"Name"),a.default.createElement(o.StyledValue,null,"backgroundLight"),a.default.createElement(o.StyledValueName,null,"Hex"),a.default.createElement(o.StyledValue,null,i.backgroundLight)))),a.default.createElement(o.StyledText,null,a.default.createElement(o.StyledTextTitle,null,"Default (colors.text, $text-color)"),a.default.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illum magnam maxime nihil, officiis quam quos. Delectus ducimus eos harum minima modi natus nulla numquam, provident quidem, reprehenderit, rerum tenetur?")),a.default.createElement(o.StyledText,{light:!0},a.default.createElement(o.StyledTextTitle,null,"Default (colors.textLight, $text-color-light)"),a.default.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illum magnam maxime nihil, officiis quam quos. Delectus ducimus eos harum minima modi natus nulla numquam, provident quidem, reprehenderit, rerum tenetur?")))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return e.raw=t,e}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledValue=t.StyledValueName=t.StyledValues=t.StyledTitle=t.StyledColor=t.StyledPalette=t.StyledTextTitle=t.StyledText=t.StyledWrapper=void 0;var o=a(n(249)),r=a(n(10)),s=n(20),l=i(["\n"],["\n"]),c=i(["\n        padding: 10px;\n    "],["\n        padding: 10px;\n    "]),u=i(["\n    margin-bottom: 10px;\n    font-size: 20px;\n    font-weight: bold;\n"],["\n    margin-bottom: 10px;\n    font-size: 20px;\n    font-weight: bold;\n"]),d=i(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr;\n    grid-template-rows: 150px;\n    grid-gap: 10px;\n    margin-bottom: 20px;\n"],["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr;\n    grid-template-rows: 150px;\n    grid-gap: 10px;\n    margin-bottom: 20px;\n"]),f=i(["\n    position: relative;\n    grid-column-end: span 2;\n    padding: 10px;\n    min-height: 150px;\n    color: #fff;\n\n    &:first-child {\n        grid-row: 1 / span 2;\n    }\n\n    &:nth-child(5),\n    &:nth-child(6) {\n        grid-column-end: span 1;\n    }\n"],["\n    position: relative;\n    grid-column-end: span 2;\n    padding: 10px;\n    min-height: 150px;\n    color: #fff;\n\n    &:first-child {\n        grid-row: 1 / span 2;\n    }\n\n    &:nth-child(5),\n    &:nth-child(6) {\n        grid-column-end: span 1;\n    }\n"]),p=i(["\n    text-transform: uppercase;\n"],["\n    text-transform: uppercase;\n"]),m=i(["\n    display: grid;\n    grid-template-columns: 60px 1fr;\n    grid-gap: 5px;\n    flex-wrap: wrap;\n    position: absolute;\n    bottom: 10px;\n    left: 10px;\n"],["\n    display: grid;\n    grid-template-columns: 60px 1fr;\n    grid-gap: 5px;\n    flex-wrap: wrap;\n    position: absolute;\n    bottom: 10px;\n    left: 10px;\n"]),h=i(["\n    padding-right: 10px;\n    text-transform: uppercase;\n"],["\n    padding-right: 10px;\n    text-transform: uppercase;\n"]),g=i(["\n    flex: 1;\n"],["\n    flex: 1;\n"]),_=(t.StyledWrapper=r.default.div(l),t.StyledText=r.default.div.attrs({style:function(e){return{backgroundColor:e.light?s.background:null,color:e.light?s.textLight:s.text}}})(c),t.StyledTextTitle=r.default.h2(u),t.StyledPalette=r.default.div(d),t.StyledColor=r.default.div.attrs({style:function(e){return{backgroundColor:e.color,color:e.textColor}}})(f));_.propTypes={color:o.default.string,textColor:o.default.string},_.defaultProps={color:"",textColor:""},t.StyledTitle=r.default.h2(p),t.StyledValues=r.default.dl(m),t.StyledValueName=r.default.dt(h),t.StyledValue=r.default.dd(g)},function(e,t,n){"use strict";var a=n(22),i=n(6),o=n(1722);e.exports=function(){function e(e,t,n,a,r,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1724));t.default=i.default.module("smashcast-branding.fonts",[]).directive("smashFontsStyleguide",["reactDirective",function(e){return e(o.default)}]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1725));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(249)),n(1726)),r=function(e){var t=e.bold;return i.default.createElement(o.StyledContentWrapper,null,i.default.createElement(o.StyledFontWeight,null,t?"Bold":"Regular"),i.default.createElement(o.StyledContent,{bold:t},i.default.createElement("p",null,"ABCDEFGHIJKLMNOPQRSTUVWXZ"),i.default.createElement("p",null,"abcdefghijklmnopqrstuvwxyz"),i.default.createElement("p",null,"1234567890$%&(,.;:#!?)")))};r.defaultProps={bold:!1},t.default=function(){return i.default.createElement(o.StyledWrapper,{fontFamily:"LatoWeb"},i.default.createElement(o.StyledTitle,null,"Lato"),i.default.createElement(r,null),i.default.createElement(r,{bold:!0}))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return e.raw=t,e}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledFontWeight=t.StyledContent=t.StyledContentWrapper=t.StyledTitle=t.StyledWrapper=void 0;var o=a(n(249)),r=a(n(10)),s=n(20),l=i(["\n    font-family: ","Segoe UI, Arial, Helvetica, sans-serif;\n"],["\n    font-family: ","Segoe UI, Arial, Helvetica, sans-serif;\n"]),c=i(["\n    color: ",";\n    font-size: 30px;\n"],["\n    color: ",";\n    font-size: 30px;\n"]),u=i(["\n    display: flex;\n    flex-flow: column;\n"],["\n    display: flex;\n    flex-flow: column;\n"]),d=i(["\n    font-size: 20px;\n    font-weight: ",";\n"],["\n    font-size: 20px;\n    font-weight: ",";\n"]),f=i(["\n    order: 2;\n    margin: 10px 0 20px;\n    color: ",";\n    font-size: 14px;\n"],["\n    order: 2;\n    margin: 10px 0 20px;\n    color: ",";\n    font-size: 14px;\n"]),p=(t.StyledWrapper=r.default.div(l,function(e){return e.fontFamily&&e.fontFamily+", "}),t.StyledTitle=r.default.h1(c,s.primary),t.StyledContentWrapper=r.default.div(u),t.StyledContent=r.default.div(d,function(e){return e.bold?600:400}));p.propTypes={bold:o.default.bool},p.defaultProps={bold:!1},t.StyledFontWeight=r.default.h2(f,s.gray)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(623)),r=a(n(1733));t.default=i.default.module("smashcast-branding.logo",[]).directive("logo",["reactDirective",function(e){return e(o.default,["useIcon","useName"])}]).component("smashLogoStyleguide",r.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(249)),a(n(1729))),r=a(n(1730)),s=a(n(1731)),l=n(1732),c=function(e){var t=e.useIcon,n=e.useName;return i.default.createElement(l.StyledLogo,null,!t&&n?i.default.createElement(l.StyledIcon,{dangerouslySetInnerHTML:{__html:o.default}}):null,t&&!n?i.default.createElement(l.StyledIcon,{dangerouslySetInnerHTML:{__html:r.default}}):null,!t&&!n||t&&n?i.default.createElement(l.StyledIcon,{dangerouslySetInnerHTML:{__html:s.default}}):null)};c.defaultProps={useIcon:!1,useName:!1},t.default=c},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 32"><path fill="#133c65" d="M5.5 21.3c.1-.2.3-.6.4-.7.1-.2.5-.3.8-.1 0 0 1.3 1 2.8 1 1.2 0 1.9-.6 1.9-1.4 0-1-.9-1.5-2.6-2.4-1.6-.8-3.4-1.8-3.4-3.8 0-1.2 1-3.1 3.7-3.1 1.5 0 2.7.5 3.3.9.3.2.4.6.2.9l-.2.5c-.2.3-.6.4-.9.3 0 0-1.3-.7-2.4-.7-1.3 0-1.7.7-1.7 1.2 0 1 1 1.4 2.2 2 2 1 3.9 1.9 3.9 4 0 1.7-1.6 3.3-4.1 3.3-2 0-3.2-.8-3.8-1.3-.1-.1-.2-.4-.1-.6m10.1-9.6c0-.3.3-.6.6-.6h.6c.3 0 .4.1.5.4l.3.9s1.4-1.6 3.8-1.6c1.7 0 3 .7 3.8 1.9.1-.1 2-1.9 4.4-1.9 3.4 0 4.6 2.2 4.6 5.3v6.2c0 .3-.3.6-.6.6h-.9c-.3 0-.6-.3-.6-.6v-6.2c0-2.2-.9-3.3-2.6-3.3-1.9 0-3.2 1.3-3.6 1.6.1.5.1 1.1.1 1.7v6.2c0 .3-.3.6-.6.6h-.9c-.3 0-.6-.3-.6-.6v-6.2c0-2.2-1-3.3-2.8-3.3-2.1 0-3.4 1.7-3.4 1.7v7.9c0 .3-.3.6-.6.6h-.9c-.3 0-.6-.3-.6-.6V11.7zm34.3 9.6c.1-.2.3-.6.4-.7.1-.2.5-.3.8-.1 0 0 1.3 1 2.8 1 1.2 0 1.9-.6 1.9-1.4 0-1-.9-1.5-2.6-2.4-1.6-.8-3.4-1.8-3.4-3.8 0-1.2 1-3.1 3.7-3.1 1.5 0 2.7.5 3.3.9.3.2.4.6.2.9l-.2.5c-.2.3-.6.4-.9.3 0 0-1.3-.7-2.4-.7-1.3 0-1.7.7-1.7 1.2 0 1 1 1.4 2.2 2 2 1 3.9 1.9 3.9 4 0 1.7-1.6 3.3-4.1 3.3-2 0-3.2-.8-3.8-1.3-.1-.1-.2-.4-.1-.6M60 6.3c0-.3.3-.6.6-.6h.9c.3.1.5.3.5.6v6.1s1.6-1.6 3.9-1.6c2.9 0 4.6 1.8 4.6 5.3v6.2c0 .3-.3.6-.6.6H69c-.3 0-.6-.3-.6-.6v-6.2c0-2.2-1-3.3-2.6-3.3-2.2 0-3.8 1.6-3.8 1.6v7.9c0 .3-.3.6-.6.6h-.9c-.3 0-.6-.3-.6-.6l.1-16zm22 13.6c-.1-.1-.3-.2-.4-.1-.7.7-1.5 1.4-3 1.4-2.2 0-3.9-1.9-3.9-4.2s1.7-4.2 3.9-4.2c1.2 0 2.1.6 2.7 1.2l.1.1c.2.2.5.1.6-.1.1-.4.3-.7.5-1.1.1-.2.1-.4-.1-.5-1-1.1-2.3-1.6-3.8-1.6-3.2 0-6.1 2.7-6.1 6.2s2.8 6.2 6 6.2c1.6 0 3-.7 3.9-1.7.1-.1.1-.3.1-.4-.2-.3-.4-.8-.5-1.2m15.5 1.4c.1-.2.3-.6.4-.7.1-.2.5-.3.8-.1 0 0 1.3 1 2.8 1 1.2 0 1.9-.6 1.9-1.4 0-1-.9-1.5-2.6-2.4-1.6-.8-3.4-1.8-3.4-3.8 0-1.2 1-3.1 3.7-3.1 1.5 0 2.7.5 3.3.9.3.2.4.6.2.9l-.2.5c-.2.3-.6.4-.9.3 0 0-1.3-.7-2.4-.7-1.3 0-1.7.7-1.7 1.2 0 1 1 1.4 2.2 2 2 1 3.9 1.9 3.9 4 0 1.7-1.6 3.3-4.1 3.3-2 0-3.2-.8-3.8-1.3-.1-.1-.2-.4-.1-.6m11.2-8.4h-1.5c-.3 0-.6-.3-.6-.6v-.7c0-.3.3-.6.6-.6h1.5V7.9c0-.3.3-.6.6-.6l.9-.1c.3 0 .5.3.5.6v3.3h3.4c.3 0 .6.3.6.6v.7c0 .3-.2.6-.6.6h-3.4v6.9c0 1.2.3 1.4 1 1.4s1.8-.4 2.1-.7c.4-.2.6-.1.7.2l.4.7c.2.4.1.5-.2.7-.4.3-2 1-3.4 1-2.4 0-2.7-1.4-2.7-3.2l.1-7.1zm-66.5-2c-3.9 0-6.1 2.8-6.1 6.2 0 3.8 2.6 6.2 5.9 6.2 1.5 0 2.8-1.3 2.8-2.8 0-.2-.2-.3-.4-.1-.6.7-1.3 1.1-2.5 1.1-2.4 0-3.8-1.9-3.8-4.3 0-2.3 1.8-4.2 4.1-4.2 2.6 0 3.5 1.6 3.5 3.9v4.2c0 .6.3 2.2.3 2.2.1.3.2.4.5.4h.6c.3 0 .6-.3.6-.6v-6.3c.1-3.4-1.8-5.9-5.5-5.9m47.6 0c-3.9 0-6.1 2.8-6.1 6.2 0 3.8 2.6 6.2 5.9 6.2 1.5 0 2.8-1.3 2.8-2.8 0-.2-.2-.3-.4-.1-.6.7-1.3 1.1-2.5 1.1-2.4 0-3.8-1.9-3.8-4.3 0-2.3 1.8-4.2 4.1-4.2 2.6 0 3.5 1.9 3.5 4.2v-.3 4.2c0 .6.3 2.2.3 2.2.1.3.2.4.5.4h.6c.3 0 .6-.3.6-.6v-6.2c.1-3.2-1.8-6-5.5-6"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path fill="#EB5055" d="M7.8 14.4c-.2 0-.5-.1-.7-.2l-4.6-1.9c-.9-.4-1.3-1.4-.9-2.3S3 8.7 3.8 9.1L8.4 11c.9.4 1.3 1.4.9 2.3-.2.7-.9 1.1-1.5 1.1zm21.4 7.5c.4-.9 0-1.9-.9-2.3l-4.4-1.9c-.9-.4-1.9 0-2.3.9-.4.9 0 1.9.9 2.3l4.4 1.9c.2.1.5.2.7.2.6 0 1.3-.4 1.6-1.1zm-18.1 8.5l2.7-6.1c.4-.9 0-1.9-.9-2.3-.9-.4-1.9 0-2.3.9L7.9 29c-.4.9 0 1.9.9 2.3.2.1.5.2.7.2.7 0 1.3-.4 1.6-1.1zm9.2-21.5l1.1-2.7c.4-.9-.1-1.9-.9-2.3-.9-.4-1.9.1-2.3.9l-1.1 2.7c-.4.9.1 1.9.9 2.3.2.1.5.2.6.2.8 0 1.5-.4 1.7-1.1z"></path><path fill="#208EFC" d="M21 31.7c-.7 0-1.3-.4-1.6-1.1l-2.5-6.2c-.4-.9.1-1.9.9-2.3.9-.4 1.9.1 2.3.9l2.5 6.2c.4.9-.1 1.9-.9 2.3-.3.1-.5.2-.7.2zm2.2-17.1c-.7 0-1.3-.4-1.6-1.1-.4-.9.1-1.9.9-2.3l6.2-2.5c.9-.4 1.9.1 2.3.9.4.9-.1 1.9-.9 2.3l-6.2 2.6c-.2.1-.4.1-.7.1zM12.3 9.9c-.7 0-1.3-.4-1.6-1.1L8.3 2.7c-.4-.9 0-1.9.9-2.3s1.9.1 2.3.9L14 7.5c.4.9-.1 1.9-.9 2.3-.3.1-.6.1-.8.1zM3.6 22.5c-.7 0-1.3-.4-1.6-1.1-.3-.9.1-1.9.9-2.3L7 17.5c.9-.4 1.9.1 2.3.9.4.9-.1 1.9-.9 2.3l-4.1 1.6c-.3.1-.5.2-.7.2z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 32"><path fill="#133C65" d="M36.4 21.3c.1-.2.3-.6.4-.7.1-.2.5-.3.8-.1 0 0 1.3 1 2.8 1 1.2 0 1.9-.6 1.9-1.4 0-1-.9-1.5-2.6-2.4-1.6-.8-3.4-1.8-3.4-3.8 0-1.2 1-3.1 3.7-3.1 1.5 0 2.7.5 3.3.9.3.2.4.6.2.9l-.2.5c-.2.3-.6.4-.9.3 0 0-1.3-.7-2.4-.7-1.3 0-1.7.7-1.7 1.2 0 1 1 1.4 2.2 2 2 1 3.9 1.9 3.9 4 0 1.7-1.6 3.3-4.1 3.3-2 0-3.2-.8-3.8-1.3-.1-.1-.2-.4-.1-.6m10.1-9.6c0-.3.3-.6.6-.6h.6c.3 0 .4.1.5.4l.3.9s1.4-1.6 3.8-1.6c1.7 0 3 .7 3.8 1.9.1-.1 2-1.9 4.4-1.9 3.4 0 4.6 2.2 4.6 5.3v6.2c0 .3-.3.6-.6.6h-.9c-.3 0-.6-.3-.6-.6v-6.2c0-2.2-.9-3.3-2.6-3.3-1.9 0-3.2 1.3-3.6 1.6.1.5.1 1.1.1 1.7v6.2c0 .3-.3.6-.6.6h-.9c-.3 0-.6-.3-.6-.6v-6.2c0-2.2-1-3.3-2.8-3.3-2.1 0-3.4 1.7-3.4 1.7v7.9c0 .3-.3.6-.6.6h-.9c-.3 0-.6-.3-.6-.6V11.7zm34.3 9.6c.1-.2.3-.6.4-.7.1-.2.5-.3.8-.1 0 0 1.3 1 2.8 1 1.2 0 1.9-.6 1.9-1.4 0-1-.9-1.5-2.6-2.4-1.6-.7-3.3-1.8-3.3-3.8 0-1.2 1-3.1 3.7-3.1 1.5 0 2.7.5 3.3.9.3.2.4.6.2.9l-.2.5c-.2.3-.6.4-.9.3 0 0-1.3-.7-2.4-.7-1.3 0-1.7.7-1.7 1.2 0 1 1 1.4 2.2 2 2 1 3.9 1.9 3.9 4 0 1.7-1.6 3.3-4.1 3.3-2 0-3.2-.8-3.8-1.3-.2-.1-.3-.4-.2-.6m10.1-15c0-.3.3-.6.6-.6h.9c.3 0 .6.3.6.6v6.1s1.6-1.6 3.9-1.6c2.9 0 4.6 1.8 4.6 5.3v6.2c0 .3-.3.6-.6.6h-.9c-.3 0-.6-.3-.6-.6v-6.2c0-2.2-1-3.3-2.6-3.3-2.2 0-3.8 1.6-3.8 1.6v7.9c0 .3-.3.6-.6.6h-.9c-.3 0-.6-.3-.6-.6v-16zm22 13.6c-.1-.1-.3-.2-.4-.1-.7.7-1.5 1.4-3 1.4-2.2 0-3.9-1.9-3.9-4.2s1.7-4.2 3.9-4.2c1.2 0 2.1.6 2.7 1.2l.1.1c.2.2.5.1.6-.1.1-.4.3-.7.5-1.1.1-.2.1-.4-.1-.5-1-1.1-2.3-1.6-3.8-1.6-3.2 0-6.1 2.7-6.1 6.2s2.8 6.2 6 6.2c1.6 0 3-.7 3.9-1.7.1-.1.1-.3.1-.4-.2-.3-.4-.8-.5-1.2m15.5 1.4c.1-.2.3-.6.4-.7.1-.2.5-.3.8-.1 0 0 1.3 1 2.8 1 1.2 0 1.9-.6 1.9-1.4 0-1-.9-1.5-2.6-2.4-1.6-.8-3.4-1.8-3.4-3.8 0-1.2 1-3.1 3.7-3.1 1.5 0 2.7.5 3.3.9.3.2.4.6.2.9l-.2.5c-.2.3-.6.4-.9.3 0 0-1.3-.7-2.4-.7-1.3 0-1.7.7-1.7 1.2 0 1 1 1.4 2.2 2 2 1 3.9 1.9 3.9 4 0 1.7-1.6 3.3-4.1 3.3-2 0-3.2-.8-3.8-1.3-.1-.1-.2-.4-.1-.6m11.2-8.4h-1.5c-.3 0-.6-.3-.6-.6v-.7c0-.3.3-.6.6-.6h1.5V7.9c0-.3.3-.6.6-.6l.9-.1c.3 0 .5.3.5.6v3.3h3.4c.3 0 .6.3.6.6v.7c0 .3-.2.6-.6.6h-3.4v6.9c0 1.2.3 1.4 1 1.4s1.8-.4 2.1-.7c.4-.2.6-.1.7.2l.4.7c.2.4.1.5-.2.7-.4.3-2 1-3.4 1-2.4 0-2.7-1.4-2.7-3.2l.1-7.1zm-66.5-2c-3.9 0-6.1 2.8-6.1 6.2 0 3.8 2.6 6.2 5.9 6.2 1.5 0 2.8-1.3 2.8-2.8 0-.2-.2-.3-.4-.1-.6.7-1.3 1.1-2.5 1.1-2.4 0-3.8-1.9-3.8-4.3 0-2.3 1.8-4.2 4.1-4.2 2.6 0 3.5 1.6 3.5 3.9v4.2c0 .6.3 2.2.3 2.2.1.3.2.4.5.4h.6c.3 0 .6-.3.6-.6v-6.3c.1-3.4-1.8-5.9-5.5-5.9m47.6 0c-3.9 0-6.1 2.8-6.1 6.2 0 3.8 2.6 6.2 5.9 6.2 1.5 0 2.8-1.3 2.8-2.8 0-.2-.2-.3-.4-.1-.6.7-1.3 1.1-2.5 1.1-2.4 0-3.8-1.9-3.8-4.3 0-2.3 1.8-4.2 4.1-4.2 2.6 0 3.5 1.9 3.5 4.2v-.3 4.2c0 .6.3 2.2.3 2.2.1.3.2.4.5.4h.6c.3 0 .6-.3.6-.6v-6.2c.1-3.2-1.8-6-5.5-6"></path><path fill="#EB5055" d="M9.5 14.5c-.2 0-.4 0-.6-.1l-4-1.7c-.8-.3-1.1-1.2-.8-2 .3-.8 1.2-1.1 2-.8l4 1.7c.8.3 1.1 1.2.8 2-.2.5-.8.9-1.4.9zm17.2 7.4c-.2 0-.4 0-.6-.1l-3.8-1.7c-.8-.3-1.1-1.2-.8-2 .3-.8 1.2-1.1 2-.8l3.8 1.7c.8.3 1.1 1.2.8 2-.3.6-.8.9-1.4.9zm-15.6 7.4c-.2 0-.4 0-.6-.1-.8-.3-1.1-1.2-.8-2l2.3-5.3c.3-.8 1.2-1.1 2-.8.8.3 1.1 1.2.8 2l-2.3 5.3c-.3.5-.9.9-1.4.9zm8-18.6c-.2 0-.4 0-.6-.1-.8-.3-1.1-1.2-.8-2l1-2.4c.3-.8 1.2-1.1 2-.8.8.3 1.1 1.2.8 2l-1 2.4c-.3.5-.8.9-1.4.9z"></path><path fill="#208EFC" d="M21 29.4c-.6 0-1.2-.4-1.4-.9l-2.1-5.3c-.3-.8.1-1.6.8-2 .8-.3 1.6.1 2 .8l2.1 5.3c.3.8-.1 1.6-.8 2-.2.1-.4.1-.6.1zm1.9-14.8c-.6 0-1.2-.4-1.4-.9-.3-.8.1-1.6.8-2l5.3-2.1c.8-.3 1.6.1 2 .8.3.8-.1 1.6-.8 2l-5.3 2.1c-.2.1-.4.1-.6.1zm-9.4-4c-.6 0-1.2-.4-1.4-.9L10 4.4c-.3-.8.1-1.6.8-2 .8-.3 1.6.1 2 .8l2.1 5.3c.3.8-.1 1.6-.8 2-.2.1-.4.1-.6.1zM5.9 21.4c-.6 0-1.2-.4-1.4-.9-.3-.8.1-1.6.8-2l3.5-1.4c.8-.3 1.7.1 2 .8.3.8-.1 1.6-.8 2l-3.5 1.4c-.2.1-.4.1-.6.1z"></path></svg>'},function(e,t,n){"use strict";function a(e,t){return e.raw=t,e}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledIcon=t.StyledLogo=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),o=a(["\n"],["\n"]),r=a(["\n    svg {\n        display: block;\n        width: 100%;\n        height: 100%;\n        user-select: none;\n    }\n"],["\n    svg {\n        display: block;\n        width: 100%;\n        height: 100%;\n        user-select: none;\n    }\n"]);t.StyledLogo=i.default.span(o),t.StyledIcon=i.default.span(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={template:'\n        <section class="styleguide">\n            <h1 class="styleguide__title">Logo</h1>\n\n            <div\n                class="styleguide__row"\n            >\n                <h2 class="styleguide__title styleguide__title--weight-2">Default</h2>\n        \n                <div style="height: 100px">\n                    <logo></logo>\n                </div>\n                <pre>\n                    <code class="language-html">\n                        &lt;logo&gt;&lt;/logo&gt;\n                    </code>\n                </pre>\n            </div>\n\n            <div\n                class="styleguide__row"\n            >\n                <h2 class="styleguide__title styleguide__title--weight-2">Icon only</h2>\n        \n                <div style="height: 100px">\n                    <logo\n                        use-icon="true"\n                    ></logo>\n                </div>\n                <pre>\n                    <code class="language-html">\n                        &lt;logo use-icon="true"&gt;&lt;/logo&gt;\n                    </code>\n                </pre>\n            </div>\n\n            <div\n                class="styleguide__row"\n            >\n                <h2 class="styleguide__title styleguide__title--weight-2">Name only</h2>\n        \n                <div style="height: 100px">\n                    <logo\n                        use-name="true"\n                    ></logo>\n                </div>\n                <pre>\n                    <code class="language-html">\n                        &lt;logo use-name="true"&gt;&lt;/logo&gt;\n                    </code>\n                </pre>\n            </div>\n        </section>\n    '}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1735));t.default=i.default.module("branding.call-to-action-banner",[]).component("callToActionBanner",o.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(2)),o=a(n(1736));n(1737),t.default={bindings:{},templateUrl:o.default,transclude:{action:"?callToActionAction",content:"?callToActionContent"},controller:function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.socials=i.default.socials}}},function(e,t,n){var a="/src/js/branding/call-to-action-banner/components/call-to-action-banner.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=call-to-action-banner> <div class=call-to-action-banner__inner> <div class=call-to-action-banner__platforms> <div class="call-to-action-banner__platform call-to-action-banner__platform--smashcast"> <logo></logo> </div> </div> <div class=call-to-action-banner__info> <p class=call-to-action-banner__info__text ng-transclude=content></p> <div class=call-to-action-banner__info__links> <span ng-transclude=action class=call-to-action-banner__info__links__more></span> <span class=call-to-action-banner__info__links__socials> <div class=call-to-action-banner__info__links__socials__follow-us> {{::\'global_menu_follow-us\' | translate}}: </div> <a ng-repeat="social in $ctrl.socials track by social.name" ng-class="[\n                            \'call-to-action-banner__info__links__socials__link\',\n                            \'call-to-action-banner__info__links__socials__link--{{::social.name}}\'\n                        ]" ng-href="{{::(social.translation ? (social.translation | translate) : social.url)}}" target=_blank rel=noopener> <smash-icon icon={{::social.icon}} size=32></smash-icon> </a> </span> </div> </div> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1739)),r=a(n(1742));t.default=i.default.module("htbx.broadcastTools",[]).component("htbxBroadcastTool",o.default).component("htbxBroadcastTools",r.default).config(["$stateProvider",function(e){e.state("broadcastTools",{url:"/broadcast-tools",parent:"hitbox",section:"broadcastTools",title:'{{"global_menu_apps" | translate}}',views:{"viewMain@":{template:"<htbx-broadcast-tools></htbx-broadcast-tools>"}}})}]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1740));n(1741),t.default={bindings:{title:"@",cta:"@?",urls:"<"},templateUrl:a.default,transclude:!0}},function(e,t,n){var a="/src/js/broadcast-tools/components/broadcast-tool.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<article class=studio-app> <div class=studio-app__image-wrapper> <img ng-src={{::$ctrl.urls.image}} class=studio-app__image alt={{::$ctrl.title}} /> </div> <div class=studio-app__body> <div class=studio-app__body__title> {{::$ctrl.title}} </div> <a ng-href={{::$ctrl.urls.project}} target=_blank class=studio-app__body__website rel=noopener> {{::$ctrl.urls.project | domain : true}} <span class=studio-app__body__website__icon> <smash-icon icon=popout size=16></smash-icon> </span> </a> <div class=studio-app__body__text> <p ng-transclude></p> </div> </div> <div class=studio-app__actions> <a ng-href={{::$ctrl.urls.cta}} target=_blank class=\"studio-app__download-button button button--size-default\" rel=noopener> <span ng-if=$ctrl.cta> {{::$ctrl.cta}} </span> <span ng-if=!$ctrl.cta> {{::'global_text_download' | translate}} </span> </a> <a ng-if=::$ctrl.urls.setup ng-href={{::$ctrl.urls.setup}} target=_blank class=\"studio-app__setup-link button button--size-default button--outline\" rel=noopener> {{::'global_text_setup-guide' | translate}} </a> </div> </article> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(624)),o=a(n(625)),r=a(n(626)),s=a(n(627)),l=a(n(1743)),c=a(n(1744)),u=a(n(1745)),d=a(n(1746)),f=a(n(1747)),p=a(n(1748));t.default={bindings:{},controller:function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.logos={obsStudio:o.default,avermedia:i.default,xsplitBroadcaster:r.default,xsplitGamecaster:s.default,meowbot:l.default,redibot:c.default,tipeeestream:u.default,streamtip:d.default,streamjar:f.default}},templateUrl:p.default}},function(e,t,n){e.exports=n.p+"img/f943250690b621f09eeec30d270b41d6.png"},function(e,t,n){e.exports=n.p+"img/12aeed148d15e3ad75b7b55784583a58.png"},function(e,t,n){e.exports=n.p+"img/a1bea02af1ac4d07fd93778d4243f5e5.png"},function(e,t,n){e.exports=n.p+"img/812102ae4c38a290a16ca34d9c472f33.png"},function(e,t,n){e.exports=n.p+"img/101946c6779b574a61a7aff3f3ac4f80.svg"},function(e,t,n){var a="/src/js/broadcast-tools/components/broadcast-tools.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-layout data-variant=large data-page=broadcast-tools class=studio-apps> <htbx-layout-content> <section class=box> <div class=box__title> {{ 'view_studio-apps_header_streaming-apps' | translate }} </div> <ul class=box__content> <li class=box__row> <htbx-broadcast-tool data-title=\"OBS Studio\" data-urls=\"{\n                            image: $ctrl.logos.obsStudio,\n                            cta: 'https://obsproject.com/download',\n                            setup: 'https://help.smashcast.tv/customer/en/portal/articles/2780022-obs-studio-setup',\n                            project: 'https://obsproject.com',\n                        }\"> {{ 'view_studio-apps_obs-studio_description' | translate }} </htbx-broadcast-tool> </li> <li class=box__row> <htbx-broadcast-tool data-title=\"XSplit Gamecaster\" data-urls=\"{\n                            image: $ctrl.logos.xsplitGamecaster,\n                            cta: 'https://www.xsplit.com/hitbox/signup',\n                            setup: 'https://help.smashcast.tv/customer/en/portal/articles/2780025-xsplit-setup',\n                            project: 'https://www.xsplit.com',\n                        }\"> {{ 'view_studio-apps_xsplit-gamecaster_description' | translate }} </htbx-broadcast-tool> </li> <li class=box__row> <htbx-broadcast-tool data-title=\"XSplit Broadcaster\" data-urls=\"{\n                            image: $ctrl.logos.xsplitBroadcaster,\n                            cta: 'https://www.xsplit.com/hitbox/signup',\n                            setup: 'https://help.smashcast.tv/customer/en/portal/articles/2780025-xsplit-setup',\n                            project: 'https://www.xsplit.com',\n                        }\"> {{ 'view_studio-apps_xsplit-broadcaster_description' | translate }} </htbx-broadcast-tool> </li> <li class=box__row> <htbx-broadcast-tool data-title=\"AVerMedia Live Gamer Extreme\" data-cta=Get data-urls=\"{\n                            image: $ctrl.logos.avermedia,\n                            cta: 'http://www.avermedia.com/gaming/product/game_capture/live_gamer_extreme',\n                            setup: 'https://help.smashcast.tv/customer/en/portal/articles/2780258-avermedia-recentral-v1-setup',\n                            project: 'http://www.avermedia.com',\n                        }\"> {{ 'view_studio-apps_avermedia_description' | translate }} </htbx-broadcast-tool> </li> </ul> </section> <section class=box> <div class=box__title> {{ 'view_studio-apps_header_chat-bots' | translate }} </div> <ul class=box__content> <li class=box__row> <htbx-broadcast-tool data-title=Meowbot data-cta=\"{{ 'global_text_connect' | translate }}\" data-urls=\"{\n                            image: $ctrl.logos.meowbot,\n                            cta: 'https://www.meowbot.tv/',\n                            project: 'https://www.meowbot.tv/',\n                        }\"> {{ 'view_studio-apps_meowbot_description' | translate }} </htbx-broadcast-tool> </li> <li class=box__row> <htbx-broadcast-tool data-title=ReDiBot data-cta=\"{{ 'global_text_connect' | translate }}\" data-urls=\"{\n                            image: $ctrl.logos.redibot,\n                            cta: 'https://redibot.de/',\n                            project: 'https://redibot.de/',\n                        }\"> {{ 'view_studio-apps_redibot_description' | translate }} </htbx-broadcast-tool> </li> </ul> </section> <section class=box> <div class=box__title> Donation Trackers </div> <ul class=box__content> <li class=box__row> <htbx-broadcast-tool data-title=tippeeestream data-cta=\"{{ 'global_text_connect' | translate }}\" data-urls=\"{\n                            image: $ctrl.logos.tipeeestream,\n                            cta: 'https://www.tipeeestream.com/',\n                            project: 'https://www.tipeeestream.com/',\n                        }\"> {{ 'view_studio-apps_tipeeestream_description' | translate }} </htbx-broadcast-tool> </li> <li class=box__row> <htbx-broadcast-tool data-title=streamtip data-cta=\"{{ 'global_text_connect' | translate }}\" data-urls=\"{\n                            image: $ctrl.logos.streamtip,\n                            cta: 'https://www.streamtip.com/',\n                            project: 'https://www.streamtip.com/',\n                        }\"> {{ 'view_studio-apps_streamtip_description' | translate }} </htbx-broadcast-tool> </li> <li class=box__row> <htbx-broadcast-tool data-title=StreamJar data-cta=\"{{ 'global_text_connect' | translate }}\" data-urls=\"{\n                            image: $ctrl.logos.streamjar,\n                            cta: 'https://www.streamjar.tv/',\n                            project: 'https://www.streamjar.tv/',\n                        }\"> {{ 'view_studio-apps_streamjar_description' | translate }} </htbx-broadcast-tool> </li> </ul> </section> </htbx-layout-content> </htbx-layout> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(628)),r=a(n(15)),s=a(n(138)),l=a(n(1787)),c=a(n(1789)),u=a(n(1791)),d=a(n(1793)),f=a(n(1795)),p=a(n(1798)),m=a(n(1800)),h=a(n(1802)),g=a(n(1803)),_=a(n(1804)),v=a(n(634)),b=a(n(1810)),y=a(n(1812)),w=a(n(1814)),$=a(n(1816));n(1818),t.default=i.default.module("htbx.browse",[o.default,r.default,s.default]).directive("browseLinksReact",["reactDirective",function(e){return e(v.default,["stateCurrentName","stateHref","getTranslation","variant","showForYou"])}]).directive("browsePageBrowseLinksReact",["reactDirective",function(e){return e($.default,["stateCurrentName","stateHref","getTranslation"])}]).directive("channelFilterLinksReact",["reactDirective",function(e){return e(b.default,["toggle","variant","filterHidden","adminOrders","activeOrder","setOrder"])}]).directive("hashtagListReact",["reactDirective",function(e){return e(y.default,["stateCurrentName","stateCurrentLanguage","stateHref","hashtags","variant","hashtags","changeHashtag"])}]).directive("languageLinksReact",["reactDirective",function(e){return e(w.default,["stateCurrentName","stateCurrentLanguage","stateHref","variant"])}]).component("browseLinks",h.default).component("browsePage",l.default).component("browseChannelsPage",c.default).component("browseEsportsPage",u.default).component("browseFollowingPage",d.default).component("browseGamesPage",f.default).component("browseHashtagsPage",p.default).component("browseLanguagesPage",m.default).component("smashLanguageLinks",g.default).component("smashChannelFilterLinks",_.default).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("browse",{url:"/browse",section:"browse",parent:"hitbox",title:'{{"global_text_live-channels" | translate}}',views:{"viewMain@":{template:"<browse-page></browse-page>"}},abstract:!0}).state("browse.channels",{url:"",template:"<browse-channels-page></browse-channels-page>",section:"browse",title:'{{"global_text_live-channels" | translate}}'}).state("browse.hashtags",{url:"/hashtags/:hashtag?source",params:{hashtag:""},template:"<browse-hashtags-page></browse-hashtags-page>",section:"channels",title:'{{"global_text_live-channels" | translate}}'}).state("browse.language",{url:"/language/:language",params:{language:""},template:"<browse-languages-page></browse-languages-page>",section:"browse",title:'{{"global_text_live-channels" | translate}}'}).state("browse.forYou",{url:"/for-you",template:"<browse-following-page></browse-following-page>",section:"browse",title:'{{"global_text_for-you" | translate}}'}).state("browse.games",{url:"/games",template:"<browse-games-page></browse-games-page>",section:"browse",title:'{{"global_text_games-played-now" | translate}}'}).state("browse.esports",{url:"/esports",template:"<browse-esports-page></browse-esports-page>",section:"browse",title:'{{"global_text_esports" | translate}}'}),t.when("/browse/channels",["$state","$match",function(e,t){e.go("browse.channels",t)}]),t.when("/channels/all",["$state","$match",function(e,t){e.go("browse.channels",t)}]),t.when("/channels/lang/:language",["$state","$match",function(e,t){e.go("browse.language",t)}]),t.when("/channels/hashtag/:hashtag?source",["$state","$match",function(e,t){e.go("browse.hashtags",t)}]),t.when("/esports",["$state","$match",function(e,t){e.go("browse.esports",t)}]),t.when("/foryou",["$state","$match",function(e,t){e.go("browse.forYou",t)}])}]).run(["$rootScope","$state","loggedUser","IntendedState",function(e,t,n,a){e.$on("$stateChangeStart",function(e,i,o){"browse.forYou"!==i.name||n.isAuthenticated()||(a.setIntended(i.name,o),t.go("login"),e.preventDefault())})}]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mediaExists:["medias","$state","$stateParams","loggedUser","$transition$",function(e,t,n,a,i){return a.isSuperAdmin()||"studio.livestreamSetup"===i.to().name||!1===i.to().requiresMedia?{}:e.get(n.user,"live").catch(function(){a.getName().toLowerCase()!==n.user.toLowerCase()?t.go("404"):t.go("studio.livestreamSetup",{user:n.user})})}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(66));t.default=function(){return function(e){return!(!e||!(0,a.default)(e.user_banned)||e.media_user_name.indexOf("_wiped")>0)}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,u,d){function f(e){return Array.isArray(e.video)?e.video[0]:Array.isArray(e.livestream)?e.livestream[0]:null}var p=this,m={live:{},video:{}};!function(){var e=l.default.get("smashcast.uuid",!1),t=void 0,a=void 0,r=void 0;e||(e=function(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return e()+e(!0)+e(!0)+e()}(),l.default.set("smashcast.uuid",e)),p.watchForChanges=function(n,i){if(n.media_type_id===c.default.LIVE_STREAM&&i){t&&t!==n&&p.unWatchForChanges();var s={channel:i.plugins.pingback.wsChannel,name:i.plugins.pingback.userName,token:i.plugins.pingback.wsToken,country:i.plugins.pingback.countryCode,uuid:e,isSubscriber:i.plugins.pingback.isSubscriber,isFollower:i.plugins.pingback.isFollower,embed:i.plugins.pingback.embed,isWhitelabel:i.plugins.pingback.isWhitelabel,referrer:null};t=n,a=i,r=s.channel,function(e){o.default.sendMessage("viewer.joinChannel",e)}(s),u.debug("Registering media change watch for %s",r)}},p.unWatchForChanges=function(){r&&(function(e){o.default.sendMessage("viewer.partChannel",e)}({channel:r,name:n.getName()}),u.debug("Unregistering media change watch for %s",r),t=null,a=null,r=null)},o.default.on("viewer.infoMsg",function(e){e.channel&&t&&t.media_name&&e.channel.toLowerCase()!==t.media_name.toLowerCase()||t&&t.media_views!==e.viewers&&i(function(){t&&(t.media_views=e.viewers)})}),o.default.on("open",function(){t&&p.watchForChanges(t,a)})}(),d.$on("$stateChangeStart",function(e,t,n,a,i){t.section===a.section&&(0,r.default)(n,i)||(m={live:{},video:{}},u.debug("Clear media cache"))}),this.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"live";return e=(""+e).toLowerCase(),m[t][e]?(u.debug('Getting media "%s" (%s) from cache',e,t),m[t][e]):this.refresh(e,t)},this.update=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"live",i={media_type:a,authToken:n.getToken()};return"video"===a?i.video=[t]:i.livestream=[t],i.media_name=t.media_id,e.update(i).$promise.then(f).then(function(e){return e.media_id?("live"===a&&(e.media_countries=[e.media_countries]),Object.assign(t,e),t):t})},this.updateStatus=function(e){return t.get({media_id:e.media_id}).$promise.then(function(t){e.media_is_live=t.media_is_live}).catch(function(){e.media_is_live=0})},this.refresh=function(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={media_name:t,media_type:i,showHidden:!0,authToken:n.getToken(),liveonly:!1};Object.assign(r,o),e.clearCache();var l=e.get(r).$promise.then(f);return function(e,t,n){m[t][e]=n,u.debug('Media "%s" (%s) is cached',e,t)}(t,i,l),l.catch(function(e){a.trackEvent("error500",(0,s.toJson)(e),(0,s.toJson)({media_name:!!r.media_name&&r.media_name,authToken:!!r.authToken,media_type:!!r.media_type&&r.media_type,showHidden:!!r.showHidden&&r.showHidden,liveonly:!!r.liveonly&&r.liveonly}))}),l},this.remove=function(e,t){delete m[t][e],u.debug('Media "%s" (%s) has been removed from cache',e,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=a(n(12)),r=a(n(1753)),s=n(0),l=a(n(16)),c=a(n(78));i.$inject=["Media","MediaStatus","loggedUser","Analytics","$timeout","$log","$rootScope"]},function(e,t,n){var a=n(428),i=n(443);e.exports=function(e,t){return e===t||a(e,t,i(t))}},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/mediafeatured",{},{get:{method:"GET",params:t,isArray:!1},put:{method:"POST",params:t,isArray:!1},delete:{method:"DELETE",params:t,isArray:!1},check:{method:"GET",params:{media_id:"@media_id"},url:i.default.apiUri+"/mediafeatured/:media_id",isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/stats/media/:media_id/:metric",{media_id:"@media_id",metric:"@metric"},{get:{method:"GET",params:t,isArray:!1},addview:{method:"POST",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e,t){var n={},a=t("media",{capacity:1}),o={response:function(e){return r.clearCache(),e.data}},r=e(i.default.apiUri+"/media/:media_type/:media_name/:list",{media_name:"@media_name",media_type:"@media_type",list:"@list",authToken:"@authToken"},{get:{method:"GET",cache:a,params:n,isArray:!1},create:{method:"POST",params:n,interceptor:o,isArray:!1},update:{method:"PUT",params:n,interceptor:o,isArray:!1},delete:{method:"DELETE",params:n,interceptor:o,isArray:!1},recommendedByUser:{method:"GET",url:i.default.apiUri+"/relateduser/:user",user:"@user"},relatedToChannel:{method:"GET",url:i.default.apiUri+"/relatedstreams/:channel",channel:"@channel"},relatedToChannelDetail:{method:"GET",url:i.default.apiUri+"/relateduserstreams/:channel",channel:"@channel"},esport:{method:"GET",url:i.default.apiUri+"/esport/events/:type",type:"@type",isArray:!1}});return r.clearCache=function(){a.removeAll()},r}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource","$cacheFactory"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/mediafeaturedlist",{limit:"@limit",liveOnly:"@liveOnly"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/mediainfo/live/:media_id",{media_id:"@media_id"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/mediakey/:channel",{channel:"@channel",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1},update:{method:"PUT",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/media/status/:media_id",{media_id:"@media_id"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/media/adminstatus/:media_id",{media_id:"@media_id"},{update:{method:"POST",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1763));n(1764),t.default={templateUrl:a.default,bindings:{media:"<",useShortVersion:"<?"}}},function(e,t,n){var a="/src/js/media/components/media-viewers.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<span class=media-viewers> <span ng-if=\"$ctrl.media.media_type_id === '1'\"> {{!$ctrl.useShortVersion ? $ctrl.media.media_views : ($ctrl.media.media_views | abbreviate:2:false:false)}} </span> <span ng-if=\"$ctrl.media.media_type_id !== '1'\"> {{:: 'global_text_live' | translate }} </span> </span> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}return o(n,[{key:"fetch",value:function(n){n=(0,r.default)({},n,s.default);var a=t.get(n);return e[function(){switch(n.type){case"related":return"relatedToChannel";case"relatedDetail":return"relatedToChannelDetail";case"recommended":return"recommendedByUser";case"esport":return"esport";default:return"get"}}()](a).$promise.then(function(e){var t=e.livestream||e.video;return t=t||[],Array.isArray(e.hosting)&&e.hosting.forEach(function(e){t.push(function(e){return e.hoster=!0,e.media_status=e.hosted_media_status,e.media_thumbnail=e.hosted_media_thumbnail,e.media_thumbnail_large=e.hosted_media_thumbnail_large,e}(e))}),t||[]})}}]),n}()}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=i;var r=a(n(629)),s=a(n(630));i.$inject=["Media","mediaListParams"]},function(e,t,n){function a(e,t,n,r,s,l){return o(e)&&o(t)&&(l.set(t,e),i(e,t,void 0,a,l),l.delete(t)),e}var i=n(289),o=n(29);e.exports=a},function(e,t,n){var a=n(289),i=n(215)(function(e,t,n,i){a(e,t,n,i)});e.exports=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(){}return n.prototype.fetch=function(n){var a={media:!0,team_name:n.filter.team};return"live"===(n=(0,o.default)({},n,l.default)).type&&(n=(0,o.default)(n,{filter:{live:!0}})),a=(0,r.default)(a,t.get(n)),e.get(a).$promise.then(function(e){return(0,s.default)(e.media.livestream)?e.media.video:e.media.livestream})},n}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(629)),r=a(n(59)),s=a(n(129)),l=a(n(630));i.$inject=["Team","mediaListParams"],t.default=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var a=this;this.fetch=function(i){return"followingWithRecommended"===(i=i||{}).type?function(e){return a.fetch((0,s.default)({},e,{type:"recommended",withFollowers:!0}))}(i):function(a){function i(e){return"esport"===a.type&&e.esport&&e.esport.start?e.uniqueId=e.media_id+e.esport.start:e.uniqueId=e.media_id,e}var s=(0,l.default)(a.filter,"team")?new t:new e;return n.debug("Getting %s %s medias for mediaList",a.limit||"unlimited",a.media_type||"live"),s.fetch(a).then(function(e){return e=e||[],e=(0,o.default)(e,i),e=(0,r.default)(e,"uniqueId")}).catch(function(e){return n.error("Media request error",e),[]})}(i)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(250)),r=a(n(320)),s=a(n(59)),l=a(n(107));i.$inject=["MediaMediaListBehavior","TeamMediaListBehavior","$log"],t.default=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=a(n(45)),s=a(n(107)),l=a(n(66)),c=a(n(59)),u=function(){function e(t,n,a){i(this,e),this.key=t,this.targetKey=n||t,(0,r.default)(a)&&(this.get=a)}return o(e,[{key:"get",value:function(e){var t={};return(0,s.default)(e,this.key)&&(t[this.targetKey]=e[this.key]),t}}]),e}(),d=[new u("userId","media_name"),new u("language"),new u("followerId","follower_id"),new u("gameId","game"),new u("searchCriteria","search"),new u("live","liveonly"),new u("channel"),new u("hashtag"),new u("uniqByUser","grouped"),new u("hidden",null,function(e){return(0,s.default)(e,this.key)?!1===e[this.key]?{}:(0,l.default)(e[this.key])?{showHidden:!0}:{hiddenOnly:!0}:{showHidden:!0}})],f=function(){function e(){i(this,e)}return o(e,[{key:"apply",value:function(e,t){return d.forEach(function(n){t=(0,c.default)(t,n.get(e.filter))}),t}}]),e}();t.default=f},function(e,t,n){"use strict";function a(e,t,n){var a=n.getState().language;n.subscribe(function(){var e=n.getState();a=e.language}),this.get=function(n){var o={media_type:n.type,fast:!0};return"recommended"===n.type&&t?o=function(e,n){return e.user=t.getName(),e.authToken=t.getToken(),n.withFollowers&&(e.withfollowers=!0),e.language=a.abbreviation,delete e.media_type,e}(o,n):(0,i.default)(n.filter,"team")||(o.list="list"),"esport"===n.type&&(o=function(e,t){return"esport"!==t.type?{}:(t.filter.live?e.type="now":!1===t.filter.live?e.type="future":e.type="all",e)}(o,n)),n.limit&&(o.limit=parseInt(n.limit,10)),n.orderBy&&(o.filter=n.orderBy),("relatedDetail"===n.type||t.isSuperAdmin())&&(o.authToken=t.getToken()),o=e.apply(n,o)}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(107));a.$inject=["mediaListFilters","loggedUser","$ngRedux"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1773)),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"getUserLogo",value:function(){return this.media.hoster?this.media.hosted_user_logo_small:this.media.channel.user_logo_small}}]),e}();t.default={bindings:{media:"<"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/media-list/components/media-meta.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=t-meta> <div class=t-status ng-bind-html="$ctrl.media.media_status | truncate:75 | hashtagFilter:$ctrl.media"></div> <div ng-if=!$ctrl.media.hoster class=t-meta-row2> <a ui-sref="detail.feed({channel: $ctrl.media.media_name})" class=t-name> {{::$ctrl.media.media_display_name}} </a> <verified-badge data-partner-type=$ctrl.media.partner_type></verified-badge> <a class=t-lang ng-if="::$ctrl.media.media_countries[0] || false" ui-sref="browse.language({language: $ctrl.media.media_countries[0]})"> {{::$ctrl.media.media_countries[0] }} </a> <a ng-if="::$ctrl.media.category_seo_key || false" class=t-game ui-sref="game({game_name: $ctrl.media.category_seo_key})"> {{::$ctrl.media.category_name}} </a> </div> <div ng-if=$ctrl.media.hoster class=t-meta-row2> <a ui-sref="detail.feed({channel: $ctrl.media.hosted_channel })" class=t-name> {{::$ctrl.media.hosted_channel}} </a> <span>{{::\'global_text_hosted-by\' | translate}}</span> <a class=t-name ui-sref="detail.feed({channel: $ctrl.media.media_display_name})"> {{::$ctrl.media.media_display_name}} </a> </div> </div> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e,t){var n=this,a=void 0;n.$onInit=function(){if(a=!1,!n.desktopType)throw new Error("Mandatory parameter 'desktopType' is not set.");n.mobileType=n.mobileType||n.desktopType,t.deviceSize.update()},e.$on("isMobile",function(){a=!0}),e.$on("isDesktop",function(){a=!1}),e.$on("isTablet",function(){a=!1}),n.listTypeIs=function(e){return a?e===n.mobileType:e===n.desktopType}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1775));a.$inject=["$scope","DisplayService"],t.default={templateUrl:i.default,bindings:{desktopType:"@",mobileType:"@?",options:"="},controller:a}},function(e,t,n){var a="/src/js/media-list/components/media-list.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<media-list-carousel ng-if="$ctrl.listTypeIs(\'carousel\')" data-title="{{:: $ctrl.options.i18nTitle | translate}}" type="{{:: $ctrl.options.type }}" limit="{{:: $ctrl.options.limit }}" sub-title="{{:: $ctrl.options.i18nSubTitle | translate }}" title-sref="{{:: $ctrl.options.titleSref }}" filter=$ctrl.options.filter></media-list-carousel> <media-list-grid ng-if="$ctrl.listTypeIs(\'grid\')" data-title="{{:: $ctrl.options.i18nTitle | translate }}" type="{{:: $ctrl.options.type }}" limit=5 sub-title="{{:: $ctrl.options.i18nSubTitle | translate }}" title-sref="{{:: $ctrl.options.titleSref }}" show-more="{{:: $ctrl.options.showMore }}" filter=$ctrl.options.filter></media-list-grid> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,s,y){function w(){s(k)}function $(){C()}function x(){C(),(I+=j.visibleItemsLimit)+j.visibleItemsLimit>j.medias.length&&(I=j.medias.length-j.visibleItemsLimit)}function k(){var e=function(){var e=A.find(".media-list-carousel__item:first-child");return e?e.width():0}();e&&(j.visibleItemsLimit=Math.round(A.width()/e))}function S(){return j.direction!==m}function C(){A.removeClass("animate"),j.direction=m}function M(e){return j.medias=e||[],j.loading=!1,j.medias}function E(e){return e>=g&&j.titleSref}function T(){j.medias.length===j.limit-1&&E(j.limit)&&j.medias.push({type:_,titleSref:j.titleSref})}function P(){M([])}function O(){return j.type||"live"}var j=this,A=t.find(".media-list-carousel__items"),I=void 0;j.$onInit=function(){j.type=O(),j.filter=j.filter||{},j.limit=j.limit?parseInt(j.limit,10):h,j.direction=m,j.medias=[],j.loading=!0,j.visibleItemsLimit=h,I=0,n.fetch({type:j.type,limit:function(e){return E(e)?e-1:e}(j.limit),filter:j.filter}).then(M).then(T).catch(P).finally(function(){s(k)}),e.$on("WindowResize",(0,o.default)(w,100))},j.trackClickOnElement=function(e){a.trackEvent("carousel",O(),e)},j.previousPage=function(){S()||(a.trackEvent("carousel-previous-page-clicked",O()),k(),j.direction=f,j.amountToShiftBy=j.visibleItemsLimit,I-j.visibleItemsLimit<0?(j.amountToShiftBy=I,I=0):I-=j.visibleItemsLimit,i.addClass(A,"animate").then($))},j.nextPage=function(){S()||(a.trackEvent("carousel-next-page-clicked",O()),k(),j.direction=p,j.amountToShiftBy=function(){var e=j.visibleItemsLimit,t=I+j.visibleItemsLimit;return t+j.visibleItemsLimit>j.medias.length&&(e=j.medias.length-t),e}(),i.addClass(A,"animate").then(x))},j.getVisibleItemsLimit=function(){return j.direction!==m?2*j.visibleItemsLimit:j.visibleItemsLimit},j.getVisibleItemsStartIndex=function(){return I},j.hasPreviousPage=function(){return 0!==j.getVisibleItemsStartIndex()},j.hasNextPage=function(){return j.medias.length>j.getVisibleItemsStartIndex()+j.visibleItemsLimit},j.getPageCount=function(){var e=Math.ceil(j.medias.length/j.visibleItemsLimit);return e>b&&(e=0),e},j.getCurrentPage=function(){return Math.floor((I+j.visibleItemsLimit-1)/j.visibleItemsLimit)},j.getTemplateNameByMedia=function(e){var t=l.default;return O()===v?t=u.default:e.type===_?t=d.default:e.media_type_id===r.default.VIDEO&&(t=c.default),t},j.hasResults=function(){return j.loading||j.medias.length&&!j.loading}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(133)),r=a(n(78)),s=a(n(1777)),l=a(n(631)),c=a(n(632)),u=a(n(633)),d=a(n(1778));n(1779),i.$inject=["$scope","$element","mediaList","Analytics","$animate","$timeout","DisplayService"];var f="previous",p="next",m="",h=5,g=11,_="show-all",v="esport",b=10;t.default={templateUrl:s.default,bindings:{title:"@?",type:"@?",limit:"@?",subTitle:"@?",titleSref:"@?",filter:"<?"},controller:i}},function(e,t,n){var a="/src/js/media-list/components/media-list-carousel.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=\"media-list-carousel media-list-carousel--type-{{::$ctrl.type}} media-list-carousel--direction-{{$ctrl.direction}}-by-{{$ctrl.amountToShiftBy}}-of-{{$ctrl.visibleItemsLimit}} {{($ctrl.loading ? 'media-list-carousel--is-loading' : '')}}\"> <div ng-if=::$ctrl.title class=media-list-carousel__headline> <h1 ng-if=::!$ctrl.titleSref class=media-list-carousel__headline__title> {{::$ctrl.title}} </h1> <h1 ng-if=::$ctrl.titleSref class=media-list-carousel__headline__title> <a ui-sref={{::$ctrl.titleSref}}> {{::$ctrl.title}} </a> </h1> <div ng-if=::$ctrl.subTitle class=media-list-carousel__headline__sub-title> {{::$ctrl.subTitle}} </div> <smash-carousel-pagination data-count=$ctrl.getPageCount() data-active-index=$ctrl.getCurrentPage() data-align=\"'right'\"></smash-carousel-pagination> </div> <div class=media-list-carousel__content ng-swipe-left=$ctrl.nextPage() ng-swipe-right=$ctrl.previousPage()> <div class=media-list-carousel__items-container> <ul class=\"media-list-carousel__items media-list__items\"> <li ng-repeat=\"media in $ctrl.medias | limitTo:$ctrl.getVisibleItemsLimit():$ctrl.getVisibleItemsStartIndex() track by media.uniqueId\" ng-click=$ctrl.trackClickOnElement($index) class=\"media-list-carousel__item media-list__item\"> <div ng-include=::$ctrl.getTemplateNameByMedia(media)></div> </li> </ul> </div> <htbx-carousel-controls data-show-prev=$ctrl.hasPreviousPage() data-show-next=$ctrl.hasNextPage() data-on-prev=$ctrl.previousPage() data-on-next=$ctrl.nextPage(direction)></htbx-carousel-controls> </div> <div ng-if=!$ctrl.hasResults() class=media-list-carousel__no-results> {{:: 'global_header_no-' + ($ctrl.type === 'video' ? 'videos' : 'live-streams') | translate}} </div> <div ng-if=$ctrl.loading class=media-list-carousel__loader> <ul class=media-list-carousel__placeholders> <li class=media-list-carousel__placeholder></li> <li class=media-list-carousel__placeholder></li> <li class=media-list-carousel__placeholder></li> <li class=media-list-carousel__placeholder></li> <li class=media-list-carousel__placeholder></li> </ul> </div> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/media-list/views/show-all-media.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<a ui-sref={{::media.titleSref}} class=media-list-carousel__show-all> <div class=media-list-carousel__slide__wrap> <div class=media-list-carousel__slide__grad></div> <div class=media-list-carousel__slide__meta> <span class=media-list-carousel__slide__title>{{::'global_button_showmore' | translate}}</span> </div> </div> </a> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(e,t){return t.$attr.useCarousel?f.default:d.default}function a(t,n,a,i){function o(){var e=void 0;return d.percentage=(d.carouselItemWidth+d.carouselItemGutter)/d.virtualSliderWidth*100,e=d.slidesDisplayed>1&&d.twoRows?2*d.slidesDisplayed>d.slidesToBeShown?d.slidesToBeShown/2:d.slidesDisplayed:1===d.slidesDisplayed?1:d.slidesDisplayed>d.slidesToBeShown?d.slidesToBeShown:d.slidesDisplayed,e=Math.floor(e),d.percentage*e}function r(e){return d.hasMore=e.length>d.limit,d.hasMore&&(e.length=d.limit),e}function l(e){d.medias=e||[]}function c(){l([])}var d=this;d.medias=[],d.mediaPlaceholders=new Array(1),d.type=d.type||"live",d.limit=d.limit?parseInt(d.limit,10):void 0,d.lines=d.lines?parseInt(d.lines,10):void 0,d.filter=d.filter||{},d.dateNow=new Date,d.initialLimit=d.limit,d.templateUrlShowMore=p.default,d.loading=!0,n.$watch(function(){return d.filter},function(e,t){e&&e!==t&&d.refresh()},!0),n.$watch(function(){return d.orderBy},function(e,t){e&&e!==t&&d.refresh()},!0),d.refresh=function(){d.loading=!0,function(){if(d.limit&&!(d.limit<=d.medias.length)){var e=d.limit-d.medias.length;d.mediaPlaceholders=new Array(e)}}(),a.fetch({type:d.type,limit:parseInt(d.limit,10)+1,filter:d.filter,orderBy:d.orderBy}).then(r).then(l).catch(c).finally(function(){d.mediaPlaceholders=[],(0,s.default)(d,"listLength")&&(d.listLength=d.medias.length),function(){if(d.useCarousel){d.section=t.section,e(function(){d.calculateSlider()});var n=!1;d.isFirstBig=!d.isFirstBig||"true"===d.isFirstBig,d.moveSlide=function(t){n||(n=!0,e(function(){n=!1},300),"prev"===t?d.carouselPage>1&&(0===d.slidesToBeShown?d.slidesToBeShown+=d.lastMove:d.slidesToBeShown+=d.twoRows?Math.floor(2*d.slidesDisplayed):Math.floor(d.slidesDisplayed),d.translation+=o(),d.carouselPage-=1):"next"===t&&d.carouselPage<d.pages.length&&(d.translation-=o(),d.twoRows?(d.lastMove=2*d.slidesDisplayed>d.slidesToBeShown?d.slidesToBeShown:Math.floor(2*d.slidesDisplayed),d.slidesToBeShown-=2*d.slidesDisplayed>d.slidesToBeShown?d.slidesToBeShown:Math.floor(2*d.slidesDisplayed)):(d.lastMove=d.slidesDisplayed>d.slidesToBeShown?d.slidesToBeShown:Math.floor(d.slidesDisplayed),d.slidesToBeShown-=d.slidesDisplayed>d.slidesToBeShown?d.slidesToBeShown:Math.floor(d.slidesDisplayed)),e(function(){d.carouselPage+=1},300)),i.trackEvent("Carouselclicked_"+d.type,t))},d.getLimit=function(e){var t=0;return d.slidesDisplayed=d.sliderWidth/(d.carouselItemWidth+d.carouselItemGutter),1===e?d.isFirstBig&&d.twoRows?(t=2*d.slidesDisplayed-3,d.virtualSliderWidth=(d.carouselItemWidth+d.carouselItemGutter)*d.medias.length/2,d.virtualSliderWidth+=2*(d.carouselItemWidth+d.carouselItemGutter)+2*(d.carouselItemWidth+d.carouselItemGutter)):t=d.slidesDisplayed>1&&d.twoRows?2*d.slidesDisplayed:d.medias.length:t=d.twoRows?2*d.slidesDisplayed:d.slidesDisplayed,t},d.trimLastPageLimit=function(e){d.slidesDisplayed=d.sliderWidth/(d.carouselItemWidth+d.carouselItemGutter);for(var t=d.medias.length,n=1;n<e;n++)d.twoRows?1===n&&d.isFistBig?t-=Math.floor(2*d.slidesDisplayed-3):2*d.slidesDisplayed>t?t-=t:t-=Math.floor(2*d.slidesDisplayed):t-=Math.floor(d.slidesDisplayed);return d.twoRows?(t=t%2==1?t-1:t,(t=2*d.slidesDisplayed>t?t:2*d.slidesDisplayed)||d.pages.splice(d.pages.length-1,1),t):t},d.calculatePage=function(e){d.slidesDisplayed=d.sliderWidth/(d.carouselItemWidth+d.carouselItemGutter);for(var t=d.medias.length,n=1;n<e;n++)d.twoRows?1===n&&d.isFirstBig?t-=Math.floor(2*d.slidesDisplayed-3):2*d.slidesDisplayed>t?t-=t:t-=Math.floor(2*d.slidesDisplayed):t-=Math.floor(d.slidesDisplayed);var a=2*d.slidesDisplayed>t?Math.floor(t/2):d.slidesDisplayed;return 1===e?d.isFirstBig&&d.twoRows?(d.carouselItemWidth+d.carouselItemGutter)*(d.slidesDisplayed-2):d.slidesDisplayed>1&&d.twoRows?(d.carouselItemWidth+d.carouselItemGutter)*a:d.slidesDisplayed>1?(d.carouselItemWidth+d.carouselItemGutter)*d.medias.length:d.carouselItemWidth*d.medias.length:(d.carouselItemWidth+d.carouselItemGutter)*a-(e===d.pages.length?0:d.carouselItemGutter)},d.createPages=function(){e(function(){var e=Math.ceil(d.medias.length/(1===d.slidesDisplayed?1:d.slidesDisplayed*(d.twoRows?2:1)));d.pages=[],e>5&&(e=5);for(var t=0;t<e;t++)d.pages.push(t)})},d.isSlideVisible=function(e){return!!(d.slidesDisplayed>1&&d.twoRows)&&Math.abs(d.carouselPage-e)<2},d.ceil=function(e){return Math.ceil(e)}}}(),d.loading=!1})},d.getTemplateNameByMedia=function(e){var t=m.default;return"esport"===d.type?t=_.default:e.media_type_id===u.default.VIDEO&&(t=h.default,d.mediaTemplate&&(t=g.default)),t}}function i(n,a,i,s){function u(){s.loading||g()}function d(){s.limit=parseInt(s.limit,10)+Math.floor(h/p)*s.lines}function f(){var e=void 0,n=void 0;try{var i=a.find(".media-element").add(a.find(".media-list__media-placeholder")).first();n=i[0].getBoundingClientRect().width,h=i.parent()[0].getBoundingClientRect().width}catch(e){t.error("Could not generate media list limit "+e)}for(n&&(p=n),s.limit=0,e=0;e<=m;e++)d()}var p=void 0,m=0,h=void 0;s.calculateSlider=function(){s.carouselPage=1,s.translation=0,s.sliderWidth="channel"===s.section?a.parent().width():a[0].clientWidth,s.carouselItemWidth=v,s.carouselItemGutter=b;var e=s.sliderWidth===s.carouselItemWidth?0:s.carouselItemGutter;s.slidesDisplayed=s.sliderWidth/(s.carouselItemWidth+e),s.twoRows=!o.default.isUndefined(s.lines)&&s.lines>1,s.isFirstBig=!!o.default.isUndefined(s.isFirstBig)||s.isFirstBig,s.twoRows&&s.slidesDisplayed>=4||(s.isFirstBig=!1),s.slidesDisplayed>1&&s.twoRows?(s.virtualSliderWidth=(s.carouselItemWidth+e)*s.medias.length/2,s.virtualSliderWidth+=2*(s.carouselItemWidth+e)):s.slidesDisplayed>1&&(s.virtualSliderWidth=(s.carouselItemWidth+e)*s.medias.length),s.twoRows?s.slidesToBeShown=1===s.carouselPage&&s.isFirstBig?s.medias.length-Math.floor(2*s.slidesDisplayed-3):s.medias.length-Math.floor(2*s.slidesDisplayed):s.slidesToBeShown=s.medias.length-Math.floor(s.slidesDisplayed),s.percentage=s.sliderWidth/s.slidesDisplayed/s.sliderWidth*100,s.createPages()},s.fetchMore=function(){m+=1,d(),s.refresh()},e(function(){n.$applyAsync(function(){s.limit||!s.lines||s.useCarousel||f(),s.refresh()})});var g=(0,r.default)(function(){e(function(){s.useCarousel?(0,l.default)(s.calculateSlider)&&s.calculateSlider():((0,c.default)(s.initialLimit)||1!==parseInt(s.initialLimit,10))&&(f(),s.limit>s.medias.length&&s.refresh())})},500);n.$on("WindowResize",u),n.$on("chatResize",u)}return i.$inject=["scope","element","attr","vm"],a.$inject=["$rootScope","$scope","mediaList","Analytics"],n.$inject=["elem","attr"],{restrict:"E",templateUrl:n,replace:!0,scope:{type:"@?",mediaTemplate:"@?",lines:"@?",limit:"@?",filter:"=?",orderBy:"=?",showMore:"@?",useCarousel:"@?",isFirstBig:"@?",twoRows:"@?",title:"@",subtitle:"@",titleSref:"@?",listLength:"=?"},bindToController:!0,controllerAs:"mediaListGrid",controller:a,require:"mediaListGrid",link:i}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(43)),s=a(n(107)),l=a(n(45)),c=a(n(11)),u=a(n(78)),d=a(n(1781)),f=a(n(1782)),p=a(n(1783)),m=a(n(631)),h=a(n(632)),g=a(n(1784)),_=a(n(633));n(1785),i.$inject=["$timeout","$log"];var v=290,b=12;t.default=i},function(e,t,n){var a="/src/js/media-list/directives/media-list-directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-class="{\n        \'media-list--is-loading\': mediaListGrid.loading,\n    }" class=media-list> <div ng-if=::mediaListGrid.title class=media-list-title> <h1 ng-if=::!mediaListGrid.titleSref> {{::mediaListGrid.title}} </h1> <h1 ng-if=::mediaListGrid.titleSref> <a ui-sref={{::mediaListGrid.titleSref}}> {{::mediaListGrid.title}} </a> </h1> <div class=media-list-title__sub-title> {{::mediaListGrid.subtitle}} </div> </div> <div class=media-list__content> <ul ng-class="::{\n                \'media-list__items--type-default\': mediaListGrid.type !== \'esport\',\n            }" class="media-list__items {{::mediaListGrid.type}}"> <li ng-repeat="media in mediaListGrid.medias | limitTo:mediaListGrid.limit track by media.uniqueId" class="media-list__item media-list__live-list animate media-element" ng-class="::{hidden: media.media_hidden || false, playing_now: media.playing_now || false}"> <div ng-include=::mediaListGrid.getTemplateNameByMedia(media)></div> </li> <li ng-repeat="mediaPlaceholder in mediaListGrid.mediaPlaceholders track by $index" class="media-list__item media-list__media-placeholder animate"></li> </ul> <div ng-if="mediaListGrid.showMore && mediaListGrid.hasMore" class=media-list__controls> <div class=media-list__show-more> <htbx-button data-type=button data-variant=outline data-loading=mediaListGrid.loading data-on-select=mediaListGrid.fetchMore() data-loading-spinny=true data-disabled=mediaListGrid.loading> {{:: \'global_button_showmore\' | translate}} </htbx-button> </div> </div> <div class=media-list__no-content ng-if="mediaListGrid.medias.length === 0 && !mediaListGrid.loading"> {{:: \'global_header_no-\' + (mediaListGrid.type === \'video\' ? \'videos\' : \'live-streams\') | translate}} </div> </div> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/media-list/directives/media-list-carousel-directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-class="{\n        \'depr_media-list-carousel--is-loading\': mediaListGrid.loading\n    }" class=depr_media-list-carousel> <div class=media-list-title ng-if=::mediaListGrid.title> <h1 ng-if=::!mediaListGrid.titleSref> {{::mediaListGrid.title}} </h1> <h1 ng-if=::mediaListGrid.titleSref> <a ui-sref={{::mediaListGrid.titleSref}}> {{::mediaListGrid.title}} </a> </h1> <smash-carousel-pagination ng-if="!mediaListGrid.loading && mediaListGrid.pages.length > 1" data-count=mediaListGrid.pages.length data-active-index="mediaListGrid.carouselPage - 1" data-align="\'right\'"></smash-carousel-pagination> </div> <div class=depr_media-list-carousel__wrapper ng-class="{\n            \'depr_media-list-carousel__wrapper--oneRow\': !mediaListGrid.twoRows,\n            \'depr_media-list-carousel__wrapper--esports\': mediaListGrid.type === \'esport\',\n        }"> <div class=depr_media-list-carousel__container> <div class="depr_media-list-carousel__slider animate media-element" ng-swipe-left="mediaListGrid.moveSlide(\'next\')" ng-swipe-right="mediaListGrid.moveSlide(\'prev\')" ng-show=mediaListGrid.virtualSliderWidth ng-class="{\n                    \'depr_media-list-carousel__slider--firstBig\': mediaListGrid.isFirstBig && mediaListGrid.twoRows,\n                }" ng-style="{\n                    \'width\': mediaListGrid.virtualSliderWidth,\n                    \'transform\': \'translateX(\' + mediaListGrid.translation + \'%)\',\n                }" ng-if="mediaListGrid.medias.length && !mediaListGrid.loading"> <ul ng-class="::{\n                        \'media-list__items--type-default\': (mediaListGrid.type !== \'esport\'),\n                    }" class="depr_media-list-carousel__page media-list__items {{::mediaListGrid.type}}" data-page=0 ng-style="{\n                        \'width\': mediaListGrid.calculatePage(1),\n                    }"> <li class="depr_media-list-carousel__live-list depr_media-list-carousel__slide media-list__item animate" ng-class="{\n                            \'depr_media-list-carousel__slide--first\': $first,\n                            \'depr_media-list-carousel__slide--firstBig\': mediaListGrid.isFirstBig && mediaListGrid.twoRows,\n                            \'depr_media-list-carousel__slide--lastInRow\': ((mediaListGrid.twoRows && ($index+1 === mediaListGrid.ceil(filteredMedias.length/2))) || $last),\n                        }" ng-repeat="media in filteredMedias = (mediaListGrid.medias | limitTo: mediaListGrid.getLimit(1):0) track by media.uniqueId"> <div ng-if="mediaListGrid.limit > mediaListGrid.medias.length || !mediaListGrid.titleSref || !((!mediaListGrid.twoRows && $last) || (mediaListGrid.twoRows && mediaListGrid.pages.length === 1 && $last))" ng-include=::mediaListGrid.getTemplateNameByMedia(media)></div> <a ng-if="mediaListGrid.limit <= mediaListGrid.medias.length && mediaListGrid.titleSref && ((!mediaListGrid.twoRows && $last) || (mediaListGrid.twoRows && mediaListGrid.pages.length === 1 && $last))" ui-sref={{::mediaListGrid.titleSref}} ng-include=::mediaListGrid.templateUrlShowMore class=depr_media-list-carousel__show-more></a> </li> </ul> <ul ng-repeat="i in mediaListGrid.pages | startFrom: 1 track by $index" ng-class="::{\n                        \'media-list__items--type-default\': (mediaListGrid.type !== \'esport\'),\n                    }" class="depr_media-list-carousel__page media-list__items {{::mediaListGrid.type}}" ng-style="{\n                        \'width\': mediaListGrid.calculatePage($index+2),\n                    }"> <li ng-if=mediaListGrid.isSlideVisible(i) class="depr_media-list-carousel__live-list depr_media-list-carousel__slide animate" ng-class="{\n                            \'depr_media-list-carousel__slide--lastInRow\': ((mediaListGrid.twoRows && ($index+1 === mediaListGrid.ceil(filteredMedias.length/2))) || $last),\n                        }" ng-repeat="media in filteredMedias = (mediaListGrid.medias | startFrom: ((mediaListGrid.isFirstBig) ? ((i*mediaListGrid.getLimit(i+1))-3) : (i*mediaListGrid.getLimit(i+1))) | limitTo: (i+1 === mediaListGrid.pages.length) ? mediaListGrid.trimLastPageLimit(i+1) : mediaListGrid.getLimit(i+1)) track by media.uniqueId"> <div ng-if="!((i === mediaListGrid.pages.length-1) && $last)" ng-include=::mediaListGrid.getTemplateNameByMedia(media)></div> <a ng-if="(i === mediaListGrid.pages.length-1) && $last && mediaListGrid.titleSref" ui-sref={{::mediaListGrid.titleSref}} ng-include=::mediaListGrid.templateUrlShowMore class=depr_media-list-carousel__show-more></a> </li> </ul> </div> </div> <htbx-carousel-controls ng-if=!mediaListGrid.loading data-show-prev="mediaListGrid.carouselPage !== 1" data-show-next="mediaListGrid.carouselPage < mediaListGrid.pages.length" data-on-prev="mediaListGrid.moveSlide(\'prev\')" data-on-next="mediaListGrid.moveSlide(\'next\')"></htbx-carousel-controls> </div> <div class=media-list__no-content ng-if="mediaListGrid.medias.length === 0 && !mediaListGrid.loading"> {{:: \'global_header_no-\' + (mediaListGrid.type === \'video\' ? \'videos\' : \'live-streams\') | translate}} </div> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/media-list/views/carousel-show-more.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=depr_media-list-carousel__show-more> <div class=\"depr_media-list-carousel__slide__wrap depr_media-list-carousel__slide--showMore\"> <div class=depr_media-list-carousel__slide__meta> <span class=depr_media-list-carousel__slide__title> {{::'global_button_showmore' | translate}} </span> </div> </div> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/media-list/views/video-list-media.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<a class=video-list-media ui-sref="detail.video({channel: media.media_user_name, id: media.media_id})"> <div class=video-list-media__wrap> <div class=video-list-media__play> <smash-icon icon=play size=32 center=true></smash-icon> </div> <img class="video-list-media__img tImg" ng-src={{::$root.config.imgUrl}}{{::media.media_thumbnail}} fallback-src={{::$root.config.fallbackImages.videoMedia}} alt=""/> <div class=video-list-media__duration> <smash-icon icon=clock size=12 class=video-list-media__duration__icon></smash-icon> <span class=video-list-media__duration__text> {{::media.media_duration | stringifySeconds }} </span> </div> </div> <div class=video-list-media__meta> <div class=video-list-media__meta__status> {{::media.media_status | truncate:45}} </div> <span class=video-list-media__meta__name> <img class=video-list-media__meta__logo ng-src={{::$root.config.imgUrl}}{{::media.channel.user_logo_small}} fallback-src={{::$root.config.fallbackImages.userLogoSmall}} alt=""/> {{::media.media_user_name}} </span> </div> </a> ')}]),e.exports=a},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1788);var a=function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getTranslation=function(e,t){return a.$translate.instant(e,t)},this.$state=t,this.$translate=n};a.$inject=["$state","$translate"],t.default={controller:a,template:'\n        <browse-page-browse-links-react\n            state-current-name="$ctrl.$state.current.name"\n            state-href="$ctrl.$state.href"\n        ></browse-page-browse-links-react>\n\n        <htbx-layout data-variant="full">\n            <htbx-layout-content>\n                <section\n                    class="browse-page"\n                >\n                    <section\n                        class="browse-page__content"\n                        ui-view\n                    ></section>\n                </section>\n            </htbx-layout-content>\n        </htbx-layout>\n    '}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1790)),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loggedUser=t,this.order="popular",this.filter={hidden:!!t.isSuperAdmin()&&null}}return e.$inject=["loggedUser"],a(e,[{key:"setOrder",value:function(e){this.order=e}},{key:"isOrderActive",value:function(e){return this.order===e}},{key:"toggleFilterHidden",value:function(e){this.filter.hidden=!e||null}}]),e}();t.default={templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/browse/components/browse-channels-page.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <device-check ng-if=$ctrl.loggedUser.isSuperAdmin() show-if-mobile=true show-if-tablet=false show-if-desktop=false> <smash-channel-filter-links data-order={{$ctrl.order}} data-on-toggle-filter-hidden=$ctrl.toggleFilterHidden(filter) data-on-set-order=$ctrl.setOrder(order) class=browse-page__mobile-nav></smash-channel-filter-links> </device-check> <div class=browse-page__columns> <device-check ng-if=$ctrl.loggedUser.isSuperAdmin() show-if-mobile=false show-if-tablet=true show-if-desktop=true> <smash-channel-filter-links data-variant=vertical data-order={{$ctrl.order}} data-on-toggle-filter-hidden=$ctrl.toggleFilterHidden(filter) data-on-set-order=$ctrl.setOrder(order) class=browse-page__nav></smash-channel-filter-links> </device-check> <media-list-grid lines=7 show-more=true filter=$ctrl.filter order-by=$ctrl.order class=browse-channels__thumbs status=list.status></media-list-grid> </div> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1792));t.default={templateUrl:a.default}},function(e,t,n){var a="/src/js/browse/components/browse-esports-page.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section> <media-list-grid data-title="{{::\'global_text_live\' | translate}}" data-type=esport data-filter="{\n            live: true,\n        }" class="media-list--type-esports media-list--type-esports-live"></media-list-grid> </section> <section> <media-list-grid data-title="{{::\'global_text_coming-up\' | translate}}" data-type=esport data-filter="{\n            live: false,\n        }" class="media-list--type-esports media-list--type-esports-upcoming"></media-list-grid> </section> ')}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1794)),i=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.filter={followerId:t.getId(),live:!1}};i.$inject=["loggedUser"],t.default={templateUrl:a.default,controller:i}},function(e,t,n){var a="/src/js/browse/components/following-page.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<section class=browse-channels--following> <media-list-grid data-title=\"{{::'global_text_live-channels-follow' | translate}}\" type=live filter=$ctrl.filter order-by=\"'popular'\" class=browse-channels__thumbs></media-list-grid> </section> <section class=browse-channels--recommended> <media-list-grid data-title=\"{{::'global_text_recommended' | translate}}\" data-subtitle=\"{{::'global_text_based-on-channels-you-watched' | translate}}\" type=recommended lines=1 class=browse-channels__thumbs></media-list-grid> </section> <section class=browse-channels--following-vods> <media-list-grid data-title=\"{{::'global_text_videos-of-channels-followed' | translate}}\" type=video lines=2 show-more=true filter=$ctrl.filter order-by=\"'recent'\" class=browse-channels__thumbs></media-list-grid> </section> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1796));n(1797),t.default={templateUrl:a.default}},function(e,t,n){var a="/src/js/browse/components/browse-games-page.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<htbx-game-list type=all filter="" limit=1000 liveonly=true></htbx-game-list> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(514)),o=a(n(89)),r=a(n(132)),s=a(n(1799)),l=function e(t,n,a,s,l){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.hashtag){var c=t.hashtag;t.source&&(n.trackEvent("hashtag",c,t.source),a.search("source",null)),this.filter={hashtag:c}}else s.get({limit:1}).$promise.then(function(e){return(0,i.default)(o.default,r.default)(e.data)}).then(function(e){return l.go("browse.hashtags",{hashtag:e})})};l.$inject=["$stateParams","Analytics","$location","Hashtags","$state"],t.default={templateUrl:s.default,controller:l}},function(e,t,n){var a="/src/js/browse/components/browse-hashtags-page.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <device-check show-if-mobile=true show-if-tablet=false show-if-desktop=false> <hashtag-list class=browse-page__mobile-nav></hashtag-list> </device-check> <div ng-if=$ctrl.filter.hashtag class=browse-page__columns> <device-check show-if-mobile=false show-if-tablet=true show-if-desktop=true> <hashtag-list variant=vertical class=browse-page__nav></hashtag-list> </device-check> <media-list-grid filter=$ctrl.filter class=browse-channels__thumbs></media-list-grid> </div> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1801)),o=function(e){return{language:e.language.abbreviation}},r=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$ngRedux=a,this.unsubscribeReduxConnection=this.$ngRedux.connect(o)(this),t.language?this.filter={language:t.language}:n.go(n.current,{language:this.language})}return e.$inject=["$stateParams","$state","$ngRedux"],a(e,[{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}}]),e}();t.default={templateUrl:i.default,controller:r}},function(e,t,n){var a="/src/js/browse/components/browse-languages-page.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <device-check show-if-mobile=true show-if-tablet=false show-if-desktop=false> <smash-language-links class=browse-page__mobile-nav></smash-language-links> </device-check> <div class=browse-page__columns> <device-check show-if-mobile=false show-if-tablet=true show-if-desktop=true> <smash-language-links variant=vertical class=browse-page__nav></smash-language-links> </device-check> <media-list-grid filter=$ctrl.filter class=browse-channels__thumbs></media-list-grid> </div> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(11)),o=function(){function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getTranslation=function(e,t){return a.$translate.instant(e,t)},this.$state=t,this.$translate=n}return e.$inject=["$state","$translate"],a(e,[{key:"$onInit",value:function(){(0,i.default)(this.variant)&&(this.variant="default")}}]),e}();t.default={bindings:{variant:"@?",showForYou:"<?"},controller:o,template:'\n        <browse-links-react\n            variant="$ctrl.variant"\n            state-current-name="$ctrl.$state.current.name"\n            state-href="$ctrl.$state.href"\n            show-for-you="$ctrl.showForYou"\n        ></browse-links-react>\n    '}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(11)),o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$state=t,this.$stateParams=n}return e.$inject=["$state","$stateParams"],a(e,[{key:"$onInit",value:function(){(0,i.default)(this.variant)&&(this.variant="default")}}]),e}();t.default={bindings:{variant:"@?",languages:"<"},controller:o,template:'\n        <language-links-react\n            variant="$ctrl.variant"\n            state-current-name="$ctrl.$state.current.name"\n            state-current-language="$ctrl.$stateParams.language"\n            state-href="$ctrl.$state.href"\n        ></language-links-react>\n    '}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(11)),o=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.toggleFilterHidden=function(){t.filterHidden=!t.filterHidden,t.onToggleFilterHidden&&t.onToggleFilterHidden({filter:t.filterHidden})},this.setOrder=function(e){t.order=e,t.onSetOrder&&t.onSetOrder({order:t.order})},this.filterHidden=!0,this.adminOrders=[{order:"trending",title:"Trending"},{order:"recent",title:"New"},{order:"popular",title:"Popular"},{order:"n-popular",title:"Unpopular"}]}return a(e,[{key:"$onInit",value:function(){(0,i.default)(this.variant)&&(this.variant="default")}}]),e}();t.default={bindings:{variant:"@?",order:"@",onToggleFilterHidden:"&?",onSetOrder:"&?"},controller:o,template:'\n        <channel-filter-links-react\n            toggle="$ctrl.toggleFilterHidden"\n            variant="$ctrl.variant"\n            filter-hidden="$ctrl.filterHidden"\n            admin-orders="$ctrl.adminOrders"\n            active-order="$ctrl.order"\n            set-order="$ctrl.setOrder"\n        ></channel-filter-links-react>\n    '}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),n(26)),r=a(n(139)),s=a(n(188)),l=function(e){var t=e.stateCurrentName,n=e.stateHref,a=e.variant,l=e.showForYou,c=e.skeleton;return i.default.createElement(r.default,e,l?i.default.createElement(s.default,{variant:a,href:n?n("browse.forYou"):null,isActive:"browse.forYou"===t,skeleton:c},(0,o.getTranslation)("global_text_for-you")):null,i.default.createElement(s.default,{variant:a,href:n?n("browse.channels"):null,isActive:"browse.channels"===t,skeleton:c},(0,o.getTranslation)("global_text_popular")),i.default.createElement(s.default,{variant:a,href:n?n("browse.hashtags"):null,isActive:"browse.hashtags"===t,skeleton:c},(0,o.getTranslation)("global_text_hashtags")),i.default.createElement(s.default,{variant:a,href:n?n("browse.language"):null,isActive:"browse.language"===t,skeleton:c},(0,o.getTranslation)("global_text_languages")),i.default.createElement(s.default,{variant:a,href:n?n("browse.games"):null,isActive:"browse.games"===t,skeleton:c},(0,o.getTranslation)("global_link_games")),i.default.createElement(s.default,{variant:a,href:n?n("browse.esports"):null,isActive:"browse.esports"===t,skeleton:c},(0,o.getTranslation)("global_text_esports")))};l.defaultProps={stateCurrentName:null,stateHref:null,variant:"default",showForYou:!1,skeleton:!1},t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),n(1807)),r=function(e){var t=e.children;return i.default.createElement(o.StyledComponent,e,t)};r.defaultProps={variant:"default",children:null},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledComponent=void 0;var a=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n            display: block;\n            margin-bottom: 40px;\n            padding-left: ","px;\n        "],["\n            display: block;\n            margin-bottom: 40px;\n            padding-left: ","px;\n        "]),i=n(10),o=function(e){return e&&e.__esModule?e:{default:e}}(i),r=n(20),s=n(40),l={default:(0,i.css)(["display:flex;margin:0 0 20px;padding-right:","px;white-space:nowrap;box-shadow:inset 0 -1px 0 0 ",";list-style:none;overflow-x:auto;",""],s.gutter,r.line,s.mediaQueries.greaterThan("mobile")(a,s.gutter)),vertical:(0,i.css)([""]),nav:(0,i.css)(["margin-top:20px;padding-left:16px;"])};t.StyledComponent=o.default.ul.attrs({role:"navigation"}).withConfig({displayName:"ContentNavstyles__StyledComponent",componentId:"sc-9f24fu-0"})(["",";"],function(e){return l[e.variant]})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),n(10)),r=n(1809),s=function(e){var t=e.variant,n=e.href,a=e.isExternal,s=e.isActive,l=e.skeleton,c=e.onClick,u=e.children;return i.default.createElement(o.ThemeProvider,{theme:{variant:t,active:s}},i.default.createElement(r.StyledComponent,null,l?i.default.createElement(r.StyledSkeletonLink,null):i.default.createElement(r.StyledLink,{href:n,onClick:c,target:a?"_blank":null,rel:a?"noopener":null},u)))};s.defaultProps={variant:"default",href:null,isExternal:!1,isActive:!1,skeleton:!1,onClick:null,children:null},t.default=s},function(e,t,n){"use strict";function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledSkeletonLink=t.StyledLink=t.StyledComponent=void 0;var i=a(["\n            line-height: 1em;\n        "],["\n            line-height: 1em;\n        "]),o=a(["\n                &:after {\n                    height: 2px;\n                }\n            "],["\n                &:after {\n                    height: 2px;\n                }\n            "]),r=n(10),s=function(e){return e&&e.__esModule?e:{default:e}}(r),l=n(20),c=n(40),u={default:(0,r.css)(["display:inline-block;margin:0 24px 0 0;font-size:16px;line-height:40px;",""],c.mediaQueries.greaterThan("phone")(i)),vertical:(0,r.css)([""]),nav:(0,r.css)([""])},d=(t.StyledComponent=s.default.li.withConfig({displayName:"ContentNavItemstyles__StyledComponent",componentId:"ialbj3-0"})([""," ",""],function(e){var t=e.theme;return"default"===t.variant||"vertical"===t.variant?"\n        font-size: 15px;\n    ":""},function(e){var t=e.theme;return u[t.variant]}),{default:function(e){return(0,r.css)(["padding:0 10px;line-height:60px;white-space:nowrap;&:after{right:0;height:3px;transform:",";}",""],e.theme.active?"scaleX(1)":"scaleX(0)",c.mediaQueries.greaterThan("mobile")(o))},vertical:function(e){return(0,r.css)(["padding:0 0 0 24px;line-height:30px;box-shadow:inset 1px 0 0 0 ",";&:after{top:0;width:3px;transform:",";}"],l.line,e.theme.active?"scaleY(1)":"scaleY(0)")},nav:function(e){return(0,r.css)(["font-size:24px;line-height:40px;transition:color .2s ease-in-out;color:",";;&:after{content:'';position:absolute;top:0;right:auto;bottom:0;left:-16px;width:3px;height:auto;background-color:",";transform:",";}"],e.theme.active?l.blueDark:l.primary,l.blueDark,e.theme.active?"scaleY(1)":"scaleY(0)")}});t.StyledLink=s.default.a.withConfig({displayName:"ContentNavItemstyles__StyledLink",componentId:"ialbj3-1"})(["position:relative;display:block;"," &:after{content:'';position:absolute;bottom:0;left:0;background-color:",";transition:transform .2s ease-in-out;}"," ",""],function(e){return e.theme.active?"\n        color: "+l.primary+";\n    ":""},l.primary,function(e){var t=e.theme;return"default"===t.variant||"vertical"===t.variant?"\n        &:focus,\n        &:hover {\n            color: "+l.primary+";\n        }\n    ":""},function(e){var t=e.theme;return d[t.variant]}),t.StyledSkeletonLink=s.default.span.withConfig({displayName:"ContentNavItemstyles__StyledSkeletonLink",componentId:"ialbj3-2"})(["position:relative;display:block;margin:0 10px;width:60px;height:60px;&:after{content:'';position:absolute;top:50%;right:0;left:0;margin-top:-8px;height:16px;background-color:",";}"],l.gray)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1811));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(139))),r=a(n(188)),s=function(e){var t=e.toggle,n=e.variant,a=e.filterHidden,s=e.adminOrders,l=e.activeOrder,c=e.setOrder;return i.default.createElement(o.default,{variant:n},i.default.createElement(r.default,{variant:n,isActive:a,onClick:t},"Show Hidden"),i.default.createElement(r.default,{variant:n,isActive:!a,onClick:t},"Hidden Only"),s.map(function(e){return i.default.createElement(r.default,{key:e.title,variant:n,isActive:e.order===l,onClick:function(){return c(e.order)}},e.title)}))};s.defaultProps={toggle:null,variant:"default",filterHidden:!1,adminOrders:[],activeOrder:null,setOrder:null},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1813));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(139))),r=a(n(188)),s=function(e){var t=e.stateCurrentName,n=e.stateCurrentLanguage,a=e.stateHref,s=e.variant,l=e.hashtags,c=e.changeHashtag;return l.length?i.default.createElement(o.default,{variant:s},l.map(function(e){return i.default.createElement(r.default,{key:e.key,variant:s,onClick:function(){return c(e.key)},href:a("browse.hashtags",{hashtag:e.key}),isActive:"browse.hashtags"===t&&n===e.key},"#",e.key)})):null};s.defaultProps={stateCurrentName:null,stateCurrentLanguage:null,stateHref:null,variant:"default",hashtags:[],changeHashtag:null},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1815));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),n(124)),r=a(n(139)),s=a(n(188)),l=function(e){var t=e.stateCurrentName,n=e.stateCurrentLanguage,a=e.stateHref,l=e.variant;return i.default.createElement(r.default,{variant:l},o.languages.map(function(e){var o=e.abbreviation;return i.default.createElement(s.default,{key:e.id,variant:l,href:a("browse.language",{language:o}),isActive:"browse.language"===t&&n===o},e.name)}))};l.defaultProps={stateCurrentName:null,stateCurrentLanguage:null,stateHref:null,variant:"default"},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1817));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BrowseLinksContentNav=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    ","\n"],["\n    ","\n"]),r=a(n(1)),s=a(n(10)),l=n(40),c=a(n(634)),u=t.BrowseLinksContentNav=(0,s.default)(c.default)(o,l.hideOnMobile),d=function(e){return"browse.forYou"===e.stateCurrentName?null:r.default.createElement(u,e)};d.defaultProps=i({},c.default.defaultProps),t.default=d},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(314)),r=a(n(1820)),s=a(n(1824)),l=a(n(1855)),c=a(n(1857)),u=a(n(1858));t.default=i.default.module("htbx.cheering",[o.default.name]).service("htbxCheeringService",u.default).component("htbxCheeringControls",r.default).directive("htbxCheeringOverlay",["reactDirective","$ngRedux","htbxCheeringService",function(e,t,n){return e(c.default,["debug"],{},{store:t,cheeringService:n})}]).directive("htbxReactCheeringESportsControls",["reactDirective","$ngRedux","htbxCheeringService",function(e,t,n){return e(l.default,["theaterMode"],{},{store:t,cheeringService:n})}]).directive("htbxReactCheeringBasicControls",["reactDirective","$ngRedux","htbxCheeringService",function(e,t,n){return e(s.default,["theaterMode"],{},{store:t,cheeringService:n})}]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=n(1821),r=function(e){return e&&e.__esModule?e:{default:e}}(n(1822));n(1823);var s=function(){function e(t,n,a,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$timeout=n,this.scoresService=t,this.$ngRedux=a,this.cheeringService=i,this.started=!1,this.isESportsActive=t.isActive,this.ready=!1,this.Fullscreen=o}return e.$inject=["scores","$timeout","$ngRedux","htbxCheeringService","Fullscreen"],a(e,[{key:"$onInit",value:function(){var e=this;this.cheeringServiceUnsubscribe=this.cheeringService.subscribe(function(t){!t||(0,i.isUndefined)(t.esport)||t.esport||e.ready||(e.ready=!0,e.$timeout())}),this.scoresServiceUnsubscribe=this.scoresService.subscribe(function(t){var n={title:t.title,team1:{name:t.teamA.name,logo:t.teamA.images.default,score:t.score.teamA},team2:{name:t.teamB.name,logo:t.teamB.images.default,score:t.score.teamB},bestOf:t.bestOf};e.$ngRedux.dispatch((0,o.updateTeams)(n)),e.ready||(e.ready=!0,e.$timeout())})}},{key:"$onDestroy",value:function(){this.cheeringServiceUnsubscribe&&this.cheeringServiceUnsubscribe(),this.scoresServiceUnsubscribe&&(this.scoresServiceUnsubscribe(),this.$ngRedux.dispatch((0,o.resetTeams)()))}},{key:"isReady",value:function(){return this.ready}},{key:"isFullscreen",value:function(){return this.Fullscreen.isEnabled()}}]),e}();t.default={bindings:{theaterMode:"<?"},templateUrl:r.default,controller:s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"resetTeams",function(){return i}),n.d(t,"updateTeams",function(){return o});var a=n(635),i=function(){return{type:a.b}},o=function(e){return{type:a.a,data:e}}},function(e,t,n){var a="/src/js/cheering/components/cheering-controls.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-class=\"[\n        'htbx-cheering-controls',\n        {\n            'htbx-cheering-controls--is-loading': $ctrl.isReady(),\n            'htbx-cheering-controls--is-basic': $ctrl.isReady() && !$ctrl.isESportsActive(),\n            'htbx-cheering-controls--is-esports': $ctrl.isReady() && $ctrl.isESportsActive(),\n            'htbx-cheering-controls--is-theater-mode': $ctrl.theaterMode,\n            'htbx-cheering-controls--is-fullscreen': $ctrl.isFullscreen(),\n        },\n    ]\"> <span ng-if=!$ctrl.isFullscreen()> <span ng-if=$ctrl.isReady()> <htbx-react-cheering-basic-controls ng-if=!$ctrl.isESportsActive() theater-mode=$ctrl.theaterMode></htbx-react-cheering-basic-controls> <htbx-react-cheering-e-sports-controls ng-if=$ctrl.isESportsActive() theater-mode=$ctrl.theaterMode></htbx-react-cheering-e-sports-controls> </span> <smash-spinny ng-if=!$ctrl.isReady() variant=\"'{{$ctrl.theaterMode ? 'light' : 'dark'}}'\" size=\"'medium'\" class=htbx-cheering-controls__loader></smash-spinny> </span> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),r=a(o),s=(a(n(3)),n(110)),l=n(359),c=n(647),u=(0,s.connect)(function(e){return{enabled:e.cheering}},function(e,t){return{onCheerClick:function(n,a){e((0,c.addUserCheerDelayed)(n,a)),e((0,c.enableCheeringIfDisabled)()),t.cheeringService.addCheer({click:1,name:n})}}})(l.BasicControls),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentDidMount",value:function(){this.scoresServiceUnsubscribe=this.props.cheeringService.subscribe(function(){})}},{key:"componentWillUnmount",value:function(){this.scoresServiceUnsubscribe&&this.scoresServiceUnsubscribe()}},{key:"render",value:function(){var e=this.props,t=e.theaterMode,n=e.store,a=e.cheeringService;return r.default.createElement(s.Provider,{store:n},r.default.createElement(u,{theaterMode:t,cheeringService:a}))}}]),t}();d.defaultProps={theaterMode:!1},t.default=d},function(e,t,n){"use strict";var a=n(636),i=n.n(a);t.default=i.a},function(e,t,n){"use strict";var a=n(22),i=n(6),o=n(1827);e.exports=function(){function e(e,t,n,a,r,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callbacks=[]}return e.prototype.subscribe=function(e){var t=this;return this.callbacks.push(e),function(){var n=!0;return function(){if(n){n=!1;var a=t.callbacks.indexOf(e);t.callbacks.splice(a,1)}}}()},e.prototype.fire=function(){this.callbacks.forEach(function(e){return e()})},e}();t.default=new a},function(e,t){},function(e,t,n){e.exports=n.p+"img/9d242eda7f9a6c1cab4316f3981630dd.png"},function(e,t,n){e.exports=n.p+"img/407188220c27def77050679a25177fb0.png"},function(e,t,n){e.exports=n.p+"img/f2d88efb2c00b8097a672c7f627291b6.png"},function(e,t,n){e.exports=n.p+"img/ff02bfd0c37461d51bb541fe192b3d2f.png"},function(e,t,n){e.exports=n.p+"img/8d1ef493436f03d55b6af7880e6003c3.png"},function(e,t,n){e.exports=n.p+"img/ee063ee0d5558c0c7d0d2ab841db4ea9.png"},function(e,t,n){e.exports=n.p+"img/d57c5e3495faf2812c21f56e1bf58714.png"},function(e,t,n){e.exports=n.p+"img/ab6eb863470227f899e7162805ccce3d.png"},function(e,t,n){e.exports=n.p+"img/c668707fcc11df334561ed8f0860d748.png"},function(e,t,n){e.exports=n.p+"img/f375911252fbb621da6f062c5ca2fcbc.png"},function(e,t,n){e.exports=n.p+"img/e8c0120a49969710291271f10c0b9d80.png"},function(e,t,n){e.exports=n.p+"img/a962b4d0cef9e72d97cfc7c4c29729e1.png"},function(e,t){},function(e,t,n){"use strict";var a=n(641),i=n.n(a);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(642),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t.default=i.a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(643),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t.default=i.a},function(e,t){},function(e,t){},function(e,t,n){"use strict";var a=n(644),i=n.n(a);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(646),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t.default=i.a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1));a(n(79)),n(1853);var o=function(e){var t=e.queue,n=e.activeItems,a=e.elementCount,o=e.maxElementsReached;return i.default.createElement("div",{className:"htbx-cheering-debug"},i.default.createElement("p",{className:"htbx-cheering-debug__queue"},"Queue: ",t),i.default.createElement("p",{className:"htbx-cheering-debug__active"},"Active: ",n),i.default.createElement("p",{className:"htbx-cheering-debug__elements"},"Elements: ",a),o?i.default.createElement("p",{className:"htbx-cheering-debug__max"},"Max Elements"):null)};o.defaultProps={queue:0,activeItems:0,elementCount:0,maxElementsReached:!1},t.default=o},function(e,t){},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),s=a(r),l=(a(n(3)),n(110)),c=n(359),u=n(80),d=a(n(650)),f=a(n(1856)),p=n(647),m=(0,l.connect)(function(e){return{enabled:e.cheering,esports:e.esports}},function(e,t){return{onCheerClick:function(n,a){e((0,p.addUserCheerDelayed)(n,a)),e((0,p.enableCheeringIfDisabled)()),f.default.vote(a),t.cheeringService.addCheer({click:1,team:a===u.TEAM1?"a":"b",name:n})}}})(c.ESportsControls),h=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={votesTeam1:0,votesTeam2:0},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.cheeringServiceUnsubscribe=this.props.cheeringService.subscribe(function(e){if(e&&(!e||e.clicks)){var t=(0,d.default)(e.clicks);f.default.set(t.total[u.TEAM1],t.total[u.TEAM2])}}),this.votesServiceUnsubscribe=f.default.subscribe(function(t){e.setState({votesTeam1:t.team1,votesTeam2:t.team2})})}},{key:"componentWillUnmount",value:function(){this.cheeringServiceUnsubscribe&&this.cheeringServiceUnsubscribe(),this.votesServiceUnsubscribe&&this.votesServiceUnsubscribe(),f.default.reset()}},{key:"render",value:function(){var e=this.props,t=e.theaterMode,n=e.store,a=e.cheeringService,i=this.state,o=i.votesTeam1,r=i.votesTeam2;return s.default.createElement(l.Provider,{store:n},s.default.createElement(m,{theaterMode:t,votesTeam1:o,votesTeam2:r,cheeringService:a}))}}]),t}();h.defaultProps={theaterMode:!1},t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(80),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o={team1:0,team2:0},r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callbacks=[],this.state=i({},o)}return e.prototype.subscribe=function(e){var t=this,n=!0;return this.callbacks.push(e),function(){if(n){n=!1;var a=t.callbacks.indexOf(e);t.callbacks.splice(a,1),t.callbacks.length}}},e.prototype.set=function(e,t){this.state={team1:e,team2:t},this.notifySubscribers()},e.prototype.reset=function(){this.state=i({},o),this.notifySubscribers()},e.prototype.vote=function(e){this.state=i({},this.state,e===a.TEAM1?{team1:this.state.team1+1}:{team2:this.state.team2+1}),this.notifySubscribers()},e.prototype.notifySubscribers=function(){for(var e=this.callbacks,t=Array.isArray(e),n=0,e=t?e:e[Symbol.iterator]();;){var a;if(t){if(n>=e.length)break;a=e[n++]}else{if((n=e.next()).done)break;a=n.value}a(this.state)}},e}();t.default=new r},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),r=a(o),s=(a(n(3)),n(110)),l=n(359),c=a(n(650)),u=a(n(360)),d=(0,s.connect)(function(e){return{esports:e.esports}})(l.Overlay),f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentDidMount",value:function(){var e=this;this.cheeringServiceUnsubscribe=this.props.cheeringService.subscribe(function(t){if(e.props.cheeringEnabled&&t&&(!t||t.clicks)){var n=(0,c.default)(t.clicks),a=!0,i=!1,o=void 0;try{for(var r,s=n.cheers[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var l=r.value;u.default.add(l.type,l.team)}}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}}})}},{key:"componentWillUnmount",value:function(){this.cheeringServiceUnsubscribe&&this.cheeringServiceUnsubscribe()}},{key:"render",value:function(){var e=this.props,t=e.cheeringEnabled,n=e.debug,a=e.store;return r.default.createElement(s.Provider,{store:a},r.default.createElement("span",null,t?r.default.createElement(d,{debug:n,style:{zIndex:10}}):null))}}]),t}();f.defaultProps={debug:!1,cheeringEnabled:!0};var p=(0,s.connect)(function(e){return{cheeringEnabled:e.cheering}})(f);t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=a(n(133)),s=a(n(285)),l=a(n(12)),c=n(8),u=[],d=!1,f=[],p=null,m=function(e){var t=e.channel;return{channelName:(0,c.getName)(t)}},h=function(){function e(t,n,a,o){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sendCheers=(0,r.default)(function(){f.length&&(l.default.sendMessage("cheering.click",{channel:s.mediaChannelName,name:s.loggedUser.getName(),click:f}),f=[])},1e3,{leading:!1}),this.cheersCallback=function(e){p=i({},e,{esport:s.isEsport});var t=!0,n=!1,a=void 0;try{for(var o,r=u[Symbol.iterator]();!(t=(o=r.next()).done);t=!0)(0,o.value)(e)}catch(e){n=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw a}}},this.loginMsgCallback=function(e){var t=e.esport;s.isEsport=t,s.cheersCallback({esport:t})},this.joinChannel=function(){var e=s.detailMedia.get().getCurrentMedia().media_name||s.channelName;l.default.sendMessage("cheering.joinChannel",{channel:e,name:s.loggedUser.getName(),token:s.loggedUser.getToken()}),s.mediaChannelName=e},this.$log=t,this.loggedUser=n,this.detailMedia=a,this.$ngRedux=o,this.isEsport=!1,this.cheeringChannelName=null,this.unsubscribeReduxConnection=this.$ngRedux.connect(m)(this)}return e.$inject=["$log","loggedUser","detailMedia","$ngRedux"],o(e,[{key:"subscribe",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!0;return u.length||this.start(),u.push(e),n&&null!==p&&e(p),function(){if(a){a=!1;var n=u.indexOf(e);u.splice(n,1),u.length||t.destroy()}}}},{key:"addCheer",value:function(e){var t={name:e.name};e.team&&(t.team=e.team);var n=(0,s.default)(f,t);n>=0?f[n].click+=1:f.push(e),this.sendCheers()}},{key:"start",value:function(){d||(d=!0,this.$log.debug("Starting cheers service"),l.default.on("open",this.joinChannel),l.default.on("cheering.info",this.cheersCallback),l.default.on("cheering.loginMsg",this.loginMsgCallback))}},{key:"destroy",value:function(){d&&(d=!1,p=null,this.$log.debug("Destroying cheers service"),l.default.off("open",this.joinChannel),l.default.off("cheering.info",this.cheersCallback),l.default.off("cheering.loginMsg",this.loginMsgCallback),this.partChannel())}},{key:"partChannel",value:function(){l.default.sendMessage("cheering.partChannel",{channel:this.mediaChannelName,name:this.loggedUser.getName()})}}]),e}();t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=s.ROUTING_CONFIG.accessLevels;e.state("legal",{url:"/legal/:tab",views:{viewNav:{template:"<htbx-main-nav></htbx-main-nav>"},viewMain:{template:"<cms-page></cms-page>"},"viewCmsNav@legal":{template:"<htbx-cms-navigation></htbx-cms-navigation>"}},access:t.admin,section:"legal"}).state("about",{url:"/about",views:{viewNav:{template:"<cms-nav></cms-nav>"},viewMain:{template:"<cms-page></cms-page>"}},access:t.admin,section:"cms"}).state("partnerprogram",{url:"/content/partnerprogram",views:{viewNav:{template:"<cms-nav></cms-nav>"},viewMain:{template:"<cms-page></cms-page>"}},access:t.admin,section:"cms"}).state("jobs",{url:"/jobs",views:{viewNav:{template:"<cms-nav></cms-nav>"},viewMain:{template:"<cms-page></cms-page>"}},access:t.admin,section:"cms"}).state("advertisers",{url:"/advertisers",views:{viewNav:{template:"<cms-nav></cms-nav>"},viewMain:{template:"<cms-page></cms-page>"}},access:t.admin,section:"cms"}).state("press",{url:"/press",views:{viewNav:{template:"<cms-nav></cms-nav>"},viewMain:{template:"<cms-page></cms-page>"}},access:t.admin,section:"cms"}).state("brandassets",{url:"/brandassets",views:{viewNav:{template:"<cms-nav></cms-nav>"},viewMain:{template:"<cms-page></cms-page>"}},access:t.admin,section:"cms"}).state("teamhitbox",{url:"/teamhitbox",views:{viewNav:{template:"<cms-nav></cms-nav>"},viewMain:{template:"<cms-page></cms-page>"}},access:t.admin,section:"cms"})}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(102)),s=n(15),l=a(n(362)),c=a(n(1866)),u=a(n(1867)),d=a(n(1868)),f=a(n(1870)),p=a(n(1872));i.$inject=["$stateProvider"],t.default=o.default.module("htbx.cms",["angular-bind-html-compile",r.default,l.default]).config(i).factory("CMS",c.default).service("cmsPages",u.default).component("htbxCmsNavigation",d.default).directive("cmsNav",f.default).directive("cmsPage",p.default).name},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/message",{},{send:{method:"POST",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1862));n(1863);var o=function(){function e(t,n,a,i,o,r,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$scope:t,$rootScope:n,$timeout:a,FeedbackMessage:i,Analytics:o,loggedUser:r,User:s,$translate:l}),this.user={captcha:""},this.forms={},this.error={},this.message={message_from:"",message_email:"",message_body:""},this.sent=!1,this.isProcessing=!1,this.message.categories=[{category_name:"General Feedback",category_translation:l.instant("view_modal-feedback_category_general")},{category_name:"Bug",category_translation:l.instant("view_modal-feedback_category_bug")},{category_name:"Suggestion",category_translation:l.instant("view_modal-feedback_category_suggestion")},{category_name:"Game Request",category_translation:l.instant("view_modal-feedback_category_game-request")}]}return e.$inject=["$scope","$rootScope","$timeout","FeedbackMessage","Analytics","loggedUser","User","$translate"],a(e,[{key:"$onInit",value:function(){var e=this;this.selected="General Feedback",this.resolve.category&&(this.selected=this.resolve.category),this.resolve.subject&&(this.message.message_title=this.resolve.subject),this.loggedUser.isAuthenticated()&&(this.message.message_from=this.loggedUser.getName(),this.User.get({user_name:this.loggedUser.getName(),authToken:this.loggedUser.getToken()}).$promise.then(function(t){t&&(e.message.message_email=t.user_email)}))}},{key:"validate",value:function(){var e=void 0;for(e in this.feedbackForm)"$"!==e[0]&&this.feedbackForm[e].$pristine&&this.feedbackForm[e].$setTouched()}},{key:"setCaptchaResponse",value:function(e){this.user.captcha=e}},{key:"send",value:function(){var e=this;this.message.message_category=this.selected,this.validate(),this.error={},this.feedbackForm.$valid&&(this.isProcessing=!0,this.message.recaptcha=this.user.captcha,this.FeedbackMessage.send(this.message,function(){e.Analytics.trackEvent("user","feedbackSend"),e.sent=!0,e.$timeout(function(){e.isProcessing=!1,e.close()},800)},function(){e.isProcessing=!1}))}},{key:"setSelection",value:function(e){this.selected=e}}]),e}();t.default={bindings:{close:"&",dismiss:"&",resolve:"<?"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/feedback/components/feedback-modal.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<htbx-button-close data-variant=modal-fixed data-on-select=$ctrl.close()></htbx-button-close> <div class=feedback> <div ng-if=$ctrl.sent class=feedback-success> <h2>{{::\'view_modal-feedback_header_thank-you\' | translate}}</h2> </div> <form ng-if=!$ctrl.sent ng-submit=$ctrl.send() accept-charset=UTF-8 class="form_enclosed formL" name=$ctrl.feedbackForm novalidate> <ul class=feedback-category> <li ng-repeat="category in $ctrl.message.categories" ng-click=$ctrl.setSelection(category.category_name); class=feedback-category__item ng-class="{\n                    \'feedback-category__item--is-active\': $ctrl.selected == category.category_name,\n                }"> {{category.category_translation}} </li> </ul> <div class=feedback-wrapper> <section class=feedback-left> <label ng-hide="$ctrl.feedbackForm.message_from.$error.required && $ctrl.feedbackForm.message_from.$touched" class="animate ng-hide"> {{::\'view_modal-feedback_label_name\' | translate}} </label> <label ng-show="$ctrl.feedbackForm.message_from.$error.required && $ctrl.feedbackForm.message_from.$touched" class="input-error-message animate ng-hide"> {{::\'view_modal-feedback_error_enter-name\' | translate}} </label> <input class="email text" name=message_from placeholder="{{ \'view_modal-feedback_placeholder_your-name\' | translate }}" ng-model=$ctrl.message.message_from required ng-class="{\n                        \'input-error\': $ctrl.feedbackForm.message_from.$error.required && $ctrl.feedbackForm.message_from.$touched,\n                    }"/> </section> <section class=feedback-right> <label ng-show="$ctrl.feedbackForm.message_email.$error.required && $ctrl.feedbackForm.message_email.$touched" class="input-error-message animate ng-hide"> {{::\'view_modal-feedback_error_enter-email\' | translate}} </label> <label ng-show="$ctrl.feedbackForm.message_email.$error.email && $ctrl.feedbackForm.message_email.$touched" class="input-error-message animate ng-hide"> {{::\'view_modal-feedback_error_invalid-email\' | translate}} </label> <label ng-hide="($ctrl.feedbackForm.message_email.$error.required || $ctrl.feedbackForm.message_email.$error.email) && $ctrl.feedbackForm.message_email.$touched"> {{::\'global_text_email\' | translate}} </label> <input class="email text" name=message_email type=email placeholder="{{ \'global_text_email\' | translate }}" ng-model=$ctrl.message.message_email required ng-class="{\'input-error\' : ($ctrl.feedbackForm.message_email.$error.required || $ctrl.feedbackForm.message_email.$error.email) && $ctrl.feedbackForm.message_email.$touched }"/> </section> <section> <label ng-show="$ctrl.feedbackForm.message_title.$error.required && $ctrl.feedbackForm.message_title.$touched" class="input-error-message animate ng-hide"> {{::\'view_modal-feedback_error_no-subject\' | translate}} </label> <label ng-hide="$ctrl.feedbackForm.message_title.$error.required && $ctrl.feedbackForm.message_title.$touched" class="animate ng-hide"> {{::\'global_text_subject\' | translate}} </label> <input class="email text" name=message_title placeholder="{{ \'view_modal-feedback_placeholder_issue\' | translate }}" ng-model=$ctrl.message.message_title required ng-class="{\n                        \'input-error\': $ctrl.feedbackForm.message_title.$error.required && $ctrl.feedbackForm.message_title.$touched,\n                    }"> </section> <section> <label ng-show="$ctrl.feedbackForm.message_body.$error.required && $ctrl.feedbackForm.message_body.$touched" class="input-error-message animate ng-hide"> {{::\'view_modal-feedback_error_message-too-short\' | translate}} </label> <label ng-show="$ctrl.feedbackForm.message_body.$error.minlength && $ctrl.feedbackForm.message_body.$touched" class="input-error-message animate ng-hide"> {{::\'view_modal-feedback_error_message-too-short\' | translate}} </label> <label ng-hide="($ctrl.feedbackForm.message_body.$error.required || $ctrl.feedbackForm.message_body.$error.minlength) && $ctrl.feedbackForm.message_body.$touched" class="animate ng-hide"> {{::\'global_text_message\' | translate}} </label> <textarea class=desc name=message_body type=text placeholder="{{ \'view_modal-feedback_placeholder_description\' | translate }}" ng-model=$ctrl.message.message_body ng-minlength=5 required ng-class="{\n                        \'input-error\': ($ctrl.feedbackForm.message_body.$error.required || $ctrl.feedbackForm.message_body.$error.minlength) && $ctrl.feedbackForm.message_body.$touched,\n                    }"></textarea> </section> <htbx-recaptcha on-success=$ctrl.setCaptchaResponse(response)></htbx-recaptcha> </div> <div class=submitWrap> <htbx-button data-type=submit data-variant=ok data-disabled=$ctrl.feedbackForm.$invalid data-loading=$ctrl.isProcessing> {{::\'global_button_send\' | translate}} </htbx-button> </div> </form> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1865)),o=function(){function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$uibModal:t,Analytics:n}),this.opts={animation:!0,backdrop:!0,keyboard:!1,windowClass:"modal modal-feedback",component:"htbxFeedbackModal",resolve:{category:function(){return a.category},subject:function(){return a.subject}}}}return e.$inject=["$uibModal","Analytics"],a(e,[{key:"openDialog",value:function(){this.Analytics.trackEvent("interface","FeedbackDialog"),this.$uibModal.open(this.opts)}}]),e}();t.default={bindings:{category:"@?",subject:"@?",customClass:"@?"},templateUrl:i.default,controller:o,transclude:!0}},function(e,t,n){var a="/src/js/feedback/components/feedback-modal-trigger.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<a class="feedback-modal-trigger {{$ctrl.customClass}}" ng-click=$ctrl.openDialog() ng-transclude></a> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/cms/:page",{},{get:{method:"GET",params:{},isArray:!1,cache:!0}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e,t){this.get=function(n){return"/"===n.charAt(0)&&(n=n.slice(1)),n=n.toLowerCase().replace(/\//g,"_"),e.get({page:n,authToken:t.getToken()}).$promise}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["CMS","loggedUser"],t.default=a},function(e,t,n){"use strict";function a(e){this.$state=e}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1869));a.$inject=["$state"],t.default={templateUrl:i.default,controller:a}},function(e,t,n){var a="/src/js/cms/components/cms-navigation.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=\"sub-nav sub-nav--variant-default\"> <div class=sub-nav__navigation> <ul class=sub-nav__section> <li class=sub-nav__item ui-sref-active-eq=sub-nav__item--is-active> <a ui-sref=\"legal({ tab: 'terms-of-use'})\" class=sub-nav__link> {{:: 'global_menu_terms' | translate}} </a> </li> <li class=sub-nav__item ui-sref-active-eq=sub-nav__item--is-active> <a ui-sref=\"legal({ tab: 'privacy-policy'})\" class=sub-nav__link> {{:: 'global_menu_policy' | translate}} </a> </li> <li class=sub-nav__item ui-sref-active-eq=sub-nav__item--is-active> <a ui-sref=\"legal({ tab: 'imprint'})\" class=sub-nav__link> {{:: 'global_menu_imprint' | translate}} </a> </li> <li class=sub-nav__item> <htbx-feedback-modal-trigger custom-class=sub-nav__link> {{::'global_menu_feedback' | translate}} </htbx-feedback-modal-trigger> </li> <li class=sub-nav__item> <a href=https://help.smashcast.tv target=_blank rel=noopener class=sub-nav__link> {{:: 'global_menu_help-support' | translate}} </a> </li> </ul> </div> </div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e,t){var n=this,a=t.path();n.ready=!1,n.useMainNav=!0,a&&e.get(a).then(function(e){n.ready=!0,"CMS"===e.navType&&(n.useMainNav=!1)})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1871));a.$inject=["cmsPages","$location"],t.default=function(){return{restrict:"E",scope:{},templateUrl:i.default,controllerAs:"cmsNav",controller:a}}},function(e,t,n){var a="/src/js/cms/directives/cms-nav-directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-if=cmsNav.ready> <htbx-main-nav ng-if=cmsNav.useMainNav></htbx-main-nav> <div ng-if=!cmsNav.useMainNav id=aboutnav> <div class=site-width> <nav class=menu> <a ui-sref=jobs ui-sref-active=active>JOBS</a> <a ui-sref=advertisers ui-sref-active=active>ADVERTISERS</a> <a ui-sref=press ui-sref-active=active>PRESS</a> <a ui-sref=brandassets ui-sref-active=active>BRAND ASSETS</a> <a ui-sref=teamhitbox ui-sref-active=active>TEAM</a> <a ui-sref=about ui-sref-active=active>ABOUT</a> </nav> </div> </div> </div> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1873));n(1874);var o=function(){function e(t,n,a,i,o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storePage=function(e){e.title&&r.$log.debug("%s page loaded",e.title),r.pageTitle.set(e.title),r.page={type:e.type||"DEFAULT",html:e.html}},this.redirectTo404=function(){r.$state.go("404")},this.$state=t,this.$location=n,this.$log=a,this.pageTitle=i,this.cmsPages=o}return e.$inject=["$state","$location","$log","pageTitle","cmsPages"],a(e,[{key:"$onInit",value:function(){var e=this.page||this.$location.path();this.hideFooter=!!this.hideFooter,this.cmsPages.get(e).then(this.storePage).catch(this.redirectTo404)}},{key:"isActivePage",value:function(e){return this.$state.is(e)}}]),e}();t.default=function(){return{restrict:"E",scope:{page:"@",hideFooter:"@?",flexLayout:"@?"},replace:!0,templateUrl:i.default,controllerAs:"cmsPage",bindToController:!0,controller:o}}},function(e,t,n){var a="/src/js/cms/directives/cms-page.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div> <div ng-if="cmsPage.page.type === \'DEFAULT\' || !cmsPage.page.type" class="page static page-legal"> <htbx-layout ng-if=::!cmsPage.flexLayout data-page=cms-default data-variant=subpage> <htbx-layout-navigation> <div ui-view=viewCmsNav></div> </htbx-layout-navigation> <htbx-layout-content> <div bind-html-compile=cmsPage.page.html></div> </htbx-layout-content> </htbx-layout> <div ng-if=::cmsPage.flexLayout bind-html-compile=cmsPage.page.html class="content flex-grow"></div> </div> <div ng-if="cmsPage.page.type === \'FULL_WIDTH\'" id=eventwrapper> <div bind-html-compile=cmsPage.page.html></div> <main-footer ng-if="cmsPage.page.type !== \'EMBEDDED\' && !cmsPage.hideFooter"></main-footer> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2)),r=n(15),s=a(n(189)),l=a(n(2014)),c=a(n(2016)),u=a(n(364)),d=a(n(655)),f=a(n(2084)),p=a(n(2085)),m=a(n(2086)),h=a(n(2087)),g=a(n(2090)),_=a(n(2095)),v=a(n(2097)),b=a(n(2100)),y=a(n(2104)),w=a(n(2108)),$=a(n(2112)),x=a(n(2113)),k=a(n(2114)),S=a(n(2115));t.default=i.default.module("htbx.community",[s.default,l.default,u.default,c.default,d.default]).controller("NewTeamDialogCtrl",f.default).factory("OverviewStats",p.default).filter("pendingInvites",m.default).directive("htbxCommunityPage",h.default).directive("htbxCommunityTeams",g.default).component("htbxCommunityNavigation",_.default).component("htbxCommunityFollowers",v.default).component("htbxCommunitySubscribers",b.default).component("htbxCommunitySubscriptions",y.default).component("htbxCommunityFollowing",w.default).config(["$urlRouterProvider","$stateProvider","mediaExistsResolve",function(e,t,n){var a=r.ROUTING_CONFIG.accessLevels,i=Object.assign({},{lazyload:["angularLoad",function(e){return e.loadScript(o.default.staticUrl+"/js/lazyload.js")}]},n);t.state("community",{url:"/community/:user",resolve:i,section:"community",parent:"nav",views:{"viewMain@":{template:"<htbx-community-page></htbx-community-page>"}},layoutVariant:"settings",access:a.admin,secure:!0}).state("community.following",{url:"/following",section:"community",views:{"viewCommunity@community":{templateUrl:$.default}},layoutVariant:"settings",tab:"connections",title:'{{"global_text_following" | translate}}',access:a.admin,secure:!0,requiresMedia:!1}).state("community.followers",{url:"/followers",section:"community",views:{"viewCommunity@community":{templateUrl:x.default}},layoutVariant:"settings",tab:"connections",title:'{{"global_text_followers" | translate}}',access:a.admin,secure:!0}).state("community.subscriptions",{url:"/subscriptions",section:"community",views:{"viewCommunity@community":{templateUrl:k.default}},layoutVariant:"settings",tab:"connections",title:'{{"global_header_subscriptions" | translate}}',access:a.admin,secure:!0,requiresMedia:!1}).state("community.subscribers",{url:"/subscribers",section:"community",views:{"viewCommunity@community":{templateUrl:S.default}},layoutVariant:"settings",tab:"connections",title:'{{"global_text_subscribers" | translate}}',access:a.admin,secure:!0}).state("community.teams",{url:"/teams",section:"community",views:{"viewCommunity@community":{template:"<htbx-community-teams></htbx-community-teams>"}},layoutVariant:"settings",tab:"connections",access:a.admin,title:'{{"global_text_teams" | translate}}',secure:!0}),e.when("/subscriptions",["$state","loggedUser",function(e,t){t.getName&&e.go("community.subscriptions",{user:t.getName()})}])}]).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1877)),r=a(n(1882)),s=a(n(1885)),l=a(n(1890)),c=a(n(1892));t.default=i.default.module("smashcast-ui-elements",[o.default,r.default,s.default,l.default,c.default]).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1878)),r=a(n(1881));t.default=i.default.module("smashcast-ui-elements.carousel-pagination",[]).directive("smashCarouselPagination",["reactDirective",function(e){return e(o.default,["align","color","count","activeIndex"])}]).component("smashCarouselPaginationStyleguide",r.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1879));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(77)),n(1880)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(e){var t=e.align,n=e.color,a=e.count,s=e.activeIndex,l=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["align","color","count","activeIndex"]);return i.default.createElement(o.StyledCarouselPagination,r({},l,{align:t}),Array(a).fill().map(function(e,t){return i.default.createElement(o.StyledCarouselPaginationItem,{key:t,isActive:t===s,color:n})}))};s.defaultProps={align:null,activeIndex:0,color:"default"},t.default=s},function(e,t,n){"use strict";function a(e,t){return e.raw=t,e}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledCarouselPaginationItem=t.StyledCarouselPagination=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),o=a(["\n    margin-top: ",";\n    text-align: ",";\n"],["\n    margin-top: ",";\n    text-align: ",";\n"]),r=a(["\n    display: inline-block;\n    margin-left: 8px;\n    width: 24px;\n    height: 2px;\n    pointer-events: none;\n    background-color: ",";\n    opacity: ",";\n    transition: opacity .3s ease;\n\n    &:first-child {\n        margin-left: 0;\n    }\n"],["\n    display: inline-block;\n    margin-left: 8px;\n    width: 24px;\n    height: 2px;\n    pointer-events: none;\n    background-color: ",";\n    opacity: ",";\n    transition: opacity .3s ease;\n\n    &:first-child {\n        margin-left: 0;\n    }\n"]);t.StyledCarouselPagination=i.default.ol.withConfig({displayName:"CarouselPaginationstyles__StyledCarouselPagination",componentId:"sc-1eb4urm-0"})(o,function(e){return e.align?"4px":0},function(e){return e.align?e.align:"center"}),t.StyledCarouselPaginationItem=i.default.li.withConfig({displayName:"CarouselPaginationstyles__StyledCarouselPaginationItem",componentId:"sc-1eb4urm-1"})(r,function(e){return"light"===e.color?"#fff":"#111"},function(e){return e.isActive?".7":".1"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={template:'\n        <section class="styleguide">\n            <h1 class="styleguide__title">Carousel Pagination</h1>\n        \n            <div class="styleguide__row">\n                <h2 class="styleguide__title styleguide__title--weight-2">Default</h2>\n        \n                <smash-carousel-pagination\n                    data-count="5"\n                ></smash-carousel-pagination>\n            </div>\n        \n            <div class="styleguide__row">\n                <h2 class="styleguide__title styleguide__title--weight-2">Set active page</h2>\n        \n                <smash-carousel-pagination\n                    data-count="5"\n                    data-active-index="2"\n                ></smash-carousel-pagination>\n            </div>\n        \n            <div class="styleguide__row">\n                <h2 class="styleguide__title styleguide__title--weight-2">Change page count</h2>\n        \n                <smash-carousel-pagination\n                    data-count="10"\n                    data-active-index="0"\n                ></smash-carousel-pagination>\n            </div>\n        \n            <div class="styleguide__row">\n                <h2 class="styleguide__title styleguide__title--weight-2">Align left</h2>\n        \n                <div class="cf">\n                    <smash-carousel-pagination\n                        data-count="5"\n                        data-active-index="2"\n                        data-align="\'left\'"\n                    ></smash-carousel-pagination>\n                </div>\n            </div>\n        \n            <div class="styleguide__row">\n                <h2 class="styleguide__title styleguide__title--weight-2">Align right</h2>\n        \n                <div class="cf">\n                    <smash-carousel-pagination\n                        data-count="5"\n                        data-active-index="2"\n                        data-align="\'right\'"\n                    ></smash-carousel-pagination>\n                </div>\n            </div>\n        \n            <div class="styleguide__row">\n                <h2 class="styleguide__title styleguide__title--weight-2">Color light</h2>\n        \n                <div class="cf" style="padding: 20px; background: #252729">\n                    <smash-carousel-pagination\n                        data-count="5"\n                        data-active-index="2"\n                        data-color="\'light\'"\n                    ></smash-carousel-pagination>\n                </div>\n            </div>\n        </section>\n    '}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1883));t.default=i.default.module("smashcast-ui-elements.live-dot",[]).directive("liveDot",["reactDirective",function(e){return e(o.default,["admin"])}]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1884));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=a(n(77)),r=a(n(10)),s=n(20),l=function(e,t){return e.raw=t,e}(["\n    display: inline-block;\n    margin-right: 5px;\n    border-radius: 5px;\n    width: 5px;\n    height: 5px;\n    vertical-align: 2px;\n    background-color: ",";\n"],["\n    display: inline-block;\n    margin-right: 5px;\n    border-radius: 5px;\n    width: 5px;\n    height: 5px;\n    vertical-align: 2px;\n    background-color: ",";\n"]),c=r.default.span.withConfig({displayName:"LiveDot__StyledWrapper",componentId:"sc-6zq4cz-0"})(l,function(e){return e.admin?s.primary:s.secondary});c.propTypes={admin:o.default.bool},c.defaultProps={admin:!1};var u=function(e){var t=e.admin;return i.default.createElement(c,{admin:t})};u.defaultProps={admin:!1},t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1886));t.default=i.default.module("smashcast-ui-elements.sort",[]).directive("smashSort",["reactDirective",function(e){return e(o.default,["sort","active","onSort","children"])}]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1887));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),s=a(r),l=(a(n(77)),a(n(35))),c=a(n(1888)),u=n(1889),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f=function(e){function t(){var n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,e.call.apply(e,[this].concat(s))),a.state={sort:"asc"},a.onSort=function(){var e=a.props.onSort,t=a.state.sort;t="asc"===t?"desc":"asc",a.setState({sort:t}),e&&e(t)},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.setState({sort:this.props.sort})},t.prototype.componentWillReceiveProps=function(e){void 0!==e.sort&&e.sort!==this.state.sort&&this.setState({sort:e.sort})},t.prototype.render=function(){var e=this.props,t=e.active,n=e.children,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["active","children"]),i=this.state.sort;return s.default.createElement(u.StyledComponnet,d({},a,{active:t,onClick:this.onSort}),n?s.default.createElement(u.StyledText,{active:t},n):null,t?s.default.createElement(u.StyledIcon,{sort:i},s.default.createElement(l.default,{icon:c.default,center:!0})):null)},t}(r.PureComponent);f.defaultProps={sort:"asc",active:!0,onSort:null,children:null},t.default=f},function(e,t){e.exports='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M5 10l5-10H0z" fill-rule="evenodd"></path></svg>'},function(e,t,n){"use strict";function a(e,t){return e.raw=t,e}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledIcon=t.StyledText=t.StyledComponnet=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),o=a(["\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        position: relative;\n        border: 0;\n        margin: 0;\n        padding: 0;\n        min-width: 20px;\n        height: 20px;\n        line-height: 20px;\n        color: #000;\n        background-color: transparent;\n        user-select: none;\n        opacity: ",";\n        transition: opacity .2s;\n        ","\n\n        &:focus {\n            outline: none;\n        }\n    "],["\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        position: relative;\n        border: 0;\n        margin: 0;\n        padding: 0;\n        min-width: 20px;\n        height: 20px;\n        line-height: 20px;\n        color: #000;\n        background-color: transparent;\n        user-select: none;\n        opacity: ",";\n        transition: opacity .2s;\n        ","\n\n        &:focus {\n            outline: none;\n        }\n    "]),r=a(["\n    ","\n"],["\n    ","\n"]),s=a(["\n    position: relative;\n    width: 6px;\n    height: 6px;\n    ","\n"],["\n    position: relative;\n    width: 6px;\n    height: 6px;\n    ","\n"]);t.StyledComponnet=i.default.button.attrs({type:"button"})(o,function(e){return e.active?1:.5},function(e){return e.active?"font-weight: bold;":null}),t.StyledText=i.default.span.withConfig({displayName:"Sortstyles__StyledText",componentId:"tms5af-0"})(r,function(e){return e.active?"padding-right: 6px;":null}),t.StyledIcon=i.default.span.withConfig({displayName:"Sortstyles__StyledIcon",componentId:"tms5af-1"})(s,function(e){return"asc"===e.sort?"transform: rotate(180deg)":null})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(335)),r=a(n(1891));t.default=i.default.module("smashcast-ui-elements.spinny",[]).directive("smashSpinny",["reactDirective",function(e){return e(o.default,["size","variant","center"])}]).component("smashSpinnyStyleguide",r.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={template:'\n        <section class="styleguide">\n            <h1 class="styleguide__title">Spinny</h1>\n\n            <div class="styleguide__row">\n                <h2 class="styleguide__title styleguide__title--weight-2">Default / For light backgrounds</h2>\n                <h3 class="styleguide__title styleguide__title--weight-2">Small size</h3>\n        \n                <smash-spinny\n                    data-size="\'small\'"\n                ></smash-spinny>\n\n                <pre>\n                    <code class="language-html">\n                        &lt;smash-spinny\n                            data-size="\'small\'"\n                        &gt;&lt;/smash-spinny&gt;\n                    </code>\n                </pre>\n\n                <h3 class="styleguide__title styleguide__title--weight-2">Default size</h3>\n\n                <smash-spinny></smash-spinny>\n\n                <h3 class="styleguide__title styleguide__title--weight-2">Medium size</h3>\n\n                <smash-spinny\n                    data-size="\'medium\'"\n                ></smash-spinny>\n\n                <h3 class="styleguide__title styleguide__title--weight-2">Large size</h3>\n\n                <smash-spinny\n                    data-size="\'large\'"\n                ></smash-spinny>\n            </div>\n\n            <div class="styleguide__row">\n                <h2 class="styleguide__title styleguide__title--weight-2">For dark backgrounds</h2>\n                <h3 class="styleguide__title styleguide__title--weight-2">Small size</h3>\n\n                <div style="position: relative; width: 100px; height: 100px; background: #888">\n                    <smash-spinny\n                        data-variant="\'light\'"\n                        data-size="\'small\'"\n                    ></smash-spinny>\n                </div>\n\n                <pre>\n                    <code class="language-html">\n                        &lt;smash-spinny\n                            data-variant="\'light\'"\n                            data-size="\'small\'"\n                        &gt;&lt;/smash-spinny&gt;\n                    </code>\n                </pre>\n\n                <h3 class="styleguide__title styleguide__title--weight-2">Default size</h3>\n\n                <div style="position: relative; width: 100px; height: 100px; background: #888">\n                    <smash-spinny\n                        data-variant="\'light\'"\n                    ></smash-spinny>\n                </div>\n\n                <h3 class="styleguide__title styleguide__title--weight-2">Medium size</h3>\n\n                <div style="position: relative; width: 100px; height: 100px; background: #888">\n                    <smash-spinny\n                        data-variant="\'light\'"\n                        data-size="\'medium\'"\n                    ></smash-spinny>\n                </div>\n\n                <h3 class="styleguide__title styleguide__title--weight-2">Large size</h3>\n\n                <div style="position: relative; width: 100px; height: 100px; background: #888">\n                    <smash-spinny\n                        data-variant="\'light\'"\n                        data-size="\'large\'"\n                    ></smash-spinny>\n                </div>\n            </div>\n\n            <div class="styleguide__row">\n                <h2 class="styleguide__title styleguide__title--weight-2">Centered</h2>\n\n                <div style="position: relative; width: 100px; height: 100px; background: #CCC;">\n                    <smash-spinny\n                        data-center="true"\n                    ></smash-spinny>\n                </div>\n                <pre>\n                    <code class="language-html">\n                        &lt;div style="position: relative"&gt;\n                            &lt;smash-spinny\n                                data-center="true"\n                            &gt;&lt;/smash-spinny&gt;\n                        &lt;/div&gt;\n                    </code>\n                </pre>\n            </div>\n        </section>\n    '}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1893));t.default=i.default.module("smashcast-ui-elements.toggle-switch",[]).directive("toggleSwitch",["reactDirective",function(e){return e(o.default,["checked","onChange"])}]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1894));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),s=a(r),l=(a(n(77)),n(1895)),c=n(595),u=function(e){function t(){var n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,e.call.apply(e,[this].concat(s))),a.state={checked:!1},a.onChange=function(){var e=a.props,t=e.disabled,n=e.onChange,i=a.state.checked;t||(i=!i,a.setState({checked:i}),n&&n(i))},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.setState({checked:this.props.checked})},t.prototype.componentWillReceiveProps=function(e){void 0!==e.checked&&e.checked!==this.state.checked&&this.setState({checked:e.checked})},t.prototype.render=function(){var e=this.props,t=e.name,n=e.value,a=e.disabled,i=this.state.checked;return s.default.createElement(l.StyledComponent,{active:i},s.default.createElement(c.StyledCheckbox,{name:t,value:n,checked:i,disabled:a,onChange:this.onChange}),s.default.createElement(l.StyledLabel,{active:i},"On"),s.default.createElement(l.StyledLabel,{active:i},"Off"))},t}(r.PureComponent);u.defaultProps={name:"toggle-switch",value:"1",checked:!1,disabled:!1,onChange:null},t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return e.raw=t,e}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledLabel=t.StyledComponent=void 0;var o=a(n(77)),r=a(n(10)),s=n(180),l=n(20),c=i(["\n    position: relative;\n    display: inline-block;\n    border-radius: 2px;\n    margin: .125em 0;\n    padding: 0;\n    width: 6em;\n    color: #fff;\n    white-space: nowrap;\n    cursor: pointer;\n    font-size: .8125em;\n    vertical-align: top;\n    background-color: ",";\n    overflow: hidden;\n    user-select: none;\n    transition: all .2s ease-out;\n\n    &:hover {\n        background-color: ",";\n    }\n"],["\n    position: relative;\n    display: inline-block;\n    border-radius: 2px;\n    margin: .125em 0;\n    padding: 0;\n    width: 6em;\n    color: #fff;\n    white-space: nowrap;\n    cursor: pointer;\n    font-size: .8125em;\n    vertical-align: top;\n    background-color: ",";\n    overflow: hidden;\n    user-select: none;\n    transition: all .2s ease-out;\n\n    &:hover {\n        background-color: ",";\n    }\n"]),u=i(["\n    display: inline-block;\n    margin: .125rem 0;\n    width: 5em;\n    border: 0 #fff solid;\n    text-align: center;\n    line-height: 2em;\n    color: #fff;\n    vertical-align: top;\n    transition: all .2s ease-out;\n\n    &:nth-child(2) {\n        ","\n        border-right-width: .875em;\n    }\n\n    &:last-child {\n        border-left-width: .875em;\n    }\n"],["\n    display: inline-block;\n    margin: .125rem 0;\n    width: 5em;\n    border: 0 #fff solid;\n    text-align: center;\n    line-height: 2em;\n    color: #fff;\n    vertical-align: top;\n    transition: all .2s ease-out;\n\n    &:nth-child(2) {\n        ","\n        border-right-width: .875em;\n    }\n\n    &:last-child {\n        border-left-width: .875em;\n    }\n"]),d=t.StyledComponent=r.default.label.withConfig({displayName:"ToggleSwitchstyles__StyledComponent",componentId:"sc-129nx2b-0"})(c,function(e){return e.active?l.primary:"#666"},function(e){return e.active?(0,s.lighten)(.1,l.primary):"#737373"});d.propTypes={active:o.default.bool},d.defaultProps={active:!1};var f=t.StyledLabel=r.default.div.withConfig({displayName:"ToggleSwitchstyles__StyledLabel",componentId:"sc-129nx2b-1"})(u,function(e){return e.active?"":"\n            margin-left: -4em;\n        "});f.propTypes={active:o.default.bool},f.defaultProps={active:!1}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1897));t.default=i.default.module("htbx.ui-elements.alert",[]).component("htbxAlert",o.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1898));n(1899);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"$onInit",value:function(){this.type||(this.type="info"),this.dismissable&&(this.dismissed=!1)}},{key:"dismiss",value:function(){this.dismissed=!0,this.onDismiss&&this.onDismiss()}},{key:"getAlertTypeClass",value:function(){return"hitbox-alert--"+this.type+" hitbox-alert--size-"+this.size}}]),e}();t.default={bindings:{type:"@?",alertTitle:"@?",onlyTitle:"<?",dismissable:"<?",onDismiss:"&?",size:"@?"},templateUrl:i.default,transclude:!0,controller:o}},function(e,t,n){var a="/src/js/ui-elements/alert/components/alert.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-if=!$ctrl.dismissed ng-class=\"[\n        'hitbox-alert',\n        $ctrl.getAlertTypeClass(),\n        'animate',\n        {\n            'hitbox-alert--only-title': $ctrl.onlyTitle,\n        },\n    ]\" role=alert> <button type=button class=hitbox-alert__dismiss ng-if=$ctrl.dismissable title=\"{{::'global_button_dismiss' | translate}}\" ng-click=$ctrl.dismiss()> <smash-icon icon=close size=16 center=true></smash-icon> </button> <div ng-if=$ctrl.alertTitle class=hitbox-alert__title> <span ng-if=$ctrl.type class=hitbox-alert__title__icon> <smash-icon ng-if=\"$ctrl.type === 'success'\" icon=check size=24></smash-icon> <smash-icon ng-if=\"$ctrl.type === 'info'\" icon=info size=24></smash-icon> <smash-icon ng-if=\"$ctrl.type === 'warning'\" icon=warning size=24></smash-icon> <smash-icon ng-if=\"$ctrl.type === 'error'\" icon=error size=24></smash-icon> </span> <span class=hitbox-alert__title__text> {{$ctrl.alertTitle}} </span> </div> <span ng-if=!$ctrl.onlyTitle> <div class=hitbox-alert__message ng-transclude></div> </span> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1901));t.default=i.default.module("htbx.ui-elements.app-links",[]).component("htbxUiAppLinks",o.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){this.appStoreSvg=e.trustAsHtml(o.default),this.googlePlaySvg=e.trustAsHtml(r.default)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1902)),r=a(n(1903)),s=a(n(1904));n(1905),i.$inject=["$sce"],t.default={bindings:{title:"@?",ios:"@",android:"@",colorDark:"@?",cta:"<?"},templateUrl:s.default,controller:i}},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 92 22"><g fill="#FFFFFF"><path d="M14.7,11.6c0-2.7,2.2-4,2.3-4.1c-1.3-1.8-3.2-2.1-3.9-2.1c-1.6-0.2-3.2,1-4.1,1s-2.1-1-3.5-0.9 C3.7,5.5,2,6.6,1.1,8.2c-1.9,3.3-0.5,8.1,1.3,10.8c0.9,1.3,2,2.8,3.4,2.7c1.4-0.1,1.9-0.9,3.5-0.9s2.1,0.9,3.5,0.8 c1.5,0,2.4-1.3,3.3-2.6c1.1-1.5,1.5-3,1.5-3C17.5,15.9,14.7,14.9,14.7,11.6z"></path><path d="M12,3.7c0.7-0.9,1.2-2.2,1.1-3.4C12,0.3,10.7,1,10,1.9C9.3,2.7,8.7,4,8.9,5.2C10,5.3,11.2,4.6,12,3.7z"></path><path d="M34.4,18.1h-1.9l-1-3.3h-3.6l-1,3.3H25L28.6,7h2.2L34.4,18.1z M31.1,13.4l-0.9-2.9c-0.1-0.3-0.3-1-0.6-2.1l0,0 c-0.1,0.5-0.3,1.2-0.5,2.1l-0.9,2.9H31.1z"></path><path d="M43.6,14c0,1.4-0.4,2.4-1.1,3.2c-0.7,0.7-1.5,1.1-2.5,1.1c-1.1,0-1.8-0.4-2.3-1.1l0,0v4.2h-1.8v-8.7 c0-0.9,0-1.7-0.1-2.6h1.6l0.1,1.3l0,0c0.6-1,1.5-1.4,2.7-1.4c0.9,0,1.7,0.4,2.4,1.1C43.3,11.8,43.6,12.7,43.6,14z M41.8,14 c0-0.8-0.2-1.4-0.5-1.9c-0.4-0.5-0.9-0.8-1.6-0.8c-0.4,0-0.8,0.1-1.2,0.4c-0.4,0.3-0.6,0.7-0.7,1.1c-0.1,0.2-0.1,0.4-0.1,0.5v1.5 c0,0.6,0.2,1.1,0.5,1.5c0.4,0.4,0.8,0.6,1.4,0.6c0.7,0,1.2-0.3,1.6-0.8C41.6,15.6,41.8,14.9,41.8,14z"></path><path d="M52.9,14c0,1.4-0.4,2.4-1.1,3.2c-0.7,0.7-1.5,1.1-2.5,1.1c-1.1,0-1.8-0.4-2.3-1.1l0,0v4.2h-1.8v-8.7 c0-0.9,0-1.7-0.1-2.6h1.6l0.1,1.3l0,0c0.6-1,1.5-1.4,2.7-1.4c0.9,0,1.7,0.4,2.4,1.1C52.5,11.8,52.9,12.7,52.9,14z M51,14 c0-0.8-0.2-1.4-0.5-1.9c-0.4-0.5-0.9-0.8-1.6-0.8c-0.4,0-0.8,0.1-1.2,0.4c-0.4,0.3-0.6,0.7-0.7,1.1c-0.1,0.2-0.1,0.4-0.1,0.5v1.5 c0,0.6,0.2,1.1,0.5,1.5c0.4,0.4,0.8,0.6,1.4,0.6c0.7,0,1.2-0.3,1.6-0.8C50.8,15.6,51,14.9,51,14z"></path><path d="M63.2,15c0,0.9-0.3,1.7-1,2.3c-0.7,0.7-1.7,1-3,1c-1.2,0-2.2-0.2-2.9-0.7l0.4-1.5c0.8,0.5,1.6,0.7,2.6,0.7 c0.7,0,1.2-0.2,1.6-0.5c0.4-0.3,0.6-0.7,0.6-1.2S61.3,14.3,61,14c-0.3-0.3-0.8-0.6-1.5-0.9c-2-0.7-2.9-1.8-2.9-3.2 c0-0.9,0.3-1.7,1-2.3c0.6-0.5,1.5-0.8,2.6-0.8c1,0,1.9,0.2,2.5,0.5l-0.4,1.5c-0.6-0.3-1.3-0.5-2.1-0.5c-0.6,0-1.1,0.2-1.5,0.5 c-0.3,0.3-0.4,0.6-0.4,1s0.2,0.8,0.5,1.1s0.8,0.6,1.6,0.9c1,0.4,1.7,0.8,2.1,1.4C63,13.5,63.2,14.2,63.2,15z"></path><path d="M69.1,11.4h-2v3.9c0,1,0.3,1.5,1,1.5c0.3,0,0.6,0,0.8-0.1v1.4c-0.4,0.1-0.8,0.2-1.4,0.2 c-0.7,0-1.3-0.2-1.7-0.6c-0.4-0.4-0.6-1.2-0.6-2.2v-4.1h-1v-1.3h1.2V8.6l1.8-0.5v2h2C69.1,10,69.1,11.4,69.1,11.4z"></path><path d="M78,14c0,1.2-0.4,2.2-1.1,3s-1.7,1.2-2.9,1.2c-1.2,0-2.1-0.4-2.8-1.2c-0.7-0.8-1.1-1.8-1.1-3s0.4-2.3,1.1-3.1 s1.7-1.2,2.9-1.2c1.2,0,2.1,0.4,2.8,1.2C77.6,11.8,78,12.8,78,14z M76.1,14.1c0-0.7-0.2-1.4-0.5-1.9c-0.4-0.6-0.9-1-1.6-1 s-1.3,0.3-1.6,1c-0.3,0.5-0.5,1.2-0.5,1.9c0,0.7,0.2,1.4,0.5,1.9c0.4,0.6,0.9,1,1.6,1s1.2-0.3,1.6-1C76,15.4,76.1,14.8,76.1,14.1z"></path><path d="M83.8,11.6c-0.2,0-0.4,0-0.6,0c-0.6,0-1.1,0.2-1.5,0.7c-0.3,0.4-0.4,0.9-0.4,1.6v4.2h-1.8v-5.5 c0-0.9,0-1.8-0.1-2.5H81l0.1,1.5l0,0c0.2-0.5,0.5-1,0.9-1.3s0.8-0.4,1.3-0.4c0.2,0,0.3,0,0.4,0C83.8,9.9,83.8,11.6,83.8,11.6z"></path><path d="M91.8,13.7c0,0.3,0,0.6-0.1,0.8h-5.4c0,0.8,0.3,1.4,0.8,1.8c0.5,0.4,1,0.6,1.8,0.6s1.5-0.1,2.2-0.4l0.3,1.2 c-0.8,0.3-1.7,0.5-2.7,0.5c-1.2,0-2.2-0.4-2.9-1.1c-0.7-0.7-1.1-1.7-1.1-3c0-1.2,0.3-2.2,1-3c0.7-0.9,1.6-1.3,2.8-1.3 c1.2,0,2,0.4,2.6,1.3C91.5,11.8,91.8,12.7,91.8,13.7z M90.1,13.2c0-0.5-0.1-1-0.3-1.4c-0.3-0.5-0.8-0.7-1.4-0.7s-1.1,0.2-1.4,0.7 c-0.3,0.4-0.5,0.8-0.5,1.4H90.1L90.1,13.2z"></path></g></svg>'},function(e,t){e.exports='<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 561.8 129.2"><path id="path16" fill="#FFD400" d="M89.2,84.5c15.3-8.4,27-14.8,28-15.3c3.2-1.7,6.5-6.2,0-9.7 c-2.1-1.1-13.4-7.3-28-15.3L69.1,64.4C69.1,64.4,89.2,84.5,89.2,84.5z"></path><path id="path23" fill="#FF3333" d="M69.1,64.4L4.9,129.1c1.5,0.2,3.2-0.2,5.2-1.3 c4.2-2.3,48.8-26.7,79.1-43.3L69.1,64.4L69.1,64.4z"></path><path id="path30" fill="#48FF48" d="M69.1,64.4l20.1-20.2c0,0-74.6-40.7-79.1-43.1 C8.4,0.1,6.5-0.2,4.8,0.1L69.1,64.4z"></path><path id="path37" fill="#3BCCFF" d="M69.1,64.4L4.8,0.1C2.2,0.7,0,3,0,7.7c0,7.5,0,107.5,0,113.8 c0,4.3,1.7,7.4,4.9,7.7L69.1,64.4z"></path><path class="app-links__text " fill="#fff" d="M278.2,49c-11.5,0-21,9.1-21,21.6c0,12.4,9.4,21.6,21,21.6 c11.6,0,21-9.2,21-21.6C299.2,58.1,289.8,49,278.2,49z M278.2,83.7c-6.3,0-11.8-5.4-11.8-13.1c0-7.8,5.5-13.1,11.8-13.1 c6.3,0,11.8,5.3,11.8,13.1C290,78.3,284.5,83.7,278.2,83.7z M232.4,49c-11.6,0-21,9.1-21,21.6c0,12.4,9.4,21.6,21,21.6 c11.6,0,21-9.2,21-21.6C253.4,58.1,244,49,232.4,49z M232.4,83.7c-6.3,0-11.8-5.4-11.8-13.1c0-7.8,5.5-13.1,11.8-13.1 c6.3,0,11.8,5.3,11.8,13.1C244.2,78.3,238.8,83.7,232.4,83.7z M178,55.6v9.2h21.2c-0.6,5.1-2.3,8.9-4.8,11.5 c-3.1,3.2-7.9,6.7-16.4,6.7c-13.1,0-23.3-10.9-23.3-24.4s10.2-24.4,23.3-24.4c7.1,0,12.2,2.8,16,6.5l6.3-6.5 c-5.3-5.2-12.4-9.2-22.3-9.2c-17.9,0-33,15-33,33.5s15,33.5,33,33.5c9.7,0,16.9-3.3,22.7-9.4c5.9-6,7.7-14.5,7.7-21.4 c0-2.1-0.2-4.1-0.5-5.7C207.8,55.6,178,55.6,178,55.6z M400.7,62.7C399,57.9,393.6,49,382.8,49c-10.8,0-19.7,8.7-19.7,21.6 c0,12.1,8.9,21.6,20.7,21.6c9.6,0,15.1-6,17.4-9.6l-7.1-4.9c-2.4,3.6-5.6,6-10.3,6c-4.7,0-8-2.2-10.1-6.5l28-11.9 C401.7,65.2,400.7,62.7,400.7,62.7z M372.2,69.9c-0.2-8.3,6.3-12.6,10.9-12.6c3.7,0,6.7,1.9,7.8,4.6 C390.9,61.9,372.2,69.9,372.2,69.9z M349.5,90.9h9.2V27.4h-9.2V90.9z M334.4,53.8h-0.3c-2.1-2.5-6-4.8-11-4.8 c-10.5,0-20,9.5-20,21.6c0,12.1,9.6,21.5,20,21.5c5,0,8.9-2.3,11-4.9h0.3v3.1c0,8.3-4.3,12.7-11.2,12.7c-5.6,0-9.1-4.2-10.5-7.7 l-8,3.4c2.3,5.7,8.4,12.8,18.5,12.8c10.8,0,19.9-6.5,19.9-22.5V50.3h-8.7V53.8z M323.9,83.7c-6.3,0-11.6-5.5-11.6-13 c0-7.6,5.3-13.2,11.6-13.2c6.2,0,11.2,5.5,11.2,13.2C335.1,78.2,330.1,83.7,323.9,83.7z M443.7,27.4h-22v63.4h9.2v-24h12.8 c10.2,0,20.2-7.6,20.2-19.7C463.9,35,453.9,27.4,443.7,27.4z M444,58h-13.1V36.3H444c6.8,0,10.8,5.9,10.8,10.9 C454.7,52,450.8,58,444,58z M500.7,48.9c-6.6,0-13.5,3-16.3,9.7l8.1,3.5c1.8-3.5,5-4.7,8.4-4.7c4.8,0,9.6,2.9,9.7,8.2v0.7 c-1.7-1-5.2-2.5-9.6-2.5c-8.8,0-17.7,5-17.7,14.3c0,8.5,7.2,14,15.2,14c6.2,0,9.6-2.9,11.7-6.2h0.3v4.9h8.9V66.4 C519.3,55.2,511.2,48.9,500.7,48.9z M499.6,83.6c-3,0-7.2-1.5-7.2-5.4c0-4.9,5.2-6.8,9.7-6.8c4,0,5.9,0.9,8.4,2.1 C509.8,79.5,504.9,83.6,499.6,83.6z M551.6,50.3l-10.5,27.5h-0.3l-10.9-27.5H520l16.4,38.4l-9.3,21.4h9.6l25.2-59.8 C561.8,50.3,551.6,50.3,551.6,50.3z M469,90.9h9.2V27.4H469V90.9z"></path></svg>'},function(e,t,n){var a="/src/js/ui-elements/app-links/components/app-links.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-class="[\n        \'app-links\',\n        {\n            \'app-links--color-dark\': $ctrl.colorDark,\n            \'app-links--variant-cta\': $ctrl.cta,\n        },\n    ]"> <p ng-if=$ctrl.title class=app-links__title> {{$ctrl.title}} </p> <ul class=app-links__items> <li ng-if=$ctrl.ios class="app-links__item app-links__item--apple"> <a ng-bind-html=::$ctrl.appStoreSvg ng-href={{$ctrl.ios}} aria-label="iOS App" class=app-links__link target=_blank rel=noopener></a> </li> <li ng-if=$ctrl.android class="app-links__item app-links__item--google"> <a ng-bind-html=::$ctrl.googlePlaySvg ng-href={{$ctrl.android}} aria-label="Android App" class=app-links__link target=_blank rel=noopener></a> </li> </ul> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1907));t.default=i.default.module("htbx.ui-elements.app-banner",[]).component("appBanner",o.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(363)),r=a(n(16));n(1909);var s=a(n(1910)),l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$window=t,this.bodyClassNames=n}return e.$inject=["$window","bodyClassNames"],i(e,[{key:"$onInit",value:function(){this.checkIfActive(),this.isActive&&this.bodyClassNames.add("has-app-banner")}},{key:"dismiss",value:function(){this.bodyClassNames.remove("has-app-banner"),r.default.set("app-banner.isDismissed",(new Date).getTime()),this.checkIfActive()}},{key:"checkIfActive",value:function(){var e=new o.default(this.$window.navigator.userAgent).is("AndroidOS"),t=r.default.get("app-banner.isDismissed",0),n=(new Date).getTime(),a=!1;t&&(a=n-t<864e5),this.isActive=e&&!a}}]),e}();t.default={templateUrl:s.default,controller:l}},,function(e,t){},function(e,t,n){var a="/src/js/ui-elements/app-banner/components/app-banner.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-if=$ctrl.isActive class=app-banner> <a ng-href={{::$root.config.apps.android.url}} class=app-banner__link> <div class=app-banner__icon> <logo use-icon=true class=app-banner__icon__logo></logo> </div> <div class=app-banner__meta> <h3 class=app-banner__meta__title> Smashcast </h3> <p class=app-banner__meta__description> {{::'global_alert_android-app'|translate}} </p> </div> </a> <htbx-button-close data-on-select=$ctrl.dismiss() class=app-banner__dismiss></htbx-button-close> </div> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0));n(1912),t.default=a.default.module("htbx.ui-elements.button-group",[]).directive("htbxButtonGroup",function(){return{template:'<ol class="button-group" ng-transclude></ol>',replace:!0,transclude:!0}}).directive("htbxButtonGroupItem",function(){return{template:'<li class="button-group__item" ng-transclude></li>',replace:!0,transclude:!0}}).name},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1914)),r=a(n(1917)),s=a(n(1920)),l=a(n(1923)),c=a(n(1926)),u=a(n(1929)),d=a(n(1932));t.default=i.default.module("htbx.ui-elements.buttons",[]).component("buttonMobileIcon",o.default).component("htbxButtonClose",r.default).component("htbxButtonCollapse",s.default).component("htbxButtonRemove",l.default).component("htbxButton",c.default).component("htbxButtonShowMore",u.default).component("smashButtonCsvDownload",d.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1915));n(1916),t.default={bindings:{type:"@",variant:"@",size:"@",disabled:"<",icon:"@",compactMode:"<?"},transclude:!0,templateUrl:a.default}},function(e,t,n){var a="/src/js/ui-elements/buttons/components/button-mobile-icon.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-button data-type={{$ctrl.type}} data-variant={{$ctrl.variant}} data-size={{$ctrl.size}} data-disabled=$ctrl.disabled ng-class=\"::[\n        'button-mobile-icon',\n        {\n            'button-mobile-icon--is-compact-mode': $ctrl.compactMode,\n        },\n    ]\"> <span class=button-mobile-icon__text ng-transclude></span> <smash-icon class=button-mobile-icon__icon icon={{::$ctrl.icon}} size=24 center=true></smash-icon> </htbx-button> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(0)),r=a(n(1918));n(1919);var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"$onInit",value:function(){o.default.isUndefined(this.disabled)&&(this.disabled=!1)}},{key:"select",value:function(){this.onSelect&&!this.disabled&&this.onSelect()}}]),e}();t.default={bindings:{variant:"@?",disabled:"<?",onSelect:"&?"},templateUrl:r.default,controller:s}},function(e,t,n){var a="/src/js/ui-elements/buttons/components/button-close.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <button ng-click=$ctrl.select() type=button aria-label="{{::\'global_text_close\' | translate}}" class="button-close button-close--variant-{{$ctrl.variant}}"> <span class=button-close__icon> <smash-icon data-icon=close data-size=16 data-center=true></smash-icon> </span> </button> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e,t){function n(){r=!0,t(function(){r=!1},100)}function a(){!1===r&&s.addClass(o+"--focused")}function i(){s.removeClass(o+"--focused")}var r=!1,s=void 0;this.$onInit=function(){(s=e.find("."+o)).on("mousedown",n).on("focus",a).on("blur",i)},this.$onDestroy=function(){s.off("mousedown",n).off("focus",a).off("blur",i)}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1921));n(1922),a.$inject=["$element","$timeout"];var o="button-collapse";a.prototype.select=function(){this.onSelect&&this.onSelect()},t.default={bindings:{collapsed:"<?",disabled:"<?",onSelect:"&?"},templateUrl:i.default,transclude:!0,controller:a}},function(e,t,n){var a="/src/js/ui-elements/buttons/components/button-collapse.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<button type=button ng-click=\"$ctrl.select(); $event.stopPropagation();\" ng-disabled=$ctrl.disabled ng-class=\"{\n        'button-collapse--is-collapsed': $ctrl.collapsed,\n        'button-collapse--is-disabled': $ctrl.disabled,\n    }\" aria-label=Collapse class=button-collapse> <span class=button-collapse__icon> <smash-icon data-icon=arrow-right data-size=16 data-center=true></smash-icon> </span> </button> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(0)),r=a(n(1924));n(1925);var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$translate=t}return e.$inject=["$translate"],i(e,[{key:"$onInit",value:function(){o.default.isUndefined(this.label)&&(this.label=this.$translate.instant("global_text_remove")),o.default.isUndefined(this.tooltipPlacement)&&(this.tooltipPlacement="left"),o.default.isUndefined(this.disabled)&&(this.disabled=!1),o.default.isUndefined(this.variant)&&(this.variant="default")}},{key:"select",value:function(){this.onSelect&&!this.disabled&&this.onSelect()}}]),e}();t.default={bindings:{label:"@?",tooltipPlacement:"@?",variant:"@?",disabled:"<?",onSelect:"&?"},templateUrl:r.default,controller:s}},function(e,t,n){var a="/src/js/ui-elements/buttons/components/button-remove.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <button ng-click=$ctrl.select() data-uib-tooltip={{::$ctrl.label}} data-tooltip-placement="auto {{::$ctrl.tooltipPlacement}}" data-tooltip-append-to-body=true type=button aria-label={{::$ctrl.label}} class="button-remove button-remove--variant-{{$ctrl.variant}}"> <smash-icon data-icon=close data-center=true class=button-remove__icon></smash-icon> </button> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(1927));n(1928);var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"$onInit",value:function(){this.hasLoading=!1,(0,i.isUndefined)(this.type)&&(this.type="button"),(0,i.isUndefined)(this.variant)&&(this.variant="default"),(0,i.isUndefined)(this.size)&&(this.size="default"),(0,i.isUndefined)(this.loading)||(this.hasLoading=!0)}},{key:"select",value:function(e){this.onSelect&&!this.disabled&&this.onSelect({$event:e})}},{key:"getClassNames",value:function(){return"button button--variant-"+this.variant+" button--size-"+this.size}}]),e}();t.default={bindings:{type:"@?",variant:"@?",icon:"@?",iconSize:"@?",size:"@?",disabled:"<?",loading:"<?",loadingSpinny:"<?",onSelect:"&?"},templateUrl:o.default,transclude:!0,controller:r}},function(e,t,n){var a="/src/js/ui-elements/buttons/components/button.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<button type={{$ctrl.type}} ng-click=$ctrl.select($event) ng-disabled=$ctrl.disabled ng-class=\"[\n        $ctrl.getClassNames(),\n        {\n            'button--disabled': $ctrl.disabled,\n            'button--loading': $ctrl.loading,\n            'button--has-loading': $ctrl.hasLoading,\n        },\n    ]\"> <span ng-if=\"$ctrl.variant === 'icon'\" class=button__icon> <smash-icon icon=\"{{::$ctrl.icon || 'check'}}\" size=\"{{::$ctrl.iconSize || '16'}}\" center=true></smash-icon> </span> <span class=button__text ng-transclude></span> <span class=button__loading ng-if=$ctrl.hasLoading> <bouncy ng-if=!$ctrl.loadingSpinny></bouncy> <smash-spinny ng-if=$ctrl.loadingSpinny data-variant=\"'{{($ctrl.variant === 'ok' || $ctrl.variant === 'warning') ? 'light' : 'dark'}}'\"></smash-spinny> </span> </button> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1930));n(1931),t.default={bindings:{popoverWidth:"@?",popoverHeight:"@?",popoverPosition:"@?",popoverTemplate:"@"},templateUrl:o.default,controller:function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),i.default.isUndefined(this.popoverWidth)&&(this.popoverWidth=220),i.default.isUndefined(this.popoverHeight)&&(this.popoverHeight=100),i.default.isUndefined(this.popoverPosition)&&(this.popoverPosition="")}}},function(e,t,n){var a="/src/js/ui-elements/buttons/components/button-show-more.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<button type=button class=htbx-button-show-more generic-popover gp-width={{$ctrl.popoverWidth}} gp-height={{$ctrl.popoverHeight}} gp-position={{$ctrl.popoverPosition}} gp-template-url={{$ctrl.popoverTemplate}} gp-on=click> <smash-icon icon=dots-horizontal size=32 center=true></smash-icon> </button> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1933);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"$onInit",value:function(){void 0===this.getData&&(this.getData=function(){return[]}),void 0===this.filename&&(this.filename="data.csv")}}]),e}();t.default={bindings:{getData:"<",filename:"<?",iconOnly:"<?"},template:'\n    <button\n        ng-csv="$ctrl.getData()"\n        field-separator=";"\n        filename="{{$ctrl.filename}}"\n        type="button"\n        class="csv-download-button"\n    >\n        <span\n            ng-if="!$ctrl.iconOnly"\n            class="csv-download-button__text"\n        >\n            CSV\n        </span>\n        <span\n            class="csv-download-button__icon"\n        >\n            <smash-icon\n                icon="download"\n                size="24"\n                center="true"\n            ></smash-icon>\n        </span>\n    </button>\n    ',controller:i}},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(){o.default.isUndefined(this.collapsed)&&(this.collapsed=!0)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(1935));n(1936),i.prototype.collapse=function(){this.titleClickDisabled||(this.collapsed=!this.collapsed,this.onCollapse&&this.onCollapse({collapsed:this.collapsed}))},t.default={bindings:{title:"@",titleClickDisabled:"<?",variant:"@?",collapsed:"<?",onCollapse:"&?"},templateUrl:r.default,transclude:{title:"?htbxCollapsibleTitle"},controller:i}},function(e,t,n){var a="/src/js/ui-elements/collapsible/components/collapsible.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class="collapsible collapsible--variant-{{$ctrl.variant}}" ng-class="{\'collapsible--is-collapsed\': $ctrl.collapsed}"> <div class=collapsible__header ng-click=$ctrl.collapse()> <div class=collapsible__header__title data-ng-transclude=title> {{$ctrl.title}} </div> <htbx-button-collapse data-collapsed=$ctrl.collapsed data-disabled=$ctrl.titleClickDisabled data-on-select=$ctrl.collapse()></htbx-button-collapse> </div> <div class="collapsible__content animate" uib-collapse=$ctrl.collapsed data-ng-transclude></div> </section> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(139));t.default=i.default.module("htbx.ui-elements.content-nav",[]).directive("htbxContentNav",["reactDirective",function(e){return e(o.default)}]).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1939));t.default=i.default.module("htbx.ui-elements.date-range",[]).directive("daterange",o.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(n){n.daterangeHide=function(){(0,o.default)("#date-range-field").attr("disabled","disabled")},n.daterangeSetText=function(e,t){(0,o.default)("#date-range-field .date-range-field__value").text(r.default.utc(e).format("MMM D, YYYY")+" - "+r.default.utc(t).format("MMM D, YYYY"))};var a=r.default.utc(r.default.utc().format("YYYY-MM-DD")+"T23:59:59+00:00").subtract(1,"days").toDate(),i=r.default.utc(r.default.utc().format("YYYY-MM-DD")+"T00:00:00+00:00").subtract(32,"days").toDate();n.calendarClick=0,n.datepicker=(0,o.default)("#datepicker-calendar").DatePicker({inline:!0,date:[i,a],calendars:n.showMonths,mode:"range",wrapper:"test",current:new Date(a.getFullYear(),a.getMonth()-1,1),onChange:function(t){n.calendarClick+=1,n.calendarClick<2||(n.calendarClick=0,n.$apply(function(){n.reloadStartDate=r.default.utc((0,r.default)(t[0]).format("YYYY-MM-DD")+"T00:00:00+00:00").unix(),n.reloadEndDate=r.default.utc((0,r.default)(t[1]).format("YYYY-MM-DD")+"T23:59:58+00:00").unix()}),(0,o.default)("#datepicker-calendar").hide(),n.datepickerOpen=!1,n.$apply(),(0,o.default)("#date-range-field .date-range-field__value").text(t[0].getMonthName(!1)+" "+t[0].getDate()+", "+t[0].getFullYear()+" - "+t[1].getMonthName(!1)+" "+t[1].getDate()+", "+t[1].getFullYear()),e.trackEvent("stats","rangeSelected"))}},'<div class="datepicker"><div class="datepicker__presets"><span class="daterangeLinks" id="daterange_last_two_months">'+t.instant("view_statistics-settings_text_last-two-months")+'</span><span id="daterange_last_month" class="daterangeLinks">'+t.instant("view_statistics-settings_text_last-month")+'</span><span id="daterange_this_month" class="daterangeLinks">'+t.instant("view_statistics-settings_text_this-month")+'</span><span id="daterange_last_week" class="daterangeLinks">'+t.instant("view_statistics-settings_text_last-seven-days")+'</span><span id="daterange_rangeYesterday" class="daterangeLinks">'+t.instant("view_statistics-settings_text_yesterday")+'</span><span id="daterange_rangeToday" class="daterangeLinks">'+t.instant("view_statistics-settings_text_today")+'</span></div><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr></tr></tbody></table></div></div>'),(0,o.default)("#date-range-field .date-range-field__value").text(r.default.utc(i).format("MMM D, YYYY")+" - "+r.default.utc(a).format("MMM D, YYYY")),(0,o.default)("#daterange_last_two_months").bind("click",function(){n.rangeButton(62),n.datepicker.hide(),n.datepickerOpen=!1,n.$apply()}),(0,o.default)("#daterange_last_month").bind("click",function(){n.rangeLastMonth(),n.datepicker.hide(),n.datepickerOpen=!1,n.$apply()}),(0,o.default)("#daterange_this_month").bind("click",function(){n.rangeThisMonth(),n.datepicker.hide(),n.datepickerOpen=!1,n.$apply()}),(0,o.default)("#daterange_last_week").bind("click",function(){n.rangeButton(7),n.datepicker.hide(),n.datepickerOpen=!1,n.$apply()}),(0,o.default)("#daterange_rangeYesterday").bind("click",function(){n.rangeYesterday(),n.datepicker.hide(),n.datepickerOpen=!1,n.$apply()}),(0,o.default)("#daterange_rangeToday").bind("click",function(){n.rangeToday(),n.datepicker.hide(),n.datepickerOpen=!1,n.$apply()}),(0,o.default)("#date-range-field").bind("click",function(){return!(0,o.default)("#date-range-field").attr("disabled")&&((0,o.default)("#datepicker-calendar").toggle(function(){"block"===(0,o.default)("#datepicker-calendar").css("display")?n.datepickerOpen=!0:n.datepickerOpen=!1,n.$apply()}),!1)}),n.datepicker.hide(),(0,o.default)("#date-range-field").attr("disabled","disabled"),n.$on("$destroy",function(){(0,o.default)("#daterange_last_two_months").unbind("click"),(0,o.default)("#daterange_last_month").unbind("click"),(0,o.default)("#daterange_this_month").unbind("click"),(0,o.default)("#daterange_last_week").unbind("click"),(0,o.default)("#daterange_rangeYesterday").unbind("click"),(0,o.default)("#daterange_rangeToday").unbind("click"),(0,o.default)("#daterange_rangeToday").unbind("click"),(0,o.default)("#date-range-field").unbind("click")})}return n.$inject=["$scope"],{restrict:"E",transclude:!0,templateUrl:s.default,controller:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),r=a(n(5)),s=a(n(1940));n(1941),i.$inject=["Analytics","$translate"],t.default=i},function(e,t,n){var a="/src/js/ui-elements/date-range/directives/date-range.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div id=date-range> <div id=date-range-field ng-class={active:datepickerOpen}> <span class=date-range-field__value></span> <div class=date-range-field__arrow> <smash-icon icon=arrow-down size=24 center=true></smash-icon> </div> </div> <div id=datepicker-calendar></div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1943));t.default=i.default.module("htbx.ui-elements.toggle-checkbox",[]).component("toggleCheckbox",o.default).name},function(e,t,n){"use strict";function a(e,t){var n=this;e.on("click",function(){n.isDisabled||(n.model=!n.model,n.isValue=!n.isValue,n.ngModelCtrl.$setViewValue(n.isValue))}),this.$onInit=function(){n.ngModelCtrl.$formatters.push(function(e){return e}),n.ngModelCtrl.$parsers.push(function(e){return e}),n.ngModelCtrl.$render=function(){n.isValue=n.ngModelCtrl.$viewValue,n.model=n.isValue,t.inverseMode&&(n.model=!n.model)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1944));n(1945),a.$inject=["$element","$attrs"],t.default={require:{ngModelCtrl:"ngModel"},bindings:{isDisabled:"<?",label:"@",inverseMode:"@",darkBackground:"@"},templateUrl:i.default,controller:a}},function(e,t,n){var a="/src/js/ui-elements/toggle-checkbox/components/toggle-checkbox.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=toggle-checkbox role=radio ng-class=\"{\n        'toggle-checkbox--disabled': $ctrl.isDisabled,\n        'toggle-checkbox--state-true': ($ctrl.model == true),\n        'toggle-checkbox--on-dark-background': $ctrl.darkBackground,\n    }\"> <div class=toggle-checkbox__box> <span class=toggle-checkbox__box__checkmark> <smash-icon data-icon=check data-center=true></smash-icon> </span> </div> <div class=\"toggle-checkbox__label nono\" ng-bind=$ctrl.label></div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1947)),r=a(n(1951)),s=a(n(1952));t.default=i.default.module("htbx.ui-elements.input-group",[o.default]).directive("selectOnClick",r.default).component("htbxInputGroup",s.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0));n(652);var o=a(n(1948));t.default=i.default.module("htbx.ui-elements.input-group-addon",["angular-clipboard"]).component("htbxInputGroupAddon",o.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1949));n(1950);var o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleClick=function(e){"clipboard"===n.inputClickAction&&(e.preventDefault(),n.copyToClipboard(),n.copied=!0)},this.clipboard=t}return e.$inject=["clipboard"],a(e,[{key:"copyToClipboard",value:function(){this.clipboard.copyText(this.inputGroupCtrl.inputValue)}}]),e}();t.default={bindings:{inputClickAction:"@?",tooltipText:"@?"},templateUrl:i.default,transclude:!0,require:{inputGroupCtrl:"^htbxInputGroup"},controller:o}},function(e,t,n){var a="/src/js/ui-elements/input-group/input-group-addon/components/input-group-addon.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-if=$ctrl.tooltipText uib-tooltip={{$ctrl.tooltipText}} tooltip-append-to-body=true class=input-group__addon__content ng-click=$ctrl.handleClick($event) ng-class="{copied: $ctrl.copied}" ng-transclude></div> <div ng-if=!$ctrl.tooltipText class=input-group__addon__content ng-click=$ctrl.handleClick($event) ng-class="{copied: $ctrl.copied}" ng-transclude></div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){t.click(function(){t.select()})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1953));t.default={bindings:{inputGroupAddonPosition:"@?",inputValue:"@?",inputPlaceholder:"@?",inputReadonly:"@?"},templateUrl:a.default,transclude:!0,controller:function(){var e=this;this.$onInit=function(){e.input={placeholder:e.inputPlaceholder,readOnly:!!e.inputReadonly&&"true"===e.inputReadonly},e.hasInputGroupAddon=!!e.hasInputGroupAddon&&"true"===e.hasInputGroupAddon,e.inputGroupAddonPosition=e.inputGroupAddonPosition?e.inputGroupAddonPosition:"after"}}}},function(e,t,n){var a="/src/js/ui-elements/input-group/components/input-group.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=input-group> <input ng-if=$ctrl.input.readOnly class=input-group__input type=text ng-model=$ctrl.inputValue ng-readonly=true placeholder={{$ctrl.input.placeholder}} select-on-click/> <input ng-if=!$ctrl.input.readOnly class=input-group__input type=text ng-model=$ctrl.inputValue placeholder={{$ctrl.input.placeholder}} /> <div class=input-group__addon ng-class=\"{ 'input-group__addon--position-before': $ctrl.inputGroupAddonPosition === 'before',\n                    'input-group__addon--position-after': $ctrl.inputGroupAddonPosition === 'after' }\" ng-transclude></div> </div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1955)),r=a(n(1959));t.default=i.default.module("htbx.ui-elements.loaders",[o.default,r.default]).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1956));t.default=i.default.module("htbx.ui-elements.loaders.bouncy",[]).component("bouncy",o.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1957));n(1958),t.default={bindings:{onLight:"@?",bouncySize:"<?"},templateUrl:a.default}},function(e,t,n){var a="/src/js/ui-elements/loaders/bouncy/components/bouncy.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=bouncy ng-class=\"{'bouncy--on-light': $ctrl.onLight}\" ng-if=!$ctrl.bouncySize> <div class=bouncy1></div> <div class=bouncy2></div> <div class=bouncy3></div> </div> <div class=bouncy ng-class=\"{'bouncy--on-light': $ctrl.onLight}\" ng-if=$ctrl.bouncySize> <div class=bouncy1 ng-style=\"{ height: $ctrl.bouncySize + 'px', width: $ctrl.bouncySize + 'px'}\"></div> <div class=bouncy2 ng-style=\"{ height: $ctrl.bouncySize + 'px', width: $ctrl.bouncySize + 'px'}\"></div> <div class=bouncy3 ng-style=\"{ height: $ctrl.bouncySize + 'px', width: $ctrl.bouncySize + 'px'}\"></div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1960));t.default=i.default.module("htbx.ui-elements.loaders.saving-indicator",[]).component("htbxSavingIndicator",o.default).name},function(e,t,n){"use strict";function a(e){var t=void 0;this.saved=!1,this.error=!1,(0,i.isUndefined)(this.variant)&&(this.variant="dark"),(0,i.isUndefined)(this.positionInCorner)&&(this.positionInCorner=!1),this.$onChanges=function(n){var a=this;n.saving&&(this.saved=!1,e.cancel(t),!0!==n.saving.previousValue||n.saving.currentValue||(this.saved=!0,t=e(function(){a.saved=!1},r)))}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(1961));n(1962),a.$inject=["$timeout"];var r=4e3;a.prototype.isSaving=function(){return!!this.saving},a.prototype.hasSaved=function(){return this.saved},t.default={bindings:{variant:"@?",saving:"<?",error:"<?",positionInCorner:"<?"},templateUrl:o.default,controller:a}},function(e,t,n){var a="/src/js/ui-elements/loaders/saving-indicator/components/saving-indicator.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-class=\"[\n        'saving-indicator',\n        {\n            'saving-indicator--is-saving': $ctrl.isSaving(),\n            'saving-indicator--has-saved': $ctrl.hasSaved(),\n            'saving-indicator--has-error': $ctrl.error,\n            'saving-indicator--position-in-corner': $ctrl.positionInCorner,\n        },\n    ]\"> <div ng-if=$ctrl.isSaving() class=\"saving-indicator__loading animate\"> <bouncy on-light=\"{{$ctrl.variant === 'dark' ? true : ''}}\"></bouncy> </div> <p ng-if=$ctrl.hasSaved() class=\"saving-indicator__saved animate\"> <span ng-if=!$ctrl.error> {{::'global_button_saved' | translate}} </span> <span ng-if=$ctrl.error> {{::'global_error_error-saving' | translate}} </span> </p> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1964));t.default=i.default.module("htbx.ui-elements.page-title",[]).component("htbxPageTitle",o.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(11));n(1965),t.default={bindings:{variant:"@?",hasSubtitle:"<?"},template:'<h1 class="page-title page-title--variant-{{$ctrl.variant}}" ng-class="{\'page-title--has-subtitle\': $ctrl.hasSubtitle}" data-ng-transclude></h1>',transclude:!0,controller:function(){(0,a.default)(this.variant)&&(this.variant="default")}}},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1967));t.default=i.default.module("htbx.ui-elements.radiobutton",[]).component("htbxRadiobutton",o.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1968));n(1969),t.default={bindings:{ngModel:"=",disabled:"<?",required:"<?",name:"@",value:"@"},transclude:!0,templateUrl:a.default}},function(e,t,n){var a="/src/js/ui-elements/radiobutton/components/radiobutton.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <label class=radiobutton> <input ng-model=$ctrl.ngModel ng-disabled=$ctrl.disabled ng-required=$ctrl.required name={{$ctrl.name}} value={{$ctrl.value}} type=radio /> <div class=radiobutton__content> <span class=radiobutton__icon> <smash-icon icon=check size=16 center=true></smash-icon> </span> <span class=radiobutton__text ng-transclude/> </div> </label> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1971));t.default=i.default.module("htbx.ui-elements.scrollable",[]).directive("htbxScrollable",o.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function a(a,i){function r(){s||(i.TrackpadScrollEmulator({wrapContent:!1}),s=!0,n.debug("TrackpadScroll was created"))}var s=!1;o.default.isUndefined(a.enabled)&&(a.enabled=!0),e.deviceSize.update(),a.$watch("enabled",function(e,t){e&&!1===t?r():!1===e&&t&&s&&(i.TrackpadScrollEmulator("recalculate"),s=!1,n.debug("TrackpadScroll recalculated"))});var l=i.find(".tse-scroll-content");l.on("scroll",function(){t.$emit("tseScroll")}),a.disableOverScroll&&l.on("mousewheel",function(e){var t=e.originalEvent.wheelDelta||-e.originalEvent.detail,n=t<0,a=t>0&&l.scrollTop()<=0,i=n&&l.scrollTop()>=l[0].scrollHeight-l[0].offsetHeight;return!(a||i)}),a.enabled&&r(),a.$on("$destroy",function(){l.off("scroll mousewheel"),i.TrackpadScrollEmulator("destroy"),n.debug("TrackpadScroll destroyed")})}return a.$inject=["scope","$element"],{restrict:"E",scope:{enabled:"=?",disableOverScroll:"=?"},templateUrl:r.default,replace:!0,transclude:!0,link:a}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0));n(653),n(1972);var r=a(n(1973));i.$inject=["DisplayService","$rootScope","$log"],t.default=i},function(e,t){},function(e,t,n){var a="/src/js/ui-elements/scrollable/directives/scrollable.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="scrollable tse-scrollable"> <div class=tse-scroll-content> <div class="tse-content tse-content-main" ng-transclude></div> </div> </div> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1975)),r=a(n(1978));t.default=i.default.module("htbx.ui-elements.sub-nav",[]).component("htbxSubNav",o.default).component("htbxSubNavSection",r.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(11)),r=a(n(16));n(1976);var s=a(n(1977)),l=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$stateParams=t,this.loggedUser=n,this.medias=a,this.isSuperAdmin=n.isSuperAdmin}return e.$inject=["$stateParams","loggedUser","medias"],i(e,[{key:"$onInit",value:function(){var e=this;(0,o.default)(this.variant)&&(this.variant="default"),this.$stateParams.user?this.stateUserName=this.$stateParams.user:this.stateUserName=this.loggedUser.getName(),r.default.get("user.hasLiveStream",!1)?(this.livestream=!0,this.loaded=!0):this.medias.refresh(this.stateUserName,"live").then(function(t){e.livestream=null!==t,e.livestream&&(e.stateUserName=t.media_user_name||e.stateUserName)}).catch(function(){e.livestream=!1}).finally(function(){e.loaded=!0})}},{key:"isSelf",value:function(){return this.stateUserName.toLowerCase()===this.loggedUser.getName().toLowerCase()}}]),e}();t.default={bindings:{activeSection:"@?",variant:"@?"},templateUrl:s.default,controller:l,transclude:!0}},function(e,t){},function(e,t,n){var a="/src/js/ui-elements/sub-nav/components/sub-nav.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-if=$ctrl.loaded class=\"sub-nav sub-nav--variant-{{$ctrl.variant}}\"> <div ng-if=!$ctrl.livestream class=sub-nav__section-component> <ul class=sub-nav__section> <li ui-sref-active=sub-nav__item--is-active class=\"sub-nav__item sub-nav__item--primary\"> <a ui-sref=\"studio.livestreamSetup({user: $ctrl.stateUserName})\" class=sub-nav__link> <span class=color-blue>{{::'global_text_start-streaming' | translate}}</span> </a> </li> </ul> </div> <htbx-sub-nav-section ng-if=\"$ctrl.livestream && $ctrl.isSuperAdmin()\" data-router-ui-sref=\"'studio.admin({user: \\'' + $ctrl.stateUserName + '\\'})'\"> <htbx-sub-nav-section-category> Admin </htbx-sub-nav-section-category> </htbx-sub-nav-section> <section ng-if=$ctrl.livestream> <htbx-sub-nav-section data-router-ui-sref=\"'studio.dashboard({user: \\'' + $ctrl.stateUserName + '\\'})'\" data-section=dashboard data-is-active=\"$ctrl.activeSection === 'dashboard'\"> <htbx-sub-nav-section-category> {{::'global_menu_live-dashboard' | translate}} </htbx-sub-nav-section-category> </htbx-sub-nav-section> <htbx-sub-nav-section data-router-ui-sref=\"'videomanager.recordings({user: \\'' + $ctrl.stateUserName + '\\'})'\" data-section=videoManager data-is-active=\"$ctrl.activeSection === 'videos' || $ctrl.activeSection === 'recordings'\"> <htbx-sub-nav-section-category> {{::'global_menu_video-manager' | translate}} </htbx-sub-nav-section-category> <htbx-sub-nav-section-content> <video-manager-navigation state-user-name={{$ctrl.stateUserName}} class=sub-nav__navigation></video-manager-navigation> </htbx-sub-nav-section-content> </htbx-sub-nav-section> </section> <section ng-if=\"$ctrl.livestream && ($ctrl.isSelf() || $ctrl.isSuperAdmin())\"> <htbx-sub-nav-section data-router-ui-sref=\"'statistics({user: \\'' + $ctrl.stateUserName + '\\'})'\" data-section=statistics data-is-active=\"$ctrl.activeSection === 'statistics'\"> <htbx-sub-nav-section-category> {{::'global_menu_statistics' | translate}} </htbx-sub-nav-section-category> </htbx-sub-nav-section> <htbx-sub-nav-section data-router-ui-sref=\"'payments({user: \\'' + $ctrl.stateUserName + '\\'})'\" data-section=payments data-is-active=\"$ctrl.activeSection === 'payments'\"> <htbx-sub-nav-section-category> {{::'global_menu_revenues' | translate}} </htbx-sub-nav-section-category> </htbx-sub-nav-section> </section> <htbx-sub-nav-section ng-if=\"$ctrl.isSelf() || $ctrl.isSuperAdmin()\" data-router-ui-sref=\"'community.subscriptions({user: \\'' + $ctrl.stateUserName + '\\'})'\" data-section=community data-is-active=\"$ctrl.activeSection === 'community'\"> <htbx-sub-nav-section-category> {{::'global_text_community' | translate}} </htbx-sub-nav-section-category> <htbx-sub-nav-section-content> <htbx-community-navigation data-livestream=$ctrl.livestream class=sub-nav__navigation></htbx-community-navigation> </htbx-sub-nav-section-content> </htbx-sub-nav-section> <htbx-sub-nav-section ng-if=\"$ctrl.isSelf() || $ctrl.isSuperAdmin()\" data-router-ui-sref=\"$ctrl.livestream ? 'settings.channel({user: \\'' + $ctrl.stateUserName + '\\'})' : 'settings.account({user: \\'' + $ctrl.stateUserName + '\\'})'\" data-section=settings data-is-active=\"$ctrl.activeSection === 'settings'\"> <htbx-sub-nav-section-category> {{::'global_text_settings' | translate}} </htbx-sub-nav-section-category> <htbx-sub-nav-section-content> <htbx-settings-navigation data-livestream=$ctrl.livestream class=sub-nav__navigation></htbx-settings-navigation> </htbx-sub-nav-section-content> </htbx-sub-nav-section> </div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(0)),r=a(n(1979)),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$transclude=t}return e.$inject=["$transclude"],i(e,[{key:"$onInit",value:function(){o.default.isUndefined(this.isActive)&&(this.isActive=!1),o.default.isUndefined(this.section)&&(this.section="default")}},{key:"hasChildren",value:function(){return this.$transclude.isSlotFilled("content")}}]),e}();t.default={bindings:{routerUiSref:"<",section:"@?",isActive:"<?"},templateUrl:r.default,controller:s,transclude:{category:"?htbxSubNavSectionCategory",content:"?htbxSubNavSectionContent"}}},function(e,t,n){var a="/src/js/ui-elements/sub-nav/components/sub-nav.section.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<ul ng-class=\"[\n        'sub-nav__section',\n        'sub-nav__section--section-{{$ctrl.section}}',\n        {\n            'sub-nav__section--has-children': $ctrl.hasChildren(),\n        },\n    ]\"> <li class=\"sub-nav__item sub-nav__item--primary\" ng-class=\"{\n            'sub-nav__item--is-active': $ctrl.isActive,\n        }\"> <a ui-sref={{$ctrl.routerUiSref}} class=sub-nav__link> <span data-ng-transclude=category></span> </a> </li> <li ng-if=\"$ctrl.isActive && $ctrl.hasChildren()\" class=sub-nav__section__children> <div data-ng-transclude=content></div> </li> </ul> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1981)),r=a(n(1984));t.default=i.default.module("htbx.ui-elements.table",[]).component("htbxTable",o.default).filter("emptyToEnd",r.default).name},function(e,t,n){"use strict";function a(e){e.totalItemCount&&(this.totalItemCount=parseInt(e.totalItemCount,10)),this.pages={current:1,offset:0},this.getPagesMax=function(){var e=this.pageCount;return this.hasPagination=e>1,this.list?e:0},this.selectPage=function(){var e=(this.pages.current-1)*this.itemsPerPage;this.totalItemCount?this.onPageSelect({params:{offset:e}}):this.pages.offset=e},this.getTotalItemCount=function(){return this.totalItemCount||this.list?this.totalItemCount?this.totalItemCount:this.list.length:0}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1982));n(1983),a.$inject=["$attrs"],t.default={bindings:{loading:"<?",list:"<",filter:"@?",orderBy:"@?",itemTpl:"@",itemsPerPage:"<",totalItemCount:"@?",onPageSelect:"&?",actions:"<?",trackBy:"@?",hasPagination:"=?",noDataText:"@?",templates:"<?"},templateUrl:i.default,transclude:!0,replace:!0,controller:a}},function(e,t,n){var a="/src/js/ui-elements/table/components/table.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=table ng-class="{\n        \'table--has-pagination\': ($ctrl.getPagesMax() > 1),\n        \'table--is-loading\': $ctrl.loading,\n        \'table--no-data\': (!$ctrl.loading && !$ctrl.list.length),\n    }"> <div class=table__content> <div class=table__header ng-transclude></div> <div ng-if=$ctrl.loading class=table__loading> <smash-spinny data-size="\'medium\'" data-center=true></smash-spinny> </div> <ul ng-if="!$ctrl.loading || $ctrl.list.length" class=table__list> <li ng-repeat="item in $ctrl.list | filter:$ctrl.filter | orderBy:$ctrl.orderBy | emptyToEnd:$ctrl.orderBy | limitTo:$ctrl.itemsPerPage:$ctrl.pages.offset track by (item[$ctrl.trackBy] || $index)" ng-include=::$ctrl.itemTpl class=table__list__row></li> </ul> <p ng-if="!$ctrl.loading && $ctrl.noDataText && !$ctrl.list.length" class=table__no-data> {{$ctrl.noDataText}} </p> </div> <div ng-show="$ctrl.list.length && $ctrl.pageCount > 1" class="table__pagination table__pagination--bottom"> <ul uib-pagination ng-model=$ctrl.pages.current max-size=3 previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo; boundary-links=true boundary-link-numbers=true items-per-page=$ctrl.itemsPerPage num-pages=$ctrl.pageCount total-items=$ctrl.getTotalItemCount() ng-change=$ctrl.selectPage(page)></ul> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){if(!angular.isArray(e))return!1;var n=e.filter(function(e){return e[t]}),a=e.filter(function(e){return!e[t]});return n.concat(a)}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1986));t.default=i.default.module("htbx.ui-elements.pagination",[]).component("htbxCarouselControls",o.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1987));n(1988);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"select",value:function(e){1===e&&this.onPrev?this.onNext():-1===e&&this.onNext&&this.onPrev()}}]),e}();t.default={bindings:{showPrev:"<",showNext:"<",onPrev:"&?",onNext:"&?",hasDarkBackground:"&?"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/ui-elements/pagination/components/carousel-controls.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=carousel-controls> <button ng-if=$ctrl.showPrev ng-click=$ctrl.select(-1) type=button aria-label=Previous ng-class=\"[\n            'carousel-controls__button',\n            'carousel-controls__button--previous',\n            {\n                'carousel-controls-has-dark-background': $ctrl.hasDarkBackground,\n            },\n        ]\"> <smash-icon icon=arrow-right></smash-icon> </button> <button ng-if=$ctrl.showNext ng-click=$ctrl.select(1) type=button aria-label=Next class=\"carousel-controls__button carousel-controls__button--next\"> <smash-icon icon=arrow-right></smash-icon> </button> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1990));t.default=i.default.module("htbx.ui-elements.select",[]).component("htbxSelect",o.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1991));n(1992);var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$scope:t,$attrs:n}),this.loaded=!1}return e.$inject=["$scope","$attrs"],a(e,[{key:"$onInit",value:function(){this.ngModel.$formatters.push(function(e){return e}),this.ngModel.$parsers.push(function(e){return e})}},{key:"selectItem",value:function(e){this.ngModel.$setViewValue(e)}},{key:"onToggle",value:function(e){var t=this;e&&this.asyncItems&&!this.loaded&&this.asyncItems().then(function(e){t.$scope.$apply(function(){t.loaded=!0,t.items=e})})}}]),e}();t.default={require:{ngModel:"ngModel"},bindings:{items:"<?",asyncItems:"&?",loading:"<?",orderBy:"@?",useCustomButton:"<?",itemTpl:"@?",actions:"<?"},transclude:{selectButton:"?htbxSelectButton",selectHeader:"?htbxSelectHeader"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/ui-elements/select/components/select.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div uib-dropdown dropdown-append-to-body on-toggle=$ctrl.onToggle(open) class="htbx-select dropdown"> <button ng-if=::$ctrl.useCustomButton uib-dropdown-toggle ng-disabled=$ctrl.$attrs.disabled data-ng-transclude=selectButton class="htbx-select__button table__list__filter__custom"></button> <button ng-if=::!$ctrl.useCustomButton uib-dropdown-toggle ng-disabled=$ctrl.$attrs.disabled class="htbx-select__button table__list__filter__button"> <span ng-style=$ctrl.ngModel.$viewValue.linkStyles ng-class=$ctrl.ngModel.$viewValue.linkClasses class=htbx-select__button__text> {{$ctrl.ngModel.$viewValue.label}} </span> <span class=htbx-select__button__icon> <smash-icon icon=tiny-arrow center=true></smash-icon> </span> </button> <ul uib-dropdown-menu class="htbx-select__dropdown dropdown-menu table__list__filter__dropdown"> <li data-ng-transclude=selectHeader class=htbx-select__header></li> <li ng-if=$ctrl.loading> <smash-spinny></smash-spinny> </li> <li ng-if=!$ctrl.loading ng-repeat="item in $ctrl.items | orderBy:$ctrl.orderBy" ng-class="{\n                active: item === $ctrl.ngModel.$viewValue,\n            }"> <a ng-click=$ctrl.selectItem(item) ng-style=item.linkStyles ng-class=item.linkClasses> <span ng-if=::!$ctrl.itemTpl> {{::item.label}} </span> <span ng-if=::$ctrl.itemTpl ng-include=::$ctrl.itemTpl></span> </a> </li> </ul> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1994));t.default=i.default.module("htbx.ui-elements.social-share-buttons",[]).directive("smashSocialShareButtons",["reactDirective",function(e){return e(o.default,["facebook","twitter","reddit","vk","code","onClick"])}]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1995));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(35))),r=a(n(458)),s=a(n(464)),l=a(n(462)),c=a(n(466)),u=a(n(456)),d=n(1996),f=function(e,t){return function(){return t&&t(e)}},p=function(e){var t=e.facebook,n=e.twitter,a=e.reddit,p=e.vk,m=e.code,h=e.onClick;return i.default.createElement(d.StyledComponent,null,t?i.default.createElement(d.StyledButton,{name:"facebook",onClick:f("facebook",h)},i.default.createElement(o.default,{icon:r.default,size:32,center:!0})):null,n?i.default.createElement(d.StyledButton,{name:"twitter",onClick:f("twitter",h)},i.default.createElement(o.default,{icon:s.default,size:32,center:!0})):null,a?i.default.createElement(d.StyledButton,{name:"reddit",onClick:f("reddit",h)},i.default.createElement(o.default,{icon:l.default,size:32,center:!0})):null,p?i.default.createElement(d.StyledButton,{name:"vk",onClick:f("vk",h)},i.default.createElement(o.default,{icon:c.default,size:32,center:!0})):null,m?i.default.createElement(d.StyledButton,{name:"code",onClick:f("code",h)},i.default.createElement(o.default,{icon:u.default,size:32,center:!0})):null)};p.defaultProps={facebook:!0,twitter:!0,reddit:!0,vk:!0,code:!0,onClick:null},t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledButton=t.StyledComponent=void 0;var i=a(n(3)),o=a(n(10)),r=n(20),s=(t.StyledComponent=o.default.div.withConfig({displayName:"SocialShareButtonsstyles__StyledComponent",componentId:"sc-1ycvexm-0"})(["display:flex;justify-content:center;padding:15px 0;"]),{default:"#4d4d4d",facebook:r.brands.facebook,twitter:r.brands.twitter,reddit:r.brands.reddit,vk:r.brands.vk,code:"#4d4d4d"}),l=t.StyledButton=o.default.button.attrs({type:"button"}).withConfig({displayName:"SocialShareButtonsstyles__StyledButton",componentId:"sc-1ycvexm-1"})(["position:relative;display:inline-block;margin:0 3px;border-radius:2px;padding:0;width:45px;height:45px;line-height:45px;color:#fff;background-color:",";cursor:pointer;transition:opacity .2s;&:hover{opacity:.8;}"],function(e){var t=e.name;return s[t]});l.propTypes={name:i.default.oneOf(["default","facebook","twitter","reddit","vk","code"])},l.defaultProps={name:"default"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(1998));t.default=i.default.module("htbx.ui-elements.popover",[]).directive("genericPopover",o.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,c){function u(u,d,f){function p(e){var t=e.target,n=(0,r.default)(t),a=(0,r.default)(h);t&&t!==h&&!n.closest(a).length&&u.popoverState.destroy()}var m=!1,h=!1,g=f.gpPosition,_=f.gpWidth,v=f.gpHeight,b=[],y=f.gpKeepOpen,w=[],$=!1,x=!1,k=null,S=void 0,C=(0,r.default)(a),M=(0,r.default)(document);(0,l.default)(f.gpClasses)||(b=JSON.parse(f.gpClasses)),u.popoverState=i.popoverState,m=u.popoverState.isMobile(),w.push(c.$on("WindowResize",function(){m=u.popoverState.isMobile()})),u.$on("$destroy",function(){C.off("scroll",u.handleScroll)}),u.$on("popover:close",function(){u.remove_tooltip()}),u.$on("popover:open",function(e,t){t&&(k!==t.target?(t.target&&(k=t.target),t.id===f.gpId&&u.togglePopover()):u.remove_tooltip())});var E=!1,T=!1,P=!1,O=void 0,j=!1;w.push(c.$on("PopoverUpdated",function(){!1!==u.popoverState.get()||E||u.remove_tooltip()}));var A=f.gpTemplateUrl?t.get(f.gpTemplateUrl):f.gpTemplate,I=function(){n.cancel(S),S=n(function(){$||x||u.remove_tooltip()},200)};u.remove_tooltip=function(){h&&!(0,l.default)(h)&&(O.$destroy(),h.remove(),P=!1,C.off("scroll",u.handleScroll),k=null),M.unbind("click",p)},u.togglePopover=function(){j?n(function(){u.init_tooltip()}):(E=!0,u.popoverState.get()&&u.popoverState.destroy(),P?u.remove_tooltip():n(function(){u.init_tooltip()}),E=!1)},u.calculatePosition=function(){var e=void 0,t=void 0,a=void 0,i=void 0,l=void 0;null!==k?(e=o.default.element(k),j=!1):(0,s.default)(u.$eval(f.gpGetRelativeElement))?(e=(0,r.default)(u.$eval(f.gpGetRelativeElement)()),j=!0):(e=d,j=!1);var c=e.offset().left-C.scrollLeft(),p=e.offset().top-C.scrollTop(),y=C.height(),w=C.width(),$=void 0;if(h.removeClass().addClass("popover-tooltip"),h.css({right:"initial",left:"initial",top:"initial",bottom:"initial"}),m){h.css({left:0}),h.css({right:0}),h.addClass("mobile"),h.css({bottom:0}),h.addClass("anim-start"),h.addClass("animate"),n(function(){h.removeClass("anim-start"),h.addClass("animate")},0);for($ in b)h.addClass(b[$])}else if("left"===g||"right"===g)"left"===g?c+e.outerWidth()/2<_?(t=c+e.outerWidth()+15,h.css({left:t}),h.addClass("right")):(a=w-c+15,h.css({right:a}),h.addClass("left")):"right"===g&&(w-c-e.outerWidth()/2<_?(a=w-c+15,h.css({right:a}),h.addClass("left")):(t=c+e.outerWidth()+15,h.css({left:t}),h.addClass("right"))),y-p-e.outerHeight()/2<v?(i=y-(p+e.outerHeight()/2)-15,h.css({bottom:i}),h.addClass("shift-bottom")):(l=p+e.outerHeight()/2-15,h.css({top:l}),h.addClass("shift-top"));else{h.css({width:_}),"bottom"===g?y-p-e.outerHeight()/2<v?(i=y-p+15,h.css({bottom:i}),h.addClass("top")):(l=p+e.outerHeight()+15,h.css({top:l}),h.addClass("bottom")):p+e.outerHeight()/2<v?(l=p+e.outerHeight()+15,h.css({top:l}),h.addClass("bottom")):(i=y-p+20,h.css({bottom:i}),h.addClass("top")),c+e.outerWidth()/2<_/2?(t=c+e.outerWidth()/2-15,h.addClass("shift-right")):w-c-e.outerWidth()/2<_/2?(t=c-_+e.outerWidth()/2+15,h.addClass("shift-left")):t=c+e.outerWidth()/2-_/2,h.css({left:t});for($ in b)h.addClass(b[$])}},u.handleScroll=function(){u.calculatePosition()},u.init_tooltip=function(){C.on("scroll",u.handleScroll),M.bind("click",p),h=m?o.default.element('<div id="tooltip" class="popover-tooltip">'+A+'<div class="actions"><div class="close-button" ng-click="remove_tooltip()" translate="global_text_close">Close</div></div></div>'):o.default.element('<div id="tooltip" class="popover-tooltip">'+A+"</div>"),O=u.$new();var t=e(h)(O);h.replaceWith(t),u.popoverState.set(!0),P=!0,h.css({minWidth:_,minHeight:v}),u.calculatePosition(),T||(w.push(c.$on("tseScroll",function(){!y&&P&&u.calculatePosition()})),w.push(c.$on("chatResize",function(){!y&&P&&u.calculatePosition()})),T=!0),n(function(){h.appendTo("body")},0),"mouseover"===f.gpOn&&h.mouseout(function(){x=!1,I()}).mouseover(function(){x=!0})},"mouseover"===f.gpOn?(null!==k&&(k=null),d.on("mouseenter",function(){u.togglePopover()}),d.mouseout(function(){$=!1,I()}).mouseover(function(){$=!0})):"click"===f.gpOn?d.on("click",function(e){e.ctrlKey||(null!==k&&(k=null),u.togglePopover())}):u.$watch(function(){return f.gpOn},function(e,t){e!==t&&(null!==k&&(k=null),u.togglePopover())}),u.$on("$destroy",function(){u.remove_tooltip(),w.forEach(function(e){e()})})}return u.$inject=["$scope","$elem","$attrs"],{restrict:"A",transclude:!1,scope:!0,link:u}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(13)),s=a(n(45)),l=a(n(11));n(1999),i.$inject=["$compile","$templateCache","$timeout","$window","DisplayService","$rootScope"],t.default=i},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2001)),r=a(n(2003));t.default=i.default.module("htbx.ui-elements.datepicker",[]).directive("kalendae",o.default).factory("KalendaeAPI",r.default).name},function(e,t,n){"use strict";function a(e,t){return{restrict:"EA",link:function(n,a,o){var r=e(o.ngModel),s=n.$eval(o.blackout),l=new("dropdown"===o.kalendae?i.default.Input:i.default)(a[0],{mode:o.mode||"single",format:o.format||null,months:o.months||1,useYearNav:o.useYearNav||!0,direction:o.direction||"any",closeButton:o.closeButton||!1,blackout:s||!1,keepOpen:o.keepOpen||!1});t.setDatePicker(l);var c=0;l.subscribe("date-clicked",function(e){var i=t.setDate(e);r.assign(n,i),n.$apply(function(){n.$eval(o.callback)}),o.keepOpen||("single"===o.mode?a[0].blur():"range"===o.mode&&2===(c+=1)&&(a[0].blur(),c=0))});var u=n.$eval(o.ngModel);u&&(t.setSelected(u),n.$eval(o.callback))}}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(654));n(2002),a.$inject=["$parse","KalendaeAPI"],t.default=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(5));t.default=function(){return{datePicker:null,values:null,dates:[],setDatePicker:function(e){return this.datePicker=e,this.datePicker},setSelected:function(e){this.datePicker.setSelected(e)},setDate:function(e){return(0,a.default)(e).format("YYYY-MM-DD")}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2005)),r=a(n(2006)),s=a(n(2007)),l=a(n(2008));t.default=i.default.module("htbx.ui-elements.key-events",[]).factory("keypressHelper",o.default).directive("uiKeydown",r.default).directive("uiKeypress",s.default).directive("uiKeyup",l.default).name},function(e,t,n){"use strict";function a(e){var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"};return function(n,a,o,r){var s=[],l=a.$eval(r["ui"+function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(n)]);i.default.forEach(l,function(t,n){var a=void 0,o=e(t);i.default.forEach(n.split(" "),function(e){a={expression:o,keys:{}},i.default.forEach(e.split("-"),function(e){a.keys[e]=!0}),s.push(a)})}),o.bind(n,function(e){var n=e.metaKey||e.altKey,o=e.ctrlKey,r=e.shiftKey;i.default.forEach(s,function(i){var s=i.keys[t[e.keyCode]]||i.keys[e.keyCode.toString()]||!1,l=i.keys.alt||!1,c=i.keys.ctrl||!1,u=i.keys.shift||!1;s&&l===n&&c===o&&u===r&&a.$apply(function(){i.expression(a,{$event:e})})})})}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0));a.$inject=["$parse"],t.default=a},function(e,t,n){"use strict";function a(e){return{link:function(t,n,a){e("keydown",t,n,a)}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["keypressHelper"],t.default=a},function(e,t,n){"use strict";function a(e){return{link:function(t,n,a){e("keypress",t,n,a)}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["keypressHelper"],t.default=a},function(e,t,n){"use strict";function a(e){return{link:function(t,n,a){e("keyup",t,n,a)}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["keypressHelper"],t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2010));t.default=i.default.module("htbx.ui-elements.recaptcha",[]).component("htbxRecaptcha",o.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2011));n(2012),t.default={bindings:{onCreate:"&?",onSuccess:"&?",onExpire:"&?"},template:"\n        <div\n            vc-recaptcha\n            key=\"'"+a.default+'\'"\n            on-create="$ctrl.onCreate({widgetId: widgetId})"\n            on-success="$ctrl.onSuccess({response: response})"\n            on-expire="$ctrl.onExpire()"\n            class="captcha"\n        ></div>\n    '}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="6LcPNRgUAAAAALSixR8yVY0355ZXAKB6_a8LHrOE"},function(e,t){},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2015));t.default=i.default.module("htbx.sortable",[]).factory("Sortable",o.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{sortyBy:null,sortDesc:!0,getSort:function(){return this.sortDesc?"-"+this.sortBy:this.sortBy},getSortType:function(e){return this.getSort()==="-"+e?"desc":(this.getSort(),"asc")},isSortActive:function(e){return this.getSort()==="-"+e||this.getSort()===e},setSort:function(e,t){if(t)return this.sortBy=e,void(this.sortDesc="DESC"===t);this.sortBy===e?this.sortDesc=!this.sortDesc:(this.sortBy=e,this.sortDesc=!0)}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2017)),r=a(n(2021));t.default=i.default.module("htbx.user-list",[]).component("htbxUserListItem",r.default).component("htbxUserList",o.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,o){this.$translate=t,this.loggedInUserService=a,this.teamFactory=i,this.usersFactory=o,this.itemsPerPage=c,this.loading=!1,this.showBouncy=!0===this.showBouncy,this.team_params={offset:0,limit:c},this.pages={max:1,current:1},this.$onChanges=function(t){var a=this;t.team&&t.team.currentValue&&this.filterTeam(t.team.currentValue),(t.teamName||t.search)&&(this.userList=[],this.searchTimeout&&e.cancel(this.searchTimeout),this.teamName?this.getTeam(this.teamName):this.search&&(this.searchTimeout=e(function(){a.getUsers(),n.trackEvent("user","searching",a.search.currentValue)},300)))},this.filterInvited=function(e){return this.showInvited||this.search||e.group_accepted}.bind(this),this.sortUserType=function(e,t){if(this.sort&&"live"===this.sort){if(!(1!==e.is_live&&"1"!==e.is_live||0!==t.is_live&&"0"!==t.is_live))return-1;if(!(0!==e.is_live&&"0"!==e.is_live||1!==t.is_live&&"1"!==t.is_live))return 1}return"admin"===e.group_role&&"admin"!==t.group_role?-1:"admin"!==e.group_role&&"admin"===t.group_role?1:e.group_accepted&&!t.group_accepted?-1:!e.group_accepted&&t.group_accepted?1:0}.bind(this)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(58)),s=a(n(2018)),l=a(n(2019));n(2020),i.$inject=["$timeout","$translate","Analytics","loggedUser","Team","Users"];var c=16;i.prototype.getTeam=function(e){var t=this;this.team_params.team_name=e,this.loading=!0,this.teamFactory.get(this.team_params,function(e){t.filterTeam(e)}).catch(function(){t.userList=[]}).finally(function(){t.loading=!1})},i.prototype.filterTeam=function(e){this.userList=e.members,this.userList.sort(this.sortUserType),this.userListFiltered=this.userList.slice(this.team_params.offset,this.team_params.offset+this.team_params.limit),this.pages.max=Math.floor(parseInt(e.members.filter(function(e){return"1"===e.enabled}).length/20,10))},i.prototype.getUsers=function(){var e=this,t={q:this.search};this.isMedia&&(t.media=!0),this.loading=!0,this.usersFactory.get(t).$promise.then(function(t){e.userList=t,o.default.isDefined(e.publicLength)&&(e.publicLength="true"===e.showInvited?e.userList.length:(0,r.default)(e.userList,["group_accepted",!0]).length)}).catch(function(){e.userList=[]}).finally(function(){e.loading=!1})},i.prototype.selectPage=function(){this.team_params.offset=(this.pages.current-1)*this.itemsPerPage,this.userListFiltered=this.userList.slice(this.team_params.offset,this.team_params.offset+this.team_params.limit)};var u=function(e,t){var n=void 0;switch(t.type){case"team":n=s.default;break;default:n=l.default}return n};u.$inject=["$element","$attrs"],t.default={bindings:{teamName:"<?",team:"<?",search:"<?",isMedia:"<?",publicLength:"=?",showInvited:"<?",showUserOptions:"<?",showTeamOptions:"<?",showKick:"<?",callbackKick:"&?",sort:"@?",type:"@?",callback:"&?",paginate:"@",verticalList:"<?",showBouncy:"<?"},templateUrl:u,controller:i}},function(e,t,n){var a="/src/js/user-list/components/user-list/team-user-list.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <ul class="{{$ctrl.verticalList ? \'userlist-team\' : \'userlist\'}}"> <li ng-repeat="user in $ctrl.userListFiltered | filter:$ctrl.filterInvited track by user.user_name" ng-class="{\n            isLive: user.is_live,\n        }"> <htbx-user-list-item ng-if="$ctrl.showUserOptions && !!$ctrl.showKick" user=user on-user-kick=$ctrl.callbackKick()></htbx-user-list-item> <htbx-user-list-item ng-if="$ctrl.showUserOptions && !$ctrl.showKick" user=user></htbx-user-list-item> <htbx-user-list-item ng-if=!$ctrl.showUserOptions user=user></htbx-user-list-item> </li> </ul> <div ng-show="$ctrl.pages.max > 1" class="table__pagination table__pagination--bottomlist__pagination"> <ul uib-pagination ng-model=$ctrl.pages.current max-size=5 previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo; boundary-links=true rotate=false items-per-page=$ctrl.itemsPerPage num-pages=$ctrl.pages.max total-items="($ctrl.userList | filter:$ctrl.filterInvited).length" ng-change=$ctrl.selectPage(page)></ul> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/user-list/components/user-list/user-list.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <div ng-if="!$ctrl.loading && $ctrl.userList.length === 0" class=user-list__no-content> {{::\'global_header_no-channels\'|translate}} </div> <ul class="user-list userlist"> <li ng-if="$ctrl.loading && $ctrl.showBouncy"> <bouncy></bouncy> </li> <li ng-if="!$ctrl.loading || !$ctrl.showBouncy" ng-repeat="user in $ctrl.userList | orderBy:\'-followers\' track by user.user_name"> <user-card user=user></user-card> </li> </ul> <div ng-if=!$ctrl.search ng-show="$ctrl.pages.max > 1" class=userlist__pagination> <ul uib-pagination ng-model=$ctrl.pages.current max-size=5 previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo; boundary-links=true rotate=false items-per-page=16 num-pages=$ctrl.pages.max total-items=$ctrl.userList.length ng-change=$ctrl.selectPage(page)></ul> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e,t,n,a){this.$translate=e,this.HtbxModal=t,this.loggedInUserService=n,this.teamFactory=a}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2022));n(2023),a.$inject=["$translate","HtbxModal","loggedUser","Team"],a.prototype.isAdminOrSelf=function(){return"1"===this.user.admin||this.loggedInUserService.getName()===this.user.user_name},a.prototype.kickUser=function(){var e=this,t=this.$translate.instant("view_team-settings_text_remove-username",{username:this.user.user_name}),n=[{result:!1,label:this.$translate.instant("global_text_cancel")},{result:!0,label:this.$translate.instant("global_text_remove"),variant:"warning"}];new this.HtbxModal(t,"",n).open().then(function(t){t&&e.teamFactory.removeMember({authToken:e.loggedInUserService.getToken(),team_name:e.userListCtrl.team.info.group_name,user_name:e.user.user_name,group_id:e.userListCtrl.team.info.group_id,nocache:!0},function(){e.onUserKick&&e.onUserKick()})})},t.default={bindings:{user:"<",onUserKick:"&?"},templateUrl:i.default,require:{userListCtrl:"^htbxUserList"},controller:a}},function(e,t,n){var a="/src/js/user-list/components/user-list-item/user-list-item.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=user-list-item> <a ng-if=!$ctrl.userListCtrl.verticalList class=user-list-item__link ui-sref="detail.feed({channel: $ctrl.user.user_name })"> <img class="user-list-item__logo userlist-logo round" ng-src={{::$root.config.imgUrl}}{{$ctrl.user.user_logo_small}} fallback-src={{::$root.config.fallbackImages.userLogo}} ng-class="{\n                notaccepted: $ctrl.user.group_accepted == false,\n            }"/> <div class="user-list-item__logo__username userlist-name trim"> {{$ctrl.user.user_name}} </div> </a> <a class=user-list-item__kick-user data-tooltip-append-to-body=true data-tooltip-placement="auto top" data-uib-tooltip="{{::\'view_team-settings_text_remove-user\'|translate}}" ng-if="$ctrl.userListCtrl.team && $ctrl.userListCtrl.showKick && !$ctrl.isAdminOrSelf()" ng-click=$ctrl.kickUser($event)> &times; </a> </div> <user-card ng-if=$ctrl.userListCtrl.verticalList user=$ctrl.user></user-card> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(5));t.default=function(){return{isActiveSubscription:function(e){var t=a.default.utc(e.sub_date_valid),n=a.default.utc();return a.default.utc(t).isAfter(n)},isCanceledSubscription:function(e){return null!==e.canceled||"xsolla_prepaid"===e.sub_payment_method||"coupon"===e.sub_payment_method},wasActiveSubscription:function(e,t){var n=a.default.utc(e.sub_date_valid);return a.default.utc(n).isAfter(t)}}}},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/resub",{authToken:"@authToken"},{post:{method:"POST",params:{}}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e,t,n){var a=e(i.default.apiUri+"/subscriptioninfo/:channel",{channel:"@channel"},{get:{method:"GET",params:{},isArray:!1}});return this.get=function(e,i,o){var r={channel:e};return a.get(r).$promise.then(function(e){if(i)return i(e);var n=e.subscription.plan;return t(r.channel,n.plan_currency,n.plan_charge)}).catch(function(e){return o?o(e):(n.error("errorHandler called during GetSubscriptionInfo resource call",e),e)})},this}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource","subscriptionPlanDetail","$log"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t,n){var a=this;a.channel=e,a.currency=t,a.charge=n,a.getChannelName=function(){return a.channel},a.getCurrency=function(){return a.currency},a.getCharge=function(){return a.charge}}}},function(e,t,n){"use strict";function a(e,t,n){var a=void 0,o=void 0,r=void 0;this.buttonShown=function(){t.trackEvent("payment","subButtonShown"),o=(0,i.default)()},this.buttonNotShownMissingUser=function(){t.trackEvent("payment","buttonShownButMissingUser")},this.buttonNotShownMissingChannel=function(){t.trackEvent("payment","buttonNotShownMissingChannel")},this.buttonClicked=function(e,r){try{t.trackEvent("payment","subButtonClicked",(0,i.default)().diff(o,"minutes",!1))}catch(e){t.trackEvent("payment","subButtonClicked")}a=r;var s={animation:!0,backdrop:!0,keyboard:!0,windowClass:"modal modal-subscription",component:"subscriptionPayWall",size:"lg",resolve:{userName:function(){return e},channel:function(){return r}}};n.open(s)},this.paywallLoaded=function(){t.trackEvent("payment","paywallLoaded")},this.channelMediaLoaded=function(){t.trackEvent("payment","channelMediaLoaded")},this.channelMediaNotFound=function(e){t.trackEvent("payment","channelMediaNotFound_"+e)},this.xsollaIFrameLoadStarted=function(){t.trackEvent("payment","xsollaIFrameLoadStarted"),r=(0,i.default)()},this.xsollaIFrameLoadCompleted=function(){try{t.trackEvent("payment","xsollaIFrameLoadCompleted",(0,i.default)().diff(r,"seconds",!1))}catch(e){t.trackEvent("payment","xsollaIFrameLoadCompleted")}},this.payStationLoaded=function(){t.trackEvent("payment","payStationLoaded")},this.paymentSuccessful=function(){e.$broadcast("channel-subscribed",{channel:a}),t.trackEvent("payment","paymentSuccessful")},this.paymentFailed=function(){t.trackEvent("payment","paymentFailed")},e.$on("paywall-payStationLoaded",this.payStationLoaded.bind(this)),e.$on("paywall-paymentSuccessful",this.paymentSuccessful.bind(this)),e.$on("paywall-paymentFailed",this.paymentFailed.bind(this))}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(5));a.$inject=["$rootScope","Analytics","$uibModal"],t.default=a},function(e,t,n){"use strict";function a(e){var t=this;t.init=function(e,n){t.dispatchTarget=e,t.eventsHandler=n},t.dispatchMessageEvent=function(n){if(function(n){try{return n.source.opener===t.dispatchTarget}catch(t){e.error("XSollaMessageListenerService: Event has no source",n)}return!1}(n)){var a=function(t){if((0,i.default)(t.data))try{return JSON.parse(t.data)}catch(e){return{command:"data_is_not_json",data:t.data}}return e.error("Data is not a string",t.data),{command:"data_is_not_a_string",data:""}}(n);if(a.command&&a.data){var o=function(e,n){var a=null;switch(e){case"load":a=t.eventsHandler.onScreenLoaded;break;case"status":a=function(e){var a=null;switch(n.paymentInfo.status){case"troubled":a=t.eventsHandler.onFailedPayment;break;case"done":a=t.eventsHandler.onSuccessfulPayment}return a}();break;default:return a}return a?a.bind(t.dispatchTarget):null}(a.command,a.data);o&&o(a.data)}}}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(300));a.$inject=["$log"],t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t={};return e(g.default.apiUri+"/subadmin/plan/:type/:id",{type:"@type",id:"@id"},{get:{method:"GET",params:t},add:{method:"POST",params:t},update:{method:"PUT",params:t}})}function o(e){var t={};return e(g.default.apiUri+"/adminsubscriptions",{authToken:"@authToken"},{get:{method:"GET",params:t},cancel:{method:"POST",params:t},update:{method:"POST",params:t}})}function r(e){return e(g.default.apiUri+"/resub",{authToken:"@authToken"},{post:{method:"POST",params:{}}})}function s(e,t,n){var a={},i={};return a.get=function(e,a,o){var r=e.toLowerCase(),s=n.defer(),l=s.promise;return h.default.isDefined(i[r])?i[r]:(i[r]=l,t.get(r,function(e){"function"==typeof a&&a(e),s.resolve(e)},function(e){"function"==typeof o&&o(e),s.reject(e)}),l)},a.wipe=function(e){"string"==typeof e.type_id&&(e.type_id=e.type_id.toLowerCase());var t={type_id:e.type_id},n=JSON.stringify(t).hashCode();h.default.isDefined(i[n])&&delete i[n]},a}function l(e){return e(g.default.apiUri+"/mediabadges/:channel",{channel:"@channel"},{get:{method:"GET",params:{},isArray:!1}})}function c(e){return e(g.default.apiUri+"/chat/icons/:channel",{channel:"@channel",premiumOnly:!0},{get:{method:"GET",params:{},isArray:!1}})}function u(e,t,n){var a={},i={};return a.get=function(e,a,o){"string"==typeof e.channel&&(e.channel=e.channel.toLowerCase());var r={channel:e.channel},s=JSON.stringify(r).hashCode(),l=n.defer(),c=l.promise;return h.default.isDefined(i[s])&&!e.nocache?i[s]:(i[s]=c,t.get(e,function(e){"function"==typeof a&&a(e),l.resolve(e)},function(e){"function"==typeof o&&o(e),l.reject(e)}),c)},a.wipe=function(e){"string"==typeof e.channel&&(e.channel=e.channel.toLowerCase());var t={channel:e.channel},n=JSON.stringify(t).hashCode();h.default.isDefined(i[n])&&delete i[n]},a}function d(e){var t={nocache:"true"};return e(g.default.apiUri+"/subscription/:channel/:user_name",{channel:"@channel",user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1},update:{method:"PUT",params:t,isArray:!1},checkSubExpiry:{method:"GET",url:g.default.apiUri+"/checksubscription/:channel/:user_name",params:t,isArray:!1}})}function f(e){return e(g.default.apiUri+"/subscriptionlist/:user_name",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1}})}function p(e){return e(g.default.apiUri+"/subscriberlist/:user_name",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1}})}function m(e,t){var n={};return t(g.default.apiUri+"/user/subscription/:channel/:authToken",{authToken:"@authToken",channel:"@channel"},{get:{method:"GET",params:n,isArray:!1},update:{method:"PUT",params:n,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.SubscribedFactory=t.SubscriberListFactory=t.SubscriptionListFactory=t.SubscriptionFactory=t.SubscriberEmotesStoreFactory=t.SubscriberEmotesFactory=t.SubscriberBadgesFactory=t.SubscriptionInfoStoreFactory=t.ResubFactory=t.AdminSubListFactory=t.SubPlanAdminFactory=void 0;var h=a(n(0)),g=a(n(2));m.$inject=["$rootScope","$resource"],p.$inject=["$resource"],f.$inject=["$resource"],d.$inject=["$resource"],u.$inject=["$rootScope","SubscriberEmotes","$q"],c.$inject=["$resource"],l.$inject=["$resource"],s.$inject=["$rootScope","SubscriptionInfo","$q"],r.$inject=["$resource"],o.$inject=["$resource"],i.$inject=["$resource"],t.SubPlanAdminFactory=i,t.AdminSubListFactory=o,t.ResubFactory=r,t.SubscriptionInfoStoreFactory=s,t.SubscriberBadgesFactory=l,t.SubscriberEmotesFactory=c,t.SubscriberEmotesStoreFactory=u,t.SubscriptionFactory=d,t.SubscriptionListFactory=f,t.SubscriberListFactory=p,t.SubscribedFactory=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(12)),r=a(n(5)),s=a(n(16)),l=n(174),c=n(8);n(2032);var u=a(n(2033)),d=function(e){var t=e.channel;return{channelName:(0,c.getName)(t)}},f=function(){function e(t,n,a,i,o,r,s,l){var c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDashboard=function(){return"dashboard"===c.$state.current.section},Object.assign(this,{$state:t,$stateParams:n,$translate:a,HtbxModal:i,loggedUser:o,ResubShoutout:r,Subscription:s}),this.$ngRedux=l,this.subscription=null,this.isDismissed=!1,this.unsubscribeReduxConnection=this.$ngRedux.connect(d)(this)}return e.$inject=["$state","$stateParams","$translate","HtbxModal","loggedUser","ResubShoutout","Subscription","$ngRedux"],i(e,[{key:"$onInit",value:function(){this.hideControls="embedchat"===this.$state.current.section&&"true"===this.$stateParams.mini,o.default.on("chat.serverMsg",this.reconnectMsgCallback),this.getSubscription()}},{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection(),o.default.off("chat.serverMsg",this.reconnectMsgCallback)}},{key:"reconnectMsgCallback",value:function(e){"reconnectMessage"===e.type&&this.getSubscription()}},{key:"getSubscription",value:function(){var e=this,t={channel:this.channelName,user_name:this.loggedUser.getName(),authToken:this.loggedUser.getToken()},n=s.default.get("resub-notification.subscription",null);this.Subscription.get(t).$promise.then(function(t){e.$ngRedux.dispatch((0,l.setSubscriptionData)(t)),e.subscription=t,s.default.set("resub-notification.subscription",t),(!n||(0,r.default)(t.sub_date_valid)>(0,r.default)(n.sub_date_valid))&&s.default.set("resub-notification.isDismissed",!1)}).catch(function(){}).finally(function(){e.isDismissed=s.default.get("resub-notification.isDismissed",!1)})}},{key:"triggerResubNotification",value:function(){var e=this,t=this.subscription,n={authToken:this.loggedUser.getToken(),token_id:t.resub.token_id},a=this.$translate.instant("view_chat_text_inform-resub"),i=[{result:!1,label:this.$translate.instant("global_text_cancel")},{result:!0,label:this.$translate.instant("global_text_trigger"),variant:"ok"}];t&&t.resub&&new this.HtbxModal(a,"",i).open().then(function(t){t&&e.ResubShoutout.post(n,function(){e.closeResubNotification()})})}},{key:"closeResubNotification",value:function(){this.$ngRedux.dispatch((0,l.resetSubscriptionData)()),this.subscription=null,s.default.set("resub-notification.isDismissed",!0)}}]),e}();t.default={templateUrl:u.default,controller:f}},function(e,t){},function(e,t,n){var a="/src/js/subscriptions/components/resub-notification.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=resub-notification ng-if=\"$ctrl.subscription && $ctrl.subscription.resub && !$ctrl.isDismissed && !$ctrl.hideControls && !$ctrl.isDashboard()\"> <div class=resub-notification__wrap> <div class=resub-notification__text> {{'view_chat_text_subscription-resub' | translate:{streak: $ctrl.subscription.resub.streak} }} </div> <htbx-button data-type=button data-on-select=$ctrl.triggerResubNotification() data-size=super-small data-variant=ok> {{::'global_button_share' | translate}} </htbx-button> </div> <htbx-button-close data-on-select=$ctrl.closeResubNotification()></htbx-button-close> </div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(12)),r=a(n(2035));n(2036);var s=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$rootScope:t,$stateParams:n,badges:a}),this.close()}return e.$inject=["$rootScope","$stateParams","badges"],i(e,[{key:"$onInit",value:function(){o.default.on("chat.infoMsg",this.subNotifyMsg)}},{key:"$onDestroy",value:function(){o.default.off("chat.infoMsg",this.subNotifyMsg)}},{key:"close",value:function(){this.subscriberName=null}},{key:"subNotifyMsg",value:function(e){"subChannel"!==e.type&&"subAdmin"!==e.type||(this.subscriberName=e.subscriber)}},{key:"getSubscriberBadge",value:function(){var e=this.badges.get();return e.length?e[0].badge_image:""}}]),e}();t.default={templateUrl:r.default,controller:s}},function(e,t,n){var a="/src/js/subscriptions/components/subscription-notification.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-if=$ctrl.subscriberName class=\"subscription-notification sbnt\"> <div class=subscription-notification__text> <div back-img={{::$root.config.imgUrl}}{{$ctrl.getSubscriberBadge()}} back-img-fallback={{::$root.config.fallbackImages.subBadge}} class=subscription-notification__logo></div> <htbx-user-popover-link user-name=$ctrl.subscriberName class=subscription-notification__name> <a href=javascript:void(0);> {{$ctrl.subscriberName}} </a> </htbx-user-popover-link> <span class=subscription-notification__message> &nbsp;{{::'view_chat_text_just-subscribed' | translate}} </span> </div> <htbx-button-close data-on-select=$ctrl.close()></htbx-button-close> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(2038)),r=a(n(2039));n(2040);var s=function(){function e(t,n,a,i,o,r,s){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initializeButton=function(e){l.isSubscribed=!(e.error&&"no_subscription"===e.error_msg)},Object.assign(this,{badges:t,emotes:n,subscriptionWorkflow:a,Subscription:i,loggedUser:o,$scope:r,$state:s})}return e.$inject=["badges","emotes","subscriptionWorkflow","Subscription","loggedUser","$scope","$state"],i(e,[{key:"$onInit",value:function(){var e=this,t=this.loggedUser.getName();if(this.runThroughWorkflow(t,this.channel),t&&this.channel){var n={channel:this.channel,user_name:t,authToken:this.loggedUser.getToken()};this.Subscription.get(n).$promise.then(this.initializeButton)}this.$scope.$on("channel-subscribed",function(){e.isSubscribed=!0,e.onSubscribed&&e.onSubscribed()})}},{key:"clicked",value:function(){"channel"!==this.$state.current.section&&"video"!==this.$state.current.section&&(this.badges.init(this.channel),this.emotes.init(this.channel)),this.subscriptionWorkflow.buttonClicked(this.loggedUser.getName(),this.channel)}},{key:"runThroughWorkflow",value:function(e,t){e&&t?this.subscriptionWorkflow.buttonShown(e,t):e?this.subscriptionWorkflow.buttonNotShownMissingChannel():this.subscriptionWorkflow.buttonNotShownMissingUser()}}]),e}(),l=function(e){return e.isRenew?o.default:r.default};l.$inject=["$attrs"],t.default={bindings:{channel:"@",onSubscribed:"&",variant:"@",isRenew:"<"},templateUrl:l,controller:s}},function(e,t,n){var a="/src/js/subscriptions/subscription-button/components/subscription-button-renew.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<button class=subscription-button ng-class=\"'subscription-button--variant-{{$ctrl.variant}}'\" type=button ng-click=$ctrl.clicked() target=subscription> <span class=subscription-button__text> {{::'global_text_renew' | translate}} </span> </button> ")}]),e.exports=a},function(e,t,n){var a="/src/js/subscriptions/subscription-button/components/subscription-button.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-authorize permission=subscribe_channel permission-checking=!$ctrl.isSubscribed signin-purpose=\"{{:: 'global_button_subscribe' | translate }}\" class=subscription-button-permission-switch> <unauthenticated once-signed-in=$ctrl.clicked()> <button class=subscription-button ng-class=\"'subscription-button--variant-{{$ctrl.variant}}'\" type=button target=subscription uib-tooltip=\"{{:: 'global_text_login-to-subscribe' | translate}}\" tooltip-placement=\"auto top\" tooltip-append-to-body=true> <span class=subscription-button__text> {{:: 'global_button_subscribe' | translate }} </span> </button> </unauthenticated> <access-denied> <button class=subscription-button ng-class=\"'subscription-button--variant-{{$ctrl.variant}}'\" type=button uib-tooltip=\"{{:: 'global_text_extend-your-subscription' | translate}}\" tooltip-placement=\"auto top\" tooltip-append-to-body=true ng-click=$ctrl.clicked()> <smash-icon data-icon=check data-lines=true class=subscription-button__icon></smash-icon> <span class=subscription-button__text> {{:: 'global_text_subscribed' | translate }} </span> </button> </access-denied> <access-granted> <button class=subscription-button ng-class=\"'subscription-button--variant-{{$ctrl.variant}}'\" type=button ng-click=$ctrl.clicked() target=subscription> <span class=subscription-button__text> {{:: 'global_button_subscribe' | translate }} </span> </button> </access-granted> </htbx-authorize> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,o,s){this.$uibModal=e,this.$stateParams=t,this.loggedInUserService=n,this.subscriptionFactory=a,this.subscriberBadges=i,this.subscriberEmotesStore=o,this.templateUrlEditSubscriptionActions=c.default,(0,r.default)(this,s),this.$onInit=function(){this.getSubMedia()}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(2042)),r=a(n(59)),s=a(n(2043)),l=a(n(2044)),c=a(n(2045));n(2046),i.$inject=["$uibModal","$stateParams","loggedUser","Subscription","SubscriberBadges","SubscriberEmotesStore","SubscriptionCheck"],i.prototype.getSubMedia=function(){var e=this,t={channel:this.subscription.user_name};this.subscriberEmotesStore.get(t).then(function(t){e.emotes=function(e){var t=[];return(0,o.default)(e,function(e){t.push({path:e[0],name:e[1]})}),t}(t.icons)},angular.noop),this.subscriberBadges.get(t,function(t){e.badges=t.badges},angular.noop)},i.prototype.getUsername=function(){return this.loggedInUserService.getName()},i.prototype.openCancelSubscriptionModal=function(){var e=this,t=this,n={animation:!0,backdrop:!0,keyboard:!1,templateUrl:l.default,controller:["$uibModalInstance",function(e){this.subscription=t.subscription,this.dismissModal=function(){e.dismiss()},this.cancelSubscription=function(){e.close({$value:!0,cancelReason:this.cancelReason})}.bind(this)}],controllerAs:"$ctrl"};this.$uibModal.open(n).result.then(function(t){if(t.$value){var n={sub_id:e.subscription.sub_id,authToken:e.loggedInUserService.getToken(),user_name:e.$stateParams.user,channel:e.subscription.user_name,cancel:!0};t.cancelReason&&(n.comment=t.cancelReason),e.subscriptionFactory.update(n).$promise.then(function(){e.subscriptionFactory.get({authToken:e.loggedInUserService.getToken(),user_name:e.$stateParams.user,channel:e.subscription.user_name,nocache:!0}).$promise.then(function(t){e.subscription.canceled=t.cancel,e.subscription.sub_date_added=t.sub_date_added,e.subscription.sub_date_valid=t.sub_date_valid}).catch(function(){e.error=!0})}).catch(function(){e.error=!0})}})},t.default={bindings:{subscription:"<"},templateUrl:s.default,controller:i}},function(e,t,n){var a=n(290),i=n(251),o=n(105);e.exports=function(e,t){return null==e?e:a(e,i(t),o)}},function(e,t,n){var a="/src/js/subscriptions/components/subscription-usercard.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<article class=subscriptionCard-wrap> <div class=subscriptionCard> <header class=subscriptionCard__header> <a ui-sref=\"detail.feed({channel: $ctrl.subscription.user_name})\"> <div class=subscriptionCard__header__cover back-img={{::$root.config.imgUrl}}{{$ctrl.subscription.user_cover}} back-img-fallback={{::$root.config.fallbackImages.userCover}}> </div> </a> <a ui-sref=\"detail.feed({channel: $ctrl.subscription.user_name})\"> <div class=\"subscriptionCard__header__logo round\" back-img={{::$root.config.imgUrl}}{{$ctrl.subscription.user_logo}} back-img-fallback={{::$root.config.fallbackImages.userLogo}}> </div> </a> </header> <div class=subscriptionCard__content> <div class=subscriptionCard__content__title> <a class=subscriptionCard__content__title__name ui-sref=\"detail.feed({channel: $ctrl.subscription.user_name})\"> {{$ctrl.subscription.user_name}} </a> </div> <div class=subscriptionCard__content__meta ng-class=\"{'subscriptionCard__content__meta--canceled': $ctrl.isCanceledSubscription($ctrl.subscription), 'subscriptionCard__content__meta--active': !$ctrl.isCanceledSubscription($ctrl.subscription)}\"> <div class=subscriptionCard__content__meta__status> {{ $ctrl.isCanceledSubscription($ctrl.subscription) ? 'view_connections-settings_text_will-expire' : 'view_connections-settings_text_will-renew' | translate}} </div> <div class=subscriptionCard__content__meta__date>{{$ctrl.subscription.sub_date_valid | toDate}}</div> </div> <div ng-if=$ctrl.error> <htbx-alert type=warning class=box__text__error dismissable=true> {{::'global_error_try-again'|translate}} </htbx-alert> </div> <div class=subscriptionCard__content__badges> <section class=subscriptionCard__content__badges__section> <div class=subscriptionCard__content__badges__section__title> {{::'global_text_subscription-benefits' | translate}} </div> <ul class=subscription-paywall__description__benefits> <li>{{::'global_text_support' | translate}} {{::$ctrl.subscription.user_name}}</li> <li>{{::'view_subscribe_text_subscriber-only' | translate}}</li> <li>{{::'view_subscribe_text_post-images' | translate}}</li> <li ng-if=$ctrl.subscription.discord_guilds.length class=subscriptionCard__join-discord> <htbx-discord-join guilds=$ctrl.subscription.discord_guilds> <smash-icon data-icon=discord data-size=20></smash-icon> {{::'component_discord-join_join-server'|translate:{ user_name: $ctrl.subscription.user_name } }} </htbx-discord-join> </li> </ul> </section> <section class=subscriptionCard__content__badges__section> <div class=subscriptionCard__content__badges__section__title> {{::'view_subscribe_tooltip_chat-badge' | translate}} </div> <img class=subscriptionCard__emote ng-src={{::$root.config.imgUrl}}{{$ctrl.badges[0].badge_image}} tooltip-placement=\"auto top\" uib-tooltip=\"{{:: 'view_subscribe_tooltip_chat-badge' | translate }}\"/> </section> <section class=subscriptionCard__content__badges__section ng-class=\"{'subscriptionCard__content__badges__section--no-emotes': $ctrl.emotes.length === 0}\"> <div class=subscriptionCard__content__badges__section__title> {{::'view_subscribe_header_chat-emotes-global' | translate}} </div> <span ng-if=\"$ctrl.emotes.length === 0\">&mdash;</span> <img class=subscriptionCard__emote ng-repeat=\"emote in $ctrl.emotes\" ng-src={{::$root.config.imgUrl}}{{emote.path}} tooltip-placement=\"auto top\" uib-tooltip={{emote.name}} /> </section> </div> </div> <footer class=subscriptionCard__footer> <div class=\"subscriptionCard__footer__item subscriptionCard__footer__item--onlyMobile trim\" uib-tooltip=\"{{::'view_connections-settings_text_subscriptions-canceled'|translate}}\" tooltip-enable=$ctrl.isCanceledSubscription($ctrl.subscription)> {{($ctrl.isCanceledSubscription($ctrl.subscription) ? ('view_connections-settings_text_subscriptions-canceled'|translate) : '&nbsp;')}} </div> <div class=\"subscriptionCard__footer__item subscriptionCard__footer__item--onlyDesktop\"> {{($ctrl.isCanceledSubscription($ctrl.subscription) ? ('view_connections-settings_text_subscriptions-canceled'|translate) : '&nbsp;')}} </div> <div class=subscriptionCard__footer__item> <subscription-button ng-if=$ctrl.isCanceledSubscription($ctrl.subscription) channel={{::$ctrl.subscription.user_name}} data-is-renew=true></subscription-button> <a ng-if=!$ctrl.isCanceledSubscription($ctrl.subscription) generic-popover gp-position=bottom gp-width=150 gp-template-url={{::$ctrl.templateUrlEditSubscriptionActions}} gp-classes='[\"detail-more-popover\",\"nono\"]' gp-on=click> {{::'global_text_edit' | translate}} </a> </div> </footer> </div> </article> ")}]),e.exports=a},function(e,t,n){var a="/src/js/subscriptions/views/cancel-subscription-modal.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=htbx-modal> <div class=\"htbx-modal__header modal-header\"> <h3 class=\"htbx-modal__title modal-title\" id=modal-title> {{::'view_subscribe_text_cancel-subscription'|translate}} </h3> </div> <div class=\"htbx-modal__body modal-body\" id=modal-body> <p> </p><div> {{'view_subscribe-cancel_text_were-sorry-1' | translate:{username: $ctrl.subscription.user_name} }} </div> <div> {{::'view_subscribe-cancel_text_term-ends' | translate:{ date: ($ctrl.subscription.sub_date_valid | toDate)} }} </div> <p></p> <textarea class=htbx-modal__body__textarea placeholder=\"{{ 'view_subscribe-cancel_placeholder_reasons' | translate }}\" ng-model=$ctrl.cancelReason></textarea> </div> <div class=\"htbx-modal__footer modal-footer\"> <htbx-button data-type=button data-on-select=$ctrl.dismissModal() class=htbx-modal__footer__button> {{::'view_subscribe-cancel_text_stay-subscribed'|translate}} </htbx-button> <htbx-button data-type=button data-variant=warning data-on-select=$ctrl.cancelSubscription() class=htbx-modal__footer__button> {{::'view_subscribe-cancel_text_dont-renew'|translate}} </htbx-button> </div> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/subscriptions/views/list.edit-subscription-actions.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<ul class=navigation> <li class=navigation__item> <a ng-if=!$ctrl.isCanceledSubscription($ctrl.subscription) class=\"navigation__item__link navigation__item__link--red\" ng-click=$ctrl.openCancelSubscriptionModal();remove_tooltip();> {{::'view_subscribe-cancel_text_dont-renew' | translate}} </a> </li> </ul> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2048));n(2049);var o=function(){function e(t,n,a,i,o,r,s){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.openIFrameURL=function(){if(l.readyToSubscribe()){l.otherWindow=l.$element.find("#paystation"),l.otherWindow.on("load.subscriptionPaymentIFrame",function(){l.loading=!1,l.subscriptionWorkflow.xsollaIFrameLoadCompleted()});var e="/api/paymentstation/"+l.channel+"/"+l.userName+"?authToken="+l.authToken;l.isMobile&&(e+="&displayType=mobile"),window.open(e,"paystation")}},this.$scope=t,this.$element=n,this.XSollaMessageListener=a,this.$timeout=i,this.$window=o,this.DisplayService=r,this.subscriptionWorkflow=s,this.isMobile=!1,this.loading=!0,this.otherWindow=null,t.$on("isMobile",function(){l.isMobile=!0}),t.$on("isTablet",function(){l.isMobile=!0}),t.$on("isDesktop",function(){l.isMobile=!1})}return e.$inject=["$scope","$element","XSollaMessageListener","$timeout","$window","DisplayService","subscriptionWorkflow"],a(e,[{key:"$onInit",value:function(){this.subscriptionWorkflow.xsollaIFrameLoadStarted();var e=this.DisplayService.deviceSize.checkSize();this.isMobile=e.isMobile||e.isTablet}},{key:"$onDestroy",value:function(){this.otherWindow&&this.otherWindow.off("load.subscriptionPaymentIFrame")}},{key:"$postLink",value:function(){this.$timeout(this.openIFrameURL),this.XSollaMessageListener.init(this.$window,this);var e=this.XSollaMessageListener.dispatchMessageEvent.bind(this.XSollaMessageListener);window.addEventListener("message",e)}},{key:"readyToSubscribe",value:function(){return this.channel&&this.userName&&this.authToken}}]),e}();t.default={bindings:{userName:"<",channel:"<",authToken:"<",onSuccessfulPayment:"&",onFailedPayment:"&",onScreenLoaded:"&"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/subscriptions/subscription-payment-iframe/components/subscription-payment.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <div class=subscription-paywall-iframe> <div ng-if=$ctrl.loading class=subscription-paywall-iframe__loading> <div class=subscription-paywall-iframe__loading__content> <h2 class=subscription-paywall-iframe__loading__title> {{::'view_subscribe_header_waiting_xsolla' | translate}} </h2> <p class=subscription-paywall-iframe__loading__subtitle> {{::'view_subscribe_header_can-take-up-to' | translate}} </p> <smash-spinny data-size=\"'large'\" class=subscription-paywall-iframe__loading__loader></smash-spinny> </div> </div> <iframe ng-show=!$ctrl.loading name=paystation id=paystation class=subscription-paywall-iframe__paystation frameborder=0></iframe> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,r,s){var l=this;return this.loggedUser=s,l.$onInit=function(){l.userName=l.resolve.userName,l.channel=l.resolve.channel,r.paywallLoaded(l.user,l.channel);var s=n.get(l.channel);Promise.all([a.deferredBadges.promise,i.deferredSubEmotes.promise,s]).then(function(){a.deferredBadges.promise.then(function(t){e(function(){l.channelBadge=(0,o.default)(t)})}).catch(function(e){return t.error("badges.deferredBadges.promise failed",e)}),i.deferredSubEmotes.promise.then(function(t){e(function(){l.channelSubEmotes=t})}).catch(function(e){return t.error("badges.deferredSubEmotes.promise failed",e)}),s.then(function(t){e(function(){l.media=t})}).catch(function(e){return t.error("mediaPromise failed",e)})}).catch(function(e){return t.error("Sub paywall dependency promises error",e)})},l.onSuccessfulPayment=function(){return l.close(),r.paymentSuccessful()},l.onFailedPayment=function(){return l.dismiss(),r.paymentFailed()},l.onScreenLoaded=function(){return r.payStationLoaded()},l}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(511)),r=a(n(2051));n(2052),i.$inject=["$timeout","$log","medias","badges","emotes","subscriptionWorkflow","loggedUser"],t.default={bindings:{resolve:"<",close:"&",dismiss:"&"},templateUrl:r.default,controller:i}},function(e,t,n){var a="/src/js/subscriptions/subscription-paywall/components/subscription-paywall.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-button-close data-variant=modal-fixed data-on-select=$ctrl.close()></htbx-button-close> <div class=subscription-paywall> <div class=subscription-paywall__main> <div ng-if=!$ctrl.media class=subscription-paywall__description> <bouncy on-light=true></bouncy> </div> <div ng-if=$ctrl.media class=subscription-paywall__description> <div class=subscription-paywall__description__header> <img class=\"subscription-paywall__description__header__logo round\" fallback-src={{::$root.config.fallbackImages.userLogo}} ng-src=\"{{::$root.config.imgUrl + $ctrl.media.channel.user_logo}}\" alt=\"\"/> <a class=subscription-paywall__description__header__name ui-sref=\"detail.feed({channel: $ctrl.channel})\" target=_blank rel=noopener> {{$ctrl.media.channel.user_name}} </a> </div> <div class=subscription-paywall__description__title> {{::'global_text_subscription-benefits' | translate}} </div> <ul class=subscription-paywall__description__benefits> <li class=subscription-paywall__description__benefit> {{::'global_text_support' | translate}} {{$ctrl.media.channel.user_name}} </li> <li class=subscription-paywall__description__benefit> {{::'view_subscribe_text_subscriber-only' | translate}} </li> <li class=subscription-paywall__description__benefit> {{::'view_subscribe_text_post-images' | translate}} </li> </ul> <div class=subscription-paywall__description__title> {{::'view_subscribe_tooltip_chat-badge' | translate}} </div> <img class=subscription-paywall__description__badge fallback-src={{::$root.config.fallbackImages.subBadge}} ng-src={{::$root.config.imgUrl}}{{$ctrl.channelBadge.badge_image}} alt=\"\"/> <div ng-if=\"$ctrl.channelSubEmotes.length > 0\" class=subscription-paywall__description__title> {{::'view_subscribe_header_chat-emotes-global' | translate}} </div> <img class=subscription-paywall__description__emoji ng-repeat=\"emote in $ctrl.channelSubEmotes\" ng-src={{::$root.config.imgUrl}}{{emote.icon_path}} tooltip-placement=\"auto top\" uib-tooltip={{emote.icon_short}} alt=\"\"/> <div class=subscription-paywall__footer> <p> {{::'view_subscribe_text_completing-purchase' | translate}} <a ui-sref=\"legal({tab: 'terms-of-use'})\" target=_blank rel=noopener> {{::'global_link_terms-of-use' | translate}} </a> {{::'view_subscribe_text_and-the' | translate}} <a ui-sref=\"legal({tab: 'terms-of-sale'})\" target=_blank rel=noopener> {{::'global_link_terms-of-sale' | translate}} </a>. </p> <p> {{::'view_subscribe_text_can-cancel' | translate}} </p> </div> </div> <subscription-payment-iframe ng-if=\"$ctrl.channel && $ctrl.loggedUser.getName()\" user-name=$ctrl.loggedUser.getName() channel=$ctrl.channel auth-token=$ctrl.loggedUser.getToken() on-successful-payment=$ctrl.onSuccessfulPayment($event) on-failed-payment=$ctrl.onFailedPayment($event) on-screen-loaded=$ctrl.onScreenLoaded($event) class=subscription-paywall__iframe></subscription-payment-iframe> </div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2054));n(2055);var o=function(){function e(t,n,a,i,o,r,s,l,c,u){var d=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canConnect=function(){return d.Discord.canConnect(d.username)},Object.assign(this,{loggedUser:t,HtbxModal:n,Discord:a,DiscordConnect:i,SocialDiscord:o,SocialDiscordFromUser:r,$interval:s,$rootScope:l,$translate:c,$window:u})}return e.$inject=["loggedUser","HtbxModal","Discord","DiscordConnect","SocialDiscord","SocialDiscordFromUser","$interval","$rootScope","$translate","$window"],a(e,[{key:"$onInit",value:function(){var e=this;this.error=!1,this.canConnect()?this.isConnected=this.DiscordConnect.isConnected:(this.connected=!1,this.DiscordConnect.getConnectedStatus(!0,this.username).then(function(t){e.connected=t}),this.isConnected=function(){return e.connected}),this.loading=!1}},{key:"openBotModal",value:function(){var e=this;this.error=!1;var t=this.$translate.instant("component_discord-connect_add-bot"),n="<p>"+this.$translate.instant("component_discord-connect_add-bot_description-1")+"</p>\n                     <p>"+this.$translate.instant("component_discord-connect_add-bot_description-2")+'</p>\n                     <p><a href="#" target="_blank" rel="noopener">'+this.$translate.instant("component_discord-connect_add-bot_description-3")+"</a></p>",a=[{label:this.$translate.instant("component_discord-connect_link-accounts")},{result:!0,label:this.$translate.instant("component_discord-connect_link-and-bot"),variant:"ok"}];new this.HtbxModal(t,n,a).open().then(function(t){t&&e.addServer()}).catch(function(t){t||e.connect()})}},{key:"openDisconnectModal",value:function(){var e=this,t=this.$translate.instant("component_discord-connect_disconnect-account"),n=this.$translate.instant("component_discord-connect_disconnect-message"),a=[{result:!1,label:this.$translate.instant("global_text_cancel")},{result:!0,label:this.$translate.instant("global_text_disconnect"),variant:"warning"}];new this.HtbxModal(t,n,a).open().then(function(t){t&&e.DiscordConnect.disconnect(!0)})}},{key:"addServer",value:function(){this.DiscordConnect.connect(this.username,!0),this.$rootScope.$broadcast("discord:serverAdd")}},{key:"connect",value:function(){var e=this;this.DiscordConnect.connect(this.username,!1),this.loading=!0,this.DiscordConnect.onConnect().catch(function(t){e.error=e.Discord.handleError(t)}).finally(function(){e.loading=!1})}}]),e}();t.default={bindings:{username:"@"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/discord/components/discord-connect.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<section class=\"box__row settings__connections__box__item settings__connections__box__item--type-discord\"> <span class=settings__connections__box__icon> <smash-icon data-icon=discord data-keep-colors=true></smash-icon> </span> <div class=box__header> <div class=box__row__title> {{::'global_text_discord'|translate}} <div class=box__row__title__sub> {{::'component_discord-connect_description'|translate}} <span ng-if=\"$ctrl.isConnected() && $ctrl.canConnect()\"> <a ng-click=$ctrl.addServer()>{{::'component_discord-connect_also-add-bot'|translate}}</a> </span> </div> </div> <htbx-button data-on-select=\"!$ctrl.isConnected() ? $ctrl.openBotModal() : $ctrl.openDisconnectModal()\" class=\"settings__connections__button discord-button\" data-disabled=!$ctrl.canConnect() data-loading=$ctrl.loading ng-class=\"{'settings__connections__button--connected': $ctrl.isConnected()}\"> <span ng-if=!$ctrl.isConnected()>{{::'global_text_connect' | translate}}</span> <span ng-if=$ctrl.isConnected()>{{::'global_text_disconnect' | translate}}</span> </htbx-button> </div> <div ng-if=$ctrl.error class=box__content> <div class=discord-connect__error> <htbx-alert data-type=warning data-dismissable=true data-only-title=true data-alert-title={{$ctrl.error.message}} data-on-dismiss=\"$ctrl.error=false\"> </htbx-alert> </div> </div> </section> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=a(n(16)),l=a(n(2057));n(2058);var c=function(){function e(t,n,a,i,o,r,s,l){var c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.deleteGuild=function(e){c.onDelete({guildID:e})},Object.assign(this,{loggedUser:t,Discord:n,DiscordGuild:a,DiscordRoles:i,DiscordChannels:o,SocialDiscord:r,$translate:s,HtbxModal:l}),this.hasRoleModerativeRights=this.Discord.hasRoleModerativeRights,this.getGuildIcon=this.Discord.getGuildIcon}return e.$inject=["loggedUser","Discord","DiscordGuild","DiscordRoles","DiscordChannels","SocialDiscord","$translate","HtbxModal"],r(e,[{key:"$onInit",value:function(){var e=this;this.error=!1,this.collapsed=!0,this.saving=!1,this.guild=null,this.days=[{value:0,label:this.$translate.instant("component_discord-settings_sub-lapse-days",{COUNT:0},"messageformat")},{value:1,label:this.$translate.instant("component_discord-settings_sub-lapse-days",{COUNT:1},"messageformat")},{value:3,label:this.$translate.instant("component_discord-settings_sub-lapse-days",{COUNT:3},"messageformat")},{value:7,label:this.$translate.instant("component_discord-settings_sub-lapse-days",{COUNT:7},"messageformat")}],this.subLapse=this.getSubLapse(),this.isPartner=this.loggedUser.isPartner,this.joinTypes=this.Discord.joinTypes.filter(function(t){return!t.requiresPartner||e.isPartner()}),this.joinType=this.getActiveJoinType(),this.getGuildInfo(!0)}},{key:"getGuildInfo",value:function(e){var t=this;this.loading=!0,this.DiscordGuild.get({guild_id:this.settings.guild_id,authToken:this.loggedUser.getToken(),fast:e}).$promise.then(function(e){t.guild=e,t.resetError()}).catch(function(e){t.error=t.Discord.handleError(e)}).finally(function(){t.loading=!1})}},{key:"getActiveJoinType",value:function(){var e=this;return this.joinTypes.find(function(t){return t.value===e.settings.join_type})}},{key:"setJoinType",value:function(){var e=i(regeneratorRuntime.mark(function e(){var t,n,a,o,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.settings.join_type=this.joinType.value,"everyone"!==this.joinType.value){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,s.default.get("discord.joinTypeNotice",!1);case 5:(t=e.sent)||(n=this.$translate.instant("component_discord-settings_hold-up"),a=this.$translate.instant("component_discord-settings_join-type-warning"),o=[{result:!0,label:this.$translate.instant("global_text_ok"),variant:"ok"}],new this.HtbxModal(n,a,o,!1,!0).open().then(function(){var e=i(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.dontShowAgain){e.next=3;break}return e.next=3,s.default.set("discord.joinTypeNotice",!0);case 3:case"end":return e.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}()));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getRoles",value:function(e){var t=this;this.collapsed=e,e||this.roles||(this.loading=!0,this.DiscordRoles.get({guild_id:this.settings.guild_id,authToken:this.loggedUser.getToken()}).$promise.then(function(e){e=e.filter(function(e){return"@everyone"!==e.name&&!e.managed}).map(function(e){return{position:e.position,label:e.name,value:e.id,permissions:e.permissions,linkStyles:{color:"#"+function(e){return e<0&&(e=4294967295+e+1),e.toString(16).toUpperCase()}(e.color)},linkClasses:{"discord-settings__role":!0}}}),t.roles=e,t.roles.push({label:t.$translate.instant("component_discord-settings_select-role"),value:null}),t.subscriberRole=t.getRole(),t.moderatorRole=t.getRole(!0),t.resetError()}).catch(function(e){t.error=t.Discord.handleError(e)}).finally(function(){t.getChannels(),t.loading=!1}))}},{key:"getChannels",value:function(){var e=this;this.collapsed||this.channels?this.loading=!1:this.DiscordChannels.get({guild_id:this.settings.guild_id,authToken:this.loggedUser.getToken(),type:"text"}).$promise.then(function(t){t=t.map(function(e){return{position:e.position,label:"#"+e.name,value:e.id,linkClasses:{"discord-settings__channel":!0}}}),e.channels=t,e.channels.push({position:-1,label:e.$translate.instant("component_discord-settings_select-channel"),value:null}),e.notificationChannel=e.getChannel()}).catch(function(t){e.error=e.Discord.handleError(t)}).finally(function(){e.loading=!1})}},{key:"getRole",value:function(e){var t=this;return e?this.roles.find(function(e){return e.value===t.settings.mod_role}):this.roles.find(function(e){return e.value===t.settings.sub_role})}},{key:"getChannel",value:function(){var e=this;return this.channels.find(function(t){return t.value===e.settings.notification_channel})}},{key:"selectRole",value:function(){this.settings.mod_role=this.moderatorRole.value,this.settings.sub_role=this.subscriberRole.value}},{key:"selectChannel",value:function(){this.settings.notification_channel=this.notificationChannel.value}},{key:"getSubLapse",value:function(){var e=this;return this.days.find(function(t){return t.value===e.settings.sub_lapse})||{label:"0 Days",value:null}}},{key:"selectSubLapse",value:function(){this.settings.sub_lapse=this.subLapse.value}},{key:"save",value:function(){var e=this;this.resetError(),this.saving=!0,this.SocialDiscord.put(o({user_name:this.username,authToken:this.loggedUser.getToken()},this.settings)).$promise.then(function(){e.collapsed=!0}).catch(function(t){e.error=e.Discord.handleError(t)}).finally(function(){e.saving=!1})}},{key:"resetError",value:function(){this.error=!1}}]),e}();t.default={bindings:{settings:"<",username:"@",onDelete:"&?"},templateUrl:l.default,controller:c}},function(e,t,n){var a="/src/js/discord/components/discord-settings.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-collapsible data-variant=default data-collapsed=$ctrl.collapsed data-title-click-disabled=\"!$ctrl.guild && !$ctrl.error\" data-on-collapse=$ctrl.getRoles(collapsed)> <htbx-collapsible-title class=discord-settings__row__title> <div class=col-1> <a ng-href=https://discordapp.com/channels/{{::$ctrl.settings.guild_id}} target=_blank rel=noopener> <img class=\"table__row__image round\" ng-src={{$ctrl.getGuildIcon($ctrl.guild)}} fallback-src={{::$root.config.fallbackImages.discordServer}} alt=\"\"/> </a> </div> <div class=\"table__list__row__col--username discord-settings__username-row col-2\"> <a class=\"table__list__row__col--username__link trim\" ng-href=https://discordapp.com/channels/{{$ctrl.settings.guild_id}} target=_blank rel=noopener> {{$ctrl.guild.name || '...'}} </a> <span ng-if=$ctrl.error uib-tooltip=\"{{::'component_discord-settings_loading-data-error' | translate}}\" class=discord-settings__username-row__icon> <smash-icon icon=warning size=24></smash-icon> </span> <div class=discord-settings__saving> <htbx-saving-indicator data-saving=$ctrl.saving></htbx-saving-indicator> </div> </div> </htbx-collapsible-title> <div ng-if=$ctrl.loading class=dash__input__buttons> <smash-spinny></smash-spinny> </div> <span ng-if=\"$ctrl.error && !$ctrl.loading\"> <div class=dash__input> <htbx-alert type=warning data-only-title=true data-alert-title={{$ctrl.error.message}}></htbx-alert> </div> <div class=\"discord-settings discord-settings__delete-button\"> <htbx-discord-settings-delete username=$ctrl.username guild-id=$ctrl.settings.guild_id on-delete=$ctrl.deleteGuild(guildID) loading=$ctrl.serverDeleting></htbx-discord-settings-delete> </div> </span> <form ng-if=\"!$ctrl.loading && $ctrl.roles && !$ctrl.error\" ng-submit=$ctrl.save() class=discord-settings accept-charset=UTF-8 name=discordSettingsForm_{{$ctrl.settings.guild_id}} novalidate> <div class=dash__input> <div class=discord-settings__option> <h3 class=discord-settings__option__label> {{::'component_discord-settings_join-type' | translate}} </h3> <div class=discord-settings__option__description> {{::'component_discord-settings_join-type_description' | translate}} </div> <htbx-select items=$ctrl.joinTypes ng-model=$ctrl.joinType ng-change=$ctrl.setJoinType()></htbx-select> </div> </div> <span ng-if=::$ctrl.isPartner()> <div class=dash__input> <div class=discord-settings__option> <h3 class=discord-settings__option__label> {{::'component_discord-settings_subscriber-role' | translate}} </h3> <div class=discord-settings__option__description> {{::'component_discord-settings_subscriber-role_description' | translate}} </div> <htbx-select items=$ctrl.roles ng-model=$ctrl.subscriberRole ng-disabled=\"$ctrl.roles.length <= 1\" ng-change=$ctrl.selectRole() order-by=-position></htbx-select> </div> <div ng-if=$ctrl.hasRoleModerativeRights($ctrl.getSubscriberRole()) class=discord-settings__option> <htbx-alert type=warning data-only-title=true data-alert-title=\"{{::'component_discord-settings_moderative-permissions-warning' | translate}}\"></htbx-alert> </div> <div ng-if=\"$ctrl.roles.length <= 1\" class=discord-settings__option> <htbx-alert data-type=warning data-size=small> {{::'component_discord-settings_no-suitable-roles' | translate}} </htbx-alert> </div> </div> <div class=dash__input> <div class=discord-settings__option> <h3 class=discord-settings__option__label> {{::'component_discord-settings_sub-lapse' | translate}} </h3> <div class=discord-settings__option__description> {{::'component_discord-settings_sub-lapse_description' | translate}} </div> <htbx-select items=$ctrl.days ng-model=$ctrl.subLapse ng-disabled=!$ctrl.subscriberRole.value ng-change=$ctrl.selectSubLapse()></htbx-select> </div> <div class=discord-settings__option> <toggle-checkbox class=dash__input__input data-dark-background=true ng-model=$ctrl.settings.kick_lapse is-disabled=!$ctrl.subLapse.value label=\"{{::'component_discord-settings_kick-expired-subscribers' | translate}}\"></toggle-checkbox> <div class=discord-settings__option__description> {{::'component_discord-settings_kick-expired-subscribers_description' | translate}} </div> </div> </div> </span> <div class=dash__input> <div class=discord-settings__option> <h3 class=discord-settings__option__label> {{::'component_discord-settings_moderator-role' | translate}} </h3> <div class=discord-settings__option__description> {{::'component_discord-settings_moderator-role_description' | translate}} </div> <htbx-select items=$ctrl.roles ng-model=$ctrl.moderatorRole ng-disabled=\"$ctrl.roles.length <= 1\" ng-change=$ctrl.selectRole() order-by=-position></htbx-select> </div> <div ng-if=\"$ctrl.roles.length <= 1 && !$ctrl.isPartner()\" class=discord-settings__option> <htbx-alert data-type=warning data-size=small> {{::'component_discord-settings_no-suitable-roles' | translate}} </htbx-alert> </div> </div> <div class=dash__input> <div class=discord-settings__option> <h3 class=discord-settings__option__label> {{::'component_discord-settings_emote-syncing' | translate}} </h3> <div class=discord-settings__option__description> {{::'component_discord-settings_emote-syncing_description' | translate}} </div> <toggle-checkbox class=dash__input__input data-dark-background=true ng-model=$ctrl.settings.emotes is-disabled=!$ctrl.subscriberRole.value label=\"{{::'component_discord-settings_enable-emote-syncing' | translate}}\"></toggle-checkbox> </div> </div> <div class=dash__input> <div class=discord-settings__option> <h3 class=discord-settings__option__label> {{::'component_discord-settings_webhook-channel' | translate}} </h3> <div class=discord-settings__option__description> {{::'component_discord-settings_webhook-channel_description' | translate}} </div> <htbx-select items=$ctrl.channels ng-model=$ctrl.notificationChannel ng-disabled=\"$ctrl.channels.length <= 1\" ng-change=$ctrl.selectChannel() order-by=position></htbx-select> </div> </div> <div class=\"discord-settings__buttons dash__input__buttons\"> <htbx-discord-settings-delete class=discord-settings__buttons__delete username=$ctrl.username guild-id=$ctrl.settings.guild_id on-delete=$ctrl.deleteGuild(guildID) loading=$ctrl.isGuildDeleting></htbx-discord-settings-delete> <htbx-button class=discord-settings__buttons__save data-type=submit data-disabled=\"($ctrl.joinType.value === 'subscriber' && !$ctrl.subscriberRole.value) || $ctrl.isGuildDeleting\" data-loading=$ctrl.saving data-variant=ok> {{::'global_button_save' | translate}} </htbx-button> </div> </form> </htbx-collapsible> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2060));n(2061);var o=function(){function e(t,n,a,i,o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.deleteGuild=function(){r.loading=!0,r.SocialDiscord[r.deleteAll?"deleteAll":"delete"]({user_name:r.username,guild_id:r.guildId,authToken:r.loggedUser.getToken(),delete_all:r.deleteAll}).$promise.then(function(){r.onDelete({guildID:r.guildId})}).catch(function(e){r.$log.error(e)}).finally(function(){r.loading=!1})},Object.assign(this,{$log:t,$translate:n,loggedUser:a,SocialDiscord:i,HtbxModal:o})}return e.$inject=["$log","$translate","loggedUser","SocialDiscord","HtbxModal"],a(e,[{key:"$onInit",value:function(){this.loading=!1}},{key:"openDeleteModal",value:function(){var e=this,t=this.$translate.instant("component_discord-settings-delete_unlink-server"),n=this.$translate.instant("component_discord-settings-delete_unlink-server_description"),a=[{result:!1,label:this.$translate.instant("global_text_cancel")},{result:!0,label:this.$translate.instant("component_discord-settings-delete_unlink"),variant:"warning"}];new this.HtbxModal(t,n,a).open().then(function(t){t&&e.deleteGuild()})}}]),e}();t.default={bindings:{username:"<",guildId:"<?",deleteAll:"<?",onDelete:"&?",loading:"="},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/discord/components/discord-settings-delete.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-button data-on-select=$ctrl.openDeleteModal() data-type=button data-variant=warning data-loading=$ctrl.loading data-loading-spinny=true data-disabled=$ctrl.loading class=discord-settings-delete__button> <smash-icon icon=trash size=24 center=true></smash-icon> </htbx-button> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(2063)),r=a(n(2064));n(2065);var s=function(){function e(t,n,a,i,o,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$translate:t,loggedUser:n,Discord:a,DiscordGuild:i,DiscordJoin:o,HtbxModal:s}),this.selectItemTpl=r.default,this.selectedGuild=null,this.loading=!0}return e.$inject=["$translate","loggedUser","Discord","DiscordGuild","DiscordJoin","HtbxModal"],i(e,[{key:"joinGuild",value:function(){var e=this,t=[{result:!1,label:this.$translate.instant("global_text_cancel"),variant:"outline"},{result:!0,label:this.$translate.instant("global_button_join"),variant:"ok"}];new this.HtbxModal(this.$translate.instant("component_discord-settings_hold-up"),this.$translate.instant("component_discord-join_pre-join-server",{server:this.selectedGuild.name}),t).open().then(function(t){t&&e.DiscordJoin.join({user_name:e.loggedUser.getName(),guild_id:e.selectedGuild.id,authToken:e.loggedUser.getToken()}).$promise.then(function(){e.joined({success:!0,guild:e.selectedGuild})}).catch(function(){e.joined({success:!1,guild:e.selectedGuild})}).finally(function(){e.resetGuild()})}).catch(function(){e.onJoin&&e.onJoin({success:!1,guild:e.selectedGuild}),e.resetGuild()})}},{key:"resetGuild",value:function(){this.selectedGuild=null}},{key:"joined",value:function(e){if(this.onJoin)this.onJoin(e);else{var t=e.success?this.$translate.instant("component_discord-join_success",{server:e.guild.name}):this.$translate.instant("component_discord_join_failed"),n=e.success?this.$translate.instant("component_discord-join_success_description",{server:e.guild.name}):this.$translate.instant("global_error_try-again"),a=[{result:!0,label:this.$translate.instant("global_text_ok"),variant:"ok"}];new this.HtbxModal(t,n,a).open()}}},{key:"getGuilds",value:function(){var e=this,t=[];return new Promise(function(n,a){e.guilds.forEach(function(n){t.push(e.DiscordGuild.get({guild_id:n,fast:!0,authToken:e.loggedUser.getToken()}).$promise)}),Promise.all(t).then(function(t){n(t),e.loading=!1}).catch(function(){a(),e.loading=!1})})}}]),e}();t.default={bindings:{guilds:"<",onJoin:"&?"},transclude:!0,templateUrl:o.default,controller:s}},function(e,t,n){var a="/src/js/discord/components/discord-join.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=discord-join> <a class=discord-join__button> <htbx-select async-items=$ctrl.getGuilds() loading=$ctrl.loading ng-model=$ctrl.selectedGuild ng-change=$ctrl.joinGuild() use-custom-button=true item-tpl={{::$ctrl.selectItemTpl}} actions=\"{ getGuildIcon: $ctrl.Discord.getGuildIcon }\"> <htbx-select-header> <span class=navigation__collection__link--primary>{{::'component_discord-join_join'|translate}}</span> <div class=navigation__separator></div> </htbx-select-header> <htbx-select-button><span ng-transclude></span></htbx-select-button> </htbx-select> </a> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/discord/views/list.discord-guild.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=discord-join__guild> <img class="discord-join__guild__icon round" ng-src={{$ctrl.actions.getGuildIcon(item)}} fallback-src={{::$root.config.fallbackImages.discordServer}} /> <span class=discord-join__guild__name>{{item.name}}</span> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2067)),o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{Discord:t,DiscordGuild:n}),this.guild=null,this.isJoining=!1}return e.$inject=["Discord","DiscordGuild"],a(e,[{key:"$onInit",value:function(){var e=this;this.DiscordGuild.get({guild_id:this.guildId,fast:!0}).$promise.then(function(t){e.guild=t})}},{key:"joinGuild",value:function(){var e=this;!this.isJoining&&this.guild&&(this.isJoining=!0,this.Discord.joinGuild(this.guild).finally(function(){e.isJoining=!1}))}}]),e}();t.default={bindings:{guildId:"<"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/discord/components/discord-guild-info.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=discord-join__guild ng-click=$ctrl.joinGuild()> <img class="discord-join__guild__icon round" ng-src={{$ctrl.Discord.getGuildIcon($ctrl.guild)}} fallback-src={{::$root.config.fallbackImages.discordServer}} /> <span class=discord-join__guild__name>{{$ctrl.guild.name || \'...\'}}</span> <smash-spinny size="\'small\'" data-variant="\'light\'" class=discord-join__spinny ng-if="$ctrl.isJoining || !$ctrl.guild"></smash-spinny> </div> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(2069)),r=a(n(2070));n(2071);var s=function(){function e(t,n,a,i,o,r,s,l){var c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.deleteGuild=function(){c.getServers(!0)},this.canConnect=function(){return c.Discord.canConnect(c.$stateParams.user)},this.getUsername=function(){return c.$stateParams.user},Object.assign(this,{$scope:t,$stateParams:n,loggedUser:a,Discord:i,DiscordConnect:o,DiscordGuild:r,SocialDiscord:s,SocialDiscordFromUser:l})}return e.$inject=["$scope","$stateParams","loggedUser","Discord","DiscordConnect","DiscordGuild","SocialDiscord","SocialDiscordFromUser"],i(e,[{key:"$onInit",value:function(){var e=this;this.error=!1,this.servers=[],this.connecting=!1,this.tableItemTpl=r.default,this.$scope.$on("discord:serverAdd",function(){e.error=!1,e.connecting=!0,e.waitForServerAdd()}),this.getServers()}},{key:"addServer",value:function(){this.servers.length>=5||(this.error=!1,this.DiscordConnect.connect(this.$stateParams.user,!0),this.connecting=!0,this.waitForServerAdd())}},{key:"waitForServerAdd",value:function(){var e=this;this.DiscordConnect.onConnect().then(function(){e.getServers(!0)}).catch(function(t){e.getServers(!1),e.error=e.Discord.handleError(t)}).finally(function(){e.loading=!1,e.connecting=!1})}},{key:"getServers",value:function(e){var t=this;this.loading=!0,this.SocialDiscord.get({user_name:this.$stateParams.user,authToken:this.loggedUser.getToken(),nocache:e}).$promise.then(function(e){t.servers=e.settings}).catch(function(){t.servers=[]}).finally(function(){t.loading=!1})}}]),e}();t.default={bindings:{},templateUrl:o.default,controller:s}},function(e,t,n){var a="/src/js/discord/components/discord-guild-manager.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section ng-if="$ctrl.servers.length || $ctrl.connecting || $ctrl.error || $ctrl.loading" class="box discord-guild-manager"> <div class=discord-guild-manager__header ng-class="{\n            \'discord-guild-manager__header--has-servers\': $ctrl.servers.length,\n        }"> <div class=box__title> {{::\'global_text_discord\'|translate}} <htbx-button ng-if=$ctrl.canConnect() data-on-select=$ctrl.addServer() data-loading=$ctrl.connecting data-disabled="$ctrl.connecting || $ctrl.servers.length >= 5" class="box__action__button discord-button"> {{::\'view_connections-settings_add-discord-bot\' | translate}} </htbx-button> </div> <div ng-if="(!$ctrl.servers.length && !$ctrl.loading) || $ctrl.connecting" class=discord-guild-manager__header__description> {{($ctrl.connecting ? \'view_connections-settings_header_discord-connecting\' : \'view_connections-settings_header_no-discord\') | translate}} </div> <div ng-if="$ctrl.loading && !$ctrl.connecting" class=discord-guild-manager__loading> <bouncy></bouncy> </div> <div class=discord-guild-manager__error ng-if=$ctrl.error> <htbx-alert data-alert-title={{$ctrl.error.message}} data-dismissable=true data-only-title=true data-type=warning></htbx-alert> </div> </div> <htbx-table ng-if=$ctrl.servers.length list=$ctrl.servers item-tpl={{::$ctrl.tableItemTpl}} items-per-page=15 loading=$ctrl.loading actions="{ getUsername: $ctrl.getUsername, deleteGuild: $ctrl.deleteGuild }" track-by=guild_id class="box-list table--discord"></htbx-table> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/community/views/list.discord-servers.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-discord-settings-component class=table__list__row--discord-collapsible settings=item username={{::$ctrl.actions.getUsername()}} on-delete=$ctrl.actions.deleteGuild(guildID)></htbx-discord-settings-component> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/admin/discord/:user_name",{user_name:"@user_name",authToken:"@authToken",botToken:"@botToken"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/discord/callback",{},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/discord/link/:user_name",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/social/discord/:user_name",{user_name:"@user_name",guild_id:"@guild_id",authToken:"@authToken",delete_all:"@delete_all"},{get:{method:"GET",params:t,isArray:!1},put:{url:i.default.apiUri+"/social/discord/:user_name/:guild_id",method:"PUT",params:t,isArray:!1},delete:{url:i.default.apiUri+"/social/discord/:user_name/:guild_id",method:"DELETE",params:t,isArray:!1},deleteAll:{method:"DELETE",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/social/discordfromuser/:user_name",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e,t,n,a,o,r,s,l){return{joinTypes:[{value:"everyone",label:t.instant("component_discord-settings_join-type-everyone"),requiresPartner:!1},{value:"follower",label:t.instant("component_discord-settings_join-type-follower"),requiresPartner:!1},{value:"subscriber",label:t.instant("component_discord-settings_join-type-subscriber"),requiresPartner:!0}],getConnectedStatus:function(e,t){var n={user_name:t,authToken:o.getToken(),nocache:e};return l.get(n).$promise.then(function(e){return!!e.discord_id}).catch(function(){return!1})},connect:function(t,a){var r=!1,s=n.open(i.default.apiUri+"/discord/link/"+t+"?authToken="+o.getToken()+(a?"&bot=true":""),"_blank","toolbar=no,location=no,status=no,menubar=no,scrollbars=no,width=490,height=600,top=100,left=100"),l=function(e){var t=e.data;r="SUCCESS"===t.key?{success:!0}:{success:!1,error:t.key}}.bind(this);return n.addEventListener("message",l,!1),new Promise(function(t,a){var i=e(function(){if(null==s||s.closed){if(e.cancel(i),n.removeEventListener("message",l,!1),r.success)return void t();a(r.error)}},1e3)})},disconnect:function(e,t){var n=this,a=void 0,i=void 0;return!0===e?a=e:i=e,new Promise(function(e,r){s[a?"deleteAll":"delete"]({user_name:t,authToken:o.getToken(),guild_id:i,delete_all:a}).$promise.then(function(a){a&&a.success&&n.getConnectedStatus(!0,t).then(function(t){e(t)})}).catch(function(e){r(e)})})},canConnect:function(e){return e.toLowerCase()===o.getName().toLowerCase()},hasRoleModerativeRights:function(e){if(!e)return!1;var t=[2,4,8,16,32,8192];return!!e.permissions&&t.filter(function(t){return function(e,t){return!!(e&t)}(e.permissions,t)}).length>0},getGuildIcon:function(e){return!e||e&&!e.id?i.default.fallbackImages.discordServer:"https://cdn.discordapp.com/icons/"+e.id+"/"+e.icon+".jpg"},handleError:function(e){switch(e){case"DISCORD_ALREADY_LINKED":return{type:e,message:t.instant("component_discord-connect_error_discord-already-linked")};case"unknown_guild":return{type:e,message:t.instant("component_discord-settings_unknown-guild-error")};default:return{type:e,message:t.instant("global_error_try-again")}}},joinGuild:function(e){var t=this,n=r.join({user_name:o.getName(),guild_id:e.id,authToken:o.getToken()}).$promise;return n.then(function(){t.joined({success:!0,guild:e})}).catch(function(){t.joined({success:!1,guild:e})}),n},joined:function(e){if(this.onJoin)this.onJoin({success:e});else{var n=e?t.instant("component_discord-join_success",{server:e.guild.name}):t.instant("component_discord_join_failed"),i=e?t.instant("component_discord-join_success_description",{server:e.guild.name}):t.instant("global_error_try-again"),o=[{result:!0,label:t.instant("global_text_ok"),variant:"ok"}];new a(n,i,o,!0).open()}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$interval","$translate","$window","HtbxModal","loggedUser","DiscordJoin","SocialDiscord","SocialDiscordFromUser"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/social/discord/guild/:guild_id/info",{guild_id:"@guild_id",authToken:"@authToken",fast:"@fast"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/social/discord/guild/:guild_id/roles",{guild_id:"@guild_id",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!0}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/social/discord/guild/:guild_id/channels",{guild_id:"@guild_id",authToken:"@authToken",type:"@type"},{get:{method:"GET",params:{},isArray:!0}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/social/discord/:user_name/invites/:guild_id",{user_name:"@user_name",guild_id:"@guild_id",authToken:"@authToken"},{join:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/social/discord/post/:user_name",{user_name:"@user_name",authToken:"@authToken"},{post:{method:"POST",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(t,n,a,i,o,r,s){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isConnected=function(){return l.connected},Object.assign(this,{$interval:t,$window:n,$q:a,Discord:i,loggedUser:o,SocialDiscord:r,SocialDiscordFromUser:s}),this.connected=!1,this.getConnectedStatus(!0),this.resetDeferred()}return e.$inject=["$interval","$window","$q","Discord","loggedUser","SocialDiscord","SocialDiscordFromUser"],a(e,[{key:"resetDeferred",value:function(){this.connectDeferred=this.$q.defer()}},{key:"onConnect",value:function(){return this.connectDeferred.promise}},{key:"getConnectedStatus",value:function(e,t){var n=this;if(t=t||this.loggedUser.getName(),!e&&!t)return new Promise(function(e){return e(n.isConnected())});var a=this.Discord.getConnectedStatus(e,t);return t===this.loggedUser.getName()&&a.then(function(e){n.connected=e}),a}},{key:"connect",value:function(e,t){var n=this;this.resetDeferred();var a=this.Discord.connect(e,t);return e===this.loggedUser.getName()&&a.then(function(){n.connected=!0,n.connectDeferred.resolve()}).catch(function(e){n.connectDeferred.reject(e)}),a}},{key:"disconnect",value:function(e,t){var n=this;t=t||this.loggedUser.getName();var a=void 0,i=void 0;!0===e?a=e:i=e;var o=this.SocialDiscord[a?"deleteAll":"delete"]({user_name:t,authToken:this.loggedUser.getToken(),guild_id:i,delete_all:a}).$promise;return t===this.loggedUser.getName()&&o.then(function(){n.connected=!1}),o}}]),e}();i.$inject=["$interval","$window","$q","Discord","loggedUser","SocialDiscord","SocialDiscordFromUser"],t.default=i},function(e,t,n){"use strict";function a(e,t,n,a,i,o,r){e.errors=n,e.cbcreate=t,e.success=a,e.$watch("success",function(t){!0===t.success&&(e.loading=!1,i.close())},!0),e.hostName=r.host(),e.$watch("errors",function(t){(t.team_name||t.team_description)&&(e.loading=!1)},!0),e.$watch("new_team.display_name",function(t){t&&(e.new_team.name=t.replace(/[^a-zA-Z0-9<>]/g,"").toLowerCase())}),e.new_team={name:"",display_name:"",description:""},e.create=function(t){e.cbcreate(t),e.loading=!0},e.showDescriptionEmptyError=function(){return e.teamForm&&e.teamForm.group_text.$invalid&&!e.teamForm.group_text.$pristine?(e.errors.team_description=o.instant("view_team-settings_error_no-text"),!0):(e.errors.team_description="",!1)},e.showNameEmptyError=function(){return e.teamForm&&e.teamForm.group_name.$invalid&&!e.teamForm.group_name.$pristine},e.cancel=function(){e.errors.team_name=!1,e.errors.team_description=!1,i.dismiss()}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$scope","create","errors","success","$uibModalInstance","$translate","$location"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/overview/:user_name",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(58));t.default=function(){return function(e,t){return i.default.isUndefined(t)&&(t=!0),(0,o.default)(e,function(e){return e.info.group_accepted===t})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2088));n(2089),t.default=function(){function e(e,t){function n(){t.is("community")&&t.go("community.subscribers")}e.$on("$stateChangeSuccess",n),n()}return e.$inject=["$scope","$state"],{templateUrl:a.default,controller:e,controllerAs:"communityPage"}}},function(e,t,n){var a="/src/js/community/directives/community-page.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<htbx-layout data-variant=settings> <htbx-layout-navigation> <htbx-sub-nav data-active-section={{$root.section}}></htbx-sub-nav> </htbx-layout-navigation> <htbx-layout-content> <div class="community-content community__content community__content--{{tab}}" ui-view=viewCommunity autoscroll></div> </htbx-layout-content> </htbx-layout> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,s,u,d,f,p){var m={};e.templateUrlAddUser=c.default,e.user_name=a.user,e.group={},e.team=!1,e.create=!1,e.invited=[],e.invites=[],e.errors=[],e.usercount=[],e.new_team_errors={},e.max_length_team_name=32,e.max_length_team_display_name=32,e.pendingInvitesLimit=4,e.isLogoUploading=!1,e.isCoverUploading=!1,e.showAllPendingInvites=function(){e.pendingInvitesLimit=e.teamlist.teams.length||e.pendingInvitesLimit},e.resetErrors=function(){e.errors=[],e.teamlist.teams.forEach(function(t){e.errors[t.info.group_name]={team_display_name:!1,team_description:!1,team_logo:!1,team_cover:!1,invite:!1}}),e.new_team_errors.team_name=!1,e.new_team_errors.team_description=!1},e.new_team={group:{}},e.$watch("selected",function(t){t&&(e.invited.push(t),e.selected="")}),e.users=function(e){var n=this;return!(e.length<3)&&t.get(r.default.apiUri+"/user/list/?q="+e).then(function(e){var t=[];return o.default.forEach(e.data,function(e){t.push(e.user_name)},n),t})};var h=function(){m={authToken:p.getToken(),user_name:e.user_name,nocache:!0},u.get(m,function(t){t.teams&&t.teams?t.teams.sort(e.sortTeams):t.teams=[],e.teamlist=t,e.invites=[],e.team_titles=[];for(var n=0;n<t.teams.length;n++)e.team_titles.push({name:"teamFormTitle"+n}),e.invites.push({show:!1,name:""}),e.usercount.push(0);e.resetErrors(),e.new_team={group:{}}})};h(),e.setDefaultTeam=function(t){var n={authToken:p.getToken(),user_name:e.user_name,group_id:t.info.group_id};s.setDefaultTeam(n,function(){h()})},e.acceptInvite=function(t){m={authToken:p.getToken(),team_name:t.info.group_name,user_name:e.user_name,group_id:t.info.group_id},i.acceptMember(m,function(){h()})},e.declineInvite=function(t){m={authToken:p.getToken(),team_name:t.info.group_name,user_name:e.user_name,group_id:t.info.group_id},i.removeMember(m,function(){h()})},e.decline=function(t){var a=n.instant("view_team-settings_text_decline-invite",{teamname:t.info.group_name}),i=[{result:!1,label:n.instant("global_text_cancel")},{result:!0,label:n.instant("global_button_decline"),variant:"warning"}];new f(a,"",i).open().then(function(n){n&&e.declineInvite(t)})},e.leaveTeam=function(t){var a=n.instant("view_team-settings_text_statistics",{teamname:t.info.group_name}),i=[{result:!1,label:n.instant("global_text_cancel")},{result:!0,label:n.instant("global_button_confirm"),variant:"warning"}];new f(a,"",i).open().then(function(n){n&&e.declineInvite(t)})},e.disband=function(t){var a=n.instant("view_team-settings_text_delete-team",{teamname:t.info.group_name}),i=[{result:!1,label:n.instant("global_text_cancel")},{result:!0,label:n.instant("global_button_delete"),variant:"warning"}];new f(a,"",i).open().then(function(n){n&&e.disbandTeam(t)})},e.disbandTeam=function(t){m.team_name=t.info.group_name,m.nocache=!0,m.partner&&delete m.partner;var a=i.get(m,function(t){m.team_name=t.info.group_name,m.nocache=!0;var i={authToken:m.authToken,action:"delete_team",team_name:m.team_name,user_name:m.user_name};a.$update(i,function(){h(),e.resetErrors()},function(){e.errors[t.info.group_name].team_disband=n.instant("view_team-settings_error_not-disband",{teamname:t.info.group_name})})})},e.getTeam=function(t){var n=t.group_name;e.teamRole=t.group_role,e.create=!1,e.team_name=n,m.team_name=n,m.nocache=!0,i.get(m,function(t){e.team=t})},e.cbcoversuccess=function(t,a){t&&t.cover?(e.isCoverUploading=!0,m.team_name=a,m.nocache=!0,m.partner&&delete m.partner,i.get(m).$promise.then(function(o){e.team=o,e.team.info.group_cover=t.cover,m.authToken=p.getToken(),m.team_name=o.info.group_name,m.info=o.info,m.nocache=!0,i.update(m).$promise.then(function(){h(),e.error=!1}).catch(function(){e.errors[a].team_cover=n.instant("view_team-settings_error_new-cover_image")}).finally(function(){e.isCoverUploading=!1})})):e.errors[a].team_cover=n.instant("view_team-settings_error_new-cover")},e.cblogosuccess=function(t,a){t&&t.small&&t.large?(e.isLogoUploading=!0,m.team_name=a,m.nocache=!0,m.partner&&delete m.partner,i.get(m).$promise.then(function(o){e.team=o,e.team.info.group_logo_small=t.small,e.team.info.group_logo_large=t.large,m.authToken=p.getToken(),m.team_name=o.info.group_name,m.info=e.team.info,m.nocache=!0,i.update(m).$promise.then(function(){h(),e.resetErrors()}).catch(function(){e.errors[a].team_logo=n.instant("view_team-settings_error_new-logo")}).finally(function(){e.isLogoUploading=!1})})):e.errors[a].team_logo=n.instant("view_team-settings_error_new-logo")},e.cbsaveteam=function(t){m.team_name=t.info.group_name,m.nocache=!0,m.partner&&delete m.partner;var n=i.get(m,function(a){m.team_name=a.info.group_name,m.nocache=!0,a.info.group_display_name=t.info.group_display_name.substring(0,e.max_length_team_display_name),a.info.group_text=t.info.group_text,n.$update(m,function(){h(),e.error=!1},function(t){e.verifyRes(t)})})},e.verifyRes=function(t){switch(t.data.error_msg){case"invalid_groupname":e.new_team_errors.team_name=n.instant("view_team-settings_error_teamname-invalid");break;case"name_too_short":e.new_team_errors.team_name=n.instant("view_team-settings_error_teamname-too-short");break;case"display_name_too_short":e.new_team_errors.team_name=n.instant("view_team-settings_error_display-short");break;case"text_required":e.new_team_errors.team_description=n.instant("view_team-settings_error_no-text");break;case"group_taken":e.new_team_errors.team_name=n.instant("view_team-settings_error_team-taken"),e.new_team_errors.team_name=n.instant("view_team-settings_error_team-taken");break;case"invalid_display_name":e.new_team_errors.team_display_name=n.instant("view_team-settings_error_invalid-team-name")}},e.cbkickuser=function(){h()},e.cbdeletelogo=function(t){m.team_name=t,m.nocache=!0,m.partner&&delete m.partner;var a=i.get(m,function(i){m.team_name=i.info.group_name,m.nocache=!0;var o={authToken:m.authToken,action:"delete_logo",team_name:m.team_name,user_name:m.user_name};a.$update(o,function(){h(),e.resetErrors()},function(){e.errors[t].team_logo=n.instant("view_team-settings_error_delete-logo")})})},e.cbdeletecover=function(t){m.team_name=t,m.nocache=!0,m.partner&&delete m.partner;var a=i.get(m,function(i){m.team_name=i.info.group_name,m.nocache=!0;var o={authToken:m.authToken,action:"delete_cover",team_name:m.team_name,user_name:m.user_name};a.$update(o,function(){h(),e.resetErrors()},function(){e.errors[t].team_cover=n.instant("view_team-settings_error_delete-cover")})})},e.createTeam=function(){e.resetErrors();var t={authToken:p.getToken(),group_user_name:e.user_name,group_name:e.new_team.group.group_name,group_text:e.new_team.group.group_text,group_display_name:e.new_team.group.group_display_name};i.create(t,function(){h(),e.invited=[],e.team=!1,e.create=!1,e.resetErrors(),e.create_team_success.success=!0},function(t){e.verifyRes(t)})},e.openNewTeamDlg=function(){e.create_team_success={success:!1};var t={backdrop:!0,keyboard:!0,cache:!1,backdropClick:!0,resolve:{create:function(){return e.cbcreateteam},errors:function(){return e.new_team_errors},success:function(){return e.create_team_success}},templateUrl:l.default,controller:"NewTeamDialogCtrl"};d.open(t)},e.cbcreateteam=function(t){e.new_team.group.group_name=t.name.substring(0,e.max_length_team_name),e.new_team.group.group_text=t.description,e.new_team.group.group_display_name=t.display_name.substring(0,e.max_length_team_display_name),e.createTeam()},e.addUserSubmit=function(t,a){var i=e.invites[a].name;i&&a&&(t.preventDefault(),e.loading=!0,e.resetErrors(),s.get({user_name:i}).$promise.then(function(t){if(!t.user_name)return e.errors[a].invite=n.instant("view_team-settings_error_find-user",{username:i}),void e.resetInvites();e.resetErrors(),e.resetInvites(),e.inviteUserToTeam(a,i)}).catch(function(){e.errors[a].invite=n.instant("view_team-settings_error_inviting-users",{username:i}),e.resetInvites()}))},e.resetInvites=function(){e.invites=[];for(var t=0;t<e.teamlist.teams.length;t++)e.invites.push({show:!1,name:""}),e.loading=!1},e.inviteUserToTeam=function(t,a){m.team_name=t,m.nocache=!0,m.partner&&delete m.partner;var o=i.get(m,function(i){e.team=i,m.team_name=i.info.group_name,m.nocache=!0,e.team.invites=[],e.team.invites.push(a),o.members=null,o.$update(m,function(){h()},function(){e.errors[t].invite=n.instant("view_team-settings_error_inviting-users",{username:a})})})},e.checkDisplayName=function(e,t){var a=/[^a-zA-Z0-9<>]/g;return e=e.replace(a,""),null===t.match(a)&&e.toLowerCase()===t.toLowerCase()||n.instant("view_team-settings_error_cant-add")},e.teamSortAccepted=function(e,t){return e.info.group_accepted-t.info.group_accepted},e.teamSortId=function(e,t){return e.info.group_id-t.info.group_id},e.sortTeams=function(e,t){return e.info.group_accepted&&!t.info.group_accepted?1:!e.info.group_accepted&&t.info.group_accepted?-1:e.info.group_id>t.info.group_id?-1:e.info.group_id<t.info.group_id?1:0}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0));n(656);var r=a(n(2)),s=a(n(2091)),l=a(n(2092)),c=a(n(2093));n(2094),i.$inject=["$scope","$http","$translate","$stateParams","Team","User","Teams","$uibModal","HtbxModal","loggedUser"],t.default=function(){return{templateUrl:s.default,controller:i}}},function(e,t,n){var a="/src/js/community/directives/community.teams.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=teams-settings> <div class="teams-settings__header cf"> <htbx-button ng-if=!create data-variant=icon data-icon=add data-icon-size=24 data-on-select=openNewTeamDlg() class=teams-settings__add-team> {{::\'view_team-settings_button_create-team\' | translate}} </htbx-button> <div ng-if="(teamlist.teams | pendingInvites:false).length > 0" class=teams-settings__invitations> <div class=teams-settings__invitations__header> {{::\'global_text_pending-invitations\' | translate}} </div> <div ng-repeat="teamlist in teamlist.teams | limitTo:pendingInvitesLimit | pendingInvites:false" class=teams-settings__invitations__invitation> <a ui-sref="team({team: teamlist.info.group_name})" class="teams-settings__invitations__invitation__logo round" back-img={{::config.imgUrl}}{{teamlist.info.group_logo_large}} back-img-fallback={{::$root.config.fallbackImages.teamCover}}></a> <div class=teams-settings__invitations__invitation__name> <a ui-sref="team({team: teamlist.info.group_name})"> {{teamlist.info.group_display_name}} </a> </div> <div class=teams-settings__invitations__invitation__buttons> <htbx-button data-type=button data-variant=outline data-size=super-small data-on-select=decline(teamlist)> {{::\'global_button_decline\' | translate}} </htbx-button> <htbx-button data-type=button data-variant=ok data-size=super-small data-on-select=acceptInvite(teamlist)> {{::\'global_button_join\' | translate}} </htbx-button> </div> </div> <a ng-if="(teamlist.teams | pendingInvites:false).length > pendingInvitesLimit" ng-click=showAllPendingInvites() class=teams-settings__invitations__showmore> {{::\'global_button_showmore\' | translate}} </a> </div> </div> <div ng-if="(teamlist.teams | pendingInvites).length > 0" class=teams-settings__teams> <div class=teams-settings__teams__header> {{::\'view_team-settings_text_your-teams\' | translate}} </div> <div ng-repeat="teamlist in teamlist.teams | pendingInvites" class=team-item> <div class=header> <div ng-show=errors[teamlist.info.group_name].team_cover class=coverError> {{errors[teamlist.info.group_name].team_cover}} </div> <div ng-show=errors[teamlist.info.group_name].team_logo class=logoError> {{errors[teamlist.info.group_name].team_logo}} </div> <div ng-if="teamlist.info.group_role == \'admin\'" class=uploadWrap> <upload-drop-area uda-image={{::config.imgUrl}}{{teamlist.info.group_cover}} uda-success-callback="cbcoversuccess(data, teamlist.info.group_name)" class=cover uda-data-name=file uda-url={{config.apiUri}}/upload/team/ uda-delete-callback="cbdeletecover(data, teamlist.info.group_name)" uda-name=TeamCover uda-fallback-image={{::$root.config.fallbackImages.teamCover}} is-loading=isCoverUploading></upload-drop-area> <upload-drop-area uda-image={{::config.imgUrl}}{{teamlist.info.group_logo_large}} uda-success-callback="cblogosuccess(data, teamlist.info.group_name)" class="logo round" uda-data-name=file uda-url={{config.apiUri}}/upload/team/ uda-delete-callback="cbdeletelogo(data, teamlist.info.group_name)" uda-name=Logo uda-fallback-image={{::$root.config.fallbackImages.teamLogo}} is-loading=isLogoUploading></upload-drop-area> </div> <div ng-if="teamlist.info.group_role != \'admin\'"> <a ui-sref="team({team: teamlist.info.group_name})"> <div class=cover back-img={{::config.imgUrl}}{{teamlist.info.group_cover}} back-img-fallback={{::$root.config.fallbackImages.teamCover}}></div> </a> <a ui-sref="team({team: teamlist.info.group_name})"> <div class="logo round" back-img={{::config.imgUrl}}{{teamlist.info.group_logo_large}} back-img-fallback={{::$root.config.fallbackImages.teamLogo}}></div> </a> </div> <div class=grad></div> </div> <div class=content> <div class=title> <div ng-if="teamlist.info.group_role == \'admin\'" class=title--flex> <div ng-show=errors[teamlist.info.group_name].team_display_name class=editable-error> {{errors[teamlist.info.group_name].team_display_name}} </div> <div ng-show=myForm.$visible class=tip> {{::\'view_team-settings_text_team-name_is\' | translate}} <span>{{teamlist.info.group_name}}</span> <br> {{::\'view_team-settings_text_can-change\' | translate}} </div> <span ng-click=myForm.$show() editable-text=teamlist.info.group_display_name e-form=myForm onbeforesave=checkDisplayName($data,teamlist.info.group_name) onaftersave=cbsaveteam(teamlist) class=name> {{teamlist.info.group_display_name}} </span> <button ng-click=myForm.$show() ng-show=!myForm.$visible tooltip-placement="auto top" uib-tooltip="{{:: \'view_team-settings_tooltip_change-appearance\' | translate }}" tooltip-append-to-body=true tooltip-popup-delay=300 class="button button--variant-icon button--size-super-small"> <span class=button__icon> <smash-icon icon=edit icon-size=16 center=true></smash-icon> </span> </button> </div> <div ng-if="teamlist.info.group_role == \'member\'" class=name> {{teamlist.info.group_display_name}} </div> </div> <div class=description> <div> <a ui-sref="team({team: teamlist.info.group_name})" class=url> smashcast.tv/team/{{teamlist.info.group_name}} </a> </div> <div ng-show=errors[teamlist.info.group_name].team_description class=editable-error> {{errors[teamlist.info.group_name].team_description}} </div> <span ng-if="teamlist.info.group_role == \'admin\'" tooltip-placement="auto top" uib-tooltip="{{:: \'view_team-settings_tooltip_change-description\' | translate }}" tooltip-append-to-body=true tooltip-popup-delay=300 editable-textarea=teamlist.info.group_text onaftersave=cbsaveteam(teamlist)> {{teamlist.info.group_text}} </span> <span ng-if="teamlist.info.group_role == \'member\'"> {{teamlist.info.group_text}} </span> </div> <div class="users cf"> <htbx-user-list ng-if="teamlist.info.group_role == \'admin\'" show-user-options=true team=teamlist public-length=usercount[$index] show-invited=true show-kick=true type=team callback-kick=cbkickuser() class=userListWrap></htbx-user-list> <htbx-user-list ng-if="teamlist.info.group_role != \'admin\'" show-user-options=false team=teamlist public-length=usercount[$index] type=team class=userListWrap></htbx-user-list> </div> </div> <div class=teams-settings__options> <a ng-if="teamlist.info.group_role === \'admin\'" generic-popover gp-width=330 gp-height=110 gp-position=top gp-template-url={{::templateUrlAddUser}} gp-on=click class="teams-settings__options__action teams-settings__options__action--add-user"> <span class=teams-settings__options__action__icon> <smash-icon icon=add size=16 center=true></smash-icon> </span> <span class=teams-settings__options__action__text> {{::\'view_add-user_label_add-member\'|translate}} </span> </a> <span ng-show=teamlist.info.group_default class=teams-settings__options__action--is-default> <span class=teams-settings__options__action__icon> <smash-icon icon=check size=16 center=true></smash-icon> </span> <span class=teams-settings__options__action__text> {{::\'view_team-settings_text_default-team\' | translate}} </span> </span> <a ng-hide=teamlist.info.group_default ng-click=setDefaultTeam(teamlist); class="teams-settings__options__action teams-settings__options__action--default"> {{::\'view_team-settings_link_make-default-team\'| translate}} </a> <a ng-if="teamlist.info.group_role==\'member\'" ng-click=leaveTeam(teamlist) class="teams-settings__options__action teams-settings__options__action--disband"> {{::\'global_link_leave\' | translate}} </a> <a ng-if="teamlist.info.group_role==\'admin\'" ng-click=disband(teamlist) class="teams-settings__options__action teams-settings__options__action--disband"> {{::\'view_team-settings_link_disband-team\' | translate}} </a> </div> </div> </div> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/community/views/team-settings.new-team.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="newTeamWrap htbx-modal"> <form accept-charset=UTF-8 class="form_enclosed formL" name=teamForm ng-submit=create(new_team) novalidate> <div class="htbx-modal__header modal-header"> <h3 class="htbx-modal__title modal-title"> {{::\'view_team-settings_button_create-team\' | translate}} </h3> </div> <div class="htbx-modal__body modal-body"> <label ng-hide="errors.team_name || showNameEmptyError()"> <span> {{::\'view_team-settings_label_enter-team-name\' | translate}} </span> <div class=note> {{::\'view_team-settings_text_name-can-contain\' | translate}} </div> </label> <label ng-if=errors.team_name class=errorMsg> {{errors.team_name}} </label> <label ng-if=errors.team_display_name class=errorMsg> {{errors.team_display_name}} </label> <label ng-if=showNameEmptyError() class=errorMsg> {{::\'view_team-settings_error_teamname-too-short\' | translate}} </label> <input placeholder="{{:: \'view_team-settings_text_team-name\' | translate}}" class=text name=group_name type=text ng-model=new_team.display_name required ng-minlength=4 ng-class="{error: errors.team_name}"/> <div class=team-url uib-collapse="!new_team.name || teamForm.group_name.$invalid"> {{\'modal_new-team_team-url\'|translate:{ host: hostName, name: new_team.name } }} </div> <label ng-if=!showDescriptionEmptyError()> {{::\'global_label_add-description\' | translate}} </label> <label ng-if=showDescriptionEmptyError() class=errorMsg> {{errors.team_description}} </label> <textarea placeholder="{{\'global_text_description\' | translate}}" class=desc ng-class="{error: errors.team_description}" name=group_text ng-model=new_team.description ng-minlength=4 required></textarea> </div> <div class="htbx-modal__footer modal-footer"> <htbx-button data-type=reset data-variant=cancel data-on-select=cancel() class=htbx-modal__footer__button> {{::\'global_text_cancel\' | translate}} </htbx-button> <htbx-button data-type=submit data-variant=ok data-disabled="teamForm.$invalid || loading" data-loading=loading data-loading-spinny=true class=htbx-modal__footer__button> {{::\'global_button_continue\' | translate}} </htbx-button> </div> </form> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/community/views/community.teams.add-user.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=add-user-popover id=addUserPopoverId ng-click=$event.stopPropagation()> <label ng-hide=errors[teamlist.info.group_name].invite translate=view_add-user_label_add-member></label> <label class=errorMsg ng-show=errors[teamlist.info.group_name].invite> {{errors[teamlist.info.group_name].invite}} </label> <div class=add-user-popover__form> <input placeholder=\"{{ 'global_placeholder_enter-hitbox-username' | translate }}\" ng-model=invites[teamlist.info.group_name].name ui-keypress=\"{enter:'addUserSubmit($event, teamlist.info.group_name)'}\" focus-on-show class=add-user-popover__input /> <htbx-button data-on-select=\"addUserSubmit($event, teamlist.info.group_name)\"> {{::'global_text_add' | translate}} </htbx-button> </div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2096)),o=function(){function e(t,n,a,i,o,r,s){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$onNavTabUpdated=function(){l.tab=l.navState.getTab(),l.subtab=l.navState.getSubTab()},this.$onStateChangeStart=function(e,t,n){n.user&&(l.stateUserName=n.user)},this.$rootScope=t,this.$stateParams=n,this.DisplayService=a,this.loggedUser=i,this.OverviewStats=o,this.medias=r,this.$log=s,this.partner=!1,this.$stateParams.user?this.stateUserName=this.$stateParams.user:this.stateUserName=this.loggedUser.getName(),this.navState=this.DisplayService.navState,this.stateUserName===this.loggedUser.getName()?this.partner=this.loggedUser.isPartner():this.medias.get(this.stateUserName,"live").then(function(e){e&&e.channel&&e.channel.partner_type&&(l.partner=!0)}),this.OverviewStats.get({user_name:this.$stateParams.user,authToken:this.loggedUser.getToken()}).$promise.then(function(e){l.stats=e})}return e.$inject=["$rootScope","$stateParams","DisplayService","loggedUser","OverviewStats","medias","$log"],a(e,[{key:"$onInit",value:function(){this.navTabUpdatedEvent=this.$rootScope.$on("navTabUpdated",this.$onNavTabUpdated),this.stateChangeStartEvent=this.$rootScope.$on("$stateChangeStart",this.$onStateChangeStart),this.$log.debug("Creating CommunityNavigation.Component")}},{key:"$onDestroy",value:function(){this.navTabUpdatedEvent&&this.navTabUpdatedEvent(),this.stateChangeStartEvent&&this.stateChangeStartEvent(),this.$log.debug("Destroying CommunityNavigation.Component")}},{key:"isPartner",value:function(){return this.partner}}]),e}();t.default={bindings:{livestream:"<?"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/community/components/community-navigation.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<ul class=sub-nav__section> <li ng-if="$ctrl.isPartner() && $ctrl.livestream" ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref="community.subscribers({user: $ctrl.stateUserName})" class=sub-nav__link> {{::\'global_text_subscribers\' | translate}} <span ng-if="$ctrl.stats.subscribers > 0" class=sub-nav__link__counter> {{$ctrl.stats.subscribers || 0 | abbreviate:2:false:false}} </span> </a> </li> <li ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref="community.subscriptions({user: $ctrl.stateUserName})" class=sub-nav__link> {{::\'global_header_subscriptions\' | translate}} <span ng-if="$ctrl.stats.subscriptions > 0" class=sub-nav__link__counter> {{$ctrl.stats.subscriptions || 0 | abbreviate:2:false:false}} </span> </a> </li> <li ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref="community.following({user: $ctrl.stateUserName})" class=sub-nav__link> {{::\'global_text_following\' | translate}} <span ng-if="$ctrl.stats.following > 0" class=sub-nav__link__counter> {{$ctrl.stats.following || 0 | abbreviate:2:false:false}} </span> </a> </li> <li ng-if=::$ctrl.livestream ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref="community.followers({user: $ctrl.stateUserName})" class=sub-nav__link> {{::\'global_text_followers\' | translate}} <span ng-if="$ctrl.stats.followers > 0" class=sub-nav__link__counter> {{$ctrl.stats.followers || 0 | abbreviate:2:false:false}} </span> </a> </li> <li ng-if=::$ctrl.livestream ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref="community.teams({user: $ctrl.stateUserName})" class=sub-nav__link> {{::\'global_text_teams\' | translate}} <span ng-if="$ctrl.stats.teams > 0" class=sub-nav__link__counter> {{$ctrl.stats.teams || 0 | abbreviate:2:false:false}} </span> </a> </li> </ul> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(5)),r=a(n(59)),s=a(n(132)),l=a(n(32)),c=a(n(361)),u=a(n(2098)),d=a(n(2099)),f=function(){function e(t,n,a,i,o,s){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setSortAndFetchDataUserName=function(){l.setSortAndFetchData("user_name")},this.setSortAndFetchDataFollowers=function(){l.setSortAndFetchData("followers")},this.setSortAndFetchDataDateAdded=function(){l.setSortAndFetchData("date_added")},this.setSortAndFetchDataFollowerNotify=function(){l.setSortAndFetchData("follower_notify")},this.loading=!1,this.error=!1,this.following=[],this.totalItemCount=0,this.tableItemTpl=d.default,(0,r.default)(this,s),this.setSort("date_added"),this.$stateParams=t,this.$translate=n,this.followerService=a,this.followerStatsService=i,this.loggedInUserService=o,this.$onInit=function(){this.getFollowers(),this.setupChart()},this.params={type:"user",user_name:this.$stateParams.user,authToken:this.loggedInUserService.getToken(),nocache:!0,limit:15,sort:this.sortBy,reverse:this.sortDesc}}return e.$inject=["$stateParams","$translate","FollowerList","FollowerStats","loggedUser","Sortable"],i(e,[{key:"setSortAndFetchData",value:function(e){this.setSort(e),this.fetchSortedData()}},{key:"fetchSortedData",value:function(){this.getFollowers(Object.assign(this.params,{sort:this.sortBy,reverse:this.sortDesc}))}},{key:"getFollowers",value:function(e){var t=this;e&&(t.params=Object.assign(t.params,e)),t.loading=!0,t.followerService.get(t.params,function(e){t.followers=e.followers,t.totalItemCount=parseInt(e.max_results,10),t.loading=!1},function(e){t.error=e,t.loading=!1})}},{key:"setupChart",value:function(){var e=this;if(this.followerStats){if(this.followerStats.length){var t=[],n=this.followerStats,a=(0,s.default)(n).date,i=a,r=(0,o.default)().add(1,"days").diff(a,"days"),u=0;(0,c.default)(r,function(){var n=(0,l.default)(e.followerStats,["date",(0,o.default)(i).format("YYYY-MM-DD")]);n&&(u+=parseInt(n.followers,10)),t.push([(0,o.default)(i).unix(),u]),i=(0,o.default)(i).add(1,"days").format("YYYY-MM-DD")}),e.followerChart=t,e.chartReady=!0}}else{var d={user_name:this.$stateParams.user,authToken:this.loggedInUserService.getToken()};this.followerStatsService.get(d,function(t){e.followerStats=t.followers,e.setupChart()},angular.noop)}}},{key:"isChartReady",value:function(){return this.chartReady}}]),e}();t.default={bindings:{},templateUrl:u.default,controller:f}},function(e,t,n){var a="/src/js/community/components/community.followers.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section class="box community-followers"> <div class=box__title> {{::\'global_text_followers\' | translate}} </div> <div class="box__content community-followers__content"> <div class=community-followers__list> <htbx-table list=$ctrl.followers track-by=user_id item-tpl={{::$ctrl.tableItemTpl}} items-per-page=10 loading=$ctrl.loading actions="{unfollow: $ctrl.unfollow, save: $ctrl.save}" total-item-count={{$ctrl.totalItemCount}} on-page-select=$ctrl.getFollowers(params) class=box-list> <div ng-if="!$ctrl.followers.length && !$ctrl.loading" class="box__content community__nodata"> {{::\'view_connections-settings_header_no-following\' | translate}} </div> <ul ng-if=$ctrl.followers.length class=table__list--header> <li class=table__list__row> <div class="table__list__row--sorts col-2"> <smash-sort data-sort="::$ctrl.getSortType(\'user_name\')" data-active="$ctrl.isSortActive(\'user_name\')" data-on-sort=::$ctrl.setSortAndFetchDataUserName data-children="::\'global_text_name\' | translate"></smash-sort> <span class="sort nono">&nbsp;|&nbsp;</span> <smash-sort data-sort="::$ctrl.getSortType(\'followers\')" data-active="$ctrl.isSortActive(\'followers\')" data-on-sort=::$ctrl.setSortAndFetchDataFollowers data-children="::\'global_text_followers\' | translate"></smash-sort> </div> <div class="table__list__row--sorts col-3"> <smash-sort data-sort="::$ctrl.getSortType(\'date_added\')" data-active="$ctrl.isSortActive(\'date_added\')" data-on-sort=::$ctrl.setSortAndFetchDataDateAdded data-children="::\'global_text_followed\' | translate"></smash-sort> </div> <div class="table__list__row--sorts table__list__row--hide-on-mobile col-4"> <smash-sort data-sort="::$ctrl.getSortType(\'follower_notify\')" data-active="$ctrl.isSortActive(\'follower_notify\')" data-on-sort=::$ctrl.setSortAndFetchDataFollowerNotify data-children="::\'global_header_notifications\' | translate"></smash-sort> </div> </li> </ul> </htbx-table> </div> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/community/views/list.followers.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=col-1> <a ui-sref="detail.feed({channel: item.user_name})"> <img class="table__row__image round" ng-src="{{::$root.config.imgUrl + item.user_logo}}" fallback-src={{::$root.config.fallbackImages.userLogo}} /> </a> </div> <div class="table__list__row__col--username col-2"> <a class="table__list__row__col--username__link trim" ui-sref="detail.feed({channel: item.user_name})">{{item.user_name}}</a> <div class=followers ng-if="item.followers > 0"> <smash-icon icon=heart-filled size=16></smash-icon> <span class=follower-count>{{(item.followers || \'0\') | abbreviate:2:false:false}}</span> </div> </div> <div class="table__list__row__col--dates col-3"> <span class=text-small>{{item.date_added | toDate}}</span> </div> <div class=col-4> <span ng-if="item.follower_notify == 1" uib-tooltip="{{::\'view_popover-follow_text_recieves-notification\'|translate}}" data-tooltip-placement="auto left" data-tooltip-append-to-body=true> <smash-icon icon=check size=16></smash-icon> </span> </div> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(5)),r=a(n(59)),s=a(n(32)),l=a(n(58)),c=a(n(2101)),u=a(n(2102));n(2103);var d=function(){function e(t,n,a,i,o,s){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setSortUserName=function(){l.setSort("user_name")},this.setSortSubDateAdded=function(){l.setSort("sub_date_added")},this.setSortSubDateValid=function(){l.setSort("sub_date_valid")},this.loading=!1,this.error=!1,this.tableItemTpl=u.default,this.subscribers=[],this.filters=[{name:"active",label:n.instant("view_connections-settings_text_will-renew"),enabled:!0},{name:"canceled",label:n.instant("global_text_canceled"),enabled:!1},{name:"expired",label:n.instant("global_text_expired"),enabled:!1},{name:"total",label:n.instant("global_text_total"),enabled:!1}],(0,r.default)(this,s),this.setSort("sub_date_valid"),(0,r.default)(this,o),this.chartReady=!1,this.$stateParams=t,this.$translate=n,this.loggedInUserService=a,this.subscriberListService=i,this.$onInit=function(){this.getSubscribers()},this.boundGetCSV=this.getCSV.bind(this)}return e.$inject=["$stateParams","$translate","loggedUser","SubscriberList","SubscriptionCheck","Sortable"],i(e,[{key:"getCSV",value:function(){var e=this,t=[[this.$stateParams.user+" "+this.$translate.instant("global_header_subscriptions")],[this.$translate.instant("global_text_username"),this.$translate.instant("global_text_subscribed"),this.$translate.instant("view_connections-settings_text_valid-until"),this.$translate.instant("global_text_status")]];return this.subscribers.forEach(function(n){var a=e.$translate.instant("global_text_active");e.isActiveSubscription(n)&&e.isCanceledSubscription(n)?a=e.$translate.instant("global_text_canceled"):e.isActiveSubscription(n)||(a=e.$translate.instant("global_text_expired")),t.push([n.user_name,n.sub_date_added,n.sub_date_valid,a])}),t}},{key:"getFilename",value:function(){return"subscriberList-"+(0,o.default)().format("YYYY-MM-DD")+".csv"}},{key:"getActiveFilter",value:function(){return(0,s.default)(this.filters,"enabled")}},{key:"getFilteredList",value:function(){var e=this,t=this.getActiveFilter();return(0,l.default)(this.subscribers,function(n){switch(t.name){case"active":return e.isActiveSubscription(n)&&!e.isCanceledSubscription(n);case"canceled":return e.isActiveSubscription(n)&&e.isCanceledSubscription(n);case"expired":return!e.isActiveSubscription(n);default:return!0}})}},{key:"setFilter",value:function(e){this.filters.forEach(function(t){t.enabled=t===e}),this.filteredSubscribers=this.getFilteredList()}},{key:"getSubscribers",value:function(){var e=this,t={user_name:this.$stateParams.user,authToken:this.loggedInUserService.getToken(),nocache:!0};this.loading=!0,this.subscriberListService.get(t,function(t){e.subscribers=t.subscribers,e.filteredSubscribers=e.getFilteredList(),e.loading=!1},function(t){e.error=t,e.loading=!1})}}]),e}();t.default={bindings:{},templateUrl:c.default,controller:d}},function(e,t,n){var a="/src/js/community/components/community.subscribers.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section class="community-subscribers box"> <div class=box__title> {{::\'global_text_subscribers\' | translate}} <smash-button-csv-download ng-if=$ctrl.subscribers.length tooltip-placement="auto left" uib-tooltip="{{ \'view_connections-settings_tooltip_download-list\' | translate }}" tooltip-append-to-body=true get-data=$ctrl.boundGetCSV filename=$ctrl.getFilename() class=community-subscribers__header__actions></smash-button-csv-download> </div> <div class=box__content> <div class=community-subscribers__content> <div class=community-subscribers__list> <htbx-table list=$ctrl.filteredSubscribers track-by=sub_id order-by={{$ctrl.getSort()}} item-tpl={{::$ctrl.tableItemTpl}} items-per-page=15 loading=$ctrl.loading actions="{isActiveSubscription: $ctrl.isActiveSubscription}" no-data-text="{{::\'global_button_noresults\'|translate}}" class=box-list> <div ng-if="!$ctrl.subscribers.length && !$ctrl.loading" class=table__nodata> {{::\'view_connections-settings_header_no-subscribers\' | translate}} </div> <ul ng-if=$ctrl.subscribers.length class=table__list--header> <li class=table__list__row> <div class=col-2> <smash-sort data-sort="::$ctrl.getSortType(\'user_name\')" data-active="$ctrl.isSortActive(\'user_name\')" data-on-sort=::$ctrl.setSortUserName data-children="::\'global_text_name\' | translate"></smash-sort> <span class=table__list__filter__label> {{::\'view_connections-settings_text_filter-subscribers\' | translate}} </span> <div uib-dropdown class="dropdown table__list__filter"> <div class=table__list__filter__button uib-dropdown-toggle> <span class=table__list__filter__button__text> {{$ctrl.getActiveFilter().label}} ({{$ctrl.filteredSubscribers.length}}) </span> <span class=table__list__filter__button__icon> <smash-icon icon=tiny-arrow center=true></smash-icon> </span> </div> <ul uib-dropdown-menu class="dropdown-menu table__list__filter__dropdown"> <li ng-repeat="filter in $ctrl.filters" ng-hide=filter.enabled> <a ng-click=$ctrl.setFilter(filter)> {{filter.label}} </a> </li> </ul> </div> </div> <div class=col-3> <smash-sort data-sort="::$ctrl.getSortType(\'sub_date_added\')" data-active="$ctrl.isSortActive(\'sub_date_added\')" data-on-sort=::$ctrl.setSortSubDateAdded data-children="::\'global_text_subscribed\' | translate"></smash-sort> </div> <div class=col-4> <smash-sort data-sort="::$ctrl.getSortType(\'sub_date_valid\')" data-active="$ctrl.isSortActive(\'sub_date_valid\')" data-on-sort=::$ctrl.setSortSubDateValid data-children="::\'view_connections-settings_text_valid-until\' | translate"></smash-sort> </div> </li> </ul> </htbx-table> </div> </div> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/community/views/list.subscribers.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=col-1> <a ui-sref="detail.feed({channel: item.user_name})"> <img class="table__row__image round" ng-src="{{::$root.config.imgUrl + item.user_logo}}" fallback-src={{::$root.config.fallbackImages.userLogo}} /> </a> </div> <div class="table__list__row__col--username col-2"> <a ui-sref="detail.feed({channel: item.user_name})">{{item.user_name}}</a> <div class=followers ng-if="item.followers > 0"> <smash-icon icon=heart-filled size=16></smash-icon> <span class=follower-count>{{(item.followers || \'0\') | abbreviate:2:false:false}}</span> </div> </div> <div class=col-3> <span class=text-small>{{item.sub_date_added | toDate}}</span> </div> <div class=col-4> <span class=text-small>{{item.sub_date_valid | toDate}}</span> <span ng-if="$ctrl.actions.isActiveSubscription(item) && item.canceled === null" class="status status--active">{{::\'view_connections-settings_text_will-renew\' | translate}}</span> <span ng-if="$ctrl.actions.isActiveSubscription(item) && item.canceled !== null" class="status status--canceled">{{::\'global_text_canceled\' | translate}}</span> <span ng-if=!$ctrl.actions.isActiveSubscription(item) class="status status--expired">{{::\'global_text_expired\' | translate}}</span> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i){this.loading=!1,this.error=!1,this.subscriptions=[],this.totalItemCount=0,this.tableItemTpl=c.default,(0,o.default)(this,i),this.$stateParams=e,this.$translate=t,this.subscriptionListService=n,this.loggedInUserService=a,this.$onInit=function(){this.getSubscriptions()},this.params={type:"user",user_name:this.$stateParams.user,authToken:this.loggedInUserService.getToken(),nocache:!0,sort:this.sortBy,reverse:this.sortDesc}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(59)),r=a(n(521)),s=a(n(58)),l=a(n(2105)),c=a(n(2106));n(2107),i.$inject=["$stateParams","$translate","SubscriptionList","loggedUser","SubscriptionCheck"],i.prototype.fetchSortedData=function(){this.getSubscriptions(Object.assign(this.params,{sort:this.sortBy,reverse:this.sortDesc}))},i.prototype.getSubscriptions=function(e){var t=this;e&&(t.params=Object.assign(t.params,e)),t.loading=!0,t.subscriptionListService.get(t.params,function(e){t.subscriptions=e.subscriptions,t.expiredSubscriptions=t.getExpiredSubscriptions(),t.activeSubscriptions=t.getActiveSubscriptions(),t.totalItemCount=parseInt(e.max_results,10)||e.subscriptions.length,t.loading=!1},function(e){t.error=e,t.loading=!1})},i.prototype.getActiveSubscriptions=function(){return(0,r.default)(this.subscriptions,this.expiredSubscriptions)},i.prototype.getExpiredSubscriptions=function(){var e=this;return(0,s.default)(this.subscriptions,function(t){return!e.isActiveSubscription(t)})},t.default={bindings:{},templateUrl:l.default,controller:i}},function(e,t,n){var a="/src/js/community/components/community.subscriptions.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section class=community-subscriptions> <div ng-if="!$ctrl.subscriptions.length && !$ctrl.loading" class=community__nodata> {{::\'view_connections-settings_header_no-subscriptions\' | translate}} </div> <div ng-if="$ctrl.subscriptions.length && !$ctrl.activeSubscriptions.length && !$ctrl.loading" class=community__nodata> {{::\'view_connections-settings_header_no-active-subscriptions\' | translate}} </div> <div ng-if=$ctrl.loading class=community-subscriptions__loading> <smash-spinny data-size="\'medium\'"></smash-spinny> </div> <div class=community-subscriptions__content> <div class="community-subscriptions__list community-subscriptions__list--active"> <div ng-repeat="sub in $ctrl.activeSubscriptions"> <htbx-subscription-usercard subscription=sub></htbx-subscription-usercard> </div> </div> <div ng-if=$ctrl.expiredSubscriptions.length class="community-subscriptions__list community-subscriptions__list--expired box"> <div class=box__title>{{::\'view_connections-settings_header_past-subscriptions\' | translate}}</div> <div class=box__content> <htbx-table list=$ctrl.expiredSubscriptions track-by=sub_id order-by=-sub_date_valid item-tpl={{::$ctrl.tableItemTpl}} items-per-page=15 loading=$ctrl.loading actions="{isActiveSubscription: $ctrl.isActiveSubscription}" class=box-list> </htbx-table> </div> </div> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/community/views/list.subscriptions.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=col-1> <a ui-sref="detail.feed({channel: item.user_name})"> <img class="table__row__image round" ng-src="{{::$root.config.imgUrl + item.user_logo}}" fallback-src={{::$root.config.fallbackImages.userLogo}} /> </a> </div> <div class="table__list__row__col--username col-2"> <a class="table__list__row__col--username__link trim" ui-sref="detail.feed({channel: item.user_name})">{{item.user_name}}</a> <div class=followers ng-if="item.followers > 0"> <smash-icon icon=heart-filled size=16></smash-icon> <span class=follower-count>{{(item.followers || \'0\') | abbreviate:2:false:false}}</span> </div> </div> <div class=col-4> <subscription-button channel={{::item.user_name}} data-is-renew=true></subscription-button> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(59)),r=n(0),s=a(n(2109)),l=a(n(2110));n(2111);var c=function(){function e(t,n,a,i,r,s,c){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.unfollow=function(e){var t={type:"user",follow_id:e.user_id,authToken:u.loggedUser.getToken()},n=u.$translate.instant("view_following_text_unfollow-confirm",{username:e.user_name}),a=[{result:!1,label:u.$translate.instant("global_text_cancel")},{result:!0,label:u.$translate.instant("global_button_unfollow"),variant:"warning"}];new u.HtbxModal(n,"",a).open().then(function(e){e&&u.Follow.delete(t,function(){u.getFollowing()})})},this.save=function(e){u.followingRes.following.find(function(t){return t.follow_id===e.follow_id}).follower_notify=e.follower_notify,u.followingRes.$update(u.params)},this.setSortAndFetchDataUserName=function(){u.setSortAndFetchData("user_name")},this.setSortAndFetchDataFollowers=function(){u.setSortAndFetchData("followers")},this.setSortAndFetchDataDateAdded=function(){u.setSortAndFetchData("date_added")},this.setSortAndFetchDataFollowerNotify=function(){u.setSortAndFetchData("follower_notify")},Object.assign(this,{$stateParams:t,$translate:n,HtbxModal:a,Follow:i,Following:r,loggedUser:s,Sortable:c}),this.loading=!1,this.error=!1,this.following=[],this.totalItemCount=0,this.tableItemTpl=l.default,(0,o.default)(this,c),this.setSort("date_added"),this.params={type:"user",user_name:this.$stateParams.user,authToken:this.loggedUser.getToken(),nocache:!0,limit:15,sort:this.sortBy,reverse:this.sortDesc}}return e.$inject=["$stateParams","$translate","HtbxModal","Follow","Following","loggedUser","Sortable"],i(e,[{key:"$onInit",value:function(){this.getFollowing()}},{key:"fetchSortedData",value:function(){this.getFollowing(Object.assign(this.params,{sort:this.sortBy,reverse:this.sortDesc}))}},{key:"getFollowing",value:function(e){var t=this;e&&(this.params=Object.assign(this.params,e)),this.loading=!0,this.followingRes=this.Following.getAll(this.params,function(e){t.loading=!1,(0,r.isUndefined)(e)||(0,r.isUndefined)(e.following)||(t.following=e.following,t.totalItemCount=parseInt(e.max_results,10),t.following.forEach(function(e){e.follower_notify="1"===e.follower_notify}))},function(e){t.error=e,t.loading=!1})}},{key:"setSortAndFetchData",value:function(e){this.setSort(e),this.fetchSortedData()}}]),e}();t.default={bindings:{},templateUrl:s.default,controller:c}},function(e,t,n){var a="/src/js/community/components/community.following.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section class="community-following box"> <div class=box__title> {{::\'global_text_following\' | translate}} </div> <div class="box__content community-following__content"> <div class=community-following__list> <htbx-table list=$ctrl.following track-by=user_id item-tpl={{::$ctrl.tableItemTpl}} items-per-page=10 loading=$ctrl.loading actions="{unfollow: $ctrl.unfollow, save: $ctrl.save, onDiscordJoin: $ctrl.onDiscordJoin }" total-item-count={{$ctrl.totalItemCount}} on-page-select=$ctrl.getFollowing(params) class=box-list> <div ng-if="!$ctrl.following.length && !$ctrl.loading" class="box__content community__nodata"> {{::\'view_connections-settings_header_no-channels\' | translate}} </div> <ul ng-if=$ctrl.following.length class=table__list--header> <li class=table__list__row> <div class="table__list__row--sorts col-2"> <smash-sort data-sort="::$ctrl.getSortType(\'user_name\')" data-active="$ctrl.isSortActive(\'user_name\')" data-on-sort=::$ctrl.setSortAndFetchDataUserName data-children="::\'global_text_name\' | translate"></smash-sort> <span class="sort nono">&nbsp;|&nbsp;</span> <smash-sort data-sort="::$ctrl.getSortType(\'followers\')" data-active="$ctrl.isSortActive(\'followers\')" data-on-sort=::$ctrl.setSortAndFetchDataFollowers data-children="::\'global_text_followers\' | translate"></smash-sort> </div> <div class="table__list__row--sorts col-3"> <smash-sort data-sort="::$ctrl.getSortType(\'date_added\')" data-active="$ctrl.isSortActive(\'date_added\')" data-on-sort=::$ctrl.setSortAndFetchDataDateAdded data-children="::\'global_text_followed\' | translate"></smash-sort> </div> <div class="table__list__row--sorts table__list__row--hide-on-mobile col-4"> <smash-sort data-sort="::$ctrl.getSortType(\'follower_notify\')" data-active="$ctrl.isSortActive(\'follower_notify\')" data-on-sort=::$ctrl.setSortAndFetchDataFollowerNotify data-children="::\'global_header_notifications\' | translate"></smash-sort> </div> <div class=col-5></div> </li> </ul> </htbx-table> </div> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/community/views/list.following.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=col-1> <a ui-sref="detail.feed({channel: item.user_name})"> <img class="table__row__image round" ng-src="{{::$root.config.imgUrl + item.user_logo}}" fallback-src={{::$root.config.fallbackImages.userLogo}} /> </a> </div> <div class="table__list__row__col--username col-2"> <div class=flex> <div> <a class="table__list__row__col--username__link trim" ui-sref="detail.feed({channel: item.user_name})"> {{item.user_name}} </a> <div class=followers ng-if="item.followers > 0"> <smash-icon icon=heart-filled size=16 replace-color=true></smash-icon> <span class=follower-count> {{(item.followers || \'0\') | abbreviate:2:false:false}} </span> </div> </div> <div ng-if=item.discord_guilds.length class=discord-join> <htbx-discord-join guilds=item.discord_guilds> <div uib-tooltip="{{::\'component_discord-join_usernames-servers\' | translate:{ user_name: item.user_name } }}" tooltip-append-to-body=true data-tooltip-placement=left> <smash-icon data-icon=discord data-size=24></smash-icon> </div> </htbx-discord-join> </div> </div> </div> <div class="table__list__row__col--dates col-3"> <span class=text-small> {{item.date_added | toDate}} </span> </div> <div class=col-4> <toggle-checkbox data-dark-background=true ng-model=item.follower_notify ng-change=$ctrl.actions.save(item)></toggle-checkbox> </div> <div class=col-5> <htbx-button-remove data-on-select=$ctrl.actions.unfollow(item) data-label="{{::\'global_button_unfollow\' | translate }}"></htbx-button-remove> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){var a="/src/js/community/views/community.following.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-community-following></htbx-community-following> ")}]),e.exports=a},function(e,t,n){var a="/src/js/community/views/community.followers.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-community-followers></htbx-community-followers> ")}]),e.exports=a},function(e,t,n){var a="/src/js/community/views/community.subscriptions.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-community-subscriptions></htbx-community-subscriptions> ")}]),e.exports=a},function(e,t,n){var a="/src/js/community/views/community.subscribers.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-community-subscribers></htbx-community-subscribers> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/geoip",{},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(2118)),r=a(n(2)),s=[],l=void 0,c=function(){function e(t,n){function a(e){return s.length>0?Promise.resolve(s):n.get(r.default.apiUri+"/countries/list").then(function(t){if(e.country_code){var n=(0,o.default)(t.data.countries,{code:e.country_code});if(n.length&&n[0].length){var a=n[0][0],i=n[1];s=[{code:e.country_code,name:e.country_name,SEPA:a.SEPA}].concat(i)}}else s=t.data.countries;return s})}!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{GeoIp:t,$http:n}),l=t.get().$promise.then(a).catch(a)}return e.$inject=["GeoIp","$http"],i(e,[{key:"getCountries",value:function(){return l}}]),e}();t.default=c},function(e,t,n){var a=n(2119)(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});e.exports=a},function(e,t,n){var a=n(2120),i=n(2121),o=n(55),r=n(23);e.exports=function(e,t){return function(n,s){var l=r(n)?a:i,c=t?t():{};return l(n,e,o(s,2),c)}}},function(e,t){e.exports=function(e,t,n,a){for(var i=-1,o=null==e?0:e.length;++i<o;){var r=e[i];t(a,r,n(r),e)}return a}},function(e,t,n){var a=n(221);e.exports=function(e,t,n,i){return a(e,function(e,a,o){t(i,e,n(e),o)}),i}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=n(15),r=a(n(2123)),s=a(n(2124));t.default=i.default.module("htbx.coupon",[]).service("Coupon",r.default).directive("htbxCouponPage",s.default).config(["$stateProvider",function(e){var t=o.ROUTING_CONFIG.accessLevels;e.state("coupon",{url:"/coupon",views:{viewNav:{template:"<htbx-main-nav></htbx-main-nav>"},viewMain:{template:"<htbx-coupon-page></htbx-coupon-page>"}},access:t.admin,section:"coupon",tab:"coupon",title:'{{"view_coupon_header_coupon" | translate}}'})}]).name},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/coupon",{authToken:"@authToken"},{get:{method:"GET",params:t,isArray:!1},post:{method:"POST",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(42),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2125));n(2126);var r=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.Coupon=t,this.$log=n,this.loggedUser=a,this.$ngRedux=i}return e.$inject=["Coupon","$log","loggedUser","$ngRedux"],a(e,[{key:"$onInit",value:function(){this.isloggedIn=this.loggedUser.isAuthenticated,this.coupon={code:""},this.sub_media_name=!1,this.coupon_error=!1}},{key:"useCode",value:function(){var e=this,t={authToken:this.loggedUser.getToken(),user_name:this.loggedUser.getName(),code:this.coupon.code};this.Coupon.post(t,function(t){e.sub_media_name=t.media_user_name},function(t){e.coupon_error=!0,e.$log.error(t)})}},{key:"openLoginDialog",value:function(){this.$ngRedux.dispatch((0,i.showSignup)())}}]),e}();t.default=function(){return{templateUrl:o.default,controller:r,controllerAs:"$ctrl"}}},function(e,t,n){var a="/src/js/coupon/directives/coupon-page.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <div class=coupon-page> <h1 class=brand-logo> <logo use-name=true class=brand-logo__logo></logo> {{::'view_coupon_header_coupon' | translate}} </h1> <div ng-if=!$ctrl.isloggedIn() class=coupon-page__sign-in> <htbx-button data-on-select=$ctrl.openLoginDialog()> {{::'view_coupon_button_sign-in' | translate}} </htbx-button> </div> <div ng-if=$ctrl.isloggedIn()> <div ng-hide=$ctrl.sub_media_name> <htbx-alert ng-show=$ctrl.coupon_error type=error> {{::'view_coupon_error_coupon-incorrect' | translate}} </htbx-alert> <div class=input-wrap> <input ng-model=$ctrl.coupon.code placeholder=\"Enter Code ...\"/> <htbx-button data-on-select=$ctrl.useCode()> {{::'global_button_submit' | translate}} </htbx-button> </div> </div> <div ng-show=$ctrl.sub_media_name> <htbx-alert type=success> <span translate=view_coupon_text_you-are-now-subscribed-to translate-values=\"{username: $ctrl.sub_media_name}\"></span> </htbx-alert> <a ui-sref=\"detail.feed({channel: $ctrl.sub_media_name})\"> <span translate=global_link_go-to-username-channel translate-values=\"{username: $ctrl.sub_media_name}\"></span> </a> </div> </div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(365)),r=a(n(658)),s=n(15),l=a(s),c=a(n(673)),u=a(n(364)),d=a(n(2228)),f=a(n(674)),p=a(n(138)),m=a(n(337)),h=a(n(2306)),g=a(n(683)),_=a(n(2336)),v=a(n(2337)),b=a(n(2338)),y=a(n(2339)),w=a(n(2340)),$=a(n(2342)),x=a(n(2343)),k=a(n(2344)),S=a(n(2345)),C=a(n(2346)),M=a(n(2347)),E=a(n(2348)),T=a(n(2351)),P=a(n(2354)),O=a(n(2357)),j=a(n(2360)),A=a(n(2363)),I=a(n(2366)),L=a(n(2369)),U=a(n(2373)),D=a(n(2376)),N=a(n(2379)),R=a(n(2382)),F=a(n(2385)),B=a(n(2388)),z=a(n(2392)),H=a(n(2395)),V=a(n(2398)),q=a(n(2400)),G=a(n(2403)),W=a(n(2406)),Y=a(n(2409)),K=a(n(686)),J=a(n(2412)),X=a(n(2413)),Q=a(n(2416)),Z=a(n(2419)),ee=a(n(2422)),te=a(n(2424)),ne=a(n(2427)),ae=a(n(2429)),ie=a(n(2432)),oe=a(n(2435)),re=a(n(2438)),se=a(n(2441)),le=a(n(2442));t.default=i.default.module("htbx.detail",[r.default,l.default,c.default,u.default,d.default,f.default,"FBAngular",p.default,m.default,h.default,g.default]).directive("adminIpControl",E.default).config(["$stateProvider",function(e){var t=s.ROUTING_CONFIG.accessLevels;e.state("embed",{url:"/embed/:channel",views:{viewMain:{template:"<detail-embed></detail-embed>"}},access:t.anon,section:"embedplayer",detached:!0}).state("embedvideo",{url:"/embed/video/:id",views:{viewMain:{template:"<detail-embed></detail-embed>"}},access:t.anon,section:"embedvideo",detached:!0}).state("recording",{url:"/r/:id",views:{"viewMain@":{template:"<detail-page></detail-page>"}},access:t.anon,section:"recording",parent:"hitbox",title:'{{"global_menu_recordings" | translate}}'}).state("video",{url:"/video/:id",views:{"viewMain@":{template:"<detail-page></detail-page>"}},resolve:{mediaExists:["$state","$stateParams","medias",function(e,t,n){return n.get(t.id,"video").then(function(n){e.go("detail.video",{channel:n.media_user_name,id:t.id})}).catch(function(){e.go("404")})}]},access:t.anon,section:"video",parent:"hitbox"}).state("detail.feed",{url:"",template:"<detail-section-feed></detail-section-feed>",section:"channel",contentTab:"feed"}).state("detail.feedItem",{url:"/feed/:feedItemId",template:"<detail-section-feed></detail-section-feed>",section:"channel",contentTab:"feed"}).state("detail.profile",{url:"/about",template:"<detail-section-profile></detail-section-profile>",section:"channel",contentTab:"profile",playerStartState:!1}).state("detail.videos",{url:"/videos",template:"<detail-section-videos></detail-section-videos>",section:"channel",contentTab:"videos",playerStartState:!1}).state("detail.video",{url:"/videos/:id",template:"<detail-section-videos></detail-section-videos>",access:t.anon,section:"video",contentTab:"videos"})}]).run(["$location","$rootScope","Analytics",function(e,t,n){t.$on("$stateChangeSuccess",function(a,i,r,s){"home.root"===s.name&&n.trackEvent("fromFrontpage",e.url());var l=o.default.get();l&&n.trackEvent("embed","video",l),"embedplayer"!==i.section&&"embedvideo"!==i.section||(t.detached=!0)})}]).filter("mediaLifeTime",se.default).filter("mediaDescriptionMD",le.default).factory("MediaViews",_.default).factory("EmbedMessage",v.default).factory("UserImages",b.default).factory("Ingests",y.default).factory("DetailMedia",w.default).factory("DetailShare",$.default).factory("IpBan",S.default).factory("IpCount",C.default).factory("Profile",x.default).factory("ProfileEnable",k.default).service("detailMedia",M.default).component("detailPage",T.default).component("detailShareButton",P.default).component("detailShareModal",O.default).component("detailChat",j.default).component("detailChatNotification",A.default).component("detailChatToggle",I.default).component("detailPlayer",L.default).component("detailOfflineWrap",U.default).component("detailHighlightPlayer",D.default).component("detailTabs",N.default).component("detailProfileButtons",R.default).component("detailProfile",F.default).component("detailProfilePanels",B.default).component("detailEmbed",z.default).component("detailEmbedMessage",H.default).component("detailEmbedPlayerOffline",V.default).component("detailMediaNotFound",q.default).component("detailChannelBanned",G.default).component("detailSidebar",W.default).component("detailSidebarLoading",Y.default).component("detailNavigation",K.default).component("detailTotalFollowers",X.default).component("detailVideos",Z.default).component("detailSectionFeed",ee.default).component("detailSectionProfile",te.default).component("detailSectionVideos",ne.default).component("detailHosted",ae.default).component("detailMore",ie.default).component("relatedChannels",oe.default).component("hostedBar",re.default).component("detailActionsMenu",J.default).directive("detailTotalViews",["reactDirective",function(e){return e(Q.default,["children"])}]).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2129)),r=a(n(2130)),s=a(n(2131)),l=a(n(2132)),c=a(n(2133));t.default=i.default.module("htbx.ad",[]).service("preRoll",o.default).service("ova",r.default).factory("AdInventory",l.default).factory("AdLog",s.default).directive("ad",c.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(16)),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$timeout=t}return e.$inject=["$timeout"],a(e,[{key:"doneFor",value:function(e){var t=this;this.disableFor(e),this.$timeout(function(){t.enableFor(e)},9e5)}},{key:"enableFor",value:function(t){var n=e.getPermanentKeyFor(t);i.default.remove(n)}},{key:"disableFor",value:function(t){var n=e.getPermanentKeyFor(t);i.default.set(n,!0)}},{key:"isDisabledFor",value:function(t){var n=e.getPermanentKeyFor(t);return!!i.default.get(n)}}],[{key:"getPermanentKeyFor",value:function(e){return"smashcast.ap."+e}}]),e}();t.default=o},function(e,t,n){"use strict";function a(e,t){function n(t){a[t]||(a[t]=e.defer())}var a={};this.set=function(e,i){n(i),a[i].resolve(e),t.debug("Ova config was set on %s mediaId",i)},this.get=function(e){return n(e),a[e].promise},this.remove=function(e){delete a[e],t.debug("Ova config with mediaId %s was removed",e)}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$q","$log"],t.default=a},function(e,t,n){"use strict";function a(e){return e("https://astats.smashcast.tv/save",{},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e("https://astats.smashcast.tv/store/:channel/:type/:position/:source/:repeat/:tag",{channel:"@channel",type:"@type",position:"@position",source:"@source",tag:"@tag",repeat:"@repeat"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,p,m,h,g,_,v,b,y,w,$){return{restrict:"E",scope:{mediaId:"=",channelName:"=",noPrerolls:"@"},templateUrl:f.default,link:function(f,p){function y(e,t){v.get({channel:f.mediaId?f.mediaId:1,type:e,position:M(),source:t,repeat:X?"repeat":"original",tag:J?J.LR_TAGS:"none",tt:(new Date).getTime()})}function x(){f.showAdBlockerOverlay=!0,a(f.hideAdBlockerOverlay,2e4)}function k(){if(ee=!1,ne=!1,f.mediaId)return!N&&(E()<400||T()<250)?(n.debug("Cannot show Ad, player is to small"),void e.trackEvent("advertising","playerTooSmall")):void t.get(f.mediaId).then(function(t){return t?(J=t,g.resolve()):(e.trackEvent("advertising","ovaConfigMissing"),g.reject())}).then(function(){return y("init",2),f.noPrerolls&&te?(n.debug("Preroll was disabled due directive config"),g.reject()):"1"===J.noPrerolls&&te?(e.trackEvent("advertising","noPreroll"),n.debug("No preroll mode enabled"),g.reject()):g.resolve()}).then(function(){return y("before",2),e.trackEvent("advertising","initad"),F?(q>0&&a(x),n.warn("Ad blocker is enabled"),e.trackEvent("advertising","AdBlocker"),g(function(e,t){a(t,22e3)})):(y("after",2),g.resolve())}).then(S).catch(function(e){e&&n.error("Caught ad error:",e),A()});e.trackEvent("advertising","mediaIdMissing")}function S(){a(function(){Q=!1,X&&(n.debug("Repeating ad call because of errors"),e.trackEvent("advertising","RepeatingCall")),n.debug("Initializing ads with mediaId %s",f.mediaId),function(){G.initialize();var e=J.LR_TAGS.replace(/_/g,"%3D").replace(/,/g,"%26"),t=M(),n=$.is("detail.video")||$.is("embedvideo")?"%26live%3D0":"%26live%3D1",a=new Y.AdsRequest;X?Y.settings.setVpaidMode(Y.ImaSdkSettings.VpaidMode.DISABLED):Y.settings.setVpaidMode(Y.ImaSdkSettings.VpaidMode.ENABLED),a.adTagUrl=V+"&cust_params="+e+"%26refurl%3D"+B+"%26refdomain%3D"+z+"%26position%3D"+t+"%26mediaid%3D"+J.LR_VIDEO_ID+"%26embed%3D"+H+n+"%26ismobile%3D"+(N?1:0)+"%26repeat%3D"+(X?1:0)+"&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url="+J.LR_VIDEO_URL+"&description_url="+J.LR_DESCRIPTION+"&correlator="+(new Date).getTime(),a.linearAdSlotWidth=E(),a.linearAdSlotHeight=T(),a.nonLinearAdSlotWidth=0,a.nonLinearAdSlotHeight=0,a.vastLoadTimeout=15e3,W.requestAds(a)}()},0,!1)}function C(t,a,i){e.trackEvent("advertising",t,i),n.error(a+" error: %s",i),Z=!0,A()}function M(){return te?"preroll":"midroll"}function E(){return Math.floor(p.parent().width())-38}function T(){return Math.floor(p.parent().height())-64}function P(){var e=0;!f.adMuted&&(0,c.default)(h.getVolume)&&(e=h.getVolume()/100);try{K.setVolume(e)}catch(e){n.error("Could not set ad volume. Error: "+e.message)}}function O(t){Q=!0;var n="VPAID"===t.getAd().getAdId()?1:2;e.trackEvent("advertising","AdSuccessful",X?"repeat":"original"),y("imp",n)}function j(e){f.adCountDown=e.getAd().getDuration(),n.debug("Ad duration change, new value: %i seconds",f.adCountDown)}function A(){ee||(ee=!0,n.debug("AD completed"),a(function(){f.isActive=!1,i.$broadcast("player.play"),L(),e.trackEvent("advertising","AdFinished",X?"repeat":"original"),D(),!Z||X||Q?(q-=1,X=!1):X=!0,Z=!1,q>0||X?a(k,200):ee=!1},300))}function I(e){f.isActive||(b.getTop()?n.debug("Active modal found. Skipping ad..."):(q=e.count,te=!1,k()))}function L(){o.default.element(m).off("resize",R)}function U(){_.isEnabled()?K.resize(E(),T(),Y.ViewMode.FULLSCREEN):K.resize(E(),T(),Y.ViewMode.NORMAL)}function D(e){K&&K.destroy&&K.destroy(),W&&W.contentComplete&&W.contentComplete(),e&&G&&G.destroy&&(G.destroy(),W.destroy(),p.find(".ad-overlay__wrapper")[0].innerHTML="")}var N=m.mobilecheck(),R=(0,l.default)(U,200),F=(0,r.default)(window.google)||!(0,s.default)(window.google)||(0,r.default)(window.google.ima)||!(0,s.default)(window.google.ima),B=d.default.get(!0)||w.host()||"unknown",z=B.match(/^(https?:\/\/|)(.+?)($|\/)/)[2]||"unknown",H=$.is("embed")?1:0,V=function(e){var t="https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/104394565/";return t+=e&&!N?"SmashcastEmbedPlayer":N?"SmashcastMobilePlayer":"SmashcastPlayer"}(H),q=0,G=void 0,W=void 0,Y=void 0,K=void 0,J=void 0,X=!1,Q=!1,Z=!1,ee=!1,te=!0,ne=!1;if(f.showAdBlockerOverlay=!1,!F){Y=window.google.ima;var ae=function(){for(var e="htbx",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<7;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}();Y.settings.setNumRedirects(15),Y.settings.setDisableFlashAds(!0),p.find(".ad-overlay__wrapper").append('<div id="'+ae+'"></div>'),G=new Y.AdDisplayContainer(p.find("#"+ae)[0]),(W=new Y.AdsLoader(G)).addEventListener(Y.AdErrorEvent.Type.AD_ERROR,function(e){C("AdmanagerInitError","AD init",e.getError().getMessage())}),W.addEventListener(Y.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){var r=new Y.AdsRenderingSettings;r.loadVideoTimeout=15e3,r.enablePreloading=!1,r.autoAlign=!1,r.restoreCustomPlaybackStateOnAdBreakComplete=!1,K=t.getAdsManager(p.find("#player")[0]||!1,r),U(),K.addEventListener(Y.AdEvent.Type.ALL_ADS_COMPLETED,A),K.addEventListener(Y.AdEvent.Type.USER_CLOSE,A),K.addEventListener(Y.AdEvent.Type.LOADED,function(){a(function(){f.isActive=!0}),i.$broadcast("player.pause"),n.debug("AD loaded"),o.default.element(m).on("resize",R)}),K.addEventListener(Y.AdEvent.Type.LOG,function(t){var a=t.getAdData();a.adError&&(n.debug("Ad Log: "+a.adError.getMessage()),e.trackEvent("advertising","AdLog",a.adError.getMessage()))}),K.addEventListener(Y.AdEvent.Type.STARTED,function(t){function o(){ne||i.$broadcast("player.pause"),ne=!0,P(),U(),1===r?f.adCountDown-=1:f.adCountDown=Math.round(K.getRemainingTime()),f.adCountDown<0&&(f.adCountDown=0),f.adCountDown>0&&a(o,1e3)}var r="VPAID"===t.getAd().getAdId()?1:2;n.debug("AD started"),e.trackEvent("advertising","AdStarted",M()),f.adCountDown=t.getAd().getDuration()||30,a(o,1e3)}),K.addEventListener(Y.AdEvent.Type.IMPRESSION,O),K.addEventListener(Y.AdEvent.Type.DURATION_CHANGE,j),K.addEventListener(Y.AdErrorEvent.Type.AD_ERROR,function(e){C("AdError","AD manager init",e.getError().getMessage())}),P();try{_.isEnabled()?K.init(E(),T(),Y.ViewMode.FULLSCREEN):K.init(E(),T(),Y.ViewMode.NORMAL),K.start(),n.debug("AD manager started")}catch(t){n.error("AD ERROR: %s",t.getError().getMessage()),e.trackEvent("advertising","AdErrorLoading",t.getError().getMessage()),A()}})}f.$on("player.status.init",k),u.default.on("viewer.commercialBreak",I),f.$on("$destroy",function(){u.default.off("viewer.commercialBreak",I),L(),D(!0)}),f.adMuted=h.isMuted(),f.toggleMuteAd=function(){f.adMuted=!f.adMuted,P()},f.hideAdBlockerOverlay=function(){f.showAdBlockerOverlay=!1}}}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(11)),s=a(n(29)),l=a(n(43)),c=a(n(45)),u=a(n(12)),d=a(n(365)),f=a(n(2134));n(2135),i.$inject=["Analytics","ova","$log","$timeout","$rootScope","AdLog","$window","mediaPlayerConfig","$q","Fullscreen","AdInventory","$uibModalStack","angularLoad","$location","$state"],t.default=i},function(e,t,n){var a="/src/js/ad/directives/ad-directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-show=isActive class=ad-overlay> <div ng-show=adCountDown class=ad-overlay__controls> {{::'view_player_text_advertisement' | translate }} &nbsp;&nbsp;&nbsp; {{adCountDown}} {{::'global_text_seconds' | translate }} <div class=\"ad-overlay__controls__button ad-overlay__controls__button--variant-volume\" ng-class=\"{\n                unmute: adMuted,\n                mute: !adMuted,\n            }\" ng-click=toggleMuteAd()> <smash-icon ng-if=!adMuted data-icon=volume data-size=24></smash-icon> <smash-icon ng-if=adMuted data-icon=mute data-size=24></smash-icon> </div> </div> <div class=ad-overlay__wrapper></div> </div> <media-player-overlay ng-if=showAdBlockerOverlay data-on-close=hideAdBlockerOverlay() data-title=\"{{::'view_player_text_unable-load-message' | translate}}\" class=animate> <div class=paywall-title-black-sub> {{'view_player_text_ad-blocking' | translate:{username:channelName} }} </div> </media-player-overlay> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2137)),r=a(n(2138)),s=a(n(2140)),l=a(n(2143));t.default=i.default.module("htbx.mediaPlayer.overlay",[]).factory("MediaPlayerOverlay",o.default).directive("delayOverlay",r.default).directive("matureOverlay",s.default).directive("mediaPlayerOverlays",l.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(57)),o=a(n(520)),r=a(n(56));t.default=function(){return function(){var e=[],t=void 0;this.isOverlayActive=function(t){return(0,i.default)(e,t)},this.show=function(t){e=(0,o.default)(e,[t])},this.hide=function(t){e=t?(0,r.default)(e,t):[]},this.isActive=function(){return!!e.length},this.setClassName=function(e){t=e},this.getClassName=function(){return t},this.resetClassName=function(){t=""}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2139));t.default=function(){function e(e,t,n){var a=this,i=parseInt(a.media.media_start_in_sec,10)+30,o=e(function(){a.hide(),t.debug("Stream delay is over")},1e3*i);t.debug("Stream delay is active with %i seconds",i),a.hide=function(){a.mediaPlayerOverlay.hide("delay")},n.$on("$destroy",function(){e.cancel(o)})}return e.$inject=["$timeout","$log","$scope"],{restrict:"E",scope:{media:"=",mediaPlayerOverlay:"=overlay"},templateUrl:a.default,controllerAs:"delayOverlay",bindToController:!0,controller:e}}},function(e,t,n){var a="/src/js/player/overlay/directives/delay-overlay-directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<media-player-overlay data-media=delayOverlay.media data-overlay=delayOverlay.mediaPlayerOverlay data-title=\"{{:: 'view_player_text_delay' | translate }}\" data-on-close=delayOverlay.hide() class=animate></media-player-overlay> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(16)),o=a(n(2141));n(2142),t.default=function(){function e(e,t,n){function a(){r||(n.debug("Player mute will be changed from mature overlay"),t.$broadcast("player.toggleMute"))}var o=this,r=e.isMuted();i.default.get("smashcast.mature")?o.mediaPlayerOverlay.hide("mature"):(a(),o.mediaPlayerOverlay.setClassName("mature"),o.enableMature=function(){i.default.set("smashcast.mature",!0),o.mediaPlayerOverlay.hide("mature"),o.mediaPlayerOverlay.resetClassName(),a()})}return e.$inject=["mediaPlayerConfig","$rootScope","$log"],{restrict:"E",scope:{media:"=",mediaPlayerOverlay:"=overlay"},templateUrl:o.default,controllerAs:"matureOverlay",bindToController:!0,controller:e}}},function(e,t,n){var a="/src/js/player/overlay/directives/mature-overlay-directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<media-player-overlay media=matureOverlay.media title=\"{{::'view_player_text_mature-audiences' | translate}}\" overlay=matureOverlay.mediaPlayerOverlay class=animate> <htbx-button data-type=button data-variant=ok data-size=small data-on-select=matureOverlay.enableMature()> {{::'global_button_continue' | translate}} </htbx-button> </media-player-overlay> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2144));n(2145),t.default=function(){return{restrict:"E",scope:{media:"=",overlay:"="},require:"^mediaPlayer",replace:!0,templateUrl:a.default,controllerAs:"mediaPlayerOverlays",bindToController:!0,controller:function(){this.isOverlayActive=this.overlay.isOverlayActive,this.getClassName=this.overlay.getClassName}}}},function(e,t,n){var a="/src/js/player/overlay/directives/media-player-overlays-directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<span> <mature-overlay ng-if=\"mediaPlayerOverlays.isOverlayActive('mature')\" media=mediaPlayerOverlays.media overlay=mediaPlayerOverlays.overlay></mature-overlay> <delay-overlay ng-if=\"mediaPlayerOverlays.isOverlayActive('delay')\" media=mediaPlayerOverlays.media overlay=mediaPlayerOverlays.overlay></delay-overlay> <media-player-overlay ng-if=\"mediaPlayerOverlays.isOverlayActive('noFlash')\" media=mediaPlayerOverlays.media title=\"{{:: 'view_player_text_no-flash' | translate }}\" class=animate> <a class=no-flash-overlay__link href=https://get.adobe.com/flashplayer/ target=_blank rel=noopener> {{:: 'view_player_link_no-flash' | translate }} </a> </media-player-overlay> </span> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2147));t.default=i.default.module("htbx.mediaPlayer.chromecast",[]).controller("CastCtrl",o.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a){t.castData=l,t.resetMediaIcons=function(){o.default.forEach(t.movies,function(e,n){t.movies[n].playClass="play-icon",t.movies[n].glyphIcon="glyphicon-play",t.movies[n].castClass="cast-icon"})},t.bootCast=function(){n(function(){"undefined"!=typeof chrome&&chrome.cast&&chrome.cast.isAvailable&&!0===chrome.cast.isAvailable?(a.debug("Chromecast found"),t.initializeApi()):a.debug("No chromecast found")},1)},t.initializeApi=function(){t.castData.sessionRequest=new chrome.cast.SessionRequest("93054F1D"),t.castData.apiConfig=new chrome.cast.ApiConfig(t.castData.sessionRequest,t.sessionListener,t.receiverListener),chrome.cast.initialize(t.castData.apiConfig,t.onInitSuccess,t.onCastError)},t.onInitSuccess=function(){a.debug("Chromecast Init Success")},t.sessionListener=function(n){e.$broadcast("player.pause"),t.castData.session=n,t.castData.receiverIcon="on",t.castData.showVideoPlayer=!1,t.castData.showPlayIcons=!1,t.castData.showCastIcons=!0,t.castData.showActivityControls=!0,t.castData.selectedReceiverName=t.castData.session.receiver.friendlyName,t.castData.session.media.length>0&&(t.checkMuteStatus(t.castData.session.media[0]),t.checkPlayStatus(t.castData.session.media[0]),o.default.forEach(t.movies,function(e,n){t.movies[n].src==t.castData.session.media[0].media.customData.src&&(t.movies[n]=t.castData.session.media[0].media.customData,t.castData.mediaName=t.castData.session.media[0].media.customData.name)}),t.castData.session.addMediaListener(t.onMediaDiscovered),t.castData.session.addUpdateListener(t.sessionUpdateListener),t.castData.session.media[0].addUpdateListener(t.mediaUpdateListener)),t.castMovie(),t.$apply()},t.receiverListener=function(e){"available"===e&&(t.castData.showReceiverPicker=!0,t.$apply())},t.selectReceiver=function(){chrome.cast.requestSession(t.sessionListener,t.onCastError)},t.onMediaDiscovered=function(){t.castData.session.media[0].addUpdateListener(t.mediaUpdateListener),t.castData.session.addUpdateListener(t.sessionUpdateListener)},t.sessionUpdateListener=function(n){n||(e.$broadcast("player.play"),t.resetMediaIcons(),t.resetProgressBar(),t.castData.session=null,t.castData.receiverIcon="off",t.castData.showVideoPlayer=!0,t.castData.showPlayIcons=!0,t.castData.showCastIcons=!1,t.castData.showActivityControls=!1,t.castData.selectedReceiverName=null,t.castData.mediaName="",t.$apply())},t.mediaUpdateListener=function(){1===t.castData.session.media.length?(t.castData.progressBarSeconds=t.castData.session.media[0].currentTime,"PLAYING"===t.castData.session.media[0].playerState||("PAUSED"===t.castData.session.media[0].playerState?t.pauseProgressBar():"IDLE"===t.castData.session.media[0].playerState&&("FINISHED"===t.castData.session.media[0].idleReason?t.stopMedia():t.pauseProgressBar()))):t.stopSuccess()},t.castMovie=function(){var e=t.$parent.$parent.$ctrl.media,n=e.media_name,i=void 0;i=e.media_type_id===s.default.VIDEO?t.$parent.$ctrl.contentUrl:"https://api.smashcast.tv/player/hls/"+n+".m3u8?ssl=true",a.debug("Chromecast %s with src: %s",n,i);var o=new chrome.cast.media.MediaInfo(i);o.contentType="application/vnd.apple.mpegurl",i.match(/static\/videos\/vods/)?(o.contentType="application/x-mpegurl",a.debug("video for chromecast."),o.streamType=chrome.cast.media.StreamType.LIVE,o.autoplay=!0):o.streamType=chrome.cast.media.StreamType.LIVE;var r=new chrome.cast.media.LoadRequest(o);r.autoplay=!0,r.currentTime=0,t.castData.showActivityControls=!0,t.castData.session.loadMedia(r,t.onMediaDiscovered,t.onCastError),i.match(/static\/videos\/vods/)||t.castData.session.sendMessage("urn:x-cast:app.smashcast",n.toLowerCase(),function(){a.debug("info send")},function(){a.debug("info failed")})},t.toggleDisplay=function(e){t.castData.session.sendMessage("urn:x-cast:app.smashcast.toggle",e,function(){t.castData.showDisplay=e,a.debug("toggle send "+e)},function(){a.debug("info failed")})},t.sendCastMessage=function(e,n){null!=t.castData.session&&t.castData.session.sendMessage(e,n,function(){a.debug("send ok")},function(){a.debug("send not ok")})},t.onCastError=function(e){"session_error"===e.code.trim()&&e.description&&"No receiver for this session"===e.description.trim()?t.sessionUpdateListener(!1):a.debug(e)},t.checkMediaCommand=function(e){return t.castData.session&&1===t.castData.session.media.length&&(t.castData.session.media[0].supportsCommand(e)||"play"===e||"stop"===e)},t.stopMedia=function(){t.checkMediaCommand("stop")&&(t.castData.session.media.length>0?"IDLE"!==t.castData.session.media[0].playerState&&"FINISHED"!==t.castData.session.media[0].idleReason?t.castData.session.media[0].stop(null,t.stopSuccess,t.onCastError):"IDLE"===t.castData.session.media[0].playerState&&"FINISHED"===t.castData.session.media[0].idleReason&&t.stopSuccess():t.stopSuccess())},t.stopSuccess=function(){t.castData.mediaName="",t.castData.isPaused=!1,t.castData.isPlaying=!0,t.castData.showUnmute=!1,t.castData.showMute=!0,t.resetMediaIcons(),t.resetProgressBar(),t.$apply()},t.playMedia=function(){t.checkMediaCommand("play")&&t.castData.session.media[0].play(null,t.playSuccess,t.onCastError)},t.playSuccess=function(){t.checkPlayStatus(t.castData.session.media[0]),t.$apply()},t.pauseMedia=function(){t.checkMediaCommand(chrome.cast.media.MediaCommand.PAUSE)&&t.castData.session.media[0].pause(null,t.pauseSuccess,t.onCastError)},t.pauseSuccess=function(){t.checkPlayStatus(t.castData.session.media[0]),t.pauseProgressBar(),t.$apply()},t.checkPlayStatus=function(e){"PLAYING"===e.playerState?(t.castData.isPaused=!1,t.castData.isPlaying=!0):(t.castData.isPaused=!0,t.castData.isPlaying=!1),t.$apply()},t.muteMedia=function(){if(t.checkMediaCommand(chrome.cast.media.MediaCommand.STREAM_MUTE)){var e=t.castData.session.media[0].volume;e.muted=!0;var n=new chrome.cast.media.VolumeRequest(e);t.castData.session.media[0].setVolume(n,t.muteSuccess,t.onCastError)}},t.unmuteMedia=function(){if(t.checkMediaCommand(chrome.cast.media.MediaCommand.STREAM_MUTE)){var e=t.castData.session.media[0].volume;e.muted=!1;var n=new chrome.cast.media.VolumeRequest(e);t.castData.session.media[0].setVolume(n,t.muteSuccess,t.onCastError)}},t.muteSuccess=function(){t.checkMuteStatus(t.castData.session.media[0])},t.checkMuteStatus=function(e){e.volume.muted?(t.castData.showUnmute=!0,t.castData.showMute=!1):(t.castData.showUnmute=!1,t.castData.showMute=!0),t.$apply()},t.changeVolume=function(e){if(t.checkMediaCommand(chrome.cast.media.MediaCommand.STREAM_VOLUME)){var n=t.castData.session.media[0].volume;n.level=e;var a=new chrome.cast.media.VolumeRequest(n);t.castData.session.media[0].setVolume(a,t.volumeSuccess,t.onCastError)}},t.volumeSuccess=function(){},t.seekMedia=function(e,n){if(t.checkMediaCommand(chrome.cast.media.MediaCommand.SEEK)){var a=t.castData.progressBarSeconds,i=t.castData.session.media[0].media.duration;"backward"===e?(a-=n)<0&&(a=0):"forward"===e&&(a+=n)>i&&(a=i),t.pauseProgressBar(),t.castData.progressBarSeconds=a;var o=new chrome.cast.media.SeekRequest;o.currentTime=a,t.castData.session.media[0].seek(o,t.seekSuccess,t.onCastError)}},t.seekPosition=function(e){if(t.checkMediaCommand(chrome.cast.media.MediaCommand.SEEK)){var n=t.castData.session.media[0].media.duration,a=e.srcElement.clientWidth;"progress-bar"===e.srcElement.className.trim()&&(a=e.srcElement.parentElement.clientWidth);var i=n*(e.offsetX/a);t.castData.progressBarSeconds=i;var o=new chrome.cast.media.SeekRequest;o.currentTime=i,t.castData.session.media[0].seek(o,t.seekSuccess,t.onCastError)}},t.seekSuccess=function(){},t.updateProgressBar=function(){1===t.castData.session.media.length?(t.castData.progressBarSeconds+=.1,t.castData.progressBarPercent=t.castData.progressBarSeconds/t.castData.session.media[0].media.duration*100,t.castData.progressBarPercent>=100&&t.pauseProgressBar()):t.resetProgressBar()},t.pauseProgressBar=function(){t.castData.progressBarPromise=null,t.animatedProgressBar()},t.resetProgressBar=function(){t.castData.progressBarPromise=null,t.castData.progressBarSeconds=0,t.castData.progressBarPercent=0,t.castData.progressBarClass=null,t.nonanimatedProgressBar()},t.animatedProgressBar=function(){t.castData.progressBarClass="progress-striped active"},t.nonanimatedProgressBar=function(){t.castData.progressBarClass=""},t.loadingProgressBar=function(){t.castData.progressBarPercent=100,t.castData.progressBarClass="progress-striped active"},t.playMovie=function(e){var n=(0,r.default)("#video");"glyphicon-play"===e.glyphIcon?(n.attr("src",e.src),n.get(0).play(),t.resetMediaIcons(),e.glyphIcon="glyphicon-stop"):t.stopMovie()},t.stopMovie=function(){var e=(0,r.default)("#video");e.get(0).pause(),e.attr("src",""),t.resetMediaIcons()},t.bootCast()}Object.defineProperty(t,"__esModule",{value:!0}),t.castData=void 0;var o=a(n(0)),r=a(n(13)),s=a(n(78));i.$inject=["$rootScope","$scope","$timeout","$log"];var l=t.castData={session:null,showReceiverPicker:!1,receiverIcon:"off",showActivityControls:!1,showVideoPlayer:!0,showPlayIcons:!0,showCastIcons:!1,progressBarClass:null,progressBarPercent:0,progressBarSeconds:0,progressBarPromise:null,isPaused:!1,isPlaying:!0,showMute:!0,showUnmute:!1,mediaName:"",showDisplay:"on"};t.default=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2149));t.default=i.default.module("mediaPlayer.hls",["mediaPlayer.native"]).factory("HlsPlayer",o.default).name},function(e,t,n){"use strict";function a(e,t,n,a,o,r,s){function l(r,u){function d(){!h||g||p.isSeeking()||m.promise.then(function(){!function(e){o(function(){h=!1})}()})}function f(e,t){function a(e){n.error("Internal error in player: fatal %s error encountered (%s), try to recover",e,t.details)}if(t.fatal)switch(t.type){case i.default.ErrorTypes.NETWORK_ERROR:a("network"),b.startLoad();break;case i.default.ErrorTypes.MEDIA_ERROR:a("media"),b.recoverMediaError();break;default:o(function(){p.options.onPlayerErrorHandlers.forEach(function(t){t(e)})})}}var p=this,m=void 0,h=!0,g=!1,_=Object.getPrototypeOf(l.prototype),v=u.mediaPlayerGetter,b=void 0;this.isSupported=function(){return i.default.isSupported()},t.call(this,r,u),this.destroy=function(){n.debug("Destroying Hls player"),_.destroy.call(p),r.removeEventListener("timeupdate",d),b&&b.destroy()},this.reload=function(){function t(){r.removeEventListener("timeupdate",t),p.options.onInitSuccess(),m.resolve(),n.debug("Hls player is loading url: %s",o.src)}var o=v().getStreamData();return h=!0,g=!0,b&&b.destroy(),b=new i.default((c.maxBufferLength="video"===s.current.section?120:8,c)),e.prototype.reload.call(p),m&&m.reject(),m=a.defer(),b.on(i.default.Events.ERROR,m.reject),b.attachMedia(r),b.on(i.default.Events.MEDIA_ATTACHED,function(){b.loadSource(o.src)}),b.on(i.default.Events.ERROR,function(e,t){t.details===i.default.ErrorDetails.BUFFER_STALLED_ERROR&&(g=!0)}),b.on(i.default.Events.ERROR,f),b.on(i.default.Events.FRAG_CHANGED,function(){g=!1}),r.addEventListener("timeupdate",t),m.promise},this.isBuffering=function(){return g},this.isLoading=function(){return h},this.init=function(){n.debug("Starting Hls player"),r.addEventListener("timeupdate",d),p.reload()}}var c={debug:r.search().debugHls,maxBufferLength:8,liveSyncDurationCount:2,liveMaxLatencyDurationCount:8,manifestLoadingMaxRetry:6,manifestLoadingRetryDelay:500,levelLoadingMaxRetry:6,levelLoadingRetryDelay:500,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:500,startFragPrefech:!1,xhrSetup:function(e){e.withCredentials=!0}};return l.prototype=Object.create(t.prototype),l}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(661));a.$inject=["BasePlayer","NativePlayer","$log","$q","$timeout","$location","$state"],t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2151));t.default=i.default.module("mediaPlayer.videoJs",[]).constant("videojs",window.videojs).factory("VideoJsPlayer",o.default).name},function(e,t,n){"use strict";function a(e,t,n,a){function o(r,s){function l(){g.resolve(),u.options.onInitSuccess(),function(e){a(function(){d=!1})}()}function c(){var e=m().getStreamData();h.currentSrc()!==e.src&&(h.src({type:e.type,src:e.src}),t.debug("VideoJs player is loading url: %s",e.src))}var u=this,d=!0,f=!1,p=Object.getPrototypeOf(o.prototype),m=s.mediaPlayerGetter,h=void 0,g=void 0,_={flash:{swf:i.default,flashVars:{pseudoStreamStartParam:"start",hls_debug:!1,hls_minbufferlength:4,hls_maxbufferlength:16,hls_lowbufferlength:1,hls_live_flushurlcache:!1,hls_startfromlowestlevel:!0,hls_startfromlevel:.5,hls_seekfromlowestlevel:!0,hls_seekmode:"KEYFRAME",hls_usehardwarevideodecoder:!1}},techOrder:["flash"],autoplay:!0,controls:!1,height:"100%",width:"100%",children:{loadingSpinner:!1}};this.isSupported=function(){return vjs.Flash.isSupported()},e.call(this,r,s),this.pause=function(){try{p.pause.call(u),h.pause()}catch(e){t.warn("VideoJS failed to pause, probably was not even ready to play")}},this.play=function(){p.play.call(u),h.play()},this.seekTo=function(e){p.seekTo.call(this,e),h.currentTime(e)},this.setMuted=function(e){p.setMuted.call(this,e),h.muted(e)},this.setVolume=function(e){p.setVolume.call(this,e),h.volume(e/100)},this.destroy=function(){t.debug("Destroying VideoJs player"),p.destroy.call(u),h.dispose()},this.reload=function(){return g&&(h.off("error",g.reject),g.reject()),p.reload.call(u),g=n.defer(),d=!0,h.one("error",g.reject),h.off("loadeddata",l),h.one("loadeddata",l),h.ready(c),g.promise},this.isBuffering=function(){return f},this.isLoading=function(){return d},this.checkHealth=function(){return h.currentTime()},this.getBufferedPercentage=function(){return h.bufferedPercent()},this.init=function(){t.debug("Starting VideoJs player"),(h=window.videojs(r,_)).on("error",function(e){u.options.onPlayerErrorHandlers.forEach(function(t){t(e)}),t.error("VideoJs error:",e)}),h.on("stalled",function(){f=!0}),h.on("waiting",function(){f=!0}),h.on("canplay",function(){f=!1}),u.reload(),this.paused=function(){return!1},this.getCurrentTime=function(){return h.currentTime()},this.isSeeking=function(){return h.seeking()}}}return o.prototype=Object.create(e.prototype),o}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2152));a.$inject=["BasePlayer","$log","$q","$timeout"],t.default=a},function(e,t,n){e.exports=n.p+"swf/94dc6f6a30d2b3be3d8817898b0639d2.swf"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2154));t.default=i.default.module("mediaPlayer.native",[]).factory("NativePlayer",o.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,c){function u(d,f){function p(){!function(e){i(function(){b=!1})}()}function m(){y=!0}function h(){y=!1}var g=this,_=this,v=void 0,b=!0,y=!1,w=Object.getPrototypeOf(u.prototype),$=f.mediaPlayerGetter;f=(0,o.default)({healthCheck:!window.mobilecheck()},f),t.call(this,d,f),this.pause=function(){w.pause.call(_),d.pause()},this.paused=function(){return!d||d.paused},this.play=function(){var e=parseInt(d.duration,10);w.play.call(_);var t=$();t&&t.isMediaALiveStream()&&(0,r.default)(e)&&_.seekTo(Math.ceil(e-1));var n=d.play();void 0!==n&&n.catch(g.autoplayError)},this.autoplayError=function(t){g.pause(),e.$broadcast("player.status.autoplayError"),c.trackEvent("player","error",t)},this.getCurrentTime=function(){return d.currentTime},this.seekTo=function(e){w.seekTo.call(this,e),d.currentTime=e},this.setMuted=function(e){w.setMuted.call(this,e),d.muted=e},this.setVolume=function(e){w.setVolume.call(this,e),d.volume=e/100},this.destroy=function(){n.debug("Destroying Native player"),w.destroy.call(_),d.removeEventListener("canplaythrough",p),d.removeEventListener("waiting",m),d.removeEventListener("timeupdate",h)},this.reload=function(){function e(){d.removeEventListener("error",t),d.removeEventListener("loadstart",i)}function t(){e(),v.reject()}function i(){e(),_.options.onInitSuccess(),v.resolve(),n.debug("Native player is loading url: %s",o.src)}var o=$().getStreamData();return b=!0,y=!0,w.reload.call(_),v&&v.reject(),v=a.defer(),d.addEventListener("loadstart",i),d.addEventListener("error",t),d.addEventListener("waiting",m),d.addEventListener("timeupdate",h),d.src=o.src,v.promise},this.isBuffering=function(){return y},this.isLoading=function(){return b},this.isSeeking=function(){return d.seeking},this.checkHealth=function(){return this.getCurrentTime()},this.getBufferedPercentage=function(){var e=(0,s.default)(d.buffered,function(e,t){return d.buffered.end(t)}),t=(0,l.default)(e,function(e){return e>_.getCurrentTime()});return t?t/d.duration:0},this.init=function(){n.debug("Starting Native player"),d.addEventListener("canplaythrough",p),_.reload()}}return u.prototype=Object.create(t.prototype),u}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(662)),r=a(n(2157)),s=a(n(250)),l=a(n(32));i.$inject=["$rootScope","BasePlayer","$log","$q","$timeout","Analytics"],t.default=i},function(e,t,n){var a=n(104),i=n(215),o=n(105),r=i(function(e,t,n,i){a(t,o(t),e,i)});e.exports=r},function(e,t,n){var a=n(125),i=Object.prototype,o=i.hasOwnProperty;e.exports=function(e,t,n,r){return void 0===e||a(e,i[n])&&!o.call(r,n)?t:e}},function(e,t,n){var a=n(90);e.exports=function(e){return"number"==typeof e&&e==a(e)}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2159)),r=a(n(2162)),s=a(n(2165)),l=a(n(2166)),c=a(n(2167));t.default=i.default.module("htbx.gameStatistics",[]).factory("LolStats",l.default).factory("WotStats",c.default).directive("gameOverlaySize",s.default).component("htbxWotStatistics",o.default).component("htbxLolStatistics",r.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2160));n(2161);var o=function(){function e(t,n,a,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{WotStats:t,$state:n,$log:a,$interval:i,$timeout:o}),this.data=null,this.isHidden=!1,this.loading=!1,this.interval=null}return e.$inject=["WotStats","$state","$log","$interval","$timeout"],a(e,[{key:"$onInit",value:function(){this.initStats(),this.startInterval()}},{key:"$onDestroy",value:function(){this.cancelInterval()}},{key:"$onChanges",value:function(e){var t=parseInt(e.mediaCategoryId.previousValue,10),n=parseInt(e.mediaCategoryId.currentValue,10);t&&n&&this.isWoTGame()?(this.cancelInterval(),this.initStats(),this.startInterval()):(this.cancelInterval(),this.data=null)}},{key:"startInterval",value:function(){var e=this;this.interval=this.$interval(function(){e.initStats()},3e5)}},{key:"cancelInterval",value:function(){this.$interval.cancel(this.interval)}},{key:"hide",value:function(){this.isHidden=!0}},{key:"initStats",value:function(){this.isWoTGame()&&"video"!==this.$state.current.section&&"embedvideo"!==this.$state.current.section&&this.getWoTStats()}},{key:"isWoTGame",value:function(){return 424===parseInt(this.mediaCategoryId,10)}},{key:"getWoTStats",value:function(){var e=this,t={user_name:this.mediaUserName};this.$log.debug("Fetching WoT stats..."),this.loading=!0,this.WotStats.get(t).$promise.then(function(t){t&&t.stats&&(e.$log.debug("WoT stats fetched."),e.data=t)}).catch(function(){e.$log.error("Failed fetching WoT stats.")}).finally(function(){e.$timeout(function(){e.loading=!1},500)})}}]),e}();t.default={bindings:{mediaCategoryId:"<?",mediaUserName:"<?",isVisible:"=",lockControls:"&?",unlockControls:"&?"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/game-statistics/components/wot-statistics.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-if=$ctrl.data.stats game-overlay-size id=menuOverlayContainer> <div class=wot-overlay ng-mouseenter=$ctrl.lockControls() ng-mouseleave=$ctrl.unlockControls()> <div class="wot-overlay__stats animate ng-hide" ng-class="{\n                \'wot-overlay__stats--loading\': $ctrl.loading,\n            }" ng-show="$ctrl.isVisible && !$ctrl.isHidden"> <div class=wot-overlay__loader> <smash-spinny class=wot-overlay__loader__spinny size="\'medium\'"></smash-spinny> </div> <div class=wot-overlay__dismiss title="{{ \'global_button_hide\' | translate }}" ng-click=$ctrl.hide()></div> <div class=wot-overlay__box> <span class="wot-overlay__box__title wot-overlay__box__title--win"> {{::\'component_wot-statistics_victories\'|translate}} </span> <span class=wot-overlay__box__stats> {{$ctrl.data.stats.wins_ratio}}% </span> </div> <div class=wot-overlay__box> <span class="wot-overlay__box__title wot-overlay__box__title--fight"> {{::\'component_wot-statistics_battles\'|translate}} </span> <span class=wot-overlay__box__stats> {{$ctrl.data.stats.battles_count}} </span> </div> <div class="wot-overlay__box wot-overlay__box--center"> <a ng-href=http://worldoftanks.eu/community/accounts/{{$ctrl.data.account.id}}-{{$ctrl.data.account.name}}/ target=_blank rel=noopener> {{$ctrl.data.account.name}} </a> <div class=wot-overlay__box__logo> {{::\'component_wot-statistics_personal-rating\'|translate}} </div> <span class=wot-overlay__box__stats> {{$ctrl.data.stats.global_rating}} </span> </div> <div class=wot-overlay__box> <span class="wot-overlay__box__title wot-overlay__box__title--xp"> {{::\'component_wot-statistics_avg-experience\'|translate}} </span> <span class=wot-overlay__box__stats> {{$ctrl.data.stats.xp_avg}} </span> </div> <div class=wot-overlay__box> <span class="wot-overlay__box__title wot-overlay__box__title--dmg"> {{::\'component_wot-statistics_avg-damage\'|translate}} </span> <span class=wot-overlay__box__stats> {{$ctrl.data.stats.damage_avg}} </span> </div> </div> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(0)),r=a(n(2163));n(2164);var s=function(){function e(t,n,a,i,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{LolStats:t,$state:n,$log:a,$location:i,$interval:o,$timeout:r}),this.data=null,this.isHidden=!1,this.loading=!1,this.interval=null}return e.$inject=["LolStats","$state","$log","$location","$interval","$timeout"],i(e,[{key:"$onInit",value:function(){this.initStats(),this.startInterval()}},{key:"$onDestroy",value:function(){this.cancelInterval()}},{key:"$onChanges",value:function(e){var t=parseInt(e.mediaCategoryId.previousValue,10),n=parseInt(e.mediaCategoryId.currentValue,10);t&&n&&this.isLoLGame()?(this.cancelInterval(),this.initStats(),this.startInterval()):(this.cancelInterval(),this.data=null)}},{key:"startInterval",value:function(){var e=this;this.interval=this.$interval(function(){e.initStats()},3e5)}},{key:"cancelInterval",value:function(){this.$interval.cancel(this.interval)}},{key:"hide",value:function(){this.isHidden=!0}},{key:"initStats",value:function(){this.isLoLGame()&&"video"!==this.$state.current.section&&"embedvideo"!==this.$state.current.section&&this.getLoLStats()}},{key:"isLoLGame",value:function(){return 1===parseInt(this.mediaCategoryId,10)}},{key:"toggleMasteries",value:function(){this.showMasteries=!this.showMasteries,this.showRunes&&(this.showRunes=!1)}},{key:"toggleRunes",value:function(){this.showRunes=!this.showRunes,this.showMasteries&&(this.showMasteries=!1)}},{key:"getLoLStats",value:function(){var e=this,t={user_name:this.mediaUserName};this.$log.debug("Fetching LoL stats..."),this.loading=!0,this.LolStats.get(t).$promise.then(function(e){var t=void 0;if("https"===this.$location.protocol()&&(e.profileImage=e.profileImage.replace(/^http/,"https"),e.most_played.image=e.most_played.image.replace(/^http/,"https")),this.data=e,this.$log.debug("LoL stats fetched."),e&&e.masteries&&e.masteries.masteries)for(t=0;t<e.masteries.masteries.length;t++){var n=e.masteries.masteries[t],a=parseInt(n.id.toString()[1],10);3===a?a=2:2===a&&(a=3);var i=parseInt(n.id.toString()[2],10),r=parseInt(n.id.toString()[3],10),s=i,l=0;switch(i){case 1:case 2:l=2;break;case 3:l=2,4===r&&(r=2);break;case 4:l=2,3===r&&(r=2);break;case 5:l=2,4===r&&(r=2);break;case 6:l=3,4===r&&(r=3)}var c=(a-1)*l+r;e.masteries.masteries[t].mRow=s,e.masteries.masteries[t].mCol=c}if(e.runes){e.runes.stats=[];var u={};if(e.runes.slots){for(t=0;t<e.runes.slots.length;t++){var d=void 0;for(var f in e.runes.slots[t].stats){d=f;break}o.default.isString(d)&&d.length>3&&(o.default.isUndefined(u[d])&&(u[d]={name:d.substring(0,d.length-3),value:0},u[d]={name:d,value:0}),u[d].value+=parseFloat(e.runes.slots[t].stats[d]))}for(var p in u)e.runes.stats.push(u[p])}}}.bind(this)).catch(function(){e.$log.error("Failed fetching LoL stats.")}).finally(function(){e.$timeout(function(){e.loading=!1},500)})}}]),e}();t.default={bindings:{mediaCategoryId:"<?",mediaUserName:"<?",isVisible:"=",lockControls:"&?",unlockControls:"&?"},templateUrl:r.default,controller:s}},function(e,t,n){var a="/src/js/game-statistics/components/lol-statistics.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-if=$ctrl.data game-overlay-size id=menuOverlayContainer> <div ng-mouseenter=$ctrl.lockControls() ng-mouseleave=$ctrl.unlockControls() class=menuOverlay> <div class="lolStats animate ng-hide" ng-show="$ctrl.isVisible && !$ctrl.isHidden || $ctrl.showMasteries || $ctrl.showRunes"> <div class=dismiss title="{{ \'global_button_hide\' | translate }}" ng-click=$ctrl.hide()></div> <span class=lol-logo></span> <div class="lol-summoner cf"> <div class=lol-image back-img={{$ctrl.data.profileImage}}></div> <div class=lol-meta> <div class="lol-meta-title summoner"> {{$ctrl.data.summoner}} </div> <div class=rating> <span class=totalWins><strong>{{$ctrl.data.summary.wins}}</strong> W</span> <span class=totalLosses><strong>{{$ctrl.data.summary.losses}}</strong> L</span> </div> <div class=lol-meta-region> <span><span translate=global_text_region></span>: {{$ctrl.data.region}}</span> </div> </div> </div> <div class="lol-stats cf"> <div class="lol-image lol_tier_{{$ctrl.data.tier}}"></div> <div class=lol-meta> <div class=lol-meta-title>{{$ctrl.data.tier}} {{$ctrl.data.division}} </div> <span>Solo 5v5</span>, <span>{{$ctrl.data.points}}LP</span> </div> </div> <div class="lol-maps cf"> <div class=masteriesPage ng-click=$ctrl.toggleMasteries()> <smash-icon icon=search size=32 center=true></smash-icon> </div> <div class=runesPage ng-click=$ctrl.toggleRunes()> <smash-icon icon=search size=32 center=true></smash-icon> </div> </div> </div> </div> </div> <div ng-show="$ctrl.showMasteries || $ctrl.showRunes" id=playerOverlays> <div ng-click="$ctrl.showMasteries = false; $ctrl.showRunes = false" class=backdrop></div> <div class=close-button-wrapper> <htbx-button-close data-variant=modal data-on-select="$ctrl.showMasteries=false; $ctrl.showRunes=false"></htbx-button-close> </div> <div ng-show=$ctrl.showMasteries class=playerMasteryContainer> <div class=playerMasteryLeague> <div ng-repeat="mastery in $ctrl.data.masteries.masteries"> <div class="mastery col{{mastery.mCol}} row{{mastery.mRow}} border-yellow" uib-tooltip="{{mastery.name}}: {{mastery.description[mastery.rank-1]}}" data-tooltip-append-to-body=true ng-style="{\n                        \'background-position\': -mastery.x + \'px \' + -mastery.y + \'px\',\n                    }"> <div class=stats> {{mastery.rank}}/{{mastery.rank}} </div> </div> </div> </div> </div> <div class=playerRuneContainer ng-show=$ctrl.showRunes> <div class=playerRuneLeague> <div ng-repeat="rune in $ctrl.data.runes.slots"> <div class="runes r{{rune.runeSlotId}}" uib-tooltip="{{rune.name}}: {{rune.description}}" data-tooltip-append-to-body=true ng-style="{\n                        \'background-position\': -rune.x + \'px \' +  -rune.y + \'px\',\n                    }"></div> </div> </div> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(){return{scope:!0,link:function(e,t){function n(){i.height()<=480||i.width()<=880?o():r()}var i=t.closest(".media-player__wrapper"),o=function(){a.default.element("#playerOverlays").hide(),t.hide()},r=function(){a.default.element("#playerOverlays").show(),t.show()};e.$on("WindowResize",n),n()}}}},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/lol",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/wot",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){var t=a.default.unix(e),n=parseInt(e/60/60,10);return(n>0?n+":":"")+t.format("mm:ss")}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(5))},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/player/recconfig/:media_name/:rec_session",{media_name:"@media_name",rec_session:"@rec_session"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,d){return function(){function f(i,o){var c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var u={onInitSuccess:r.default.noop,onPlayerErrorHandlers:[],healthCheck:!0};if(!this.isSupported())throw new Error("Tech not supported");this.initialStart=!0,o=o||{},this.options=(0,s.default)({},o,u),this.options.onInitSuccess=(0,l.default)(this.options.onInitSuccess,function(t){e.doAutoPlay()&&c.play(),t()}),this.loadDeferred=n.defer(),this.loadDeferred.promise.then(function(){c.init(),c.options.healthCheck?(c.healthCheck=new a(c),c.healthCheck.start()):t.debug("Health check was disabled")}),d(function(){c.loadDeferred.resolve()})}return o(f,[{key:"init",value:function(){}},{key:"reInit",value:function(){t.debug("Reloading player content"),this.reload().then(this.play)}},{key:"pause",value:function(){t.debug("Player paused"),i.$broadcast("player.status.pause")}},{key:"paused",value:function(){return!0}},{key:"play",value:function(){this.options.healthCheck&&this.healthCheck&&this.healthCheck.start(),t.debug("Player play"),i.$broadcast("player.status.play"),this.initialStart&&(i.$broadcast("player.status.init"),this.initialStart=!1)}},{key:"getCurrentTime",value:function(){}},{key:"isMuted",value:function(){return e.isMuted()}},{key:"getVolume",value:function(){return e.getVolume()}},{key:"setMuted",value:function(n){e.setMuted(n),t.debug("Player %s",n?"muted":"unmuted"),n||0!==this.getVolume()||this.setVolume(50)}},{key:"toggleMute",value:function(){this.setMuted(!this.isMuted())}},{key:"setVolume",value:function(n){e.setVolume(n),t.debug("Player volume set to %i%",n);var a=0===this.getVolume();a!==this.isMuted()&&this.setMuted(a)}},{key:"reload",value:function(){return this.setMutedAtStart(this),n.resolve()}},{key:"destroy",value:function(){var e=this;this.loadDeferred.reject(),this.loadDeferred.promise.then(function(){e.options.healthCheck&&e.healthCheck&&(e.healthCheck.stop(),e.healthCheck=null),e.pause()}),this.options.onPlayerErrorHandlers=[]}},{key:"checkHealth",value:function(){}},{key:"isLoading",value:function(){return!0}},{key:"isBuffering",value:function(){return!1}},{key:"isSupported",value:function(){return!0}},{key:"isSeeking",value:function(){return!1}},{key:"seekTo",value:function(e){t.debug("Seeking to %s seconds",e)}},{key:"registerErrorHandler",value:function(e){this.options.onPlayerErrorHandlers.push(e),this.options.onPlayerErrorHandlers=(0,c.default)(this.options.onPlayerErrorHandlers)}},{key:"unRegisterErrorHandler",value:function(e){this.options.onPlayerErrorHandlers=(0,u.default)(this.options.onPlayerErrorHandlers,e)}},{key:"setMutedAtStart",value:function(t){var n=e.isMuted();t.setVolume(e.getVolume()),t.setMuted(n)}}]),f}()}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=i;var r=a(n(0)),s=a(n(662)),l=a(n(663)),c=a(n(222)),u=a(n(56));i.$inject=["mediaPlayerConfig","$log","$q","PlayerHealthCheck","$rootScope","$timeout"]},function(e,t,n){var a=n(75),i=n(664),o=n(366),r=n(253),s=a(function(e,t){var n=r(t,o(s));return i(e,32,void 0,t,n)});s.placeholder={},e.exports=s},,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,g,_,v,b,y,w,$,x,k,S,C){function M(){return C.mobilecheck()||-1!==window.navigator.userAgent.indexOf("Safari")&&-1===window.navigator.userAgent.indexOf("Chrome")}return function(E,T,P){function O(){_.debug("Try to reload stream (%s) in %i seconds",F,h/1e3),W=w(function(){_.debug("Reload stream %s",F),N.resetMediaWhenPlayerFails()},h)}function j(){B.forEach(function(e){e()})}function A(){var t=S.$on("player.status.play",function(){e.watchForChanges(V,H),t()})}function I(){Y=w(function(){var e=0,t=0,a=void 0,i=void 0;if("live"===z&&n.isAuthenticated()&&"/"!==v.path()&&H.plugins.ova&&H.plugins.ova.LR_TAGS){var o=H.plugins.ova.LR_TAGS.split(",");for(a=0;a<o.length;a++)"mediaUserId"===(i=o[a].split("_"))[0]&&(e=i[1]),"categoryId"===i[0]&&(t=i[1]);var r={user_id:n.getId(),media_id:e,category_id:t,nocache:!0};x.save(r)}},6e4)}function L(){H.settings&&H.plugins&&k.set((0,o.default)({noPrerolls:H.settings.no_prerolls},H.plugins.ova),V.media_id)}P=P||{};var U=v.search(),D=1,N=this,R=!1,F=E,B=[],z=T||(P.rec_id?"video":"live"),H=void 0,V=void 0,q=void 0,G=void 0,W=void 0,Y=void 0;this.getMedia=function(){return V},this.onReady=function(e){H&&e(),B.push(e)},this.loadMedia=function(){function t(e){return V=e}return P.rec_id?a.when(t({media_type_id:2,media_is_live:"1",media_duration:parseInt(P.rec_duration_sec,10)})):e.get(F,z).then(t)},this.loadConfig=function(){return"live"!==z||N.isMediaReady()?function(){var e=void 0;return"https"===v.protocol()&&(e="true"),P.rec_id?$.get({rec_session:P.rec_session,media_name:F,ssl:e}).$promise:t.get({media_type:z,media_id:F,embed:g.isEmbed(),popout:U.popout,autoplay:g.doAutoPlay(),showHidden:!0,authToken:n.getToken(),subscribed:!1,qos:"true"===U.qos,no_interruption:!1,ssl:e}).$promise}().then(function(e){return R?a.reject():e}).then(function(e){"video"===(H=e).clip.type&&function(e){y.addview({media_id:e})}(F),N.changeBitrate("true"===U.lowbitrate?500:"embedplayer"===i.current.section?1e3:"home"===i.current.section||C.mobilecheck()||"true"===U.autobitrate?5e4:g.getBitrate(),{store:!1})}).then(j).then(A).then(I).then(L):(_.debug("Media (%s) is offline, preventing player load...",F),O(),a.reject())},this.getBitrate=function(){return G.bitrate},this.changeBitrate=function(e,t){t=t||{},(0,r.default)(t.cdnIndex)&&(t.cdnIndex=(0,s.default)(H.cdns,q)?(0,l.default)(H.cdns,q):0),G&&G.bitrate!==e&&b.trackEvent("player","brSwitch",JSON.stringify({bitrate:e,cdnIndex:t.cdnIndex})),e||(e=H.settings.default_br||2e3),!1!==t.store&&g.setBitrate(e),q=V.media_type_id===m.default.LIVE_STREAM?H.cdns[t.cdnIndex]:H.clip,G=function(e){return(0,u.default)(q.bitrates,{bitrate:e})}(e)||(0,u.default)(q.bitrates,{isDefault:!0})||(0,c.default)(q.bitrates),_.debug("Switched bitrate to %i on %s",e,F)},this.getBitrates=function(){var e=q&&q.bitrates?q.bitrates:[],t=(0,u.default)(e,{label:"Auto"});return e=(0,d.default)(e,t),(e=(0,f.default)(e,"bitrate","desc")).length>1&&t&&e.unshift(t),e},this.getSubscriberBitrates=function(){return H&&H.settings&&H.settings.delBitrates?H.settings.delBitrates:[]},this.isMediaReady=function(){return!!V&&!!parseInt(V.media_is_live,10)},this.isMediaALiveStream=function(){return V&&V.media_type_id===m.default.LIVE_STREAM},this.getStreamData=function(){if(P.rec_id)return{player:"hlsjs",type:"video/mp4",src:H.clip.url};if(!G)return{};if("hlsjs"===G.provider||"pseudo"===G.provider)return{player:M()?"native":"hlsjs",src:G.url};if(M())return{player:"native",src:"//api.smashcast.tv/player/hls/"+V.media_name+".m3u8"};var e=G.url.split(".").pop().split(/#|\?/)[0];return"mp4"===e?{player:"videoJs",type:"video/mp4",src:q.baseUrl+"/"+G.url}:"m3u8"===e?{player:"videoJs",type:"video/mp4",src:G.url}:{player:"videoJs",type:"rtmp/mp4",src:q.netConnectionUrl+"/"+G.url+"?playdev=true"}},this.isLastCDNSelected=function(){return(0,p.default)(H.cdns)===q},this.getCDNSwitchCount=function(){return D},this.switchCDN=function(e){(0,r.default)(e)&&(e=this.isLastCDNSelected()?0:(0,l.default)(H.cdns,q)+1),D+=1,this.changeBitrate(g.getBitrate(),{store:!1,cdnIndex:e}),b.trackEvent("player","switchCDN",JSON.stringify({source:V.media_name,netConnectionUrl:q.netConnectionUrl})),_.debug("Switch CDN (%s) CDN index: %i",F,e),j()},this.switchToFirstCDN=function(){this.switchCDN(0)},this.resetMediaWhenPlayerFails=function(){return e.updateStatus(V).then(function(){N.isMediaReady()?(_.debug("Media (%s) is live. Restart player...",F),H?(N.switchToFirstCDN(),j()):N.loadConfig()):(_.debug("Media (%s) is offline",F),O())})},this.destroy=function(){R=!0,e.unWatchForChanges(),w.cancel(W),w.cancel(Y),H&&H.plugins&&H.plugins.ova&&k.remove(H.plugins.ova,F),B=[]}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=a(n(59)),r=a(n(11)),s=a(n(57)),l=a(n(2182)),c=a(n(132)),u=a(n(32)),d=a(n(56)),f=a(n(672)),p=a(n(319)),m=a(n(78));i.$inject=["medias","PlayerConfig","loggedUser","$q","$state","mediaPlayerConfig","$log","$location","Analytics","MediaStats","$timeout","PlayerRecConfig","ViewStats","ova","$rootScope","$window"];var h=3e4},function(e,t,n){var a=n(302),i=n(90),o=Math.max;e.exports=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=null==n?0:i(n);return s<0&&(s=o(r+s,0)),a(e,t,s)}},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/player/config/:media_type/:media_id?redis=true&ssl=true",{media_type:"@media_type",media_id:"@media_id"})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e,t,n){return function(a){function l(){e.cancel(v),v=e(c,o,!1)}function c(){l(),(a.isBuffering()||a.isSeeking()?(g||(g=(0,i.default)()),(0,i.default)().diff(g)<s?t.debug("Health check - player is %s",a.isSeeking()?"seeking":"buffering"):(t.error("Player is still buffering after %s seconds",s/1e3),u(),g=null),h=null,!1):(g=null,!0))&&(a.isLoading()?!n[0].hidden&&(_||(_=(0,i.default)()),(0,i.default)().diff(_)<r?t.debug("Health check - player is loading"):(t.error("Player could not start after %s seconds",r/1e3),d(),_=null),h=null,!1):(_=null,!0))&&function(){var n=a.checkHealth();if(n===h&&!a.paused()){if(t.error("Player's current time hasn't changed since %s seconds",o/1e3),3===(b+=1))return d(),void(b=0);e(function(){a.reInit()})}h=n}()}function u(){p.stop(),m().resetMediaWhenPlayerFails()}function d(){m().getCDNSwitchCount()%3==0?u():e(function(){m().switchCDN()})}function f(e){t.error("Internal error in player:",e),5===y?(u(),y=0):(y+=1,d())}var p=this,m=a.options.mediaPlayerGetter,h=void 0,g=void 0,_=void 0,v=void 0,b=0,y=0;this.start=function(){v||m()&&m().isMediaALiveStream()&&(g=null,_=null,l(),a.registerErrorHandler(f),t.debug("Health check started"))},this.stop=function(){e.cancel(v),v=null,a.unRegisterErrorHandler(f),t.debug("Health check stopped")}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(5));a.$inject=["$timeout","$log","$document"];var o=1800,r=1e4,s=15e3},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function a(){var t=e.search();u=r.default.get(i(),!1),(0,o.default)(t,"mute")&&(u="true"===t.mute)}function i(){return t.includes("home.*")?c+".featured":c}var s=this,l=e.search(),c="smashcast.muteState",u=void 0,d=void 0,f=void 0;n.$on("$stateChangeSuccess",a),this.setMuted=function(e){u=e,r.default.set(i(),u)},this.isMuted=function(){return u},this.setVolume=function(e){d=e,r.default.set("smashcast.playerVolume",d)},this.getVolume=function(){return d},this.getBitrate=function(){return f},this.setBitrate=function(e){f=e,r.default.set("smashcast.br",f)},this.doAutoPlay=function(){var e=window.mobilecheck(),t="true"===l.autoplay;return!e&&(!s.isEmbed()||s.isEmbed()&&t)},this.isEmbed=function(){return!!e.path().match(/^\/embed/)},this.init=function(){d=r.default.get("smashcast.playerVolume",50),f=r.default.get("smashcast.br",2e3),a()},this.init()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=a(n(107)),r=a(n(16));i.$inject=["$location","$state","$rootScope"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/viewstats/:user_id",{user_id:"@user_id"},{save:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(648),r=a(n(16)),s=a(n(78));n(2188);var l=a(n(2189)),c=function(){function e(t,n,a,i,s,l){var c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mapState=function(e){return{cheeringEnabled:e.cheering}},this.mapDispatch=function(e){return{toggleCheering:function(){r.default.set("cheeringEnabled",!c.cheeringEnabled),c.Analytics.trackEvent("cheering",c.cheeringEnabled?"disable":"enable"),e(c.cheeringEnabled?(0,o.disable)():(0,o.enable)())}}},Object.assign(this,{$timeout:t,$element:n,$location:a,$window:i,Analytics:s}),this.$ngRedux=l,this.isPopout=this.$location.search().popout,this.hasPopOut=!1,this.cheeringEnabled=!0}return e.$inject=["$timeout","$element","$location","$window","Analytics","$ngRedux"],i(e,[{key:"$onInit",value:function(){this.cheers&&(this.unsubscribeRedux=this.$ngRedux.connect(this.mapState,this.mapDispatch)(this))}},{key:"$onDestroy",value:function(){this.unsubscribeRedux&&this.unsubscribeRedux()}},{key:"changeBitrate",value:function(e){this.hasTranscoding()&&(this.toggleQualitySelectMenu(),this.onChange&&this.onChange({bitrate:e}))}},{key:"hasActiveBitrate",value:function(){return this.mediaPlayerControlsCtrl.getActiveBitrate().length&&!this.qualitySelectMenuOpened}},{key:"isActiveBitrate",value:function(e){return e===this.mediaPlayerControlsCtrl.mediaPlayer.getBitrate()}},{key:"toggleQualitySelectMenu",value:function(){this.hasTranscoding()&&(this.qualitySelectMenuOpened=!this.qualitySelectMenuOpened)}},{key:"popOutPlayer",value:function(){var e=this,t=this.media.media_type_id===s.default.LIVE_STREAM?"/embed/"+this.media.media_name:"/embedvideo/"+this.media.media_id,n=this.$window.open(t+"?popout=true&autoplay=true","","toolbar=no,location=no,status=no,menubar=no,scrollbars=no,width=768,height=432,top=100,left=100");n&&(n.onbeforeunload=function(){e.mediaPlayerControlsCtrl.play(),e.hasPopOut=!1},this.mediaPlayerControlsCtrl.pause(),this.hasPopOut=!0,this.Analytics.trackEvent("stream","popout",this.media.media_name))}},{key:"showFPS",value:function(e){return 50===(e=parseInt(e,10))||60===e}},{key:"showPopoutOption",value:function(){return!(this.hasPopOut||this.isPopout||this.mediaPlayerControlsCtrl.isDashboard()||this.mediaPlayerControlsCtrl.isFullScreenEnabled())}},{key:"hasTranscoding",value:function(){return this.mediaPlayerControlsCtrl.mediaPlayer.getBitrates().length>1}},{key:"hasCheeringFeature",value:function(){return this.cheers}},{key:"toggleCheering",value:function(){}}]),e}();t.default={bindings:{onChange:"&?",onHide:"&?",media:"<",cheers:"<?"},require:{mediaPlayerControlsCtrl:"^mediaPlayerControls"},templateUrl:l.default,controller:c}},function(e,t){},function(e,t,n){var a="/src/js/player/components/media-player-quality-menu.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <div class=player-quality-menu ng-class="{\n        \'player-quality-menu--quality-select-is-open\': $ctrl.qualitySelectMenuOpened,\n    }"> <div class=player-quality-menu__wrapper> <div class=player-quality-menu__pages> <div class="player-quality-menu__page player-quality-menu__page--active-quality"> <ul ng-if=$ctrl.hasActiveBitrate() class="player-quality-menu__list player-quality-menu__list--qualities animate"> <li class=navigation__item ng-repeat="bitrate in $ctrl.mediaPlayerControlsCtrl.getActiveBitrate() track by bitrate.bitrate"> <a ng-click=$ctrl.toggleQualitySelectMenu() href=javascript:; ng-class="[\n                                \'navigation__item__link\',\n                                {\n                                    \'navigation__item__link--is-disabled\': !$ctrl.hasTranscoding(),\n                                },\n                            ]"> <span class=source ng-if=::bitrate.isDefault> Source&nbsp; </span> <span class=label> {{::bitrate.label}} </span> <span class=fps ng-if=$ctrl.showFPS(bitrate.fps)> {{::bitrate.fps}} </span> <span ng-if=::bitrate.qlabel class=quality> {{::bitrate.qlabel}} </span> <span class="player-quality-menu__icon player-quality-menu__icon--arrow-open"> <smash-icon data-icon=arrow-right data-size=12></smash-icon> </span> </a> </li> </ul> <ul ng-if=$ctrl.hasCheeringFeature() class="player-quality-menu__list player-quality-menu__list--is-cheering"> <li class=navigation__separator></li> <li class=navigation__item> <a ng-click=$ctrl.toggleCheering() href=javascript:; class=navigation__item__link> {{($ctrl.cheeringEnabled ? \'Disable Cheers\' : \'Enable Cheers\')}} </a> </li> </ul> <ul ng-if=$ctrl.showPopoutOption() class="player-quality-menu__list player-quality-menu__list--is-popout"> <li class=navigation__separator></li> <li class=navigation__item> <a ng-click=$ctrl.popOutPlayer() href=javascript:; class=navigation__item__link> <span class="player-quality-menu__icon player-quality-menu__icon--popout"> <smash-icon data-icon=popout data-size=16 data-center=true></smash-icon> </span> {{::\'global_button_popout\' | translate}} </a> </li> </ul> </div> <div class="player-quality-menu__page player-quality-menu__page--quality-settings"> <ul ng-if="($ctrl.mediaPlayerControlsCtrl.mediaPlayer.getBitrates().length + $ctrl.mediaPlayerControlsCtrl.mediaPlayer.getSubscriberBitrates().length) > 0 && $ctrl.qualitySelectMenuOpened" class="player-quality-menu__list player-quality-menu__list--qualities animate"> <li class=navigation__item> <a ng-click=$ctrl.toggleQualitySelectMenu() href=javascript:; class="navigation__item__link navigation__item__link--close-quality-menu"> <span> {{::\'global_text_quality\' | translate}} </span> <span class="player-quality-menu__icon player-quality-menu__icon--arrow-open"> <smash-icon data-icon=arrow-right data-size=12 data-center=true></smash-icon> </span> </a> </li> <li class=navigation__separator></li> <li class=navigation__item ng-repeat="bitrate in $ctrl.mediaPlayerControlsCtrl.mediaPlayer.getBitrates() track by bitrate.bitrate"> <a ng-click=$ctrl.changeBitrate(bitrate.bitrate) href=javascript:; ng-class="[\n                                \'navigation__item__link\',\n                                {\n                                    \'navigation__item__link--is-active\': $ctrl.isActiveBitrate(bitrate.bitrate),\n                                    \'navigation__item__link--is-disabled\': !$ctrl.hasTranscoding(),\n                                },\n                            ]"> <live-dot ng-if=$ctrl.isActiveBitrate(bitrate.bitrate)></live-dot> <span class=source ng-if=::bitrate.isDefault> Source&nbsp; </span> <span class=label> {{::bitrate.label}} </span> <span class=fps ng-if=$ctrl.showFPS(bitrate.fps)> {{::bitrate.fps}} </span> <span ng-if=::bitrate.qlabel class=quality> {{::bitrate.qlabel}} </span> </a> </li> </ul> </div> </div> </div> </div> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=a(n(133)),s=a(n(132)),l=a(n(2191));n(2192);var c=2e3,u=function(){function e(t,n,a,i,o,s,l,u,d,f){var p=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hideControlsDelayed=function(){p.controlHideTimeout&&p.$timeout.cancel(p.controlHideTimeout),p.controlHideTimeout=p.$timeout(function(){return p.hideControls()},c)},this.hideControls=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p.isControlVisible&&!p.controlVisibleLock&&(p.isControlVisible=!1,p.controlsVisibilityUsesAnimation=!e,e&&p.$timeout(function(){p.controlsVisibilityUsesAnimation=!0},100),p.broadcast("player.hideControls",e))},this.showControls=function(){p.showControlsDefault()},this.showControlsDelayed=(0,r.default)(function(){p.showControls=p.showControlsDefault,p.showControlsDefault()},300,{leading:!1}),this.getPlayState=function(){return p.mediaPlayerCtrl.getPlayState()},this.isDashboard=function(){return"dashboard"===this.$state.current.section},Object.assign(this,{$element:t,$rootScope:n,$scope:a,$state:i,$timeout:o,$window:s,DisplayService:l,Fullscreen:u,$log:d,Analytics:f}),this.controlsVisibilityUsesAnimation=!0,this.$scope.$on("player.reInit",this.unLockControlsDisplay.bind(this)),this.$scope.$on("player.status.autoplayError",this.forceShowControls.bind(this))}return e.$inject=["$element","$rootScope","$scope","$state","$timeout","$window","DisplayService","Fullscreen","$log","Analytics"],i(e,[{key:"$onInit",value:function(){var e=this;this.isControlVisible=!1,this.controlHideTimeout=!1,this.controlVisibleLock=!1,this.isTheaterModeEnabled=!1,this.$scope.$on("detailPage:theaterMode",function(t,n){e.forceHideControls(),e.isTheaterModeEnabled=n})}},{key:"isChannelInfoVisible",value:function(){return this.isTheaterModeEnabled||this.Fullscreen.isEnabled()||"embedplayer"===this.$rootScope.section||"embedvideo"===this.$rootScope.section}},{key:"getStatusHref",value:function(){return this.media?2===parseInt(this.media.media_type_id,10)?this.$state.href("detail.video",{channel:this.media.media_user_name,id:this.media.media_id}):this.$state.href("detail.feed",{channel:this.media.media_name}):this.$state.href("home.root")}},{key:"broadcast",value:function(e,t){this.$rootScope.$broadcast(e,t)}},{key:"forceHideControls",value:function(){this.showControls=this.showControlsDelayed,this.unLockControlsDisplay(),this.hideControls(!0)}},{key:"forceShowControls",value:function(){this.lockControlsDisplay(),this.showControlsDelayed()}},{key:"showControlsDefault",value:function(){this.hideControlsDelayed(),this.isControlVisible||(this.isControlVisible=!0,this.controlsVisibilityUsesAnimation=!0,this.broadcast("player.showControls"))}},{key:"lockControlsDisplay",value:function(){this.controlVisibleLock=!0}},{key:"unLockControlsDisplay",value:function(e){(this.isPlaying()||e)&&(this.controlVisibleLock=!1,this.hideControlsDelayed())}},{key:"goToDetailPage",value:function(e,t){function n(){this.$state.go("detail.feed",{channel:this.media.media_name})}t?n.call(this):this.$state.is("home.root")&&((0,o.element)(e.target)[0]===this.$element.find(".media-player-meta")[0]||t)&&n.call(this)}},{key:"toggleFullScreen",value:function(){var e=(0,s.default)(this.$element.closest(".fullScreenWrapper"));this.Fullscreen.isEnabled()||!e?this.Fullscreen.cancel():this.Fullscreen.enable(e),this.$log.debug("Full screen %s",this.Fullscreen.isEnabled()?"enabled":"disabled"),this.Analytics.trackEvent("fullscreen",this.Fullscreen.isEnabled()?"turned_on":"turned_off"),this.forceHideControls()}},{key:"bottomBarClick",value:function(e){e.stopPropagation()}},{key:"onClick",value:function(e){var t=this;this.goToDetailPage(e),this.clickTimeout||(this.clickTimeout=this.$timeout(function(){t.togglePlay(),t.clickTimeout=null},300))}},{key:"onDbClick",value:function(e){this.isDashboard()||(this.$timeout.cancel(this.clickTimeout),this.clickTimeout=null,this.stopPropagation(e),this.toggleFullScreen())}},{key:"togglePlay",value:function(e){e&&this.stopPropagation(e),this.isPlaying()?this.lockControlsDisplay():this.unLockControlsDisplay(!0),this.$rootScope.$broadcast("player.togglePlay"),this.showControls()}},{key:"isPlaying",value:function(){return"play"===this.getPlayState()}},{key:"togglePlayOnKeyPressed",value:function(e){switch(e.keyCode){case 32:case 179:e.preventDefault(),this.togglePlay(),this.showControls();break;case 27:this.isTheaterModeEnabled&&(e.preventDefault(),this.$rootScope.$broadcast("player.toggleTheater"))}}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"makePlayerBigAgain",value:function(e){this.stopPropagation(e),this.$state.is("detail.feed")||this.goToDetailPage(e,!0),this.$rootScope.$broadcast("detailPlayer:makeNormal",!0)}},{key:"hasCheeringFeature",value:function(){return this.cheers}},{key:"showingPlayerControls",value:function(){return this.isControlVisible||this.playButtonActive}}]),e}();t.default={bindings:{media:"<",playButtonActive:"<",cheers:"<?",simpleControls:"<?"},require:{mediaPlayerCtrl:"^mediaPlayer"},templateUrl:l.default,controller:u}},function(e,t,n){var a="/src/js/player/components/media-player-meta/media-player-meta.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<section ng-mousemove=$ctrl.showControls() ng-mouseleave=$ctrl.hideControls() tabindex=-1 ng-keydown=$ctrl.togglePlayOnKeyPressed($event) ng-click=$ctrl.onClick($event) ng-dblclick=$ctrl.onDbClick($event) ng-class=\"[\n        'media-player-meta',\n        {\n            'media-player-meta--is-video': !$ctrl.mediaPlayerCtrl.getMediaPlayer().isMediaALiveStream(),\n            'media-player-meta--has-default-controls': !$ctrl.simpleControls,\n            'media-player-meta--has-simple-controls': $ctrl.simpleControls,\n        },\n    ]\"> <media-player-mini-controls ng-if=!$ctrl.mediaPlayerCtrl.isLoading() show=\"($ctrl.isControlVisible || $ctrl.playButtonActive)\" state=$ctrl.mediaPlayerCtrl.getPlayState() on-expand=$ctrl.makePlayerBigAgain($event) on-toggle-play=$ctrl.togglePlay($event)></media-player-mini-controls> <div ng-show=\"$ctrl.showingPlayerControls() || $ctrl.mediaPlayerCtrl.isLoading()\" class=media-player-meta__wrap ng-class=\"{\n            'animate': $ctrl.controlsVisibilityUsesAnimation,\n        }\"> <div ng-click=$ctrl.stopPropagation($event) class=media-player-meta__controls> <div ng-if=$ctrl.mediaPlayerCtrl.getMediaPlayer().isMediaALiveStream() class=media-player-meta__stats> <span class=media-player-meta__live> <span class=media-player-meta__live__live> {{:: 'global_text_live' | translate }} </span> <media-player-stream-time ng-if=$ctrl.mediaPlayerCtrl.getMediaPlayer().isMediaALiveStream() media=$ctrl.media class=media-player-meta__live__time></media-player-stream-time> </span> <span class=media-player-meta__viewers> <span class=media-player-meta__viewers__icon> <smash-icon data-icon=user data-center=true></smash-icon> </span> <span class=media-player-meta__viewers__text> {{$ctrl.media.media_views}} </span> </span> </div> <div ng-if=!$ctrl.mediaPlayerCtrl.getMediaPlayer().isMediaALiveStream() class=media-player-meta__stats> <span class=media-player-meta__vod-date-views> <span class=media-player-meta__vod-date-views__date> {{::$ctrl.media.media_date_added | toDate}} </span> <span>{{::$ctrl.media.media_views }} {{:: 'global_text_view-views' | translate:{ COUNT: media.media_views }:'messageformat' }}</span> </span> </div> <div ng-mouseenter=$ctrl.lockControlsDisplay() ng-mouseleave=$ctrl.unLockControlsDisplay()> <media-player-controls data-is-visible=$ctrl.showingPlayerControls() data-content-url=$ctrl.mediaPlayerCtrl.getContentUrl() data-media=$ctrl.media data-overlay=$ctrl.mediaPlayerCtrl.mediaPlayerOverlay data-is-player-ready=$ctrl.mediaPlayerCtrl.isPlayerEnabled() data-toggle-full-screen=$ctrl.toggleFullScreen() data-cheers=$ctrl.hasCheeringFeature() data-simple-controls=$ctrl.simpleControls></media-player-controls> </div> </div> <div ng-mouseenter=$ctrl.lockControlsDisplay() ng-mouseleave=$ctrl.unLockControlsDisplay() class=media-player-meta__info> <a ng-if=$ctrl.isChannelInfoVisible() ui-sref=\"detail.feed({ channel: $ctrl.media.media_user_name })\" back-img={{$root.config.imgUrl}}{{$ctrl.media.channel.user_logo}} back-img-fallback={{::$root.config.fallbackImages.userLogo}} target=_blank rel=noopener class=\"media-player-meta__logo round\"></a> <div class=media-player-meta__info__text> <div class=media-player-meta__name-and-game> <a class=media-player-meta__name ui-sref=\"detail.feed({ channel: $ctrl.media.media_user_name })\" target=_blank rel=noopener> {{$ctrl.media.media_display_name}} </a> <span ng-if=$ctrl.media.category_name> <span class=media-player-meta__playing ng-if=$ctrl.mediaPlayerCtrl.getMediaPlayer().isMediaALiveStream()> {{::'global_text_streaming-verb' | translate}} </span> <span class=media-player-meta__playing ng-if=!$ctrl.mediaPlayerCtrl.getMediaPlayer().isMediaALiveStream()> {{::'global_text_played' | translate}} </span> <a class=media-player-meta__game ui-sref=\"game({ game_name:$ctrl.media.category_seo_key })\" target=_blank rel=noopener> {{$ctrl.media.category_name}} </a> </span> </div> <div ng-bind-html=\"$ctrl.media.media_status | hashtagFilter:$ctrl.media:true\" class=media-player-meta__status></div> </div> </div> <media-player-video-controls ng-if=!$ctrl.mediaPlayerCtrl.getMediaPlayer().isMediaALiveStream() ng-show=\"$ctrl.isControlVisible || $ctrl.playButtonActive\" ng-click=$ctrl.bottomBarClick($event) ng-mouseenter=$ctrl.lockControlsDisplay() ng-mouseleave=$ctrl.unLockControlsDisplay() media=$ctrl.media state=$ctrl.getPlayState() has-branding=\"$root.section === 'embedplayer' || $root.section === 'embedvideo'\" on-toggle-play=$ctrl.togglePlay($event)></media-player-video-controls> <htbx-wot-statistics ng-if=!$ctrl.mediaPlayerCtrl.isLoading() media-category-id=$ctrl.media.category_id media-user-name=$ctrl.media.media_user_name lock-controls=$ctrl.lockControlsDisplay() unlock-controls=$ctrl.unLockControlsDisplay() is-visible=$ctrl.isControlVisible></htbx-wot-statistics> <htbx-lol-statistics ng-if=!$ctrl.mediaPlayerCtrl.isLoading() media-category-id=$ctrl.media.category_id media-user-name=$ctrl.media.media_user_name lock-controls=$ctrl.lockControlsDisplay() unlock-controls=$ctrl.unLockControlsDisplay() is-visible=$ctrl.isControlVisible></htbx-lol-statistics> </div> <media-player-branding ng-if=\"$root.section === 'embedplayer' || $root.section === 'embedvideo'\" class=media-player__branding media=$ctrl.media></media-player-branding> </section> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2194));n(2195);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$state:t})}return e.$inject=["$state"],a(e,[{key:"getMediaSref",value:function(){return!this.media||this.media.isBanned?this.$state.href("home.root"):2===parseInt(this.media.media_type_id,10)?this.$state.href("detail.video",{channel:this.media.media_user_name,id:this.media.media_id}):this.$state.href("detail.feed",{channel:this.media.media_name})}}]),e}();t.default={bindings:{media:"<"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/player/components/media-player-branding/media-player-branding.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<a class="media-player-branding animate" ng-href={{$ctrl.getMediaSref()}} target=_blank rel=noopener> <logo class=logo></logo> </a> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(0)),r=a(n(13)),s=a(n(58)),l=a(n(78)),c=a(n(2197));n(2198);var u=!1,d=function(){function e(t,n,a,i,o,s,l,c,u,d,f,p,m){var h=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDashboard=function(){return"dashboard"===h.$state.current.section},this.onVolumeChange=function(){h.broadcast("player.setVolume",h.volume),h.refreshVolumeBasedOnMute()},this.refreshVolumeBasedOnMute=function(){h.$timeout(function(){this.volume=this.isMuted()?0:this.mediaPlayerConfig.getVolume()}.bind(h))},this.clickEvent=function(e){(0,r.default)(e.target).closest(h.$element).length||(e.preventDefault(),h.$timeout(h.hidePlayerSettings.bind(h)))},Object.assign(this,{$element:t,Fullscreen:n,Analytics:a,DisplayService:i,$rootScope:o,$scope:s,$state:l,mediaPlayerConfig:c,$timeout:u,$window:d,$location:f,Browser:p}),this.$ngRedux=m,this.$document=(0,r.default)(document)}return e.$inject=["$element","Fullscreen","Analytics","DisplayService","$rootScope","$scope","$state","mediaPlayerConfig","$timeout","$window","$location","Browser","$ngRedux"],i(e,[{key:"$onInit",value:function(){var e=this;this.autoplayError=!1,this.isReady=!1,this.isPopout=this.$location.search().popout,this.isFullScreenEnabled=this.Fullscreen.isEnabled,this.isTheaterEnabled=!1,this.isChannel="channel"===this.$state.current.section,this.animateCog=!1,this.qualityLabel="",this.hasPopOut=!1,this.volumeSliderOptions={orientation:"vertical",min:0,max:100,steps:1,range:"min",start:function(){e.isVolumeChanging=!0,e.mediaPlayerMetaCtrl.lockControlsDisplay()},stop:function(){e.isVolumeChanging=!1,e.mediaPlayerMetaCtrl.unLockControlsDisplay()}},this.mediaPlayer=this.mediaPlayerCtrl.getMediaPlayer(),this.getPlayState=this.mediaPlayerCtrl.getPlayState,this.isMediaALiveStream=this.mediaPlayer.isMediaALiveStream,this.getBitrates=this.mediaPlayer.getBitrates,this.getSubscriberBitrates=this.mediaPlayer.getSubscriberBitrates,this.getBitrate=this.mediaPlayer.getBitrate,this.mediaDuration=parseFloat(this.media.media_duration),o.default.isUndefined(this.isVisible)&&(this.isVisible=!0),this.DisplayService.deviceSize.update().then(function(t){u=t.isMobile||t.isTablet,e.isReady=!0}),this.refreshVolumeBasedOnMute(),this.$scope.$on("player.reInit",function(){e.animateCog=!0,e.qualityLabel=""}),this.$scope.$on("player.togglePlay",function(){e.$timeout.cancel(e.playIconTimeout),e.autoplayError=!1,e.playIconVisible=!0,"pause"===e.getPlayState()&&(e.playIconTimeout=e.$timeout(function(){e.playIconVisible=!1},500))}),this.$scope.$on("player.toggleTheater",function(){e.toggleTheater()}),this.$scope.$on("player.status.play",function(){e.autoplayError=!1,e.$timeout(function(){e.animateCog=!1,e.qualityLabel=function(){var e=this.getActiveBitrate()[0];return e&&e.qlabel?e.qlabel:""}.call(e)},400)}),this.$scope.$on("player.status.autoplayError",function(){e.autoplayError=!0,e.playIconVisible=!0}),this.$scope.$on("player.hideControls",function(){e.hidePlayerSettings()})}},{key:"$onChanges",value:function(e){e.isVisible&&!e.isVisible.currentValue&&(this.isTheaterTooltipOpen=!1,this.isFullscreenTooltipOpen=!1)}},{key:"popOutPlayer",value:function(){var e=this,t=this.media.media_type_id===l.default.LIVE_STREAM?"/embed/"+this.media.media_name:"/embedvideo/"+this.media.media_id;this.$window.open(t+"?popout=true&autoplay=true","","toolbar=no,location=no,status=no,menubar=no,scrollbars=no,width=768,height=432,top=100,left=100").onbeforeunload=function(){e.play(),e.hasPopOut=!1},this.pause(),this.hasPopOut=!0,this.Analytics.trackEvent("stream","popout",this.media.media_name)}},{key:"broadcast",value:function(e,t){this.$rootScope.$broadcast(e,t)}},{key:"togglePlay",value:function(){this.broadcast("player.togglePlay")}},{key:"toggleStereoScreen",value:function(){this.broadcast("player.vr.toggleStereoscopicMode")}},{key:"play",value:function(){this.broadcast("player.play")}},{key:"pause",value:function(){this.broadcast("player.pause")}},{key:"isMuted",value:function(){return this.mediaPlayerConfig.isMuted()}},{key:"toggleMute",value:function(){this.broadcast("player.toggleMute"),this.refreshVolumeBasedOnMute()}},{key:"toggleSettings",value:function(){this.showPlayerSettings=!this.showPlayerSettings,this.showPlayerSettings?this.$document.on("click touchstart",this.clickEvent):this.$document.off("click touchstart",this.clickEvent)}},{key:"hidePlayerSettings",value:function(){this.showPlayerSettings&&this.toggleSettings()}},{key:"isRecording",value:function(){return!this.media.media_id}},{key:"fullScreenEnabled",value:function(){return!this.isDashboard()&&"iPhone/iPod"!==this.Browser.getOS()}},{key:"isTheaterAvailable",value:function(){return"channel"===this.$state.current.section&&!u&&!this.isFullScreenEnabled()}},{key:"toggleTheater",value:function(){this.isTheaterEnabled=!this.isTheaterEnabled,this.broadcast("detailPage:theaterMode",this.isTheaterEnabled)}},{key:"getHDLabel",value:function(){var e=this.getActiveBitrate()[0];return e&&e.qlabel?e.qlabel:""}},{key:"changeBitrate",value:function(e){this.hasTranscoding()&&(this.hidePlayerSettings(),this.mediaPlayer.changeBitrate(e),this.broadcast("player.reInit"))}},{key:"getActiveBitrate",value:function(){return 0===this.getBitrates().length?[]:(0,s.default)(this.getBitrates(),["bitrate",this.getBitrate()])}},{key:"isVideoFinished",value:function(){return!this.mediaPlayer.isMediaALiveStream()&&Math.ceil(this.mediaPlayerCtrl.getCurrentTime())>=Math.floor(this.mediaDuration)}},{key:"replay",value:function(){this.broadcast("player.seekTo",0),this.broadcast("player.play")}},{key:"hasTranscoding",value:function(){return this.getBitrates().length>1}},{key:"$onDestroy",value:function(){this.$document.off("click touchstart",this.clickEvent)}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"hasCheeringFeature",value:function(){return this.cheers}},{key:"showTheaterTooltip",value:function(){this.isTheaterTooltipOpen=!0}},{key:"hideTheaterTooltip",value:function(){this.isTheaterTooltipOpen=!1}},{key:"showFullscreenTooltip",value:function(){this.isFullscreenTooltipOpen=!0}},{key:"hideFullscreenTooltip",value:function(){this.isFullscreenTooltipOpen=!1}}]),e}();t.default={bindings:{isVisible:"<?",media:"<",mediaPlayerOverlay:"<",contentUrl:"<",isPlayerReady:"<",toggleFullScreen:"&?",cheers:"<?",simpleControls:"<?"},require:{mediaPlayerCtrl:"^mediaPlayer",mediaPlayerMetaCtrl:"^mediaPlayerMeta"},templateUrl:c.default,controller:d}},function(e,t,n){var a="/src/js/player/components/media-player-controls/media-player-controls.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-class="[\n        \'player-controls\',\n        {\n            \'player-controls--has-default-controls\': !$ctrl.simpleControls,\n            \'player-controls--has-simple-controls\': $ctrl.simpleControls,\n        },\n    ]"> <div ng-show=$ctrl.playIconVisible class="player-controls__button player-controls__button--play" ng-class=$ctrl.getPlayState()> <div class=player-controls__button__icon> <smash-icon ng-if="($ctrl.getPlayState() === \'play\') || $ctrl.autoplayError" data-icon=play data-center=true></smash-icon> <smash-icon ng-if="($ctrl.getPlayState() === \'pause\') && !$ctrl.autoplayError" data-icon=pause data-center=true></smash-icon> </div> </div> <div ng-if="!$ctrl.simpleControls && !$ctrl.mediaPlayerCtrl.isLoading()" class=player-controls__replay-overlay> <button ng-if=$ctrl.isVideoFinished() ng-click=$ctrl.replay() type=button class="player-controls__button player-controls__button--replay animate"> <smash-icon data-icon=replay data-center=true></smash-icon> </button> </div> <ul ng-controller=CastCtrl class=player-controls__controls> <li ng-if=$ctrl.simpleControls class="player-controls__control player-controls__control--play-button"> <button ng-class=$ctrl.getPlayState() ng-click=$ctrl.togglePlay() type=button class=player-controls__button> <span class=player-controls__button__icon> <smash-icon ng-if="$ctrl.getPlayState() === \'pause\'" data-icon=play data-center=true></smash-icon> <smash-icon ng-if="$ctrl.getPlayState() === \'play\'" data-icon=pause data-center=true></smash-icon> </span> </button> </li> <li ng-if="!$ctrl.simpleControls && $ctrl.media.media_is_spherical" class="player-controls__control player-controls__control--stereoscopic"> <button ng-click=$ctrl.toggleStereoscopicMode() uib-tooltip="{{::\'player_controls_vr\' |  translate}}" tooltip-placement="auto bottom" type=button class="player-controls__button stereo"> <span class=player-controls__button__icon> <smash-icon data-icon=eye data-center=true></smash-icon> </span> </button> </li> <li ng-if="!$ctrl.simpleControls && !$ctrl.isRecording()" class="player-controls__control player-controls__control--quality-menu"> <div class=player-controls__control__wrapper> <button ng-click=$ctrl.toggleSettings() type=button class="player-controls__button player-controls__button--player-quality-menu"> <div class=player-controls__button__icon-wrap> <span class=quality-label ng-if=$ctrl.qualityLabel> <smash-icon data-icon="{{$ctrl.qualityLabel | lowercase}}"></smash-icon> </span> <span class=player-controls__button__icon ng-class="{\n                                \'player-controls__button__icon--rotate\': $ctrl.animateCog,\n                            }"> <smash-icon data-icon=settings></smash-icon> </span> </div> </button> <htbx-media-player-quality-menu data-ng-if=$ctrl.showPlayerSettings data-media=$ctrl.media data-on-change=$ctrl.changeBitrate(bitrate) data-on-hide=$ctrl.hidePlayerSettings() data-cheers=$ctrl.hasCheeringFeature() class="player-controls__quality-menu animate"></htbx-media-player-quality-menu> </div> </li> <li class="player-controls__control player-controls__control--volume"> <div class=player-controls__control__wrapper> <button class=player-controls__button ng-class="{\n                        mute: !$ctrl.isMuted(),\n                        unmute: $ctrl.isMuted(),\n                    }" ng-click=$ctrl.toggleMute() type=button> <span class=player-controls__button__icon> <smash-icon ng-if=!$ctrl.isMuted() data-icon=volume data-center=true></smash-icon> <smash-icon ng-if=$ctrl.isMuted() data-icon=mute data-center=true></smash-icon> </span> </button> <div class=player-controls__volume ng-class="{\n                        \'player-controls__volume--is-volume-changing\': $ctrl.isVolumeChanging,\n                    }"> <div ui-slider=$ctrl.volumeSliderOptions ng-model=$ctrl.volume ng-change=$ctrl.onVolumeChange() class=player-controls__volume__slider></div> </div> </div> </li> <li ng-if="!$ctrl.simpleControls && (castData.showReceiverPicker && $ctrl.media.media_user_name && !$ctrl.isDashboard())" class="player-controls__control player-controls__control--chromecast"> <button ng-click=selectReceiver() uib-tooltip="{{::\'player_controls_chromecast\' | translate}}" tooltip-placement="auto bottom" type=button id=receiverPicker class=player-controls__button> <span class=player-controls__button__icon> <smash-icon data-icon=cast data-center=true></smash-icon> </span> </button> </li> <li ng-if="!$ctrl.simpleControls && $ctrl.isTheaterAvailable()" class="player-controls__control player-controls__control--theater"> <button ng-click=$ctrl.toggleTheater() ng-mouseenter=$ctrl.showTheaterTooltip() ng-mouseleave=$ctrl.hideTheaterTooltip() uib-tooltip="{{($ctrl.isTheaterEnabled ? \'player_controls_exit-theater-mode\' : \'player_controls_theater-mode\') | translate}}" tooltip-placement="auto bottom" tooltip-is-open=$ctrl.isTheaterTooltipOpen type=button class="player-controls__button theater"> <span class=player-controls__button__icon> <smash-icon ng-if=$ctrl.isTheaterEnabled data-icon=theater-exit data-center=true></smash-icon> <smash-icon ng-if=!$ctrl.isTheaterEnabled data-icon=theater-icon data-center=true></smash-icon> </span> </button> </li> <li ng-if="!$ctrl.simpleControls && $ctrl.fullScreenEnabled()" class="player-controls__control player-controls__control--fullscreen"> <button ng-click=$ctrl.toggleFullScreen() ng-mouseenter=$ctrl.showFullscreenTooltip() ng-mouseleave=$ctrl.hideFullscreenTooltip() uib-tooltip="{{($ctrl.isFullScreenEnabled() ? \'player_controls_exit-fullscreen\' : \'player_controls_fullscreen\') | translate}}" tooltip-placement="auto bottom" tooltip-is-open=$ctrl.isFullscreenTooltipOpen type=button class="player-controls__button fullscreen"> <span class=player-controls__button__icon> <smash-icon ng-if=!$ctrl.isFullScreenEnabled() data-icon=fullscreen data-center=true></smash-icon> <smash-icon ng-if=$ctrl.isFullScreenEnabled() data-icon=fullscreen-exit data-center=true></smash-icon> </span> </button> </li> </ul> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2200));n(2201),t.default={bindings:{show:"<?",state:"<?",onExpand:"&?",onTogglePlay:"&?"},templateUrl:a.default}},function(e,t,n){var a="/src/js/player/components/media-player-mini-controls/media-player-mini-controls.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<ul ng-show=$ctrl.show class="media-player-mini-controls animate"> <li class=media-player-mini-controls__control> <button ng-click="$ctrl.onExpand({$event: $event})" type=button class=media-player-mini-controls__control__button> <smash-icon icon=popout size=32 center=true></smash-icon> </button> </li> <li class=media-player-mini-controls__control> <button ng-click="$ctrl.onTogglePlay({$event: $event})" type=button class="media-player-mini-controls__control__button media-player-mini-controls__control__button--{{$ctrl.state}}"> <smash-icon ng-if="$ctrl.state === \'pause\'" icon=play size=32 center=true></smash-icon> <smash-icon ng-if="$ctrl.state === \'play\'" icon=pause size=32 center=true></smash-icon> </button> </li> </ul> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2203));n(2204),t.default={bindings:{media:"<?",state:"<?",hasBranding:"<?",onTogglePlay:"&?"},templateUrl:a.default}},function(e,t,n){var a="/src/js/player/components/media-player-video-controls/media-player-video-controls.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="media-player-video-controls animate" ng-class="{\n        \'media-player-video-controls--has-branding\': $ctrl.hasBranding,\n    }"> <media-player-video-track-control media=$ctrl.media></media-player-video-track-control> <div class=media-player-video-controls__controls> <button type=button class="player-controls__button player-controls__button--play-video animate" ng-class=$ctrl.state ng-click="$ctrl.onTogglePlay({$event: $event})"> <smash-icon ng-if="$ctrl.state === \'pause\'" data-icon=play data-center=true></smash-icon> <smash-icon ng-if="$ctrl.state === \'play\'" data-icon=pause data-center=true></smash-icon> </button> <media-player-video-time media=$ctrl.media></media-player-video-time> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2206));n(2207),t.default={bindings:{show:"="},templateUrl:a.default}},function(e,t,n){var a="/src/js/player/components/media-player-loading.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-if=$ctrl.show class="media-player-loading animate"> <div id=player-loading class="media-player-loading__loader animate"> <smash-spinny size="\'large\'" data-center=true data-variant="\'light\'"></smash-spinny> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i){function h(n,i,s,d,p,h,g,_,v,b,y,w,$,x,k){function S(){return A=new n(O.mediaId,O.mediaType,O.recording),O.isMediaReady=A.isMediaReady,C(),A.loadMedia().then(function(e){return A?e:g.reject()}).then(T).then(P).then(E).then(A.loadConfig).then(O.isPlayerReady()?O.reInitPlayer:r.default.noop).then(C)}function C(){var t=!1,n=p.$on("player.play",function(){t=!0,n()});O.isPlayButtonActive=function(){var n=!t&&!e.doAutoPlay();return(0,o.isUndefined)(O.playButtonActive)||(O.playButtonActive=n),n}}function M(){return A}function E(){O.mediaPlayerOverlay.hide(),O.isOverlayActive=O.mediaPlayerOverlay.isActive,O.media.media_start_in_sec>0&&O.mediaPlayerOverlay.show("delay"),O.media.media_mature&&O.mediaPlayerOverlay.show("mature")}function T(){O.media=A.getMedia()}function P(){var e=void 0;O.media.media_start_in_sec>0&&(U=!1,e=1e3*(parseInt(O.media.media_start_in_sec,10)+30),L=d(function(){U=!0,O.reInitPlayer()},e))}var O=this,j={onInitSuccess:function(){B.resolve()},mediaPlayerGetter:M},A=void 0,I=void 0,L=void 0,U=!0,D=void 0,N=void 0,R=void 0,F=void 0,B=g.defer();if(!O.mediaId)throw new Error("Media id is undefined. Don't forget to set the media id!");t.debug('Media player started with media id "%s"',O.mediaId),O.mediaPlayerOverlay=new h,O.getMediaPlayer=M,p.$watch(function(){return O.mediaId},function(e,n){n!==e&&(t.debug("Media id changed in player (%s => %s), reinit...",n,e),O.isPlayerReady()&&(N.destroy(),N=null),A&&A.destroy(),d(function(){S().then(O.reInitPlayer)}))}),O.isFullScreenEnabled=_.isEnabled,O.isLoading=function(){return!O.isPlayerReady()||N.isLoading()},O.isMediaPlayerHidden=function(){return O.isLoading()&&D!==m.VIDEO_JS},O.getPlayState=function(){return!O.isPlayerReady()||N.paused()?"pause":"play"},O.initPlayer=(0,l.default)(function(){A.onReady(O.reInitPlayer)}),O.reInitPlayer=function(){!function(){function e(){return D!==n}var n=A.getStreamData().player;U&&(O.isPlayerReady()&&e()&&(N.destroy(),N=null,U=!1,B.reject(),B=g.defer(),d(function(){U=!0})),e()||!O.isPlayerReady()?I=d(function(){function e(e){try{N=new e(F(),j)}catch(e){o(e)}}function o(e){t.warn("Error during %s player instantiation. %s",n,e),A.isLastCDNSelected()?k.updateStatus(O.media).then(function(){A.isMediaReady()&&(O.mediaPlayerOverlay.show("noFlash"),t.error("Could not find any supported tech"))}):A.switchCDN()}a.trackEvent("MediaPlayer","tech",n),O.media.media_is_spherical&&(a.trackEvent("MediaPlayer","vr",!0),R&&R.destroy(),R=new b(F(),{controlLayer:y.find(".media-player-meta")[0]})),n===m.VIDEO_JS?v.loadScript(f.default.staticUrl+"/js/lazyloadPlayer.js").then(function(){e(i)}).catch(o):n===m.HLSJS?e(s):n===m.NATIVE&&e(w),D=n},0,!1):N.reInit())}()},O.isPlayerEnabled=function(){return U},O.setVideoElementReferenceGetter=function(e){F=e},O.isPlayerReady=function(){return!!N},O.getCurrentTime=function(){return O.isPlayerReady()?N.getCurrentTime():0},O.getContentUrl=function(){return(O.isPlayerReady()?A.getStreamData():{}).src},O.getBufferedPercentage=function(){return O.isPlayerReady()&&(0,u.default)(N.getBufferedPercentage)?N.getBufferedPercentage():0},O.isDashboard=function(){return"dashboard"===$.current.section},O.isOnChannelPage=function(){return"channel"===$.current.section},O.hasCheeringFeature=function(){return O.cheers&&O.isOnChannelPage()},p.$on("$destroy",function(){U=!1,d.cancel(I),d.cancel(L),t.debug('Media player is destroying with media id "%s"',O.mediaId),R&&(R.destroy(),R=null),N&&(N.destroy(),N=null),A&&(A.destroy(),A=null)}),S(),function(){function e(){N.play()}function t(){N.pause()}function n(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];B.promise.then(function(){O.isPlayerReady()&&e.apply(void 0,n)})}p.$on("player.toggleMute",(0,c.default)(function(){N.toggleMute()},n)),p.$on("player.togglePlay",(0,c.default)(function(){N.paused()?e():t()},n)),p.$on("player.play",(0,c.default)(e,n)),p.$on("player.pause",(0,c.default)(t,n)),p.$on("player.reInit",(0,c.default)(function(){O.captureVideo(),d(function(){N.reInit()})},n)),p.$on("player.seekTo",(0,c.default)(function(e,t){N.seekTo(t)},n)),p.$on("player.setVolume",(0,c.default)(function(e,t){N.setVolume(t)},n)),p.$on("player.vr.toggleStereoscopicMode",(0,c.default)(function(){R&&R.toggleStereoscopicMode()},n))}()}function g(a,o,l,c){function u(){return(0,d.default)(o.find("video.mediaPlayer"))}function f(){var e=o.width(),t=Math.ceil(e/100);t=Math.max(t,7),t=Math.min(t,12),o.css({fontSize:t+"px"})}function p(){var e=i.getState().chat;_&&null!==b&&b!==e.enabled&&_(),b=e.enabled}var m=o.find(".player-thumbnail"),h=(0,d.default)(m.find(".player-loading-placeholder")),g=void 0,_=void 0,v=void 0,b=null;c.setVideoElementReferenceGetter(u),t.debug("Autoplay is %s",e.doAutoPlay()?"active":"inactive"),(e.doAutoPlay()||window.mobilecheck())&&(c.initPlayer(),n.$broadcast("player.status.init")),c.captureVideo=function(){var e=u();if(!r.default.element(e).is("video"))return!1;h.width=e.videoWidth,h.height=e.videoHeight;var t=h.getContext("2d");return t.drawImage(e,0,0),t},function(){if(!c.simpleControls){f(),g=n.$on("WindowResize",f),_=(0,s.default)(f,200),v=n.$on("detailPage:theaterMode",_),p();var e=i.subscribe(p);a.$on("$destroy",function(){e&&e(),g&&g(),v&&v(),_&&v()})}}()}return g.$inject=["scope","element","attrs","vm"],h.$inject=["MediaPlayer","VideoJsPlayer","HlsPlayer","$timeout","$scope","MediaPlayerOverlay","$q","Fullscreen","angularLoad","EleVRPlayer","$element","NativePlayer","$state","DisplayService","medias"],{restrict:"E",scope:{mediaId:"=",mediaType:"@",recording:"=?",playButtonActive:"=",cheers:"<?",simpleControls:"<?"},controllerAs:"mediaPlayer",bindToController:!0,templateUrl:p.default,controller:h,require:"mediaPlayer",link:g}}Object.defineProperty(t,"__esModule",{value:!0}),t.PLAYER_TECH=void 0,t.default=i;var o=n(0),r=a(o),s=a(n(43)),l=a(n(2209)),c=a(n(663)),u=a(n(45)),d=a(n(132)),f=a(n(2)),p=a(n(2211));n(2212),i.$inject=["mediaPlayerConfig","$log","$rootScope","Analytics","$ngRedux"];var m=t.PLAYER_TECH={VIDEO_JS:"videoJs",HLSJS:"hlsjs",NATIVE:"native"}},function(e,t,n){var a=n(2210);e.exports=function(e){return a(2,e)}},function(e,t,n){var a=n(90);e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=a(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}},function(e,t,n){var a="/src/js/player/directives/media-player.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="media-player__wrapper {{mediaPlayer.getPlayState()}} nono" ng-class="{\n        isFullscreen: mediaPlayer.isFullScreenEnabled(),\n    }"> <media-player-meta ng-if="mediaPlayer.isMediaReady() && !mediaPlayer.isPlayButtonActive()" media=mediaPlayer.media play-button-active=mediaPlayer.playButtonActive cheers=mediaPlayer.hasCheeringFeature() simple-controls=mediaPlayer.simpleControls></media-player-meta> <media-player-loading data-show="mediaPlayer.isLoading() && mediaPlayer.media.media_is_live !== \'0\' && !mediaPlayer.isPlayButtonActive()"></media-player-loading> <div class=player-thumbnail> <div class=player-image back-img={{::$root.config.imgUrl}}{{mediaPlayer.media.media_thumbnail_large}}></div> <canvas class=player-loading-placeholder></canvas> </div> <div ng-hide="!mediaPlayer.isMediaReady() || mediaPlayer.isMediaPlayerHidden()" ng-if=mediaPlayer.isPlayerEnabled() class="player animate" style=width:100%;height:100%> <video class=mediaPlayer style=width:100%;height:100% autoplay webkit-playsinline playsinline></video> <device-check ng-if=mediaPlayer.hasCheeringFeature() show-if-mobile=false show-if-tablet=false show-if-desktop=true> <htbx-cheering-overlay></htbx-cheering-overlay> </device-check> </div> <div ng-show=!mediaPlayer.isPlayButtonActive()> <div ng-if=!!mediaPlayer.media> <media-player-overlays ng-if="mediaPlayer.isOverlayActive() && !mediaPlayer.isDashboard()" media=mediaPlayer.media overlay=mediaPlayer.mediaPlayerOverlay class=animate></media-player-overlays> </div> </div> <media-player-play ng-if=mediaPlayer.isPlayButtonActive()></media-player-play> <media-player-branding ng-if="($root.section === \'embedplayer\' || $root.section === \'embedvideo\') && (!mediaPlayer.isMediaReady() || mediaPlayer.isPlayButtonActive())" class=media-player__branding media=$ctrl.media></media-player-branding> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t){this.play=function(){t.doAutoPlay()||window.mobilecheck()||e.mediaPlayer.initPlayer(),e.$emit("player.play")}}return e.$inject=["$scope","mediaPlayerConfig"],{restrict:"E",templateUrl:a.default,replace:!0,controllerAs:"mediaPlayerPlay",bindToController:!0,controller:e}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2214));n(2215)},function(e,t,n){var a="/src/js/player/directives/media-player-play-directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div id=playButton class="player-play animate" style="background-image:url(\'{{::$root.config.imgUrl + mediaPlayer.media.media_thumbnail_large}}\')" ng-click=mediaPlayerPlay.play()> <smash-icon icon=play></smash-icon> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t,n){function a(){i.media&&(i.mediaLifeTime=n(i.media.media_live_since))}var i=this,o=t(a,6e4);a(),e.$on("$destroy",function(){t.cancel(o)})}return e.$inject=["$scope","$interval","mediaLifeTimeFilter"],{restrict:"E",scope:{media:"="},require:"^mediaPlayer",templateUrl:a.default,replace:!0,controllerAs:"mediaPlayerStreamTime",bindToController:!0,controller:e}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2217))},function(e,t,n){var a="/src/js/player/directives/media-player-stream-time-directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=player-controls-time> {{:: 'view_player_text_for' | translate }} {{ mediaPlayerStreamTime.mediaLifeTime }} </div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){function t(t,n,a,i){t.currentTime="",t.mediaDuration=parseFloat(t.media.media_duration);var o=e(function(){t.currentTime=i.getCurrentTime(),t.currentTime>t.mediaDuration&&(t.currentTime=t.mediaDuration)},1e3);t.$on("$destroy",function(){e.cancel(o)})}return t.$inject=["scope","element","attrs","mediaPlayerController"],{restrict:"E",scope:{media:"="},require:"^mediaPlayer",templateUrl:i.default,replace:!0,link:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2219));n(2220),a.$inject=["$interval"]},function(e,t,n){var a="/src/js/player/directives/media-player-video-time-directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=player-controls-time> {{currentTime | stringifySeconds}} / {{::mediaDuration | stringifySeconds}} </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i){function l(a,s,l,c){function u(e){return(((0,o.default)(e.offsetX)?e.layerX:e.offsetX)/s.width()*100).toFixed(2)}function d(e){return parseInt(e/100*m,10)}function f(){return r.default.get("player.videoPlaybackPositions",{})}function p(){return!a.media.media_id}var m=parseFloat(a.media.media_duration),h=s.find(".progress"),g=s.find(".buffer"),_=e(function(){if(h&&g){var e=parseInt(c.getCurrentTime(),10);e>m&&(e=m),requestAnimationFrame(function(){h.width((e/m*100).toFixed(2)+"%"),g.width((100*c.getBufferedPercentage()).toFixed(2)+"%")}),function(e){if(e&&!p()){var t=f();t[a.media.media_id]=e,r.default.set("player.videoPlaybackPositions",t)}}(e)}},1e3,0,!1),v=a.$on("player.status.play",function(){v();var e=i.search();!function(e){if(!p()){var i=f();!(e=e||i[a.media.media_id])||e>=m||(n.$broadcast("player.seekTo",e),t.debug("Getting video playback position ("+a.media.media_id+":"+e+")"))}}(parseInt(e.t,10)),i.search({t:null})});a.$on("$destroy",function(){e.cancel(_),h=null,g=null}),a.seekTo=function(e){var t=u(e);a.$emit("player.seekTo",d(t))},a.seekPreview=function(e){var t=u(e);a.trackPreviewPositionX=t,a.previewTime=d(t)}}return l.$inject=["scope","element","attrs","mediaPlayerController"],{restrict:"E",scope:{media:"="},require:"^mediaPlayer",templateUrl:s.default,replace:!0,link:l}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=a(n(11)),r=a(n(16)),s=a(n(2222));n(2223),i.$inject=["$interval","$log","$rootScope","$timeout","$location"]},function(e,t,n){var a="/src/js/player/directives/media-player-video-track-control-directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="player-track trackTooltip" ng-click=seekTo($event) ng-mousemove=seekPreview($event)> <div id=track-time ng-style="{left: trackPreviewPositionX + \'%\'}">{{previewTime | stringifySeconds}}</div> <div class=track-seek ng-style="{width: trackPreviewPositionX + \'%\'}"></div> <div class=track-bg></div> <div class=buffer></div> <div class=progress></div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2225));n(2226);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.detailMedia=t}return e.$inject=["detailMedia"],a(e,[{key:"$onInit",value:function(){var e=this.detailMedia.get();!this.media&&e&&(this.media=e.media)}},{key:"close",value:function(){this.onClose&&this.onClose()}}]),e}();t.default={bindings:{media:"<",title:"@",onClose:"&?",overlay:"<?"},templateUrl:i.default,transclude:!0,controller:o}},function(e,t,n){var a="/src/js/player/components/media-player-overlay/media-player-overlay.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=player-overlay ng-class=$ctrl.overlay.getClassName()> <div class=player-overlay__background back-img={{::$root.config.imgUrl}}{{$ctrl.media.media_thumbnail_large}}></div> <div class=player-overlay-content-wrap> <htbx-button-close ng-if=::$ctrl.onClose data-variant=modal data-on-select=$ctrl.close()></htbx-button-close> <div class=player-overlay-content> <div class=player-overlay-title> {{::$ctrl.title}} </div> <div ng-transclude></div> </div> </div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return function(){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n.target?(this.options=Object.assign({},r,n),this.$window=(0,o.default)(window),this.$scrollable=this.$window,this.$target=this.options.target,this.locked=!1,this.scrolled=!1,this.previousScroll=this.$scrollable.scrollTop(),this.checkEvent=this.check.bind(this),this.$scrollable.on("scroll",this.checkEvent)):e.debug("Error: missing target")}return i(t,[{key:"lock",value:function(){this.$target&&(this.locked=!0,this.$target.addClass(this.options.classNames.locked))}},{key:"unlock",value:function(){this.$target&&(this.locked=!1,this.$target.removeClass(this.options.classNames.locked))}},{key:"destroy",value:function(){this.$scrollable.off("scroll",this.checkEvent),this.$scrollable=null,this.$target=null,this.scrolled=!1,this.firstTimeScrolledDown=!1}},{key:"check",value:function(){var e=this.$scrollable.scrollTop();e>this.previousScroll?(this.$target.removeClass(this.options.classNames.up),this.$target.addClass(this.options.classNames.down),this.firstTimeScrolledDown||(this.firstTimeScrolledDown=!0,this.$target.addClass(this.options.classNames.firstDown))):e<this.previousScroll&&(this.$target.removeClass(this.options.classNames.down),this.$target.removeClass(this.options.classNames.firstDown),this.$target.addClass(this.options.classNames.up)),!this.scrolled&&e>this.options.offsets.down?(this.scrolled=!0,this.$target.addClass(this.options.classNames.scrolled)):this.scrolled&&e<=this.options.offsets.up&&(this.scrolled=!1,this.firstTimeScrolledDown=!1,this.$target.removeClass(this.options.classNames.scrolled),this.$target.removeClass(this.options.classNames.up),this.$target.removeClass(this.options.classNames.down),this.$target.removeClass(this.options.classNames.firstDown)),this.previousScroll=e}}]),t}()}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(13));a.$inject=["$log"];var r={target:null,offsets:{up:0,down:0},classNames:{scrolled:"scrolled",up:"scrolled--up",down:"scrolled--down",firstDown:"scrolled--down-start",locked:"scrolled--locked"}};t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2229)),r=a(n(2230)),s=a(n(2233)),l=a(n(2235));t.default=i.default.module("htbx.report",[]).factory("Report",o.default).component("htbxReportModal",r.default).component("htbxReportModalTrigger",s.default).config(["$stateProvider",function(e){e.state("report",{url:"/report/:channel",section:"report",title:'{{"global_text_report-user" | translate}}',views:{"viewMain@":{templateUrl:l.default,controller:["$stateParams",function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.username=t.channel}],controllerAs:"$ctrl"}}}).state("report.success",{url:"/success",section:"report",title:'{{"global_text_report-user" | translate}}',views:{"viewMain@":{template:"<div></div>"}}})}]).name},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/report/:media_id",{media_id:"@media_id",media_type:"@media_type"},{send:{method:"POST",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2231));n(2232);var o=function(){function e(t,n,a,i,o,r,s,l,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$scope:t,$rootScope:n,Analytics:a,Report:i,loggedUser:o,medias:r,$translate:s,$state:l,$window:c}),this.report={reason:"",message:""}}return e.$inject=["$scope","$rootScope","Analytics","Report","loggedUser","medias","$translate","$state","$window"],a(e,[{key:"$onInit",value:function(){var e=this;if(this.REPORT_REASONS=[{value:"Copyright Infringement",label:this.$translate.instant("view_report_label_copyright-infringement")},{value:"Non-Gaming Content",label:this.$translate.instant("view_report_label_non-gaming-content")},{value:"Self-Harm",label:this.$translate.instant("view_report_label_self-harm")},{value:"Harassment",label:this.$translate.instant("view_report_label_harassment")},{value:"Staff Impersonation",label:this.$translate.instant("view_report_label_staff-impersonation")},{value:"Spam",label:this.$translate.instant("view_report_label_spam")},{value:"Other Terms-of-Service Violation",label:this.$translate.instant("view_report_label_other-violation")}],this.loading=!1,!this.resolve||this.resolve&&!this.resolve.media)return this.loading=!0,void this.medias.get(this.username,"live").then(function(t){e.media=t,e.loading=!1});this.media=this.resolve.media}},{key:"sendReport",value:function(){var e=this,t={reason:this.report.reason,message:this.report.message,authToken:this.loggedUser.getToken(),media_type:this.media.media_type,media_id:this.media.media_id,recaptcha:this.recaptcha};this.attachment&&(t.message=t.message+" "+this.attachment),this.loading=!0,this.Report.send(t).$promise.then(function(){e.sent=!0,e.isApp&&e.$state.go("report.success",{channel:e.username}).then(function(){return e.$window.location.reload()}),e.close&&e.close()}).finally(function(){e.loading=!1}),this.Analytics.trackEvent("user","reportSend")}},{key:"setCaptchaResponse",value:function(e){this.recaptcha=e}}]),e}();t.default={bindings:{close:"&",dismiss:"&",resolve:"<?",hideClose:"<?",username:"@?",isApp:"<?"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/report/components/report-modal.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <htbx-button-close ng-if=!$ctrl.hideClose data-variant=modal-fixed data-on-select=$ctrl.close()></htbx-button-close> <div class=report> <form accept-charset=UTF-8 ng-submit=$ctrl.sendReport() class="modal-body report__form"> <section class=head> {{::($ctrl.username ? (\'global_text_report-user-custom\' | translate:{ username: $ctrl.username }) : (\'global_text_report-user\' | translate)) }} </section> <section class="inputs cf"> <div> <ul class=report__reasons> <li ng-repeat="reason in $ctrl.REPORT_REASONS track by $index" class=report__reason> <input type=radio name=report-radio id=reason_{{::$index}} value={{::reason.value}} ng-model=$ctrl.report.reason ng-disabled=$ctrl.sent class=report__reason__input /> <label for=reason_{{::$index}} class=report__reason__label> {{::reason.label}} </label> </li> </ul> </div> <div> <textarea name=message placeholder="{{\'global_text_message\' | translate}}" class=htbx-modal__body__textarea ng-model=$ctrl.report.message ng-disabled=$ctrl.sent></textarea> </div> </section> <recaptcha-check-field on-success=$ctrl.setCaptchaResponse(key) on-expire="$ctrl.recaptcha = null"></recaptcha-check-field> <section class=report__form__submit-wrap> <htbx-button data-type=submit data-variant=ok data-loading=$ctrl.loading data-disabled="!$ctrl.report.reason || !$ctrl.recaptcha || $ctrl.sent" data-loading-spinny=true> {{($ctrl.sent ? \'global_text_report-sent\' : \'view_report_button_send-report\') | translate}} </htbx-button> </section> </form> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2234)),o=function(){function e(t,n,a){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$uibModal:t,Analytics:n,detailMedia:a}),this.opts={animation:!0,backdrop:!0,keyboard:!1,windowClass:"modal report-modal",component:"htbxReportModal",resolve:{media:function(){return i.media||i.detailMedia.get().media}}}}return e.$inject=["$uibModal","Analytics","detailMedia"],a(e,[{key:"openDialog",value:function(){this.$uibModal.open(this.opts)}}]),e}();t.default={bindings:{customClass:"@?",media:"<?"},templateUrl:i.default,controller:o,transclude:!0}},function(e,t,n){var a="/src/js/report/components/report-modal-trigger.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<a class="report-modal-trigger {{$ctrl.customClass}}" ng-click=$ctrl.openDialog() ng-transclude></a> ')}]),e.exports=a},function(e,t,n){var a="/src/js/report/views/report-page.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<htbx-layout data-variant=large data-page=broadcast-tools class=studio-apps data-show-footer=false> <htbx-layout-content> <div class="report-modal report-modal--app"> <htbx-report-modal data-hide-close=true data-username={{::$ctrl.username}} data-is-app=true></htbx-report-modal> </div> </htbx-layout-content> </htbx-layout> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2237));t.default=i.default.module("htbx.feed.post",[]).component("feedPost",o.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2238)),r=function(){function e(t,n,a,i,o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleImageClick=function(e){var t=e.currentTarget.getAttribute("data-feed-image-modal");if(t){e.preventDefault(),r.$uibModalStack.dismissAll();var n={proxyUrl:t},a={animation:!0,backdrop:!0,keyboard:!0,windowClass:"image-modal",backdropClass:"image-modal",component:"ImageLogImageModal",resolve:{image:function(){return n},hideRepost:function(){return!0}}};r.$uibModal.open(a)}},this.getEmotes=function(){var e=r.emotes.emotifierEmotes,t=r.emotes.emotifierSubEmotes,n=[];return e&&t&&(n=(n=e.getEmotes()).concat(t.getEmotes())),n},this.getTranslation=function(e,t){return r.$translate.instant(e,t)},Object.assign(this,{emotes:t,$translate:n,$uibModal:a,$timeout:i,$uibModalStack:o})}return e.$inject=["emotes","$translate","$uibModal","$timeout","$uibModalStack"],a(e,[{key:"$onInit",value:function(){var e=this;this.text=this.text.replace(/&gt;/g,">").replace(/&lt;/g,"<"),this.$timeout(function(){(0,i.element)("[data-feed-image-modal]").off("click.feedImage"),(0,i.element)("[data-feed-image-modal]").on("click.feedImage",e.handleImageClick)})}}]),e}();t.default={bindings:{text:"@",meta:"<?"},templateUrl:o.default,controller:r}},function(e,t,n){var a="/src/js/feed/post/components/post.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<react-feed-post text=::$ctrl.text get-emotes=$ctrl.getEmotes meta=::$ctrl.meta></react-feed-post> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2240));t.default=i.default.module("htbx.feed.esport",[]).component("feedEsport",o.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2241));n(2242),t.default={bindings:{item:"<"},templateUrl:a.default}},function(e,t,n){var a="/src/js/feed/esport/components/esport.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=esport-feed-item> <htbx-esports-scores data-size=feed data-data=::$ctrl.item data-show-tooltips=true data-variant=default></htbx-esports-scores> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2244));t.default=i.default.module("htbx.feed.video",[]).component("feedVideo",o.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(2)),r=a(n(2245));n(2246);var s=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$sce:t,$rootScope:n,$state:a,$timeout:i}),this.isPlayerEnabled=!1}return e.$inject=["$sce","$rootScope","$state","$timeout"],i(e,[{key:"enablePlayer",value:function(){var e=this;window.mobilecheck()?this.$timeout(function(){e.$state.go("detail.video",{id:e.item.media_id},{reload:!0})}):this.isPlayerEnabled=!0}},{key:"getVideoUrl",value:function(){var e=o.default.baseUrl+"/embed/video/"+this.item.media_id+"?autoplay=true";return this.$sce.trustAsHtml(e),e}}]),e}();t.default={bindings:{item:"<"},templateUrl:r.default,controller:s}},function(e,t,n){var a="/src/js/feed/video/components/video.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=video-feed-item> <div class=video-feed-item__video ng-click=$ctrl.enablePlayer() back-img="{{::$root.config.imgUrl + $ctrl.item.media_thumbnail_large}}" back-img-fallback={{::$root.config.fallbackImages.videoMedia}}> <div ng-if=!$ctrl.isPlayerEnabled class=video-feed-item__video__play> <smash-icon data-icon=play></smash-icon> </div> <iframe ng-if=$ctrl.isPlayerEnabled ng-src={{::$ctrl.getVideoUrl()}} frameborder=0 allowfullscreen></iframe> </div> <div class=video-feed-item__meta> <p class=video-feed-item__meta__title ng-bind-html="$ctrl.item.media_title | hashtagFilter:$ctrl.item"> {{::$ctrl.item.media_title}} </p> <p class=video-feed-item__meta__game> <a ui-sref="game({game_name: $ctrl.item.category_seo_key})"> {{::$ctrl.item.category_name}} </a> </p> <p class=video-feed-item__meta__description ng-bind-html="::$ctrl.item | mediaDescriptionMD"></p> <detail-total-views data-children="::$ctrl.item.media_views | number" class=video-feed-item__meta__views></detail-total-views> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2248));t.default=i.default.module("htbx.feed.poll",[]).component("feedPoll",o.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2249));n(2250),t.default={bindings:{item:"<",type:"<"},templateUrl:a.default,controller:function e(){var t=this;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.getPercentage=function(e){return"poll"===t.type&&t.item.votes?(e.votes/t.item.votes*100).toFixed(1):0}}}},function(e,t,n){var a="/src/js/feed/poll/components/poll.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=poll-feed-item> <div class=poll-feed-item__title> {{::$ctrl.item.question}} </div> <div ng-if=\"::$ctrl.type === 'raffle'\"> <div class=poll-prize-head> <span>{{::'global_text_win' | translate}}</span>: </div> <div class=poll-prize> {{::$ctrl.item.prize}} </div> </div> <ul class=poll-feed-item__answers> <li ng-repeat=\"answer in ::$ctrl.item.choices track by $index\" class=poll-feed-item__answer> <span class=poll-feed-item__answer__text> {{::answer.text}} </span> <div class=poll-feed-item__answer__bar> <div ng-style=\"::{ width: $ctrl.getPercentage(answer) + '%'}\" class=poll-feed-item__answer__bar__inner></div> </div> <div ng-if=\"::$ctrl.type === 'poll'\" class=poll-feed-item__answer__votes> {{::$ctrl.getPercentage(answer)}}% </div> </li> </ul> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2252));t.default=i.default.module("htbx.feed.streamInfo",[]).component("feedStreamInfo",o.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2253));t.default={bindings:{item:"<",userName:"<"},templateUrl:a.default}},function(e,t,n){var a="/src/js/feed/stream-info/components/stream-info.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=stream-info-feed-item> <h3>{{$ctrl.userName}} played {{$ctrl.item.category_name}}</h3> <h5>{{$ctrl.item.media_description}}</h5> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/feed/components/feed-item/feed-item.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<article ng-class=\"[\n        'feed-item',\n        {\n            'feed-item--deleting': $ctrl.isDeleting,\n            'feed-item--is-default-mode': !$ctrl.compactMode,\n            'feed-item--is-compact-mode': $ctrl.compactMode,\n            'feed-item--highlighted': $ctrl.item.highlighted,\n        },\n    ]\"> <feed-item-header logo={{$ctrl.userData.logo}} name={{$ctrl.userData.name}} time=$ctrl.getTime() deleteable=$ctrl.isAdminOfChat on-delete=$ctrl.deleteConfirm() compact-mode=::$ctrl.compactMode feed-item=$ctrl.item></feed-item-header> <section class=feed-item__content ng-switch=::$ctrl.item.type> <feed-post ng-switch-when=post data-text={{::$ctrl.item.data.text}} compact-mode=::$ctrl.compactMode data-meta=::$ctrl.item.data.meta></feed-post> <feed-esport ng-switch-when=esport data-item=::$ctrl.item.data compact-mode=::$ctrl.compactMode></feed-esport> <feed-video ng-switch-when=video data-item=::$ctrl.item.data compact-mode=::$ctrl.compactMode></feed-video> <feed-poll ng-switch-when=poll|raffle ng-switch-when-separator=| data-type=::$ctrl.item.type data-item=::$ctrl.item.data compact-mode=::$ctrl.compactMode></feed-poll> <feed-stream-info ng-switch-when=live data-item=::$ctrl.item.data user-name=::$ctrl.userData.name compact-mode=::$ctrl.compactMode></feed-stream-info> </section> </article> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(11)),r=a(n(2257)),s=a(n(2258));n(2259);var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$state=t,this.$uibModal=n,this.templateUrlHeaderActions=s.default}return e.$inject=["$state","$uibModal"],i(e,[{key:"$onInit",value:function(){(0,o.default)(this.variant)&&(this.variant="default"),this.hosting&&(this.variant="hosting"),this.streaming&&(this.variant="streaming"),(0,o.default)(this.deleteable)&&(this.deleteable=!1)}},{key:"isDeleteable",value:function(){return this.deleteable}},{key:"share",value:function(){var e=this,t={animation:!0,backdrop:!0,keyboard:!1,windowClass:"modal detail-share-modal",component:"FeedShareModal",resolve:{feedItem:function(){return e.feedItem},userName:function(){return e.name}}};this.$uibModal.open(t)}}]),e}();t.default={bindings:{variant:"@?",logo:"@",name:"@?",time:"<?",hosting:"@?",streaming:"@?",streamingUrl:"@?",streamingName:"@?",streamingTitle:"@?",deleteable:"<?",onDelete:"&?",compactMode:"<?",isHighlighted:"<?",feedItem:"<?"},templateUrl:r.default,controller:l}},function(e,t,n){var a="/src/js/feed/components/feed-item-header/feed-item-header.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<header ng-class="[\n        \'feed-item-header\',\n        \'feed-item-header--variant-{{$ctrl.variant}}\',\n        {\n            \'feed-item-header--is-compact-mode\': $ctrl.compactMode,\n        },\n    ]"> <div class=feed-item-header__user> <div ng-if=!$ctrl.streaming class=feed-item-header__user__link> <img class="logo round" ng-src="{{::$root.config.imgUrl + $ctrl.logo}}" fallback-src={{::$root.config.fallbackImages.userLogo}} alt=""/> </div> <a ng-if=$ctrl.streaming ui-sref="detail.feed({ channel: $ctrl.streaming })" class=feed-item-header__user__link> <img class="logo round" ng-src="{{::$root.config.imgUrl + $ctrl.logo}}" fallback-src={{::$root.config.fallbackImages.userLogo}} alt=""/> </a> <div ng-if="$ctrl.name && (!$ctrl.hosting && !$ctrl.streaming)" class=feed-item-header__data> <div class=feed-item-header__user__name> {{::$ctrl.name}} </div> <time ng-if="$ctrl.time && !$ctrl.feedItem" title="{{::$ctrl.time | toDate: true}}" class=feed-item-header__date> {{::$ctrl.time | timeAgo }} </time> <time ng-if="$ctrl.time && $ctrl.feedItem" title="{{::$ctrl.time | toDate: true}}"> <a class=feed-item-header__date ui-sref="detail.feedItem({ channel: $ctrl.name.toLowerCase(), feedItemId: $ctrl.feedItem.id })" ui-sref-opts={reload:true}> {{::$ctrl.time | timeAgo }} </a> </time> <span ng-if=::$ctrl.feedItem.highlighted class=feed-item-header__highlighted> {{::\'component_feed_highlighted-entry\' | translate}} </span> </div> <div ng-if="$ctrl.name && $ctrl.hosting" class=feed-item-header__data> <div class=feed-item-header__user__name> {{::$ctrl.name}} </div> <p class=feed-item-header__date> {{::\'global_text_hosting\' | translate}} <a ui-sref="detail.feed({ channel: $ctrl.hosting })"> {{::$ctrl.hosting}} </a> </p> </div> <div ng-if="$ctrl.name && $ctrl.streaming" class=feed-item-header__data> <a class=feed-item-header__user__name ui-sref="detail.feed({ channel: $ctrl.streaming })"> {{::$ctrl.streaming}} </a> <p class=feed-item-header__date> {{::\'global_text_streaming-verb\' | translate}} <a ui-sref="game({ game_name: $ctrl.streamingUrl })"> {{::$ctrl.streamingName}} </a> </p> </div> <h2 ng-if="$ctrl.name && $ctrl.streaming" class=feed-item-header__status ng-bind-html=$ctrl.streamingTitle></h2> </div> <div ng-if=::$ctrl.feedItem class=feed-item-header__actions> <div class=video-manager__list__buttons__more generic-popover gp-position=bottom gp-width=160 gp-height=350 gp-template-url={{::$ctrl.templateUrlHeaderActions}} gp-classes=\'["detail-more-popover","nono"]\' gp-on=click> <smash-icon icon=dots-horizontal size=32></smash-icon> </div> </div> </header> ')}]),e.exports=a},function(e,t,n){var a="/src/js/feed/components/feed-item-header/list.feed-item-header-actions.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<ul class=navigation> <li class=navigation__item> <a class=navigation__item__link ng-click="$ctrl.share(); remove_tooltip();">{{::\'global_button_share\' | translate}}</a> </li> <li ng-if=$ctrl.isDeleteable() class=navigation__item> <a class="navigation__item__link navigation__item__link--red" ng-click="$ctrl.onDelete(); remove_tooltip();">{{::\'global_button_delete\' | translate}}</a> </li> </ul> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(12)),r=a(n(11)),s=a(n(2261));n(2262);var l=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onPoll=function(e){n.activePollType="ended"===e.status?"":"poll"},this.onRaffle=function(e){n.activePollType="delete"===e.status?"":"raffle"},Object.assign(this,{$translate:t}),o.default.on("chat.pollMsg",this.onPoll),o.default.on("chat.raffleMsg",this.onRaffle)}return e.$inject=["$translate"],i(e,[{key:"$onInit",value:function(){this.tabs=[{title:"Post",icon:"post",type:"post",default:!0},{title:this.$translate.instant("view_dashboard_header_poll"),icon:"poll",type:"poll",tooltip:this.$translate.instant("view_dashboard_error_end-running-raffle")},{title:this.$translate.instant("view_dashboard_header_giveaway"),icon:"giveaway",type:"poll",hasPrize:!0,tooltip:this.$translate.instant("view_dashboard_error_end-running-poll")}],this.selectedTab=this.tabs[0],this.activePollType="",(0,r.default)(this.variant)&&(this.variant="default")}},{key:"selectTab",value:function(e){this.selectedTab=e}},{key:"$onDestroy",value:function(){o.default.off("chat.pollMsg",this.onPoll),o.default.off("chat.raffleMsg",this.onRaffle)}},{key:"selectDefaultTab",value:function(){var e=this.tabs.find(function(e){return e.default});e&&this.selectTab(e)}}]),e}();t.default={bindings:{userData:"<",variant:"@?",compactMode:"<?"},templateUrl:s.default,controller:l}},function(e,t,n){var a="/src/js/feed/components/new-feed-item/new-feed-item.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<article ng-class=\"[\n        'feed-item',\n        'feed-item--type-new',\n        'new-feed-item',\n        'new-feed-item--variant-{{$ctrl.variant}}',\n        {\n            'feed-item--is-default-mode': !$ctrl.compactMode,\n            'new-feed-item--is-compact-mode': $ctrl.compactMode,\n        },\n    ]\"> <feed-item-header variant=new-feed-item logo={{$ctrl.userData.logo}} compact-mode=::$ctrl.compactMode></feed-item-header> <div class=new-feed-item__content-wrapper> <section class=feed-item__content ng-switch=$ctrl.selectedTab.type> <new-post-item ng-switch-when=post data-compact-mode=::$ctrl.compactMode></new-post-item> <create-poll ng-switch-when=poll has-prize=$ctrl.selectedTab.hasPrize active-poll-type=$ctrl.activePollType on-post=$ctrl.selectDefaultTab() compact-mode=::$ctrl.compactMode></create-poll> </section> <div class=new-feed-item__footer> <new-feed-item-button ng-repeat=\"tab in ::$ctrl.tabs\" uib-tooltip=\"{{(tab.type === 'poll' && $ctrl.activePollType) ? tab.tooltip : tab.title}}\" data-tooltip-append-to-body=true data-tooltip-placement=\"top auto\" data-icon={{::tab.icon}} data-compact-mode=$ctrl.compactMode data-is-active=\"tab === $ctrl.selectedTab\" data-is-disabled=\"tab.type === 'poll' && $ctrl.activePollType\" data-on-select=$ctrl.selectTab(tab)> {{::tab.title}} </new-feed-item-button> </div> </div> </article> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2264));n(2265),t.default={bindings:{icon:"@?",compactMode:"<?",isActive:"<?",isDisabled:"<?",onSelect:"&?"},templateUrl:a.default,transclude:!0}},function(e,t,n){var a="/src/js/feed/components/new-feed-item/new-feed-item-button.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<button ng-click=$ctrl.onSelect() ng-disabled=$ctrl.isDisabled ng-class=\"[\n        'new-feed-item-button',\n        {\n            'new-feed-item-button--is-active': $ctrl.isActive,\n            'new-feed-item-button--is-disabled': $ctrl.isDisabled,\n            'new-feed-item-button--is-default-mode': !$ctrl.compactMode,\n            'new-feed-item-button--is-compact-mode': $ctrl.compactMode,\n        },\n    ]\" type=button> <span class=new-feed-item-button__icon> <smash-icon icon={{::$ctrl.icon}} size=24></smash-icon> </span> <span class=new-feed-item-button__text ng-transclude></span> </button> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(12)),r=n(76),s=n(8),l=a(n(2267));n(2268);var c=3e3,u=function(e){var t=e.channel,n=e.chat,a=e.user;return{channelName:(0,s.getName)(t),nameColor:n.options.nameColor,userName:(0,r.getName)(a)}},d=function(){function e(t,n,a,i,r,s){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sendMessageCallback=function(e){o.default.sendMessage("chat.motdMsg",{channel:l.channelName,name:l.userName,nameColor:l.nameColor,text:e,time:new Date}),l.sendMessageTrigger=!1},this.messageLengthCallback=function(e){l.messageLength=e},this.getEmotes=function(){var e=l.emotes.emotifierEmotes,t=l.emotes.emotifierSubEmotes,n=[];return e&&t&&(n=(n=e.getEmotes()).concat(t.getEmotes())),n},this.getTranslation=function(e,t){return l.$translate.instant(e,t)},Object.assign(this,{$element:t,$translate:n,Analytics:a,$timeout:i,emotes:r}),this.$ngRedux=s,this.maxLength=c,this.sendMessageTrigger=!1,this.channelName=null,this.userName=null,this.unsubscribeReduxConnection=this.$ngRedux.connect(u)(this)}return e.$inject=["$element","$translate","Analytics","$timeout","emotes","$ngRedux"],i(e,[{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"sendMessage",value:function(){this.sendMessageTrigger||(this.sendMessageTrigger=!0)}},{key:"getAvailableMessageLength",value:function(){return c-this.messageLength}}]),e}();t.default={bindings:{compactMode:"<?"},templateUrl:l.default,controller:d}},function(e,t,n){var a="/src/js/feed/components/new-post-item/new-post-item.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=motd-settings> <form ng-submit=$ctrl.sendMessage() name=startForm role=form novalidate class=motd-settings__form> <div class=dash__input> <react-feed-post-input max-length=$ctrl.maxLength get-emotes=$ctrl.getEmotes send-message-trigger=$ctrl.sendMessageTrigger send-message-callback=$ctrl.sendMessageCallback message-length-callback=$ctrl.messageLengthCallback auto-focus=false></react-feed-post-input> </div> <div ng-class=\"::[\n                'feed__input__buttons',\n                {\n                    'feed__input__buttons--is-compact-mode': $ctrl.compactMode,\n                },\n            ]\"> <span>{{$ctrl.getAvailableMessageLength()}}</span> <button-mobile-icon type=submit data-compact-mode=::$ctrl.compactMode data-variant=ok data-size=super-small data-disabled=\"$ctrl.getAvailableMessageLength() === $ctrl.maxLength\" data-icon=paperplane> {{::'global_button_post' | translate}} </button-mobile-icon> </div> </form> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/feed/:channelName/:itemId",{channelName:"@channelName",itemId:"@id",authToken:"@authToken",pinned:"@pinned"},{get:{method:"GET",params:{limit:o},isArray:!0},delete:{method:"DELETE",params:{}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"];var o=20},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return function(){function a(i,o){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.joinChannel=function(){r.default.sendMessage("feed.joinChannel",{channel:s.channel,name:n.getName(),token:n.getToken()})},this.onNewItem=function(n){t(function(){s.items.push(n),s.reorderItems(),e.$broadcast("feed:newItem",n)})},this.onDelItem=function(n){t(function(){s.items=(0,l.default)(s.items,s.items.find(function(e){return e.id===n.id})),s.reorderItems(),e.$broadcast("feed:delItem",n)})},this.channel=i,this.items=o||[],r.default.on("open",this.joinChannel),this.newItemSubscription=r.default.observe("feed.newItem").subscribe(this.onNewItem),this.delItemSubscription=r.default.observe("feed.delItem").subscribe(this.onDelItem),this.reorderItems()}return o(a,[{key:"partChannel",value:function(){r.default.sendMessage("feed.partChannel",{channel:this.channel,name:n.getName()})}},{key:"unsubscribe",value:function(){this.newItemSubscription.unsubscribe(),this.delItemSubscription.unsubscribe(),this.partChannel(),r.default.off("open",this.joinChannel)}},{key:"getItems",value:function(){return this.items}},{key:"reorderItems",value:function(){this.items=this.rejectLiveStatus((0,s.default)(this.items,"time","desc"))}},{key:"rejectLiveStatus",value:function(e){return(0,c.default)(e,function(e){return"live"===e.type})}}]),a}()}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=i;var r=a(n(12)),s=a(n(672)),l=a(n(56)),c=a(n(226));i.$inject=["$rootScope","$timeout","loggedUser"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(56)),r=a(n(2272));n(2273);var s=function(){function e(t,n,a,i,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.emotes=t,this.FeedWs=n,this.feed=a,this.$stateParams=i,this.$state=o,this.$scope=r,this.ready=!1,this.highlight=this.$stateParams.feedItemId}return e.$inject=["emotes","FeedWs","feed","$stateParams","$state","$scope"],i(e,[{key:"$onInit",value:function(){var e=this,t=!1;if(this.userData&&this.userData.channelName){var n=this.userData.channelName.toLowerCase(),a=function(){var e=this;return this.highlight?this.feed.get({channelName:n,highlight:this.highlight}).$promise.catch(function(){return e.$state.go("detail.feed",{channel:n}),[]}):this.feed.get({channelName:n}).$promise.catch(function(){return[]})}.call(this);this.$scope.$on("$destroy",function(){t=!0}),a.then(function(a){if(!t){e.highlightedItem=a.find(function(e){return e.highlighted});var i=(0,o.default)(a,e.highlightedItem);e.feedChannel=new e.FeedWs(n,i)}}),this.emotes.allEmotesLoaded().then(function(){e.ready=!0})}}},{key:"$onDestroy",value:function(){!this.highlight&&this.feedChannel&&this.feedChannel.unsubscribe()}},{key:"getFeedItems",value:function(){return this.feedChannel?this.feedChannel.getItems():[]}}]),e}();t.default={bindings:{showNewPost:"<",userData:"<",compactMode:"<?"},controller:s,templateUrl:r.default}},function(e,t,n){var a="/src/js/feed/components/feed.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<section ng-class=\"::[\n        'feed',\n        {\n            'feed--is-compact-mode': $ctrl.compactMode,\n        },\n    ]\"> <span ng-if=$ctrl.ready> <new-feed-item ng-if=$ctrl.showNewPost data-user-data=::$ctrl.userData data-compact-mode=::$ctrl.compactMode></new-feed-item> <feed-active-poll data-user-data=::$ctrl.userData data-compact-mode=::$ctrl.compactMode data-is-active=$ctrl.isActive></feed-active-poll> <feed-item ng-if=$ctrl.highlightedItem data-item=::$ctrl.highlightedItem data-user-data=::$ctrl.userData data-compact-mode=::$ctrl.compactMode id=highlightedFeedItem class=animate></feed-item> <feed-item ng-repeat=\"feedItem in $ctrl.getFeedItems() track by feedItem.id\" data-item=::feedItem data-user-data=::$ctrl.userData data-compact-mode=::$ctrl.compactMode class=animate></feed-item> </span> <section ng-if=\"$ctrl.getFeedItems().length === 0 && !$ctrl.highlightedItem && !$ctrl.isActive\" class=feed--empty> {{::'component_feed_empty'|translate}} </section> <footer class=feed__footer-logo> <logo></logo> </footer> </section> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=n(675),r=function(e){return e&&e.__esModule?e:{default:e}}(n(2275));n(2276);var s=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$scope:t,$timeout:n,$window:a})}return e.$inject=["$scope","$timeout","$window"],a(e,[{key:"$onInit",value:function(){var e=this;if(this.hasFeedHighlight)return this.show=!1,void this.$scope.$on("feed:highlightScroll",function(){e.show=!0,e.$timeout(function(){e.$window.scrollTo(0,(0,i.element)(o.HIGHLIGHT_ITEM_SELECTOR)[0].offsetTop+o.HIGHLIGHT_ITEM_MARGIN)},null,!1)});this.show=!0}}]),e}();t.default={bindings:{userData:"<",compactMode:"<?",isActive:"=",hasFeedHighlight:"<?"},templateUrl:r.default,controller:s}},function(e,t,n){var a="/src/js/feed/components/feed-active-poll.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<article ng-show="$ctrl.isActive && $ctrl.show" class="feed-active-poll feed-item animate" ng-class="{\n        \'feed-item--is-default-mode\': !$ctrl.compactMode,\n        \'feed-active-poll--is-compact-mode\': $ctrl.compactMode,\n    }"> <feed-item-header logo={{$ctrl.userData.logo}} name={{$ctrl.userData.name}} time=$ctrl.pollStartTime compact-mode=::$ctrl.compactMode></feed-item-header> <section class=feed-item__content> <htbx-poll is-active=$ctrl.isActive start-time=$ctrl.pollStartTime compact-mode=::$ctrl.compactMode></htbx-poll> </section> </article> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e(i.default,["channel","nameColor","maxLength","getEmotes","getTranslation","sendMessageTrigger","sendMessageCallback","messageLengthCallback","placeholder","enableEmotes","enableLinks","autoFocus","multiLine"])}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2278));a.$inject=["reactDirective"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(93)),r=n(31),s=a(n(230)),l=(a(n(3)),n(1)),c=a(l),u=n(237),d=n(26),f=a(n(575)),p=a(n(239)),m=a(n(572)),h=a(n(573)),g=a(n(336)),_=a(n(574)),v=a(n(569)),b=a(n(571)),y=a(n(570)),w=a(n(333));n(2279);var $=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={editorState:r.EditorState.createEmpty(),characterLimitWarning:!1},n.getEditorState=function(){return n.state.editorState},n.onChange=function(e){n.setState({editorState:e}),n.props.messageLengthCallback(n.messageLength(e))},n.focus=function(){n.editor.focus()},n.handleKeyCommand=function(e){return"sendMessage"===e&&n.isLimitReached(n.state.editorState)?m.default:("sendMessage"===e&&n.props.multiLine&&n.onPaste("\n"),h.default)},n.sendMessage=function(){var e=n.state.editorState,t=(0,w.default)(e,!1,!0);n.reset(),t.length&&n.props.sendMessageCallback(t)},n.isLimitReached=function(e){return n.messageLength(e)>=n.props.maxLength},n.messageLength=function(e){return((0,w.default)(e,!1,!0)||"").length},n.onInput=function(e){if(n.isLimitReached(n.state.editorState))return m.default;if(n.props.enableEmotes&&" "===e){var t=(0,b.default)(n.state.editorState,n.props.getEmotes());if(!t.getCurrentContent().equals(n.state.editorState.getCurrentContent()))return n.onChange(t),m.default}return h.default},n.onPaste=function(e){var t=(0,y.default)(n.state.editorState,e,n.props.maxLength);return n.onChange(t.editorState),m.default};var a=n.getEditorState;return n.emoteDecorator=e.enableEmotes?[{strategy:(0,_.default)(a),component:(0,o.default)(f.default,{getEmotes:e.getEmotes})}]:[],n.plugins=e.enableLinks?[(0,g.default)((0,o.default)(p.default,{canUseLinks:function(){return!0}}))]:[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){e.sendMessageTrigger&&this.sendMessage()}},{key:"componentDidMount",value:function(){this.editor&&this.props.autoFocus&&this.editor.focus()}},{key:"reset",value:function(){this.setEditorContent("")}},{key:"setEditorContent",value:function(e){var t=r.ContentState.createFromText(e),n=r.EditorState.moveFocusToEnd(r.EditorState.push(this.state.editorState,t));this.onChange(n)}},{key:"render",value:function(){var e=this,t=this.props.placeholder,n=this.state.editorState;return c.default.createElement("div",{className:"feed-post-input",onClick:this.focus},c.default.createElement(u.Scrollbars,{autoHeight:!0,hideTracksWhenNotNeeded:!0,renderTrackHorizontal:function(){return c.default.createElement("span",{style:{display:"none"}})},renderThumbHorizontal:function(){return c.default.createElement("span",{style:{display:"none"}})},autoHide:!0},c.default.createElement(s.default,{key:"feedPostInputEditor",editorState:n,onChange:this.onChange,handleBeforeInput:this.onInput,handlePastedText:this.onPaste,decorators:this.emoteDecorator,plugins:this.plugins,placeholder:t||(0,d.getTranslation)("global_placeholder_post-message"),ref:function(t){e.editor=t},handleKeyCommand:this.handleKeyCommand,keyBindingFn:v.default})))}}]),t}();$.defaultProps={getEmotes:function(){return[]},placeholder:"",enableEmotes:!0,enableLinks:!0,autoFocus:!0,multiLine:!0},t.default=$},function(e,t){},function(e,t,n){"use strict";function a(e){return e(i.default,["text","getEmotes","getTranslation","meta"])}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2281));a.$inject=["reactDirective"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(93)),r=n(31),s=a(n(230)),l=(a(n(3)),n(1)),c=a(l),u=n(26),d=a(n(239)),f=a(n(336)),p=a(n(2282)),m=a(n(2287)),h=a(n(2292));n(2301);var g=100,_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={editorState:r.EditorState.createWithContent(r.ContentState.createFromText(n.props.text)),elementHeight:0,showMore:!1,metaElement:null},n.onChange=function(e){n.setState({editorState:e})},n.getStyles=function(){return n.state.elementHeight>=g&&!n.state.showMore?{maxHeight:g,overflow:"hidden"}:{}},n.getHeight=function(e){e&&!n.state.elementHeight&&n.setState({elementHeight:e.clientHeight})},n.showMore=function(){n.setState({showMore:!0})};var a=(0,m.default)(),i=(0,p.default)(e.getEmotes());return n.plugins=[a,(0,f.default)((0,o.default)(d.default,{canUseLinks:function(){return!0}})),i],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"render",value:function(){var e=this.state,t=e.editorState,n=e.elementHeight,a=e.showMore,i=this.props.meta;if(!t)return c.default.createElement("div",{className:"feed-post"});var o=n>=g&&!a,r="";return i&&(r=c.default.createElement(h.default,{title:i.title,image:i.image,description:i.description,service:i.service,url:i.url,data:i.data})),c.default.createElement("div",null,c.default.createElement("div",{className:"feed-post"},c.default.createElement("div",{ref:this.getHeight,style:this.getStyles()},c.default.createElement(s.default,{editorState:t,onChange:this.onChange,plugins:this.plugins,readOnly:!0})),o&&c.default.createElement("a",{onClick:this.showMore,href:"javascript:",className:"feed-post__show-more"},(0,u.getTranslation)("global_button_showmore"))),r)}}]),t}();_.defaultProps={meta:null},t.default=_},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(93)),o=a(n(2283)),r=a(n(2286));t.default=function(e){var t={keyBindingFn:void 0,handleKeyCommand:void 0,onDownArrow:void 0,onUpArrow:void 0,onTab:void 0,onEscape:void 0,handleReturn:void 0,onChange:void 0},n={getEditorState:void 0,setEditorState:void 0,emotes:0};return{decorators:[{strategy:(0,r.default)(e,n),component:(0,i.default)(o.default,{emotes:e})}],initialize:function(e){var t=e.getEditorState,a=e.setEditorState;n.getEditorState=t,n.setEditorState=a},onDownArrow:function(e){return t.onDownArrow&&t.onDownArrow(e)},onTab:function(e){return t.onTab&&t.onTab(e)},onUpArrow:function(e){return t.onUpArrow&&t.onUpArrow(e)},onEscape:function(e){return t.onEscape&&t.onEscape(e)},handleReturn:function(e){return t.handleReturn&&t.handleReturn(e)},onChange:function(e){return t.onChange?t.onChange(e):e}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(2284)),a(n(173))),r=a(n(2));n(2285),t.default=function(e){var t=e.emotes,n=e.decoratedText,a=t.find(function(e){return(0,o.default)(e.get("icon_short"))===n||(0,o.default)(e.get("icon_short_alt"))===n}),s=r.default.imgUrl+a.get("icon_path");return i.default.createElement("span",{className:"chat-input__emote",title:n,style:{backgroundImage:"url("+s+")"}},i.default.createElement("span",null))}},function(e,t,n){"use strict";function a(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof u.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function i(e){function t(t,n,a,i,o,r){for(var s=arguments.length,l=Array(s>6?s-6:0),c=6;c<s;c++)l[c-6]=arguments[c];if(r=r||a,i=i||d,null!=n[a])return e.apply(void 0,[n,a,i,o,r].concat(l));var u=o;return t?new Error("Required "+u+" `"+r+"` was not specified in `"+i+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function o(e,t){return i(function(n,i,o,r,s){var l=n[i];if(!t(l)){var c=a(l);return new Error("Invalid "+r+" `"+s+"` of type `"+c+"` supplied to `"+o+"`, expected `"+e+"`.")}return null})}function r(e,t,n){return i(function(i,o,r,s,l){for(var c=arguments.length,u=Array(c>5?c-5:0),d=5;d<c;d++)u[d-5]=arguments[d];var f=i[o];if(!n(f)){var p=s,m=a(f);return new Error("Invalid "+p+" `"+l+"` of type `"+m+"` supplied to `"+r+"`, expected an Immutable.js "+t+".")}if("function"!=typeof e)return new Error("Invalid typeChecker supplied to `"+r+"` for propType `"+l+"`, expected a function.");for(var h=f.toArray(),g=0,_=h.length;g<_;g++){var v=e.apply(void 0,[h,g,r,s,l+"["+g+"]"].concat(u));if(v instanceof Error)return v}})}function s(e,t,n,a){return i(function(){for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return r(e,n,a).apply(void 0,s)||t&&function(e){return i(function(t,n,a,i,o){for(var r=arguments.length,s=Array(r>5?r-5:0),l=5;l<r;l++)s[l-5]=arguments[l];var c=t[n];if("function"!=typeof e)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+a+"` for propType `"+o+"`, expected a function.");for(var u=c.keySeq().toArray(),d=0,f=u.length;d<f;d++){var p=e.apply(void 0,[u,d,a,i,o+" -> key("+u[d]+")"].concat(s));if(p instanceof Error)return p}})}(t).apply(void 0,s)})}function l(e){var t=void 0===arguments[1]?"Iterable":arguments[1],n=void 0===arguments[2]?u.Iterable.isIterable:arguments[2];return i(function(i,o,r,s,l){for(var c=arguments.length,u=Array(c>5?c-5:0),d=5;d<c;d++)u[d-5]=arguments[d];var f=i[o];if(!n(f)){var p=a(f),m=s;return new Error("Invalid "+m+" `"+l+"` of type `"+p+"` supplied to `"+r+"`, expected an Immutable.js "+t+".")}var h=f.toObject();for(var g in e){var _=e[g];if(_){var v=_.apply(void 0,[h,g,r,s,l+"."+g].concat(u));if(v)return v}}})}function c(e){return l(e)}var u=n(9),d="<<anonymous>>",f={listOf:function(e){return r(e,"List",u.List.isList)},mapOf:function(e,t){return s(e,t,"Map",u.Map.isMap)},orderedMapOf:function(e,t){return s(e,t,"OrderedMap",u.OrderedMap.isOrderedMap)},setOf:function(e){return r(e,"Set",u.Set.isSet)},orderedSetOf:function(e){return r(e,"OrderedSet",u.OrderedSet.isOrderedSet)},stackOf:function(e){return r(e,"Stack",u.Stack.isStack)},iterableOf:function(e){return r(e,"Iterable",u.Iterable.isIterable)},recordOf:function(e){return i(function(t,n,i,o,r){for(var s=arguments.length,l=Array(s>5?s-5:0),c=5;c<s;c++)l[c-5]=arguments[c];var d=t[n];if(!(d instanceof u.Record)){var f=a(d),p=o;return new Error("Invalid "+p+" `"+r+"` of type `"+f+"` supplied to `"+i+"`, expected an Immutable.js Record.")}for(var m in e){var h=e[m];if(h){var g=d.toObject(),_=h.apply(void 0,[g,m,i,o,r+"."+m].concat(l));if(_)return _}}})},shape:c,contains:c,mapContains:function(e){return l(e,"Map",u.Map.isMap)},list:o("List",u.List.isList),map:o("Map",u.Map.isMap),orderedMap:o("OrderedMap",u.OrderedMap.isOrderedMap),set:o("Set",u.Set.isSet),orderedSet:o("OrderedSet",u.OrderedSet.isOrderedSet),stack:o("Stack",u.Stack.isStack),seq:o("Seq",u.Seq.isSeq),record:o("Record",function(e){return e instanceof u.Record}),iterable:o("Iterable",u.Iterable.isIterable)};e.exports=f},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(313));t.default=function(e,t){var n="";e.forEach(function(t,i){(0,a.default)(t.get("icon_short"))===(0,a.default)(t.get("icon_short_alt"))?n+=""+(0,a.default)(t.get("icon_short")):n+=(0,a.default)(t.get("icon_short"))+"|"+(0,a.default)(t.get("icon_short_alt")),i<e.size-1&&(n+="|")});var i=new RegExp(n,"g");return function(e,n){for(var a=e.getText(),o=void 0,r=void 0;null!==(o=i.exec(a));){if(t.emotes>=40)return;t.emotes+=1,n(r=o.index,r+o[0].length)}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(2288)),o=a(n(2291));t.default=function(){var e={keyBindingFn:void 0,handleKeyCommand:void 0,onDownArrow:void 0,onUpArrow:void 0,onTab:void 0,onEscape:void 0,handleReturn:void 0,onChange:void 0},t={getEditorState:void 0,setEditorState:void 0};return{decorators:[{strategy:o.default,component:i.default}],initialize:function(e){var n=e.getEditorState,a=e.setEditorState;t.getEditorState=n,t.setEditorState=a},onDownArrow:function(t){return e.onDownArrow&&e.onDownArrow(t)},onTab:function(t){return e.onTab&&e.onTab(t)},onUpArrow:function(t){return e.onUpArrow&&e.onUpArrow(t)},onEscape:function(t){return e.onEscape&&e.onEscape(t)},handleReturn:function(t){return e.handleReturn&&e.handleReturn(t)},onChange:function(t){return e.onChange?e.onChange(t):t}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(2289))),r=n(617),s=n(618),l=a(n(2));n(2290),t.default=function(e){var t=e.decoratedText,n=(0,o.default)(t),a=(0,r.imageRatio)({x:n.width,y:n.height}),c=(0,s.imageMaxWidth)({x:n.width,y:n.height}),u=l.default.chatHTTPSUrl+"/"+n.id;return i.default.createElement("a",{href:u,"data-feed-image-modal":u,style:{maxWidth:c.toFixed(2)+"px"},className:"feed-item__image-wrap"},i.default.createElement("div",{style:{height:0,paddingBottom:a+"%"}},i.default.createElement("img",{id:"image-"+n.id,src:u,alt:"",className:"feed-item__image"}),i.default.createElement("span",null)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="";if(e){var n=e.match(a.IMAGE_ID_REGEX);n&&n[1]&&n[2]&&n[3]&&(t={id:n[1],width:n[2],height:n[3]})}return t};var a=n(676)},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(676));t.default=function(e,t){for(var n=e.getText(),i=void 0,o=void 0;null!==(i=a.default.exec(n));)t(o=i.index,o+i[0].length)}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),s=a(r),l=(a(n(3)),a(n(35))),c=a(n(287)),u=a(n(2293)),d=a(n(2297));n(2300);var f=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={expanded:!1},a.expand=function(e){e.preventDefault(),a.setState({expanded:!0})},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.image,a=e.description,i=e.service,o=e.url,r=this.state.expanded,f=void 0;if(r){var p="";switch(i){case"youtube":p=s.default.createElement(u.default,{url:o,autoPlay:!0,inMeta:!0});break;case"smashcast":p=s.default.createElement(d.default,{url:o,autoPlay:!0,inMeta:!0})}f=s.default.createElement("div",{className:"feed-post__meta-component__video"},p)}else f=s.default.createElement("div",{className:"feed-post__meta-component__image"},s.default.createElement("a",{href:o,className:"feed-post__meta-component__image-wrap",onClick:this.expand},s.default.createElement("div",{className:"feed-post__meta-component__image__image",style:{backgroundImage:"url("+n+")"}}),s.default.createElement("div",{className:"feed-post__meta-component__image__play"},s.default.createElement(l.default,{icon:c.default,center:!0}))));var m="";return"smashcast"===i&&this.props.data&&(m=s.default.createElement("div",{className:"feed-psot__meta-component__meta__description__category"},s.default.createElement("a",{href:"/game/"+this.props.data.category_seo_key,rel:"noopener noreferrer",target:"_blank"},this.props.data.category_name))),s.default.createElement("div",{className:"feed-post__meta-component",style:{flexDirection:r?"column":""}},f,s.default.createElement("div",{className:"feed-post__meta-component__meta"},s.default.createElement("h3",{className:"feed-post__meta-component__meta__title"},s.default.createElement("a",{href:o,rel:"noopener noreferrer",target:"_blank"},t)),s.default.createElement("div",{className:"feed-post__meta-component__meta__description"},a,m)))}}]),t}();f.defaultProps={description:"",data:null},t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(2294))),r=a(n(677)),s=function(e){var t=e.url,n=e.autoPlay,a=e.inMeta,s=(0,o.default)(t);return t="https://www.youtube.com/embed/"+s+"?autoplay="+(n?"1":"0"),i.default.createElement(r.default,{data:{service:"youtube",url:t,id:s},inMeta:a})};s.defaultProps={autoPlay:!1,inMeta:!1},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="";if(e){var n=e.match(a.YOUTUBE_ID_REGEX);n&&n[1]&&11===n[1].length&&(t=n[1])}return t};var a=n(2295)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YOUTUBE_ID_REGEX=/(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?/,t.default=/(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?/g},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(2298))),r=a(n(677)),s=function(e){var t=e.url,n=e.autoPlay,a=e.inMeta,s=(0,o.default)(t);return t="https://"+window.location.hostname+"/embed/"+s+"?autoplay="+(n?"true":"false"),i.default.createElement(r.default,{data:{service:"smashcast",url:t,id:s},inMeta:a})};s.defaultProps={autoPlay:!1,inMeta:!1},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="";if(e){var n=e.match(a.SMASHCAST_ID_REGEX);n&&n[1]&&(t=n[1])}return t};var a=n(2299)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SMASHCAST_ID_REGEX=/(?:https?:\/\/)?(?:www\.)?(?:smashcast\.tv)\/([a-zA-Z0-9-][a-zA-Z0-9-]+)/,t.default=/(?:https?:\/\/)?(?:www\.)?(?:smashcast\.tv)\/([a-zA-Z0-9-][a-zA-Z0-9-]+)/g},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2303)),o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{loggedUser:t,User:n})}return e.$inject=["loggedUser","User"],a(e,[{key:"$onInit",value:function(){var e=this;this.item={type:"post",data:{text:this.resolve.message.popover},time:this.resolve.message.timestamp},this.resolve.userData?this.userData=this.resolve.userData:this.User.get({user_name:this.resolve.message.channel,authToken:this.loggedUser.getToken()}).$promise.then(function(t){e.userData={name:t.user_name,logo:t.user_logo_small}})}}]),e}();t.default={bindings:{close:"&",resolve:"<"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/feed/components/feed-post-modal.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-button-close data-variant=modal-fixed data-on-select=$ctrl.close()></htbx-button-close> <article class=feed-post-modal__container> <smash-spinny ng-if=!$ctrl.userData data-size=\"'medium'\" data-center=true></smash-spinny> <feed-item ng-if=$ctrl.userData item=$ctrl.item user-data=$ctrl.userData></feed-item> </article> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2305)),o=function(){function e(t,n,a,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onClickShareButton=function(e){switch(e){case"facebook":o.fbShare();break;case"twitter":o.tweet();break;case"reddit":o.reddit();break;case"vk":o.vKontakte()}},Object.assign(this,{Analytics:t,$window:n,$state:a,truncateFilter:i})}return e.$inject=["Analytics","$window","$state","truncateFilter"],a(e,[{key:"$onInit",value:function(){this.feedItem=this.resolve.feedItem,this.userName=this.resolve.userName,this.url=this.$state.href("detail.feedItem",{channel:this.userName.toLowerCase(),feedItemId:this.feedItem.id},{absolute:!0})}},{key:"fbShare",value:function(){this.Analytics.trackEvent("user","facebookShare"),this.$window.open("https://www.facebook.com/sharer/sharer.php?u="+this.url,"","width=626,height=436")}},{key:"tweet",value:function(){this.Analytics.trackEvent("user","twitterShare");var e="https://twitter.com/share?url="+this.url+"&text="+this.truncateFilter(this.getText(),140-"#Smashcast_tv via Smashcast_tv".length,"")+"&hashtags=Smashcast_tv&via=Smashcast_tv";this.$window.open(e,"","width=626,height=436")}},{key:"reddit",value:function(){this.Analytics.trackEvent("user","redditShare"),this.$window.open("http://www.reddit.com/submit?url="+this.url+"&title="+this.truncateFilter(this.getText(),200),"","width=800,height=600")}},{key:"vKontakte",value:function(){this.Analytics.trackEvent("user","vkShare"),this.$window.open("http://vkontakte.ru/share.php?url="+this.url+"&title="+this.truncateFilter(this.getText(),200),"","width=800,height=600")}},{key:"getText",value:function(){switch(this.feedItem.type){case"post":return this.feedItem.data.text;case"esport":return this.feedItem.data.tournament.title+" - "+this.feedItem.data.game.long_title;case"poll":case"raffle":return this.feedItem.data.question;case"video":return this.feedItem.data.media_title;default:return this.url}}}]),e}();t.default={bindings:{close:"&",dismiss:"&",resolve:"<?"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/feed/components/feed-item/feed-share-modal/feed-share-modal.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-button-close data-variant=modal-fixed data-on-select=$ctrl.close()></htbx-button-close> <div class=share-modal> <div class=url> <label>{{:: 'global_text_link' | translate}}</label> <htbx-input-group class=input-group-row__input input-readonly=true input-value={{::$ctrl.url}}> <htbx-input-group-addon input-click-action=clipboard data-tooltip-text=\"{{::'global_button_copy-to-clipboard' | translate}}\"> {{::'global_text_copy' | translate}} </htbx-input-group-addon> </htbx-input-group> </div> <smash-social-share-buttons code=false on-click=$ctrl.onClickShareButton></smash-social-share-buttons> </div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2307)),r=a(n(2310));t.default=i.default.module("htbx.markdown",[]).directive("markdownedit",o.default).directive("reactMarkdown",r.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(367),n(678),n(679),n(2309),t.default=function(){return{restrict:"A",replace:!1,link:function(e,t,n){var a=n.markdownHiddenButtons?n.markdownHiddenButtons.split(","):[];a.push("cmdPreview"),a.push("cmdHeading"),a.push("cmdImage"),a.push("cmdCode"),a.push("cmdQuote"),t.markdown({disabledButtons:a,iconlibrary:"fa",width:270,fullscreen:{enable:!1}})}}}},,function(e,t){},function(e,t,n){"use strict";function a(e){return e(i.default,["source","className","containerTagName","containerProps","childBefore","childAfter","escapeHtml","skipHtml","sourcePos","softBreak","allowedTypes","disallowedTypes","unwrapDisallowed","allowNode","renderers","transformLinkUri","transformImageUri"])}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2311));a.$inject=["reactDirective"]},function(e,t,n){"use strict";function a(e){i.Component.call(this,e)}var i=n(1),o=n(2312).Parser,r=n(2327),s=n(2332);(a.prototype=Object.create(i.Component.prototype)).constructor=a,a.prototype.render=function(){var e=this.props.containerProps||{},t=new r(this.props),n=new o(this.props.parserOptions).parse(this.props.source||"");if(this.props.walker)for(var a,s=n.walker();a=s.next();)this.props.walker.call(this,a,s);return this.props.className&&(e.className=this.props.className),i.createElement.apply(i,[this.props.containerTagName,e,this.props.childBefore].concat(t.render(n).concat([this.props.childAfter])))},a.propTypes={className:s.string,containerProps:s.object,source:s.string.isRequired,containerTagName:s.string,childBefore:s.object,childAfter:s.object,sourcePos:s.bool,escapeHtml:s.bool,skipHtml:s.bool,softBreak:s.string,allowNode:s.func,allowedTypes:s.array,disallowedTypes:s.array,transformLinkUri:s.func,transformImageUri:s.func,unwrapDisallowed:s.bool,renderers:s.object,walker:s.func,parserOptions:s.object},a.defaultProps={containerTagName:"div",parserOptions:{}},a.types=r.types,a.renderers=r.renderers,a.uriTransformer=r.uriTransformer,e.exports=a},function(e,t,n){"use strict";e.exports.version="0.24.0",e.exports.Node=n(368),e.exports.Parser=n(2313),e.exports.HtmlRenderer=n(2325),e.exports.XmlRenderer=n(2326)},function(e,t,n){"use strict";var a=n(368),i=n(141).unescapeString,o=n(141).OPENTAG,r=n(141).CLOSETAG,s=n(2321),l=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[\/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|title|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[\/]?[>]|$)/i,new RegExp("^(?:"+o+"|"+r+")s*$","i")],c=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],u=/^(?:(?:\* *){3,}|(?:_ *){3,}|(?:- *){3,}) *$/,d=/^[#`~*+_=<>0-9-]/,f=/[^ \t\f\v\r\n]/,p=/^[*+-]/,m=/^(\d{1,9})([.)])/,h=/^#{1,6}(?: +|$)/,g=/^`{3,}(?!.*`)|^~{3,}(?!.*~)/,_=/^(?:`{3,}|~{3,})(?= *$)/,v=/^(?:=+|-+) *$/,b=/\r\n|\n|\r/,y=function(e,t){return t<e.length?e.charCodeAt(t):-1},w=function(e){for(;e;){if(e._lastLineBlank)return!0;var t=e.type;if("List"!==t&&"Item"!==t)break;e=e._lastChild}return!1},$=function(e){var t=e,n=null;do{"List"===t.type&&(n=t),t=t._parent}while(t);if(n){for(;e!==n;)this.finalize(e,this.lineNumber),e=e._parent;this.finalize(n,this.lineNumber),this.tip=n._parent}},x=function(){this.tip._string_content+=this.currentLine.slice(this.offset)+"\n"},k=function(e,t){for(;!this.blocks[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=t+1,i=new a(e,[[this.lineNumber,n],[0,0]]);return i._string_content="",this.tip.appendChild(i),this.tip=i,i},S=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip._parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},C={Document:{continue:function(){return 0},finalize:function(){},canContain:function(e){return"Item"!==e},acceptsLines:!1},List:{continue:function(){return 0},finalize:function(e,t){for(var n=t._firstChild;n;){if(w(n)&&n._next){t._listData.tight=!1;break}for(var a=n._firstChild;a;){if(w(a)&&(n._next||a._next)){t._listData.tight=!1;break}a=a._next}n=n._next}},canContain:function(e){return"Item"===e},acceptsLines:!1},BlockQuote:{continue:function(e){var t=e.currentLine;return e.indented||62!==y(t,e.nextNonspace)?1:(e.advanceNextNonspace(),e.advanceOffset(1,!1),32===y(t,e.offset)&&e.offset++,0)},finalize:function(){},canContain:function(e){return"Item"!==e},acceptsLines:!1},Item:{continue:function(e,t){if(e.blank&&null!==t._firstChild)e.advanceNextNonspace();else{if(!(e.indent>=t._listData.markerOffset+t._listData.padding))return 1;e.advanceOffset(t._listData.markerOffset+t._listData.padding,!0)}return 0},finalize:function(){},canContain:function(e){return"Item"!==e},acceptsLines:!1},Heading:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},ThematicBreak:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},CodeBlock:{continue:function(e,t){var n=e.currentLine,a=e.indent;if(t._isFenced){var i=a<=3&&n.charAt(e.nextNonspace)===t._fenceChar&&n.slice(e.nextNonspace).match(_);if(i&&i[0].length>=t._fenceLength)return e.finalize(t,e.lineNumber),2;for(var o=t._fenceOffset;o>0&&32===y(n,e.offset);)e.advanceOffset(1,!1),o--}else if(a>=4)e.advanceOffset(4,!0);else{if(!e.blank)return 1;e.advanceNextNonspace()}return 0},finalize:function(e,t){if(t._isFenced){var n=t._string_content,a=n.indexOf("\n"),o=n.slice(0,a),r=n.slice(a+1);t.info=i(o.trim()),t._literal=r}else t._literal=t._string_content.replace(/(\n *)+$/,"\n");t._string_content=null},canContain:function(){return!1},acceptsLines:!0},HtmlBlock:{continue:function(e,t){return!e.blank||6!==t._htmlBlockType&&7!==t._htmlBlockType?0:1},finalize:function(e,t){t._literal=t._string_content.replace(/(\n *)+$/,""),t._string_content=null},canContain:function(){return!1},acceptsLines:!0},Paragraph:{continue:function(e){return e.blank?1:0},finalize:function(e,t){for(var n,a=!1;91===y(t._string_content,0)&&(n=e.inlineParser.parseReference(t._string_content,e.refmap));)t._string_content=t._string_content.slice(n),a=!0;a&&function(e){return!f.test(e)}(t._string_content)&&t.unlink()},canContain:function(){return!1},acceptsLines:!0}},M=[function(e){return e.indented||62!==y(e.currentLine,e.nextNonspace)?0:(e.advanceNextNonspace(),e.advanceOffset(1,!1),32===y(e.currentLine,e.offset)&&e.advanceOffset(1,!1),e.closeUnmatchedBlocks(),e.addChild("BlockQuote",e.nextNonspace),1)},function(e){var t;if(!e.indented&&(t=e.currentLine.slice(e.nextNonspace).match(h))){e.advanceNextNonspace(),e.advanceOffset(t[0].length,!1),e.closeUnmatchedBlocks();var n=e.addChild("Heading",e.nextNonspace);return n.level=t[0].trim().length,n._string_content=e.currentLine.slice(e.offset).replace(/^ *#+ *$/,"").replace(/ +#+ *$/,""),e.advanceOffset(e.currentLine.length-e.offset),2}return 0},function(e){var t;if(!e.indented&&(t=e.currentLine.slice(e.nextNonspace).match(g))){var n=t[0].length;e.closeUnmatchedBlocks();var a=e.addChild("CodeBlock",e.nextNonspace);return a._isFenced=!0,a._fenceLength=n,a._fenceChar=t[0][0],a._fenceOffset=e.indent,e.advanceNextNonspace(),e.advanceOffset(n,!1),2}return 0},function(e,t){if(!e.indented&&60===y(e.currentLine,e.nextNonspace)){var n,a=e.currentLine.slice(e.nextNonspace);for(n=1;n<=7;n++)if(l[n].test(a)&&(n<7||"Paragraph"!==t.type))return e.closeUnmatchedBlocks(),e.addChild("HtmlBlock",e.offset)._htmlBlockType=n,2}return 0},function(e,t){var n;if(!e.indented&&"Paragraph"===t.type&&(n=e.currentLine.slice(e.nextNonspace).match(v))){e.closeUnmatchedBlocks();var i=new a("Heading",t.sourcepos);return i.level="="===n[0][0]?1:2,i._string_content=t._string_content,t.insertAfter(i),t.unlink(),e.tip=i,e.advanceOffset(e.currentLine.length-e.offset,!1),2}return 0},function(e){return!e.indented&&u.test(e.currentLine.slice(e.nextNonspace))?(e.closeUnmatchedBlocks(),e.addChild("ThematicBreak",e.nextNonspace),e.advanceOffset(e.currentLine.length-e.offset,!1),2):0},function(e,t){var n;return e.indented&&"List"!==t.type||!(n=function(e){var t,n,a,i,o=e.currentLine.slice(e.nextNonspace),r={type:null,tight:!0,bulletChar:null,start:null,delimiter:null,padding:null,markerOffset:e.indent};if(t=o.match(p))r.type="Bullet",r.bulletChar=t[0][0];else{if(!(t=o.match(m)))return null;r.type="Ordered",r.start=parseInt(t[1]),r.delimiter=t[2]}if(-1!==(n=y(e.currentLine,e.nextNonspace+t[0].length))&&9!==n&&32!==n)return null;e.advanceNextNonspace(),e.advanceOffset(t[0].length,!0),a=e.column,i=e.offset;do{e.advanceOffset(1,!0),n=y(e.currentLine,e.offset)}while(e.column-a<5&&(32===n||9===n));var s=-1===y(e.currentLine,e.offset),l=e.column-a;return l>=5||l<1||s?(r.padding=t[0].length+1,e.column=a,e.offset=i,32===y(e.currentLine,e.offset)&&e.advanceOffset(1,!0)):r.padding=t[0].length+l,r}(e))?0:(e.closeUnmatchedBlocks(),"List"===e.tip.type&&function(e,t){return e.type===t.type&&e.delimiter===t.delimiter&&e.bulletChar===t.bulletChar}(t._listData,n)||((t=e.addChild("List",e.nextNonspace))._listData=n),t=e.addChild("Item",e.nextNonspace),t._listData=n,1)},function(e){return e.indented&&"Paragraph"!==e.tip.type&&!e.blank?(e.advanceOffset(4,!0),e.closeUnmatchedBlocks(),e.addChild("CodeBlock",e.offset),2):0}],E=function(e,t){for(var n,a,i=this.currentLine;e>0&&(a=i[this.offset]);)"\t"===a?(n=4-this.column%4,this.column+=n,this.offset+=1,e-=t?n:1):(this.offset+=1,this.column+=1,e-=1)},T=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn},P=function(){for(var e,t=this.currentLine,n=this.offset,a=this.column;""!==(e=t.charAt(n));)if(" "===e)n++,a++;else{if("\t"!==e)break;n++,a+=4-a%4}this.blank="\n"===e||"\r"===e||""===e,this.nextNonspace=n,this.nextNonspaceColumn=a,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=4},O=function(e){var t,n=!0,a=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.lineNumber+=1,-1!==e.indexOf("\0")&&(e=e.replace(/\0/g,"")),this.currentLine=e;for(var i;(i=a._lastChild)&&i._open;){switch(a=i,this.findNextNonspace(),this.blocks[a.type].continue(this,a)){case 0:break;case 1:n=!1;break;case 2:return void(this.lastLineLength=e.length);default:throw"continue returned illegal value, must be 0, 1, or 2"}if(!n){a=a._parent;break}}this.allClosed=a===this.oldtip,this.lastMatchedContainer=a,this.blank&&a._lastLineBlank&&(this.breakOutOfLists(a),a=this.tip);for(var o="Paragraph"!==a.type&&C[a.type].acceptsLines,r=this.blockStarts,s=r.length;!o;){if(this.findNextNonspace(),!this.indented&&!d.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var l=0;l<s;){var u=r[l](this,a);if(1===u){a=this.tip;break}if(2===u){a=this.tip,o=!0;break}l++}if(l===s){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"Paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&a.lastChild&&(a.lastChild._lastLineBlank=!0),t=a.type;for(var f=this.blank&&!("BlockQuote"===t||"CodeBlock"===t&&a._isFenced||"Item"===t&&!a._firstChild&&a.sourcepos[0][0]===this.lineNumber),p=a;p;)p._lastLineBlank=f,p=p._parent;this.blocks[t].acceptsLines?(this.addLine(),"HtmlBlock"===t&&a._htmlBlockType>=1&&a._htmlBlockType<=5&&c[a._htmlBlockType].test(this.currentLine.slice(this.offset))&&this.finalize(a,this.lineNumber)):this.offset<e.length&&!this.blank&&(a=this.addChild("Paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=e.length},j=function(e,t){var n=e._parent;e._open=!1,e.sourcepos[1]=[t,this.lastLineLength],this.blocks[e.type].finalize(this,e),this.tip=n},A=function(e){var t,n,a,i=e.walker();for(this.inlineParser.refmap=this.refmap,this.inlineParser.options=this.options;n=i.next();)a=(t=n.node).type,n.entering||"Paragraph"!==a&&"Heading"!==a||this.inlineParser.parse(t)},I=function(){return new a("Document",[[1,1],[0,0]])},L=function(e){this.doc=new I,this.tip=this.doc,this.refmap={},this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="",this.options.time&&console.time("preparing input");var t=e.split(b),n=t.length;10===e.charCodeAt(e.length-1)&&(n-=1),this.options.time&&console.timeEnd("preparing input"),this.options.time&&console.time("block parsing");for(var a=0;a<n;a++)this.incorporateLine(t[a]);for(;this.tip;)this.finalize(this.tip,n);return this.options.time&&console.timeEnd("block parsing"),this.options.time&&console.time("inline parsing"),this.processInlines(this.doc),this.options.time&&console.timeEnd("inline parsing"),this.doc};e.exports=function(e){return{doc:new I,blocks:C,blockStarts:M,tip:this.doc,oldtip:this.doc,currentLine:"",lineNumber:0,offset:0,column:0,nextNonspace:0,nextNonspaceColumn:0,indent:0,indented:!1,blank:!1,allClosed:!0,lastMatchedContainer:this.doc,refmap:{},lastLineLength:0,inlineParser:new s(e),findNextNonspace:P,advanceOffset:E,advanceNextNonspace:T,breakOutOfLists:$,addLine:x,addChild:k,incorporateLine:O,finalize:j,processInlines:A,closeUnmatchedBlocks:S,parse:L,options:e||{}}}},function(e,t,n){"use strict";function a(e,t,n){var o,r,s,l,c,u="";for("string"!=typeof t&&(n=t,t=a.defaultChars),void 0===n&&(n=!0),c=function(e){var t,n,a=i[e];if(a)return a;for(a=i[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?a.push(n):a.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)a[e.charCodeAt(t)]=e[t];return a}(t),o=0,r=e.length;o<r;o++)if(s=e.charCodeAt(o),n&&37===s&&o+2<r&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))u+=e.slice(o,o+3),o+=2;else if(s<128)u+=c[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&o+1<r&&(l=e.charCodeAt(o+1))>=56320&&l<=57343){u+=encodeURIComponent(e[o]+e[o+1]),o++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[o]);return u}var i={};a.defaultChars=";/?:@&=+$,-_.!~*'()#",a.componentChars="-_.!~*'()",e.exports=a},function(e,t,n){"use strict";function a(e,t){var n;return"string"!=typeof t&&(t=a.defaultChars),n=function(e){var t,n,a=i[e];if(a)return a;for(a=i[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),a.push(n);for(t=0;t<e.length;t++)a[n=e.charCodeAt(t)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return a}(t),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var t,a,i,o,r,s,l,c="";for(t=0,a=e.length;t<a;t+=3)(i=parseInt(e.slice(t+1,t+3),16))<128?c+=n[i]:192==(224&i)&&t+3<a&&128==(192&(o=parseInt(e.slice(t+4,t+6),16)))?(c+=(l=i<<6&1984|63&o)<128?"":String.fromCharCode(l),t+=3):224==(240&i)&&t+6<a&&(o=parseInt(e.slice(t+4,t+6),16),r=parseInt(e.slice(t+7,t+9),16),128==(192&o)&&128==(192&r))?(c+=(l=i<<12&61440|o<<6&4032|63&r)<2048||l>=55296&&l<=57343?"":String.fromCharCode(l),t+=6):240==(248&i)&&t+9<a&&(o=parseInt(e.slice(t+4,t+6),16),r=parseInt(e.slice(t+7,t+9),16),s=parseInt(e.slice(t+10,t+12),16),128==(192&o)&&128==(192&r)&&128==(192&s))?((l=i<<18&1835008|o<<12&258048|r<<6&4032|63&s)<65536||l>1114111?c+="":(l-=65536,c+=String.fromCharCode(55296+(l>>10),56320+(1023&l))),t+=9):c+="";return c})}var i={};a.defaultChars=";/?:@&=+$,#",a.componentChars="",e.exports=a},function(e,t,n){function a(e){return Object.keys(e).sort().reduce(function(t,n){return t[e[n]]="&"+n+";",t},{})}function i(e){var t=[],n=[];return Object.keys(e).forEach(function(e){1===e.length?t.push("\\"+e):n.push(e)}),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}function o(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function r(e){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function s(e,t){function n(t){return e[t]}return function(e){return e.replace(t,n).replace(p,r).replace(f,o)}}var l=a(n(681)),c=i(l);t.XML=s(l,c);var u=a(n(682)),d=i(u);t.HTML=s(u,d);var f=/[^\0-\x7F]/g,p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=i(l);t.escape=function(e){return e.replace(m,o).replace(p,r).replace(f,o)}},function(e,t,n){function a(e){var t=Object.keys(e).join("|"),n=o(e);t+="|#[xX][\\da-fA-F]+|#\\d+";var a=new RegExp("&(?:"+t+");","g");return function(e){return String(e).replace(a,n)}}function i(e,t){return e<t?1:-1}function o(e){return function(t){return"#"===t.charAt(1)?c("X"===t.charAt(2)||"x"===t.charAt(2)?parseInt(t.substr(3),16):parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}var r=n(682),s=n(2318),l=n(681),c=n(2319),u=a(l),d=a(r),f=function(){function e(e){return";"!==e.substr(-1)&&(e+=";"),u(e)}for(var t=Object.keys(s).sort(i),n=Object.keys(r).sort(i),a=0,l=0;a<n.length;a++)t[l]===n[a]?(n[a]+=";?",l++):n[a]+=";";var c=new RegExp("&(?:"+n.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),u=o(r);return function(t){return String(t).replace(c,e)}}();e.exports={XML:u,HTML:f,HTMLStrict:d}},function(e,t){e.exports={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""}},function(e,t,n){var a=n(2320);e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"";e in a&&(e=a[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)}},function(e,t){e.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(e,t,n){"use strict";var a=n(368),i=n(141),o=n(2322),r=i.normalizeURI,s=i.unescapeString,l=n(2323),c=n(680).decodeHTML;n(2324);var u=i.ESCAPABLE,d="\\\\"+u,f="\\(([^\\\\()\\x00-\\x20]|"+d+"|\\\\)*\\)",p=i.ENTITY,m=i.reHtmlTag,h=new RegExp(/^[\u2000-\u206F\u2E00-\u2E7F\\'!"#\$%&\(\)\*\+,\-\.\/:;<=>\?@\[\]\^_`\{\|\}~]/),g=new RegExp('^(?:"('+d+'|[^"\\x00])*"|\'('+d+"|[^'\\x00])*'|\\(("+d+"|[^)\\x00])*\\))"),_=new RegExp("^(?:[<](?:[^ <>\\t\\n\\\\\\x00]|"+d+"|\\\\)*[>])"),v=new RegExp("^(?:[^\\\\()\\x00-\\x20]+|"+d+"|\\\\|"+f+")*"),b=new RegExp("^"+u),y=new RegExp("^"+p,"i"),w=/`+/,$=/^`+/,x=/\.\.\./g,k=/--+/g,S=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,C=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,M=/^ *(?:\n *)?/,E=/^\s/,T=/\s+/g,P=/ *$/,O=/^ */,j=/^ *(?:\n|$)/,A=new RegExp("^\\[(?:[^\\\\\\[\\]]|"+d+"|\\\\){0,1000}\\]"),I=/^[^\n`\[\]\\!<&*_'"]+/m,L=function(e){var t=new a("Text");return t._literal=e,t},U=function(e){var t=e.exec(this.subject.slice(this.pos));return null===t?null:(this.pos+=t.index+t[0].length,t[0])},D=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},N=function(){return this.match(M),!0},R=function(e){var t=this.match($);if(null===t)return!1;for(var n,i,o=this.pos;null!==(n=this.match(w));)if(n===t)return i=new a("Code"),i._literal=this.subject.slice(o,this.pos-t.length).trim().replace(T," "),e.appendChild(i),!0;return this.pos=o,e.appendChild(L(t)),!0},F=function(e){var t,n=this.subject;return this.pos+=1,10===this.peek()?(this.pos+=1,t=new a("Hardbreak"),e.appendChild(t)):b.test(n.charAt(this.pos))?(e.appendChild(L(n.charAt(this.pos))),this.pos+=1):e.appendChild(L("\\")),!0},B=function(e){var t,n,i;return(t=this.match(S))?(n=t.slice(1,t.length-1),i=new a("Link"),i._destination=r("mailto:"+n),i._title="",i.appendChild(L(n)),e.appendChild(i),!0):!!(t=this.match(C))&&(n=t.slice(1,t.length-1),i=new a("Link"),i._destination=r(n),i._title="",i.appendChild(L(n)),e.appendChild(i),!0)},z=function(e){var t=this.match(m);if(null===t)return!1;var n=new a("HtmlInline");return n._literal=t,e.appendChild(n),!0},H=function(e){var t,n,a,i,o,r,s,c,u,d,f,p=0,m=this.pos;if(39===e||34===e)p++,this.pos++;else for(;this.peek()===e;)p++,this.pos++;return 0===p?null:(t=0===m?"\n":this.subject.charAt(m-1),a=this.peek(),n=-1===a?"\n":l(a),c=E.test(n),u=h.test(n),d=E.test(t),f=h.test(t),i=!(c||u&&!d&&!f),o=!(d||f&&!c&&!u),95===e?(r=i&&(!o||f),s=o&&(!i||u)):39===e||34===e?(r=i&&!o,s=o):(r=i,s=o),this.pos=m,{numdelims:p,can_open:r,can_close:s})},V=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var a,i=n.numdelims,o=this.pos;this.pos+=i,a=39===e?"":34===e?"":this.subject.slice(o,this.pos);var r=L(a);return t.appendChild(r),this.delimiters={cc:e,numdelims:i,node:r,previous:this.delimiters,next:null,can_open:n.can_open,can_close:n.can_close,active:!0},null!==this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters),!0},q=function(e){null!==e.previous&&(e.previous.next=e.next),null===e.next?this.delimiters=e.previous:e.next.previous=e.previous},G=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},W=function(e){var t,n,i,o,r,s,l,c,u,d,f=[];for(f[95]=e,f[42]=e,f[39]=e,f[34]=e,n=this.delimiters;null!==n&&n.previous!==e;)n=n.previous;for(;null!==n;){var p=n.cc;if(!n.can_close||95!==p&&42!==p&&39!==p&&34!==p)n=n.next;else{for(t=n.previous,d=!1;null!==t&&t!==e&&t!==f[p];){if(t.cc===n.cc&&t.can_open){d=!0;break}t=t.previous}if(i=n,42===p||95===p)if(d){l=n.numdelims<3||t.numdelims<3?n.numdelims<=t.numdelims?n.numdelims:t.numdelims:n.numdelims%2==0?2:1,o=t.node,r=n.node,t.numdelims-=l,n.numdelims-=l,o._literal=o._literal.slice(0,o._literal.length-l),r._literal=r._literal.slice(0,r._literal.length-l);var m=new a(1===l?"Emph":"Strong");for(c=o._next;c&&c!==r;)u=c._next,c.unlink(),m.appendChild(c),c=u;o.insertAfter(m),G(t,n),0===t.numdelims&&(o.unlink(),this.removeDelimiter(t)),0===n.numdelims&&(r.unlink(),s=n.next,this.removeDelimiter(n),n=s)}else n=n.next;else 39===p?(n.node._literal="",d&&(t.node._literal=""),n=n.next):34===p&&(n.node._literal="",d&&(t.node.literal=""),n=n.next);d||(f[p]=i.previous,i.can_open||this.removeDelimiter(i))}}for(;null!==this.delimiters&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},Y=function(){var e=this.match(g);return null===e?null:s(e.substr(1,e.length-2))},K=function(){var e=this.match(_);return null===e?null===(e=this.match(v))?null:r(s(e)):r(s(e.substr(1,e.length-2)))},J=function(){var e=this.match(A);return null===e||e.length>1001?0:e.length},X=function(e){var t=this.pos;this.pos+=1;var n=L("[");return e.appendChild(n),this.delimiters={cc:91,numdelims:1,node:n,previous:this.delimiters,next:null,can_open:!0,can_close:!1,index:t,active:!0},null!==this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters),!0},Q=function(e){var t=this.pos;if(this.pos+=1,91===this.peek()){this.pos+=1;var n=L("![");e.appendChild(n),this.delimiters={cc:33,numdelims:1,node:n,previous:this.delimiters,next:null,can_open:!0,can_close:!1,index:t+1,active:!0},null!==this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)}else e.appendChild(L("!"));return!0},Z=function(e){var t,n,i,r,s,l,c=!1;for(this.pos+=1,t=this.pos,l=this.delimiters;null!==l&&91!==l.cc&&33!==l.cc;)l=l.previous;if(null===l)return e.appendChild(L("]")),!0;if(!l.active)return e.appendChild(L("]")),this.removeDelimiter(l),!0;if(n=33===l.cc,40===this.peek())this.pos++,this.spnl()&&null!==(i=this.parseLinkDestination())&&this.spnl()&&(E.test(this.subject.charAt(this.pos-1))&&(r=this.parseLinkTitle()),!0)&&this.spnl()&&41===this.peek()&&(this.pos+=1,c=!0);else{var u=this.pos,d=this.pos,f=this.parseLinkLabel();s=0===f||2===f?this.subject.slice(l.index,t):this.subject.slice(d,d+f),0===f&&(this.pos=u);var p=this.refmap[o(s)];p&&(i=p.destination,r=p.title,c=!0)}if(c){var m=new a(n?"Image":"Link");m._destination=i,m._title=r||"";var h,g;for(h=l.node._next;h;)g=h._next,h.unlink(),m.appendChild(h),h=g;if(e.appendChild(m),this.processEmphasis(l.previous),l.node.unlink(),!n)for(l=this.delimiters;null!==l;)91===l.cc&&(l.active=!1),l=l.previous;return!0}return this.removeDelimiter(l),this.pos=t,e.appendChild(L("]")),!0},ee=function(e){var t;return!!(t=this.match(y))&&(e.appendChild(L(c(t))),!0)},te=function(e){var t;return!!(t=this.match(I))&&(this.options.smart?e.appendChild(L(t.replace(x,"").replace(k,function(e){var t=0,n=0;return e.length%3==0?n=e.length/3:e.length%2==0?t=e.length/2:e.length%3==2?(t=1,n=(e.length-2)/3):(t=2,n=(e.length-4)/3),"".repeat(n)+"".repeat(t)}))):e.appendChild(L(t)),!0)},ne=function(e){this.pos+=1;var t=e._lastChild;if(t&&"Text"===t.type&&" "===t._literal[t._literal.length-1]){var n=" "===t._literal[t._literal.length-2];t._literal=t._literal.replace(P,""),e.appendChild(new a(n?"Hardbreak":"Softbreak"))}else e.appendChild(new a("Softbreak"));return this.match(O),!0},ae=function(e,t){this.subject=e,this.pos=0;var n,a,i,r,s=this.pos;if(0===(r=this.parseLinkLabel()))return 0;if(n=this.subject.substr(0,r),58!==this.peek())return this.pos=s,0;if(this.pos++,this.spnl(),null===(a=this.parseLinkDestination())||0===a.length)return this.pos=s,0;var l=this.pos;this.spnl(),null===(i=this.parseLinkTitle())&&(i="",this.pos=l);var c=!0;if(null===this.match(j)&&(""===i?c=!1:(i="",this.pos=l,c=null!==this.match(j))),!c)return this.pos=s,0;var u=o(n);return""===u?(this.pos=s,0):(t[u]||(t[u]={destination:a,title:i}),this.pos-s)},ie=function(e){var t=!1,n=this.peek();if(-1===n)return!1;switch(n){case 10:t=this.parseNewline(e);break;case 92:t=this.parseBackslash(e);break;case 96:t=this.parseBackticks(e);break;case 42:case 95:t=this.handleDelim(n,e);break;case 39:case 34:t=this.options.smart&&this.handleDelim(n,e);break;case 91:t=this.parseOpenBracket(e);break;case 33:t=this.parseBang(e);break;case 93:t=this.parseCloseBracket(e);break;case 60:t=this.parseAutolink(e)||this.parseHtmlTag(e);break;case 38:t=this.parseEntity(e);break;default:t=this.parseString(e)}return t||(this.pos+=1,e.appendChild(L(l(n)))),!0},oe=function(e){for(this.subject=e._string_content.trim(),this.pos=0,this.delimiters=null;this.parseInline(e););e._string_content=null,this.processEmphasis(null)};e.exports=function(e){return{subject:"",delimiters:null,pos:0,refmap:{},match:U,peek:D,spnl:N,parseBackticks:R,parseBackslash:F,parseAutolink:B,parseHtmlTag:z,scanDelims:H,handleDelim:V,parseLinkTitle:Y,parseLinkDestination:K,parseLinkLabel:J,parseOpenBracket:X,parseCloseBracket:Z,parseBang:Q,parseEntity:ee,parseString:te,parseNewline:ne,parseReference:ae,parseInline:ie,processEmphasis:W,removeDelimiter:q,options:e||{},parse:oe}}},function(e,t,n){"use strict";var a=/[ \t\r\n]+|[A-Z\xB5\xC0-\xD6\xD8-\xDF\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u0149\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u017F\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C5\u01C7\u01C8\u01CA\u01CB\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F0-\u01F2\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0345\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03AB\u03B0\u03C2\u03CF-\u03D1\u03D5\u03D6\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F0\u03F1\u03F4\u03F5\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u0587\u10A0-\u10C5\u10C7\u10CD\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E96-\u1E9B\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F50\u1F52\u1F54\u1F56\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1F80-\u1FAF\u1FB2-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD2\u1FD3\u1FD6-\u1FDB\u1FE2-\u1FE4\u1FE6-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2126\u212A\u212B\u2132\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0\uA7B1\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27]|\uD806[\uDCA0-\uDCBF]/g,i={A:"a",B:"b",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",J:"j",K:"k",L:"l",M:"m",N:"n",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",U:"u",V:"v",W:"w",X:"x",Y:"y",Z:"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"s","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"k","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"ss","":"i","":"n","":"j","":"","":"","":"","":"h","":"t","":"w","":"y","":"a","":"ss","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"ff","":"fi","":"fl","":"ffi","":"ffl","":"st","":"st","":"","":"","":"","":"","":""};e.exports=function(e){return e.slice(1,e.length-1).trim().replace(a,function(e){return i[e]||" "})}},function(e,t,n){"use strict";if(String.fromCodePoint)e.exports=function(e){try{return String.fromCodePoint(e)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var a=String.fromCharCode,i=Math.floor;e.exports=function(){var e,t,n=[],o=-1,r=arguments.length;if(!r)return"";for(var s="";++o<r;){var l=Number(arguments[o]);if(!isFinite(l)||l<0||l>1114111||i(l)!==l)return String.fromCharCode(65533);l<=65535?n.push(l):(e=55296+((l-=65536)>>10),t=l%1024+56320,n.push(e,t)),(o+1===r||n.length>16384)&&(s+=a.apply(null,n),n.length=0)}return s}}},function(e,t){String.prototype.repeat||function(){"use strict";var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),t=function(e){if(null==this)throw TypeError();var t=String(this),n=e?Number(e):0;if(n!=n&&(n=0),n<0||n==1/0)throw RangeError();for(var a="";n;)n%2==1&&(a+=t),n>1&&(t+=t),n>>=1;return a};e?e(String.prototype,"repeat",{value:t,configurable:!0,writable:!0}):String.prototype.repeat=t}()},function(e,t,n){"use strict";var a=n(141).escapeXml,i=function(e,t,n){var a="<"+e;if(t&&t.length>0)for(var i,o=0;void 0!==(i=t[o]);)a+=" "+i[0]+'="'+i[1]+'"',o++;return n&&(a+=" /"),a+=">"},o=/\<[^>]*\>/,r=/^javascript:|vbscript:|file:|data:/i,s=/^data:image\/(?:png|gif|jpeg|webp)/i,l=function(e){return r.test(e)&&!s.test(e)},c=function(e){var t,n,a,r,s,c,u,d=e.walker(),f="",p="\n",m=0,h=function(e){f+=m>0?e.replace(o,""):e,p=e},g=this.escape,_=function(){"\n"!==p&&(f+="\n",p="\n")},v=this.options;for(v.time&&console.time("rendering");r=d.next();){if(c=r.entering,s=r.node,t=[],v.sourcepos){var b=s.sourcepos;b&&t.push(["data-sourcepos",String(b[0][0])+":"+String(b[0][1])+"-"+String(b[1][0])+":"+String(b[1][1])])}switch(s.type){case"Text":h(g(s.literal,!1));break;case"Softbreak":h(this.softbreak);break;case"Hardbreak":h(i("br",[],!0)),_();break;case"Emph":h(i(c?"em":"/em"));break;case"Strong":h(i(c?"strong":"/strong"));break;case"HtmlInline":h(v.safe?"\x3c!-- raw HTML omitted --\x3e":s.literal);break;case"CustomInline":c&&s.onEnter?h(s.onEnter):!c&&s.onExit&&h(s.onExit);break;case"Link":c?(v.safe&&l(s.destination)||t.push(["href",g(s.destination,!0)]),s.title&&t.push(["title",g(s.title,!0)]),h(i("a",t))):h(i("/a"));break;case"Image":c?(0===m&&h(v.safe&&l(s.destination)?'<img src="" alt="':'<img src="'+g(s.destination,!0)+'" alt="'),m+=1):0==(m-=1)&&(s.title&&h('" title="'+g(s.title,!0)),h('" />'));break;case"Code":h(i("code")+g(s.literal,!1)+i("/code"));break;case"Document":break;case"Paragraph":if(null!==(u=s.parent.parent)&&"List"===u.type&&u.listTight)break;c?(_(),h(i("p",t))):(h(i("/p")),_());break;case"BlockQuote":c?(_(),h(i("blockquote",t)),_()):(_(),h(i("/blockquote")),_());break;case"Item":c?h(i("li",t)):(h(i("/li")),_());break;case"List":if(a="Bullet"===s.listType?"ul":"ol",c){var y=s.listStart;null!==y&&1!==y&&t.push(["start",y.toString()]),_(),h(i(a,t)),_()}else _(),h(i("/"+a)),_();break;case"Heading":a="h"+s.level,c?(_(),h(i(a,t))):(h(i("/"+a)),_());break;case"CodeBlock":(n=s.info?s.info.split(/\s+/):[]).length>0&&n[0].length>0&&t.push(["class","language-"+g(n[0],!0)]),_(),h(i("pre")+i("code",t)),h(g(s.literal,!1)),h(i("/code")+i("/pre")),_();break;case"HtmlBlock":_(),h(v.safe?"\x3c!-- raw HTML omitted --\x3e":s.literal),_();break;case"CustomBlock":_(),c&&s.onEnter?h(s.onEnter):!c&&s.onExit&&h(s.onExit),_();break;case"ThematicBreak":_(),h(i("hr",t,!0)),_();break;default:throw"Unknown node type "+s.type}}return v.time&&console.timeEnd("rendering"),f};e.exports=function(e){return{softbreak:"\n",escape:a,options:e||{},render:c}}},function(e,t,n){"use strict";var a=n(141).escapeXml,i=function(e,t,n){var a="<"+e;if(t&&t.length>0)for(var i,o=0;void 0!==(i=t[o]);)a+=" "+i[0]+'="'+i[1]+'"',o++;return n&&(a+=" /"),a+=">"},o=function(e){return e.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase()},r=function(e){var t,n,a,r,s,l,c,u,d=e.walker(),f="",p="\n",m=0,h=function(e){f+=e,p=e},g=this.escape,_=function(){if("\n"!==p){f+="\n",p="\n";for(var e=m;e>0;e--)f+="  "}},v=this.options;for(v.time&&console.time("rendering"),f+='<?xml version="1.0" encoding="UTF-8"?>\n',f+='<!DOCTYPE CommonMark SYSTEM "CommonMark.dtd">\n';a=d.next();)if(s=a.entering,r=a.node,u=r.type,l=r.isContainer,c="ThematicBreak"===u||"Hardbreak"===u||"Softbreak"===u,n=o(u),s){switch(t=[],u){case"Document":t.push(["xmlns","http://commonmark.org/xml/1.0"]);break;case"List":null!==r.listType&&t.push(["type",r.listType.toLowerCase()]),null!==r.listStart&&t.push(["start",String(r.listStart)]),null!==r.listTight&&t.push(["tight",r.listTight?"true":"false"]);var b=r.listDelimiter;if(null!==b){var y="";y="."===b?"period":"paren",t.push(["delimiter",y])}break;case"CodeBlock":r.info&&t.push(["info",r.info]);break;case"Heading":t.push(["level",String(r.level)]);break;case"Link":case"Image":t.push(["destination",r.destination]),t.push(["title",r.title]);break;case"CustomInline":case"CustomBlock":t.push(["on_enter",r.onEnter]),t.push(["on_exit",r.onExit])}if(v.sourcepos){var w=r.sourcepos;w&&t.push(["sourcepos",String(w[0][0])+":"+String(w[0][1])+"-"+String(w[1][0])+":"+String(w[1][1])])}if(_(),h(i(n,t,c)),l)m+=1;else if(!l&&!c){var $=r.literal;$&&h(g($)),h(i("/"+n))}}else m-=1,_(),h(i("/"+n));return v.time&&console.timeEnd("rendering"),f+="\n"};e.exports=function(e){return{softbreak:"\n",escape:a,options:e||{},render:r}}},function(e,t,n){"use strict";function a(e){return{key:e.nodeKey,className:e.className,"data-sourcepos":e["data-sourcepos"]}}function i(e){var t=e.toLowerCase(),n=w[t]||t;return void 0!==$[n]?n:e}function o(e){var t=a(e),n=e.escapeHtml?{}:{dangerouslySetInnerHTML:{__html:e.literal}},i=e.escapeHtml?[e.literal]:null;if(e.escapeHtml||!e.skipHtml){var o=_(t,n);return l(e.isBlock?"div":"span",o,i)}}function r(e){var t=e.parent.parent;return t&&"list"===t.type.toLowerCase()&&t.listTight}function s(e,t){var n=e;do{n=n.parent}while(!n.react);n.react.children.push(t)}function l(e,t,n){var a=Array.isArray(n)&&n.reduce(c,[]),i=[e,t].concat(a||n);return g.createElement.apply(g,i)}function c(e,t){var n=e.length-1;return"string"==typeof t&&"string"==typeof e[n]?e[n]+=t:e.push(t),e}function u(e){return[e[0][0],":",e[0][1],"-",e[1][0],":",e[1][1]].map(String).join("")}function d(e,t,n,a){var o={key:t};n.sourcePos&&e.sourcepos&&(o["data-sourcepos"]=u(e.sourcepos));var r=i(e.type);switch(r){case"html_inline":case"html_block":o.isBlock="html_block"===r,o.escapeHtml=n.escapeHtml,o.skipHtml=n.skipHtml;break;case"code_block":var s=e.info?e.info.split(/ +/):[];s.length>0&&s[0].length>0&&(o.language=s[0],o.codeinfo=s);break;case"code":o.children=e.literal,o.inline=!0;break;case"heading":o.level=e.level;break;case"softbreak":o.softBreak=n.softBreak;break;case"link":o.href=n.transformLinkUri?n.transformLinkUri(e.destination):e.destination,o.title=e.title||void 0,n.linkTarget&&(o.target=n.linkTarget);break;case"image":o.src=n.transformImageUri?n.transformImageUri(e.destination):e.destination,o.title=e.title||void 0,o.alt=e.react.children.join(""),e.react.children=void 0;break;case"list":o.start=e.listStart,o.type=e.listType,o.tight=e.listTight}"string"!=typeof a&&(o.literal=e.literal);var l=o.children||e.react&&e.react.children;return Array.isArray(l)&&(o.children=l.reduce(c,[])||null),o}function f(e){return e?e.sourcepos?u(e.sourcepos):f(e.parent):null}function p(e){for(var t,n,a,o,l,c,u,p,m,h=e.walker(),v={sourcePos:this.sourcePos,escapeHtml:this.escapeHtml,skipHtml:this.skipHtml,transformLinkUri:this.transformLinkUri,transformImageUri:this.transformImageUri,softBreak:this.softBreak,linkTarget:this.linkTarget},b=0;t=h.next();){var w=f(t.node.sourcepos?t.node:t.node.parent);if(m===w?(u=w+b,b++):(u=w,b=0),m=w,a=t.entering,o=!a,n=t.node,l=i(n.type),p=null,c){if(n!==c&&!("paragraph"===l&&r(n)||this.skipHtml&&("html_block"===l||"html_inline"===l))){var $=n===c,x=-1===this.allowedTypes.indexOf(l),k=!1,S=n.isContainer&&o,C=this.renderers[l];if(this.allowNode&&(S||!n.isContainer)){var M=S?n.react.children:[];p=d(n,u,v,C),k=!this.allowNode({type:y(l),renderer:this.renderers[l],props:p,children:M})}if($||!k&&!x){if("function"!=typeof C&&"text"!==l&&"softbreak"!==l&&"string"!=typeof C)throw new Error("Renderer for type `"+y(n.type)+"` not defined or is not renderable");if(n.isContainer&&a)n.react={component:C,props:{},children:[]};else{var E=p||d(n,u,v,C);C?(E="string"==typeof C?E:_(E,{nodeKey:E.key}),s(n,g.createElement(C,E))):"text"===l?s(n,n.literal):"softbreak"===l&&s(n,"br"===this.softBreak?g.createElement("br",{key:u}):this.softBreak)}}else!this.unwrapDisallowed&&a&&n.isContainer&&h.resumeAt(n,!1)}}else c=n,n.react={children:[]}}return c.react.children}function m(e){var t=e.replace(/file:\/\//g,"x-file://");return decodeURI(b.uriInDoubleQuotedAttr(t))}function h(e){var t=e||{};if(t.allowedTypes&&t.disallowedTypes)throw new Error("Only one of `allowedTypes` and `disallowedTypes` should be defined");if(t.allowedTypes&&!Array.isArray(t.allowedTypes))throw new Error("`allowedTypes` must be an array");if(t.disallowedTypes&&!Array.isArray(t.disallowedTypes))throw new Error("`disallowedTypes` must be an array");if(t.allowNode&&"function"!=typeof t.allowNode)throw new Error("`allowNode` must be a function");var n=t.transformLinkUri;if(void 0===n)n=m;else if(n&&"function"!=typeof n)throw new Error("`transformLinkUri` must either be a function, or `null` to disable");var a=t.transformImageUri;if(void 0!==a&&"function"!=typeof a)throw new Error("`transformImageUri` must be a function");if(t.renderers&&!v(t.renderers))throw new Error("`renderers` must be a plain object of `Type`: `Renderer` pairs");var o=t.allowedTypes&&t.allowedTypes.map(i)||x;if(t.disallowedTypes){var r=t.disallowedTypes.map(i);o=o.filter(function(e){return-1===r.indexOf(e)})}return{sourcePos:Boolean(t.sourcePos),softBreak:t.softBreak||"\n",renderers:_({},$,function(e){return Object.keys(e||{}).reduce(function(t,n){return t[i(n)]=e[n],t},{})}(t.renderers)),escapeHtml:Boolean(t.escapeHtml),skipHtml:Boolean(t.skipHtml),transformLinkUri:n,transformImageUri:a,allowNode:t.allowNode,allowedTypes:o,unwrapDisallowed:Boolean(t.unwrapDisallowed),render:p,linkTarget:t.linkTarget||!1}}var g=n(1),_=n(2328),v=n(2329),b=n(2330),y=n(2331),w={blockquote:"block_quote",thematicbreak:"thematic_break",htmlblock:"html_block",htmlinline:"html_inline",codeblock:"code_block",hardbreak:"linebreak"},$={block_quote:"blockquote",emph:"em",linebreak:"br",image:"img",item:"li",link:"a",paragraph:"p",strong:"strong",thematic_break:"hr",html_block:o,html_inline:o,list:function(e){var t="bullet"===e.type.toLowerCase()?"ul":"ol",n=a(e);return null!==e.start&&1!==e.start&&(n.start=e.start.toString()),l(t,n,e.children)},code_block:function(e){var t=l("code",{className:e.language&&"language-"+e.language},e.literal);return l("pre",a(e),t)},code:function(e){return l("code",a(e),e.children)},heading:function(e){return l("h"+e.level,a(e),e.children)},text:null,softbreak:null},x=Object.keys($);h.uriTransformer=m,h.types=x.map(y),h.renderers=x.reduce(function(e,t){return e[y(t)]=$[t],e},{}),e.exports=h},function(e,t){function n(e,t){var n=$(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&s(e)}(e)&&g.call(e,"callee")&&(!v.call(e,"callee")||_.call(e)==d)}(e)?function(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}(e.length,String):[],a=n.length,o=!!a;for(var r in e)!t&&!g.call(e,r)||o&&("length"==r||i(r,a))||n.push(r);return n}function a(e,t,n){var a=e[t];g.call(e,t)&&r(a,n)&&(void 0!==n||t in e)||(e[t]=n)}function i(e,t){return!!(t=null==t?u:t)&&("number"==typeof e||m.test(e))&&e>-1&&e%1==0&&e<t}function o(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||h)}function r(e,t){return e===t||e!=e&&t!=t}function s(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}(e.length)&&!function(e){var t=l(e)?_.call(e):"";return t==f||t==p}(e)}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){return s(e)?n(e):function(e){if(!o(e))return b(e);var t=[];for(var n in Object(e))g.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var u=9007199254740991,d="[object Arguments]",f="[object Function]",p="[object GeneratorFunction]",m=/^(?:0|[1-9]\d*)$/,h=Object.prototype,g=h.hasOwnProperty,_=h.toString,v=h.propertyIsEnumerable,b=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),y=Math.max,w=!v.call({valueOf:1},"valueOf"),$=Array.isArray,x=function(e){return function(e,t){return t=y(void 0===t?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=y(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var r=Array(t+1);++a<t;)r[a]=n[a];return r[t]=o,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,r)}}(function(t,n){var a=-1,o=n.length,c=o>1?n[o-1]:void 0,u=o>2?n[2]:void 0;for((c=e.length>3&&"function"==typeof c?(o--,c):void 0,u&&function(e,t,n){if(!l(n))return!1;var a=typeof t;return!!("number"==a?s(n)&&i(t,n.length):"string"==a&&t in n)&&r(n[t],e)}(n[0],n[1],u)&&(c=o<3?void 0:c,o=1),t=Object(t));++a<o;){var d=n[a];d&&e(t,d)}return t})}(function(e,t){if(w||o(t)||s(t))!function(e,t,n,i){n||(n={});for(var o=-1,r=t.length;++o<r;){var s=t[o],l=i?i(n[s],e[s],s,n,e):void 0;a(n,s,void 0===l?e[s]:l)}}(t,c(t),e);else for(var n in t)g.call(t,n)&&a(e,n,t[n])});e.exports=x},function(e,t){var n=Function.prototype,a=Object.prototype,i=n.toString,o=a.hasOwnProperty,r=i.call(Object),s=a.toString,l=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=s.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var n=o.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&i.call(n)==r}},function(e,t){function n(e,t,n){return a.yubl(t((n||a.yufull)(e)))}t._getPrivFilters=function(){function e(e){var t=e.split(x,2);return!t[0]||2!==t.length&&e.length===t[0].length?null:t[0]}function t(e,t,n,a){return t=t||h,n=n||m,void 0===e?"undefined":null===e?"null":e.toString().replace(u,"").replace(n,function(e,n,i,r){return n?(n=Number(n[0]<="9"?n:"0"+n),a?M(n):128===n?"":130===n?"":131===n?"":132===n?"":133===n?"":134===n?"":135===n?"":136===n?"":137===n?"":138===n?"":139===n?"":140===n?"":142===n?"":145===n?"":146===n?"":147===n?"":148===n?"":149===n?"":150===n?"":151===n?"":152===n?"":153===n?"":154===n?"":155===n?"":156===n?"":158===n?"":159===n?"":n>=55296&&n<=57343||13===n?"":o.frCoPt(n)):t[i||r]||e})}function n(e){return"\\"+e.charCodeAt(0).toString(16).toLowerCase()+" "}function a(e){return e.replace(b,function(e){return"-x-"+e})}function i(n){var a=e(n=o.yufull(t(n)));return a&&$[a.toLowerCase()]?"##"+n:n}var o,r=/</g,s=/"/g,l=/'/g,c=/&/g,u=/\x00/g,d=/(?:^$|[\x00\x09-\x0D "'`=<>])/g,f=/[&<>"'`]/g,p=/(?:\x00|^-*!?>|--!?>|--?!?$|\]>|\]$)/g,m=/&(?:#([xX][0-9A-Fa-f]+|\d+);?|(Tab|NewLine|colon|semi|lpar|rpar|apos|sol|comma|excl|ast|midast|ensp|emsp|thinsp);|(nbsp|amp|AMP|lt|LT|gt|GT|quot|QUOT);?)/g,h={Tab:"\t",NewLine:"\n",colon:":",semi:";",lpar:"(",rpar:")",apos:"'",sol:"/",comma:",",excl:"!",ast:"*",midast:"*",ensp:"",emsp:"",thinsp:"",nbsp:"",amp:"&",lt:"<",gt:">",quot:'"',QUOT:'"'},g=/^(?:(?!-*expression)#?[-\w]+|[+-]?(?:\d+|\d*\.\d+)(?:r?em|ex|ch|cm|mm|in|px|pt|pc|%|vh|vw|vmin|vmax)?|!important|)$/i,_=/[\x00-\x1F\x7F\[\]{}\\"]/g,v=/[\x00-\x1F\x7F\[\]{}\\']/g,b=/url[\(\u207D\u208D]+/g,y=/['\(\)]/g,w=/\/\/%5[Bb]([A-Fa-f0-9:]+)%5[Dd]/,$={javascript:1,data:1,vbscript:1,mhtml:1,"x-schema":1},x=/(?::|&#[xX]0*3[aA];?|&#0*58;?|&colon;)/,k=/(?:^[\x00-\x20]+|[\t\n\r\x00]+)/g,S={Tab:"\t",NewLine:"\n"},C=function(e,t,n){return void 0===e?"undefined":null===e?"null":e.toString().replace(t,n)},M=String.fromCodePoint||function(e){return 0===arguments.length?"":e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),e%1024+56320))};return o={frCoPt:function(e){return void 0===e||null===e?"":!isFinite(e=Number(e))||e<=0||e>1114111||e>=1&&e<=8||e>=14&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||11===e||65535==(65535&e)||65534==(65535&e)?"":M(e)},d:t,yup:function(n){return(n=e(n.replace(u,"")))?t(n,S,null,!0).replace(k,"").toLowerCase():null},y:function(e){return C(e,f,function(e){return"&"===e?"&amp;":"<"===e?"&lt;":">"===e?"&gt;":'"'===e?"&quot;":"'"===e?"&#39;":"&#96;"})},ya:function(e){return C(e,c,"&amp;")},yd:function(e){return C(e,r,"&lt;")},yc:function(e){return C(e,p,function(e){return"\0"===e?"":"--!"===e||"--"===e||"-"===e||"]"===e?e+" ":e.slice(0,-1)+" >"})},yavd:function(e){return C(e,s,"&quot;")},yavs:function(e){return C(e,l,"&#39;")},yavu:function(e){return C(e,d,function(e){return"\t"===e?"&#9;":"\n"===e?"&#10;":"\v"===e?"&#11;":"\f"===e?"&#12;":"\r"===e?"&#13;":" "===e?"&#32;":"="===e?"&#61;":"<"===e?"&lt;":">"===e?"&gt;":'"'===e?"&quot;":"'"===e?"&#39;":"`"===e?"&#96;":""})},yu:encodeURI,yuc:encodeURIComponent,yubl:function(e){return $[o.yup(e)]?"x-"+e:e},yufull:function(e){return o.yu(e).replace(w,function(e,t){return"//["+t+"]"})},yublf:function(e){return o.yubl(o.yufull(e))},yceu:function(e){return e=t(e),g.test(e)?e:";-x:'"+a(e.replace(v,n))+"';-v:"},yced:function(e){return a(t(e).replace(_,n))},yces:function(e){return a(t(e).replace(v,n))},yceuu:function(e){return i(e).replace(y,function(e){return"'"===e?"\\27 ":"("===e?"%28":"%29"})},yceud:function(e){return i(e)},yceus:function(e){return i(e).replace(l,"\\27 ")}}};var a=t._privFilters=t._getPrivFilters();t.inHTMLData=a.yd,t.inHTMLComment=a.yc,t.inSingleQuotedAttr=a.yavs,t.inDoubleQuotedAttr=a.yavd,t.inUnQuotedAttr=a.yavu,t.uriInSingleQuotedAttr=function(e){return n(e,a.yavs)},t.uriInDoubleQuotedAttr=function(e){return n(e,a.yavd)},t.uriInUnQuotedAttr=function(e){return n(e,a.yavu)},t.uriInHTMLData=a.yufull,t.uriInHTMLComment=function(e){return a.yc(a.yufull(e))},t.uriPathInSingleQuotedAttr=function(e){return n(e,a.yavs,a.yu)},t.uriPathInDoubleQuotedAttr=function(e){return n(e,a.yavd,a.yu)},t.uriPathInUnQuotedAttr=function(e){return n(e,a.yavu,a.yu)},t.uriPathInHTMLData=a.yu,t.uriPathInHTMLComment=function(e){return a.yc(a.yu(e))},t.uriQueryInSingleQuotedAttr=t.uriPathInSingleQuotedAttr,t.uriQueryInDoubleQuotedAttr=t.uriPathInDoubleQuotedAttr,t.uriQueryInUnQuotedAttr=t.uriPathInUnQuotedAttr,t.uriQueryInHTMLData=t.uriPathInHTMLData,t.uriQueryInHTMLComment=t.uriPathInHTMLComment,t.uriComponentInSingleQuotedAttr=function(e){return a.yavs(a.yuc(e))},t.uriComponentInDoubleQuotedAttr=function(e){return a.yavd(a.yuc(e))},t.uriComponentInUnQuotedAttr=function(e){return a.yavu(a.yuc(e))},t.uriComponentInHTMLData=a.yuc,t.uriComponentInHTMLComment=function(e){return a.yc(a.yuc(e))},t.uriFragmentInSingleQuotedAttr=function(e){return a.yubl(a.yavs(a.yuc(e)))},t.uriFragmentInDoubleQuotedAttr=function(e){return a.yubl(a.yavd(a.yuc(e)))},t.uriFragmentInUnQuotedAttr=function(e){return a.yubl(a.yavu(a.yuc(e)))},t.uriFragmentInHTMLData=t.uriComponentInHTMLData,t.uriFragmentInHTMLComment=t.uriComponentInHTMLComment},function(e,t){e.exports=function(e){if("string"!=typeof e)throw new TypeError("expected a string.");return 1===(e=e.replace(/([A-Z])/g," $1")).length?e.toUpperCase():(e=e.replace(/^[\W_]+|[\W_]+$/g,"").toLowerCase(),(e=e.charAt(0).toUpperCase()+e.slice(1)).replace(/[\W_]+(\w|$)/g,function(e,t){return t.toUpperCase()}))}},function(e,t,n){e.exports=n(2333)()},function(e,t,n){"use strict";var a=n(22),i=n(6),o=n(2334);e.exports=function(){function e(e,t,n,a,r,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/host/:user_name/:hosted_channel",{user_name:"@user_name",hosted_channel:"@hosted_channel",authToken:"@authToken"},{start:{method:"POST",params:t,isArray:!1},stop:{method:"DELETE",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/media/views/:channel",{channel:"@channel"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/embedmessage/:channel",{channel:"@channel"},{get:{method:"GET",params:{}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/upload/description/:user_name/:token",{user_name:"@user_name",token:"@token"},{get:{method:"GET",params:t,isArray:!0},remove:{method:"DELETE",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/streamcontrollist",{authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!0}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,h,g,_,v,b,y,w,$,x,k,S,C){var M=null;return function(){function E(t,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E),this.updateMedia=function(){return o.mediaStatusLoading=!0,o.fetchMedia().then(o.storeMedia).then(o.initIsAdmin).then(o.rejectMedia).finally(function(){o.mediaStatusLoading=!1})},this.initMediaIds=function(){o.mediaIsLive(o.media)?g.debug("Main media is online"):(g.debug("Main media is offline"),o.initFallbackMedias(),o.startMediaStatusUpdate())},this.updateViews=function(){return S.get({channel:o.media.media_user_name.toLowerCase()}).$promise.then(function(t){var n=parseInt(t.total_live_views,10);!(0,s.default)(n)&&(0,l.default)(n)?e.dispatch((0,u.setViews)(parseInt(n,10))):e.dispatch((0,u.setViews)(0))})},this.updateMediaStatuses=function(){function e(){return this.getStreamMediaId()?v.when(null):v.reject()}return o.mediaIsLive(o.media)?(o.stopMediaStatusUpdate(),v.when(null)):(g.debug("Checking media status updates"),function(){var e=this;return k.updateStatus(this.media).then(function(){e.mediaIsLive(e.media)?g.debug("Main media is online, switching..."):g.debug("Main media is still offline")})}.call(o).then(e.bind(o)).then(function(){var e=this;return!this.getStreamMediaId()&&this.media.media_hosted_id&&this.hostedMedia?k.updateStatus(this.hostedMedia).then(function(){e.mediaIsLive(e.hostedMedia)?g.debug("Hosted media is online, switching..."):g.debug("Hosted media is still offline")}):v.when(null)}.bind(o)).then(e.bind(o)).then(function(){this.getVideoMediaId()||g.debug("Offline trailer mode is active")}.bind(o)))},this.storeMedia=function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?(o.media||y.trackEvent("gamePlayed",t.category_name),o.media=t,o.media&&o.media.channel&&o.media.channel.followers?e.dispatch((0,u.setFollowers)(parseInt(o.media.channel.followers,10))):e.dispatch((0,u.setFollowers)(0)),M=a.$watch(function(){return o.media.media_is_live},function(e){0===parseInt(e,10)&&(n.remove("detail-page--has-mini-player"),M())}),a.follow_id=o.media.media_user_id,a.follow_type="user",i&&o.setMeta(),v.when()):v.reject()},this.initIsAdmin=function(){o.admin=!1;var e=d.ROUTING_CONFIG.accessLevels;x.isAuthenticated()&&w.authorize({accessLevel:e.admin,resource:"account",resource_id:o.media.media_user_name||-1}).then(function(e){o.admin=e}).catch(angular.noop)},this.isAdmin=function(){return o.admin},this.isPartner=function(){return!!o.media&&null!==o.media.channel.partner_type},this.rejectMedia=function(){return $(o.media)?v.when():(o.checkIfMediaIsBanned(),v.reject())},this.mediaName=t,this.mediaType=i,this.media=null,this.admin=!1,b.set(this)}return o(E,[{key:"uploadLogoSuccess",value:function(e){e.fields&&Object.assign(this.media.channel,e.fields)}},{key:"uploadCoverSuccess",value:function(e){e.fields&&Object.assign(this.media,e.fields)}},{key:"assignNewMedia",value:function(e){this.checkChanges(e),Object.assign(this.media,e)}},{key:"checkChanges",value:function(e){e.media_status&&this.media.media_status!==e.media_status&&t.newMessage("localLog",{text:_.instant("view_chat_text_set-title-to",{title:e.media_status})}),e.category_id&&this.media.category_id!==e.category_id&&t.newMessage("localLog",{text:_.instant("view_chat_text_set-game-to",{game:e.category_name})})}},{key:"isPrerollDisabled",value:function(){return"video"===this.mediaType&&"true"===h.search().autoplay}},{key:"fetchMedia",value:function(){return k.get(this.mediaName,this.mediaType)}},{key:"reInitMedia",value:function(){return this.updateMedia().then(this.initMediaIds).then(this.updateViews)}},{key:"initFallbackMedias",value:function(){(function(){var e=this;return this.media.media_hosted_id?(g.debug("Hosted media found, init..."),k.get(this.media.media_hosted_id).then(function(t){e.hostedMedia=t,e.mediaIsLive(e.hostedMedia)?g.debug("Hosted media is online, switching..."):g.debug("Hosted media is offline")})):v.when(null)}).call(this).then(function(){var e=this;this.getVideoMediaId()&&(k.get(this.media.media_offline_id,"video").then(function(t){e.offlineTrailerMedia=t}),g.debug("Offline trailer media found, init..."))}.bind(this)).then(function(){this.getStreamMediaId||this.getVideoMediaId()||g.debug("No fallback media found, going offline...")}.bind(this))}},{key:"getStreamMediaId",value:function(){return!!this.media&&(this.mediaIsLive(this.media)?this.mediaName:(this.mediaIdUpdateTimer||(this.startMediaStatusUpdate(),this.initFallbackMedias()),this.mediaIsLive(this.hostedMedia)?this.media.media_hosted_id:null))}},{key:"getCurrentMedia",value:function(){return this.mediaIsLive(this.media)?this.media:!!this.mediaIsLive(this.hostedMedia)&&this.hostedMedia}},{key:"startMediaStatusUpdate",value:function(){this.mediaIdUpdateTimer||(this.mediaIdUpdateTimer=i(this.updateMediaStatuses,m,0,!1),g.debug("Media status update interval has been started"))}},{key:"stopMediaStatusUpdate",value:function(){i.cancel(this.mediaIdUpdateTimer),this.mediaIdUpdateTimer=null,g.debug("Media status update interval has been stopped")}},{key:"getVideoMediaId",value:function(){return this.getStreamMediaId()?null:this.media.media_offline_id}},{key:"mediaIsLive",value:function(e){return e?!!e&&!!parseInt(e.media_is_live,10):this.media&&parseInt(this.media.media_is_live,10)}},{key:"setMeta",value:function(){var e=this.media.media_description,t=void 0;e=e.replace(/<.*?>/g,"").replace(/http(s|):\/\/.+?( |\n|\r)/g,"").replace(/\[.+?\]/g,"").substring(0,200),t=this.media&&this.media.channel&&this.media.channel.user_logo?""+p.default.imgUrl+this.media.channel.user_logo:c.default;var n={type:"video",url:location.href,description:e||null,stream:this.media.media_name||null,author:this.media.channel.user_name||"smashcast.tv",image:t,title:this.media.media_status||this.media.media_display_name||"smashcast.tv"};!n.description&&this.media.category_name&&(n.description=_.instant("global_text_user-plays-game",{username:this.media.media_display_name,gamename:this.media.category_name})),a.meta=n,this.updatePageTitle()}},{key:"updatePageTitle",value:function(){if(this.media){var e=this.media.media_user_name+(this.media.media_type_id===f.default.VIDEO?" - "+this.media.media_status:"");C.set(e)}}},{key:"checkIfMediaIsBanned",value:function(){(0,r.default)(this.media.user_banned)||(this.isBanned=!0)}},{key:"onDestroy",value:function(){M&&M(),n.remove("detail-page--has-mini-player")}}]),E}()}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=i;var r=a(n(66)),s=a(n(684)),l=a(n(2341)),c=a(n(524)),u=n(164),d=n(15),f=a(n(78)),p=a(n(2));i.$inject=["$ngRedux","chatMessages","bodyClassNames","$rootScope","$interval","$location","$log","$translate","$q","detailMedia","Analytics","Auth","isMediaAllowedFilter","loggedUser","medias","MediaViews","pageTitle"];var m=3e4},function(e,t,n){var a=n(33).isFinite;e.exports=function(e){return"number"==typeof e&&a(e)}},function(e,t,n){"use strict";function a(e,t){return{share:function(e){var n={animation:!0,backdrop:!0,keyboard:!1,windowClass:"modal detail-share-modal",component:"DetailShareModal",resolve:{media:function(){return e}}};t.open(n)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,a.$inject=["$log","$uibModal"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/profile/:user_name",{user_name:"@user_name"},{get:{method:"GET",cache:!0,params:{},isArray:!1},update:{method:"POST",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/profileenable/:user_name",{user_name:"@user_name"},{set:{method:"POST",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/ipban/:channel/:ip",{channel:"@channel",authToken:"@authToken",ip:"@ip"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/ipcount/:channel",{channel:"@channel",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=null,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"set",value:function(e){i=e}},{key:"get",value:function(){return i}}]),e}();t.default=o},function(e,t,n){"use strict";function a(e){return{scope:{channel:"@"},restrict:"A",link:function(t,n){var a={animation:!0,backdrop:!0,keyboard:!0,windowClass:"modal-iptable",templateUrl:o.default,controller:i,resolve:{channel:function(){return t.channel}}};t.dialog=!1,n.bind("click",function(){t.openDialog()}),t.openDialog=function(){e.open(a)}}}}function i(e,t,n,a,i,o){e.channel=i,e.ips=[],e.loading=!0,e.getIpCount=function(){e.loading=!0,e.ips=[],n.get({channel:e.channel,authToken:o.getToken()},function(t){for(var n=t.list,a=0;a<n.length;a++){var i=n[a];for(var o in i)e.ips.push({ip:o,count:i[o]})}e.loading=!1},function(n){t.error(n),e.loading=!1})},e.banIp=function(t){var n=t.ip;a.get({channel:e.channel,ip:n,authToken:o.getToken()},function(){e.getIpCount()})},e.getIpCount()}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(2349));n(2350),i.$inject=["$scope","$log","IpCount","IpBan","channel","loggedUser"],a.$inject=["$uibModal"],t.default=a},function(e,t,n){var a="/src/js/detail/directives/admin-ip-control.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div id=iptable> <div ng-show=loading class=iptable-loading> <bouncy on-light=true></bouncy> </div> <div ng-show="!ips.length && !loading" class=iptable-empty> No duplicates found. </div> <div ng-repeat="ip in ips" ng-show="ips.length && !loading" class=iptable> <span class=iptable-ip>{{ip.ip}}</span> <span class=iptable-count>{{ip.count}}</span> <htbx-button-remove data-on-select=banIp(ip)></htbx-button-remove> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(12)),r=n(8),s=a(n(2352));n(2353);var l=function(e){var t=e.channel,n=e.chat;return{channelName:(0,r.getName)(t),chatOpen:n.enabled}},c=function(){function e(t,n,a,i,o,r,s,c,u,d,f,p,m,h,g,_,v,b,y,w,$,x,k){var S=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isStickyUserList=function(){return S.chatOptions.isStickyUserList()},this.updateState=function(){"channel"===S.$state.current.section&&(S.activeContentTab=S.$state.current.contentTab||"feed",S.detailMedia.updatePageTitle())},this.resourceUpdate=function(e){if("resourceUpdate"===e.type&&S.detailMedia.media){var t=e.text.media;t&&(S.$log.debug("Update resource"),S.$scope.$applyAsync(function(){S.detailMedia.assignNewMedia(t),S.detailMedia.checkIfMediaIsBanned()}))}},this.hostModeUpdate=function(e){if("hostModeUpdate"===e.type&&S.detailMedia.media){var t=e.text.media.livestream[0];if(t){var n=void 0;S.$scope.$applyAsync(function(){"off"===e.mode&&(S.hostedMedia=null,n=null),"on"===e.mode&&(S.hostedMedia=null,n=t.media_id),S.detailMedia.assignNewMedia({media_hosted_id:n}),S.$log.debug("Set host mode %s",e.mode),S.reInitMedia()})}}},this.$ngRedux=k,Object.assign(this,{$stateParams:t,medias:n,$interval:a,$q:i,$log:o,$scope:r,DisplayService:s,chatOptions:c,$state:u,MediaViews:d,loggedUser:f,UserImages:p,$translate:m,HtbxModal:h,Analytics:g,$rootScope:_,$location:v,Auth:b,isMediaAllowedFilter:y,Fullscreen:w,DetailMedia:$}),this.bodyClassNamesService=x,this.channelName=null,this.chatOpen=!0,this.unsubscribeReduxConnection=this.$ngRedux.connect(l)(this)}return e.$inject=["$stateParams","medias","$interval","$q","$log","$scope","DisplayService","chatOptions","$state","MediaViews","loggedUser","UserImages","$translate","HtbxModal","Analytics","$rootScope","$location","Auth","isMediaAllowedFilter","Fullscreen","DetailMedia","bodyClassNames","$ngRedux"],i(e,[{key:"$onInit",value:function(){var e=this;this.assignMediaTypeAndName(),this.channelOptions=this.DisplayService.channelOptions,this.media=null,this.hostedMedia=null,this.offlineTrailerMedia=null,this.videoFilter="recent",this.detailMedia=new this.DetailMedia(this.mediaName,this.mediaType),this.theaterMode=!1,this.hidePlayer=!1===this.$state.current.playerStartState,"video"===this.mediaType?this.activeContentTab="videos":this.updateState(),o.default.on("chat.serverMsg",this.resourceUpdate),o.default.on("chat.serverMsg",this.hostModeUpdate),this.$scope.$on("$stateChangeSuccess",function(t,n,a,i){"detail.feed"!==n.name||"channel"!==i.section&&"video"!==i.section||(e.hidePlayer=!1===e.$state.current.playerStartState)}),this.$scope.$watch(function(){return e.detailMedia.getStreamMediaId()},function(){e.$scope.$emit("detailPage:theaterMode",!1)}),this.$scope.$on("detailPage:theaterMode",function(t,n){e.theaterMode=n,e.theaterMode?e.bodyClassNamesService.add("is-theater-mode"):e.bodyClassNamesService.remove("is-theater-mode")}),this.$scope.$on("detailPage:updateMedia",function(t,n){"video"===n.type&&e.reInitMedia("video",n.videoId).then(function(){e.$rootScope.$broadcast("detailPlayer:makeNormal")})}),this.$scope.$on("detailPage:togglePlayer",function(t,n){e.hidePlayer=!n}),this.$scope.$on("detailPage:reInitMedia",function(t,n){e.reInitMedia("live",n.channel)}),this.$scope.$on("$stateChangeSuccess",this.updateState),this.initMedia()}},{key:"$onDestroy",value:function(){o.default.off("chat.serverMsg",this.resourceUpdate),o.default.off("chat.serverMsg",this.hostModeUpdate),this.detailMedia.stopMediaStatusUpdate(),this.detailMedia.onDestroy(),this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"reInitMedia",value:function(e,t){var n=this;this.loading=!0,this.assignMediaTypeAndName(e,t),Object.assign(this.detailMedia,{mediaName:this.mediaName,mediaType:this.mediaType});var a=this.updateDetailMedia();return a.then(function(){n.loading=!1}),a}},{key:"assignMediaTypeAndName",value:function(e,t){e=e||("video"===this.$state.current.section||"embedvideo"===this.$state.current.section?"video":"live"),t=t||("live"===e?this.channelName:this.$stateParams.id),this.mediaType=e,this.mediaName=t}},{key:"initMedia",value:function(){var e=this;this.detailMedia.reInitMedia().catch(function(t){t&&404!==t.status||e.detailMedia.isBanned||(e.mediaNotExisting=!0)})}},{key:"updateDetailMedia",value:function(){var e=this,t=this.detailMedia.reInitMedia();return t.then(function(){e.hidePlayer=!1}).catch(function(t){e.$log.error(t)}),t}},{key:"isBannedMedia",value:function(){return this.detailMedia.media&&this.detailMedia.isBanned&&!this.mediaNotExisting}},{key:"isNotFoundMedia",value:function(){return!this.detailMedia.mediaStatusLoading&&this.mediaNotExisting}},{key:"isCheeringVisible",value:function(){return"feed"===this.activeContentTab&&this.detailMedia.media&&this.detailMedia.getStreamMediaId()}},{key:"isOffline",value:function(){return"feed"===this.activeContentTab&&this.detailMedia.media&&!this.detailMedia.getStreamMediaId()}}]),e}();t.default={bindings:{activeContentTab:"@"},templateUrl:s.default,controller:c}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-page.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<device-check show-if-mobile=true show-if-tablet=true show-if-desktop=false> <section ng-if="!$ctrl.isBannedMedia() && !$ctrl.isNotFoundMedia()" class="detail-page detail-page--is-mobile"> <section class=detail-page__content> <div class=detail-page__content__wrap> <section class="detail-page__content__section detail-page__content__player"> <div class=detail-page__content__player__wrapper> <detail-offline-wrap ng-if="$ctrl.detailMedia.media && !$ctrl.detailMedia.getStreamMediaId()" stream-media-id=$ctrl.detailMedia.getStreamMediaId() is-admin=$ctrl.detailMedia.isAdmin() media=$ctrl.detailMedia.media></detail-offline-wrap> <div ng-if="$ctrl.detailMedia.media && $ctrl.detailMedia.getStreamMediaId()" class="player-box fullScreenWrapper" ng-class="{\n                                \'player-box--is-fullscreen\': $ctrl.isFullScreenEnabled(),\n                            }"> <media-player media-id=$ctrl.detailMedia.getStreamMediaId() media-type={{$ctrl.mediaType}}></media-player> <ad media-id=$ctrl.detailMedia.getCurrentMedia().media_id channel-name=$ctrl.detailMedia.getCurrentMedia().media_display_name></ad> </div> </div> </section> </div> </section> <aside class=detail-page__sidebar> <detail-tabs user=$ctrl.detailMedia.media.media_user_name channel-logo=$ctrl.detailMedia.media.channel.user_logo_small active-content-tab=$ctrl.activeContentTab></detail-tabs> </aside> <aside class=detail-page__chat> <htbx-scrollable class=detail-page__scrollable> <div class=tse-content__detail> <section ng-if="$ctrl.activeContentTab !== \'chat\'" ng-class="[\n                            \'detail-page__content__section\',\n                            \'detail-page__content__{{$ctrl.activeContentTab}}\'\n                        ]" ui-view></section> <section ng-show="$ctrl.activeContentTab === \'chat\'" class="detail-page__content__section detail-page__content__chat"> <detail-chat is-mobile=$ctrl.isMobile></detail-chat> </section> </div> </htbx-scrollable> </aside> </section> </device-check> <device-check show-if-mobile=false show-if-tablet=false show-if-desktop=true> <section ng-if="!$ctrl.isBannedMedia() && !$ctrl.isNotFoundMedia()" ng-class="[\n        \'detail-page\',\n        \'detail-page--is-desktop\',\n        {\n            \'detail-page--theater\': $ctrl.theaterMode,\n            \'detail-page--chat-hidden\': !$ctrl.chatOpen,\n        },\n    ]"> <section class=detail-page__content> <div ng-if="$ctrl.detailMedia && !$ctrl.detailMedia.isBanned" class=detail-page__content__wrap> <div class=detail-page__content__player-wrap> <section class="detail-page__content__section detail-page__content__player detail-page__content__player--placeholder" ng-style="{ display: $ctrl.activeContentTab !== \'feed\' ? \'none\' : \'\' }"></section> <detail-player ng-if="$ctrl.detailMedia.getStreamMediaId() && !$ctrl.hidePlayer" cheers=true></detail-player> </div> <device-check ng-if=$ctrl.isCheeringVisible() show-if-mobile=false show-if-tablet=false show-if-desktop=true> <div class="detail-page__content__section detail-page__content__section--cheering-controls"> <htbx-cheering-controls theater-mode=$ctrl.theaterMode></htbx-cheering-controls> </div> </device-check> <section ng-if=$ctrl.isOffline() class="detail-page__content__section detail-page__content__player detail-page__content__player--offline"> <detail-offline-wrap stream-media-id=$ctrl.detailMedia.getStreamMediaId() is-admin=$ctrl.detailMedia.isAdmin() media=$ctrl.detailMedia.media offline-trailer-media=$ctrl.detailMedia.offlineTrailerMedia></detail-offline-wrap> </section> <section ng-class="[\n                        \'detail-page__content__section\',\n                        \'detail-page__content__{{$ctrl.activeContentTab}}\'\n                    ]" ui-view></section> </div> </section> <aside ng-if=!$ctrl.theaterMode class="detail-page__sidebar animate"> <detail-sidebar-loading ng-if=!$ctrl.detailMedia.media></detail-sidebar-loading> <detail-sidebar ng-if=$ctrl.detailMedia.media detail-media=$ctrl.detailMedia active-content-tab=$ctrl.activeContentTab></detail-sidebar> </aside> <aside class=detail-page__chat> <detail-chat ng-show=$ctrl.chatOpen class=animate is-mobile=$ctrl.isMobile variant="{{$ctrl.theaterMode ? \'dark\' : \'\'}}"></detail-chat> <detail-chat-toggle ng-hide=$ctrl.chatOpen class=detail-page__chat--show-chat custom-class=nav-item theater-mode=$ctrl.theaterMode></detail-chat-toggle> </aside> </section> </device-check> <detail-channel-banned ng-if=$ctrl.isBannedMedia() detail-media=$ctrl.detailMedia></detail-channel-banned> <detail-media-not-found ng-if=$ctrl.isNotFoundMedia() media-name=$ctrl.mediaName media-type=$ctrl.mediaType show-sub-text=true class=animate></detail-media-not-found> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2355));n(2356);var o=function(){function e(t,n,a,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$location:t,$uibModal:n,$window:a,Analytics:i,DetailShare:o})}return e.$inject=["$location","$uibModal","$window","Analytics","DetailShare"],a(e,[{key:"openModal",value:function(){this.DetailShare.share()}}]),e}();t.default={bindings:{url:"@",section:"@",media:"<"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-share-button/detail-share-button.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<a class=navigation__item__link gp-width=280 gp-height=350 ng-click=$ctrl.openModal()> <span> {{::'global_button_share' | translate }} </span> </a> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(78)),r=a(n(2358));n(2359);var s=function(){function e(t,n,a,i,o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onClickShareButton=function(e){switch(e){case"facebook":r.fbShare();break;case"twitter":r.tweet();break;case"reddit":r.reddit();break;case"vk":r.vKontakte();break;case"code":r.showLinks=!r.showLinks}},Object.assign(this,{Analytics:t,detailMedia:n,$location:a,$window:i,$state:o})}return e.$inject=["Analytics","detailMedia","$location","$window","$state"],i(e,[{key:"$onInit",value:function(){this.media=this.resolve.media||this.detailMedia.get().media}},{key:"isVideo",value:function(){return 2===parseInt(this.media.media_type_id,10)}},{key:"isEmbedVideo",value:function(){return this.isVideo()&&"embedvideo"===this.$state.current.section}},{key:"getEmbedPlayer",value:function(){return this.isVideo()||this.isEmbedVideo()?'<iframe width="640" height="360" src="'+this.$state.href("embedvideo",{id:this.media.media_id},{absolute:!0})+'" frameborder="0" allowfullscreen></iframe>':'<iframe width="640" height="360" src="'+this.$state.href("embed",{channel:this.media.media_name},{absolute:!0})+'" frameborder="0" allowfullscreen></iframe>'}},{key:"getEmbedChat",value:function(){return'<iframe width="340" height="700" src="'+this.$state.href("embedchat",{channel:this.isVideo()||this.isEmbedVideo()?this.media.media_id:this.media.media_name},{absolute:!0})+'" frameborder="0" allowfullscreen></iframe>'}},{key:"fbShare",value:function(){this.Analytics.trackEvent("user","facebookShare"),this.$window.open("https://www.facebook.com/sharer/sharer.php?u="+this.$location.absUrl(),"","width=626,height=436")}},{key:"tweet",value:function(){var e=void 0;this.Analytics.trackEvent("user","twitterShare"),e=this.media.media_type_id===o.default.LIVE_STREAM?"https://twitter.com/share?url="+this.$location.absUrl()+"&text="+this.media.media_display_name+" - "+encodeURIComponent(this.media.media_status)+"&hashtags=Smashcast_tv&via=Smashcast_tv":"https://twitter.com/share?url="+this.$location.absUrl()+"&text="+this.media.media_user_name+" - "+encodeURIComponent(this.media.media_status)+"&hashtags=Smashcast_tv&via=Smashcast_tv",this.$window.open(e,"","width=626,height=436")}},{key:"reddit",value:function(){this.Analytics.trackEvent("user","redditShare"),this.$window.open("http://www.reddit.com/submit?url="+this.$location.absUrl()+"&title="+this.media.media_display_name+" - "+encodeURI(this.media.media_status),"","width=800,height=600")}},{key:"vKontakte",value:function(){this.Analytics.trackEvent("user","vkShare"),this.$window.open("http://vkontakte.ru/share.php?url="+this.$location.absUrl()+"&title="+this.media.media_display_name+" - "+encodeURI(this.media.media_status),"","width=800,height=600")}}]),e}();t.default={bindings:{close:"&",dismiss:"&",resolve:"<?"},templateUrl:r.default,controller:s}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-share-button/detail-share-modal/detail-share-modal.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-button-close data-variant=modal-fixed data-on-select=$ctrl.close()></htbx-button-close> <div class=share-modal> <div ng-show=$ctrl.showLinks> <div class=url> <label ng-if=!$ctrl.isVideo()> {{:: 'view_popover-share_label_embed-stream' | translate}} </label> <label ng-if=$ctrl.isVideo()> {{:: 'view_popover-share_label_embed-video' | translate}} </label> <htbx-input-group input-readonly=true input-value={{::$ctrl.getEmbedPlayer()}} class=input-group-row__input> <htbx-input-group-addon input-click-action=clipboard data-tooltip-text=\"{{::'global_button_copy-to-clipboard' | translate}}\"> {{::'global_text_copy' | translate}} </htbx-input-group-addon> </htbx-input-group> </div> <div ng-if=!$ctrl.isVideo() class=url> <label> {{:: 'view_popover-share_label_embed-chat' | translate}} </label> <htbx-input-group input-readonly=true input-value={{::$ctrl.getEmbedChat()}} class=input-group-row__input> <htbx-input-group-addon input-click-action=clipboard data-tooltip-text=\"{{::'global_button_copy-to-clipboard' | translate}}\"> {{::'global_text_copy' | translate}} </htbx-input-group-addon> </htbx-input-group> </div> </div> <div class=url> <label> {{:: 'global_text_link' | translate}} </label> <htbx-input-group input-readonly=true input-value={{::$root.meta.url}} class=input-group-row__input> <htbx-input-group-addon input-click-action=clipboard data-tooltip-text=\"{{::'global_button_copy-to-clipboard' | translate}}\"> {{::'global_text_copy' | translate}} </htbx-input-group-addon> </htbx-input-group> </div> <smash-social-share-buttons on-click=$ctrl.onClickShareButton></smash-social-share-buttons> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(12)),r=n(341),s=n(92),l=n(164),c=n(8),u=a(n(365)),d=a(n(685)),f=n(172),p=a(n(2361));n(2362);var m=function(e){var t=e.channel,n=e.chat;return{channelName:(0,c.getName)(t),channelLogo:(0,c.getLogo)(t),isAdminOfChat:n.permissions.isAdmin,activeChatTab:n.tab.active}},h=function(){function e(t,n,a,i,o,r,s,l,c,u,p,h,g){var _=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onPollMsg=function(e){_.activeChatTab!==f.CHAT_TAB_FEED&&_.$scope.$applyAsync(function(){_.feedPollActive="ended"!==e.status})},this.onNewFeedItem=function(){_.activeChatTab!==f.CHAT_TAB_FEED&&_.$scope.$applyAsync(function(){_.unreadFeedItems+=1})},this.onDelFeedItem=function(){_.unreadFeedItems>0&&_.$scope.$applyAsync(function(){_.unreadFeedItems-=1})},this.isStickyUserList=function(){return _.chatOptions.isStickyUserList()},this.broadcast=function(e,t){_.$rootScope.$broadcast(e,t)},this.onClickBlacklist=function(){var e={animation:!0,backdrop:!0,keyboard:!0,windowClass:"modal-blacklist",template:'<chat-blacklist-dialog on-save="$ctrl.close()" on-close="$ctrl.close()"></chat-blacklist-dialog>',controller:d.default,controllerAs:"$ctrl"};_.$uibModal.open(e)},this.$scope=t,this.$state=n,this.$stateParams=a,this.$timeout=i,this.$rootScope=o,this.chatOptions=r,this.feed=s,this.FeedWs=l,this.medias=c,this.Analytics=u,this.$ngRedux=p,this.chatMessages=h,this.$uibModal=g,this.activeChatTab=f.CHAT_TAB_DEFAULT,this.channelName=null,this.unsubscribeReduxConnection=this.$ngRedux.connect(m)(this)}return e.$inject=["$scope","$state","$stateParams","$timeout","$rootScope","chatOptions","feed","FeedWs","medias","Analytics","$ngRedux","chatMessages","$uibModal"],i(e,[{key:"$onInit",value:function(){this.newChatMessage=this.chatMessages.newMessage,this.showChatInitBtn=this.isEmbed&&"true"!==this.$stateParams.autoconnect,this.isEmbed&&(this.$ngRedux.dispatch((0,r.showChat)(!1)),this.checkReferrer()),this.isEmbed&&"true"===this.$stateParams.autoconnect&&this.initChat()}},{key:"$onDestroy",value:function(){this.isEmbed&&(o.default.off("chat.pollMsg",this.onPollMsg),this.feedChannel&&this.feedChannel.unsubscribe()),this.$ngRedux.dispatch((0,s.reset)()),this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"initMedia",value:function(){var e=this;this.medias.get(this.channelName,"live").then(function(t){t&&(e.$ngRedux.dispatch((0,l.setLogo)(t.channel.user_logo)),e.$ngRedux.dispatch((0,l.setBackgroundImage)(t.media_bg_image)),e.$ngRedux.dispatch(null!==t.channel.user_partner?(0,l.enablePartner)():(0,l.disablePartner)()),e.isEmbed&&(e.feedUserData={channelName:e.channelName,name:e.channelName,logo:e.channelLogo},e.unreadFeedItems=0,e.feedChannel=new e.FeedWs(e.feedUserData.channelName),e.$scope.$on("feed:newItem",e.onNewFeedItem),e.$scope.$on("feed:delItem",e.onDelFeedItem),e.handlePollNotification()))})}},{key:"handlePollNotification",value:function(){var e=this;o.default.once("feed.loginMsg",function(){o.default.sendMessage("chat.getPoll",{channel:e.channelName})}),o.default.on("chat.pollMsg",this.onPollMsg)}},{key:"goToLastTab",value:function(){this.$ngRedux.dispatch((0,s.goToPrevious)())}},{key:"goToFeed",value:function(){this.$ngRedux.dispatch((0,s.goToFeed)()),this.feedPollActive=!1}},{key:"fetchFeed",value:function(){return this.feed.get({channelName:this.channelName}).$promise.catch(function(){return[]})}},{key:"initChat",value:function(e){var t=this;if(e)return this.initMedia(),void(this.showChatInitBtn=!1);this.connecting=!0,this.$timeout(function(){t.initMedia(),t.connecting=!1,t.showChatInitBtn=!1},1e4)}},{key:"checkReferrer",value:function(){var e=u.default.get();e&&this.Analytics.trackEvent("embed","chat",e)}}]),e}();t.default={bindings:{isMobile:"<",variant:"@?",isEmbed:"<?"},templateUrl:p.default,controller:h}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-chat/detail-chat.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-class=\"['detail-chat', {\n        'detail-chat--variant-dark': $ctrl.variant === 'dark',\n        'detail-chat--embed': $ctrl.isEmbed,\n        'detail-chat--has-sticky-user-list': $ctrl.isEmbed && $ctrl.isStickyUserList(),\n    }]\"> <div ng-if=\"$ctrl.showChatInitBtn || $ctrl.connecting\" class=detail-chat__embed-connect> <div class=detail-chat__embed-connect__content> <smash-spinny ng-if=$ctrl.connecting data-size=\"'large'\" data-variant=\"'{{$ctrl.variant === 'dark' ? 'light' : 'dark'}}'\"></smash-spinny> <htbx-button ng-if=!$ctrl.connecting data-variant=ok data-on-select=$ctrl.initChat(true)> {{::'view_chat_button_connect-to-chat' | translate}} </htbx-button> </div> </div> <span ng-if=\"!$ctrl.showChatInitBtn && !$ctrl.connecting\" ng-controller=ChatCtrl> <chat-tabs ng-class=\"{\n                'hide-on-mobile': !$ctrl.isEmbed,\n            }\" feed-link=$ctrl.isEmbed unread-feed-items=$ctrl.unreadFeedItems on-click-blacklist=$ctrl.onClickBlacklist new-chat-message=$ctrl.newChatMessage section=$ctrl.$state.current.section state-href=$ctrl.$state.href></chat-tabs> <detail-chat-notification ng-if=$ctrl.feedPollActive data-on-dismiss=\"$ctrl.feedPollActive = false\"> <a href=javascript:void(0); ng-click=$ctrl.goToFeed()> {{::'view_chat_text_poll-running' | translate}} </a> </detail-chat-notification> <htbx-subscription-notification></htbx-subscription-notification> <htbx-resub-notification></htbx-resub-notification> <div class=detail-chat__content> <div class=chat ng-hide=\"$ctrl.activeChatTab !== 'chat'\"> <div class=chatwrapper> <chat-messages class=detail-chat__chat-messages></chat-messages> <chat-input-wrap></chat-input-wrap> </div> </div> <chat-user-list ng-if=\"$ctrl.activeChatTab === 'users' || ($ctrl.isEmbed && $ctrl.isStickyUserList() && $ctrl.activeChatTab !== 'imageLog') || $root.section === 'dashboard'\"></chat-user-list> <image-log ng-if=\"$ctrl.activeChatTab === 'imageLog'\" data-on-close=$ctrl.goToLastTab() class=chat-imagelist></image-log> <htbx-scrollable ng-if=\"$ctrl.activeChatTab === 'feed'\" disable-over-scroll=true class=detail-chat__feed> <feed ng-if=$ctrl.feedUserData data-show-new-post=$ctrl.isAdminOfChat data-user-data=$ctrl.feedUserData></feed> </htbx-scrollable> </div> </span> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2364));n(2365),t.default={bindings:{onDismiss:"&?"},templateUrl:a.default,transclude:!0}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-chat/detail-chat-notification.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=detail-chat-notification> <div class=detail-chat-notification__wrap> <div class=detail-chat-notification__text ng-transclude> </div> </div> <htbx-button-close ng-if=::$ctrl.onDismiss data-on-select=$ctrl.onDismiss()></htbx-button-close> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(341),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2367));n(2368);var r=function(e){return{chatOpen:e.chat.enabled}},s=function(e){return{toggleChat:function(){return e((0,i.toggleChat)())}}},l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$ngRedux=t,this.unsubscribeReduxConnection=this.$ngRedux.connect(r,s)(this)}return e.$inject=["$ngRedux"],a(e,[{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection()}},{key:"isChatOpen",value:function(){return this.chatOpen}},{key:"isHidden",value:function(){return this.hideIfFalse&&!this.isChatOpen()}}]),e}();t.default={bindings:{hideIfFalse:"<?",customClass:"@?",theaterMode:"<?"},templateUrl:o.default,controller:l}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-chat-toggle/detail-chat-toggle.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-if=!$ctrl.isHidden() ng-class=\"[\n        'detail-chat-toggle',\n        'animate',\n        $ctrl.customClass,\n        {\n            'detail-chat-toggle--theater-mode': $ctrl.theaterMode,\n            'detail-chat-toggle--rotate': !$ctrl.isChatOpen(),\n        },\n    ]\"> <button ng-class=\"[\n            'detail-chat-toggle__button',\n            {\n                'detail-chat-toggle__button--hide': $ctrl.isChatOpen(),\n            },\n            {\n                'detail-chat-toggle__button--show': !$ctrl.isChatOpen(),\n            },\n        ]\" ng-click=$ctrl.toggleChat() type=button> <span ng-if=$ctrl.isChatOpen()> <smash-icon icon=arrow-right size=12 center=true></smash-icon> </span> <span ng-if=!$ctrl.isChatOpen()> <smash-icon icon=arrow-right size=16 center=true></smash-icon> </span> </button> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=a(n(43)),s=a(n(133)),l=n(686),c=a(n(2372)),u=".detail-page__content__section.detail-page__content__player.detail-page__content__player--player",d=300,f=function(){function e(t,n,a,i,r,s,l,c,f){var p=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player={normal:null,mini:null,status:"normal",isAnimating:!1},this.makeMini=function(){if(p.chatOpen){var e=(0,o.element)(u),t=p.$uibPosition.offset(e);p.player.normal={position:"absolute",top:0,width:t.width,height:t.height,left:0,opacity:0,zIndex:10},p.player.isAnimating=!0,(0,o.element)(".detail-page__content__player.detail-page__content__player--placeholder").addClass("active"),e.css(p.player.normal).addClass("detail-page__content__player--hide-overlay"),p.bodyClassNames.add("detail-page--has-mini-player"),p.$timeout(function(){e.addClass("detail-page__content__player--mini").removeAttr("style"),p.player.status="mini",p.player.isAnimating=!1,p.$rootScope.$broadcast("chat.ScrollToBottom")},d,!1)}},this.makeNormal=function(e,t){if(p.player.normal)if(t)(0,o.element)("body").animate({scrollTop:0},d,function(){p.makeNormal()});else{var n=(0,o.element)(u);p.player.mini={position:"fixed",opacity:0},p.player.isAnimating=!0,n.css(p.player.mini),p.$timeout(function(){p.bodyClassNames.remove("detail-page--has-mini-player"),n.removeClass("detail-page__content__player--mini").removeClass("detail-page__content__player--hide-overlay"),n.removeAttr("style"),(0,o.element)(".detail-page__content__player.detail-page__content__player--placeholder").removeClass("active"),p.player.status="normal",p.player.isAnimating=!1},d,!1)}},this.mapStateToProps=function(e){var t=e.chat;return t.enabled||p.makeNormal(),{chatOpen:t.enabled}},Object.assign(this,{$rootScope:t,$scope:n,$timeout:a,$uibPosition:i,$window:r,DisplayService:l,bodyClassNames:c}),this.$ngRedux=f,this.isFullScreenEnabled=s.isEnabled,this.unsubscribeReduxConnection=this.$ngRedux.connect(this.mapStateToProps)(this)}return e.$inject=["$rootScope","$scope","$timeout","$uibPosition","$window","Fullscreen","DisplayService","bodyClassNames","$ngRedux"],i(e,[{key:"$onInit",value:function(){var e=this;this.container=(0,o.element)(this.$window),this.container.on("scroll.playerMakeNormal",(0,r.default)(function(){"feed"!==e.detailPageCtrl.activeContentTab||e.player.isAnimating||"mini"===e.player.status&&e.container.scrollTop()<e.player.normal.height&&e.makeNormal()},100)),this.container.on("scroll.playerMakeMini",(0,s.default)(function(){if("feed"===e.detailPageCtrl.activeContentTab&&!e.player.isAnimating){var t=(0,o.element)(u),n=e.$uibPosition.offset(t);"normal"===e.player.status&&e.container.scrollTop()>=n.height&&e.makeMini()}},200)),this.$scope.$on("detailPlayer:makeMini",this.makeMini),this.$scope.$on("detailPlayer:makeNormal",this.makeNormal),this.$scope.$on("$stateChangeSuccess",function(t,n,a,i){n.name==="detail."+l.DEFAULT_CONTENT_TAB&&e.makeNormal(),i.name==="detail."+l.DEFAULT_CONTENT_TAB&&e.makeMini()})}},{key:"$onDestroy",value:function(){this.container.off("scroll.playerMakeMini"),this.container.off("scroll.playerMakeNormal"),(0,o.element)(".detail-page__content__player.detail-page__content__player--placeholder").removeClass("active"),this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"hasCheeringFeature",value:function(){return this.cheers}}]),e}();t.default={bindings:{cheers:"<?"},require:{detailPageCtrl:"^detailPage"},templateUrl:c.default,controller:f}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-navigation/detail-navigation.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<nav class=detail-navigation> <ul class=detail-navigation__list> <li ng-if=::!item.disabled() ng-repeat="item in $ctrl.items" ng-class="[\n                \'detail-navigation__item\',\n                {\n                    \'detail-navigation__item--is-active\': $ctrl.activeContentTab === item.name,\n                },\n            ]"> <a class=detail-navigation__link ui-sref={{::item.sref}}> <span class=detail-navigation__link__text> {{::item.label}} </span> <media-viewers ng-hide="$ctrl.detailSidebarCtrl.detailMedia.media.media_type_id === \'1\' && !$ctrl.detailSidebarCtrl.detailMedia.mediaIsLive()" ng-if="item.liveIndicator && $ctrl.detailSidebarCtrl.detailMedia.streamIsLive()" media=$ctrl.detailSidebarCtrl.detailMedia.media use-short-version=true></media-viewers> </a> </li> </ul> <div class=detail-navigation__more> <htbx-button-show-more popover-template={{::$ctrl.templateUrlShowMore}} popover-classes="[\'detail-more-popover\']" popover-position=right></htbx-button-show-more> </div> </nav> ')}]),e.exports=a},function(e,t){},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-player/detail-player.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section ng-class="[\n        \'detail-page__content__section\',\n        \'detail-page__content__player\',\n        \'detail-page__content__player--player\',\n        {\n            \'detail-page__content__player--videos-page\': $ctrl.detailPageCtrl.activeContentTab === \'videos\',\n            \'detail-page__content__player--has-cheering\': $ctrl.detailPageCtrl.isCheeringVisible(),\n        },\n    ]"> <div> <hosted-bar ng-if="$ctrl.detailPageCtrl.detailMedia.getCurrentMedia() !== $ctrl.detailPageCtrl.detailMedia.media" detail-media=$ctrl.detailPageCtrl.detailMedia> </hosted-bar> <div class=detail-page__content__player__wrapper> <div ng-if="!$ctrl.detailPageCtrl.detailMedia.media || $ctrl.detailPageCtrl.loading" class=detail-page__content__player__loader> <smash-spinny data-size="\'large\'" data-center=true></smash-spinny> </div> <div ng-if="$ctrl.detailPageCtrl.detailMedia.media && $ctrl.detailPageCtrl.detailMedia.getStreamMediaId()" class="player-box fullScreenWrapper" ng-class="{\n                    \'player-box--is-fullscreen\': $ctrl.isFullScreenEnabled(),\n                }"> <media-player media-id=$ctrl.detailPageCtrl.detailMedia.getStreamMediaId() media-type={{$ctrl.detailPageCtrl.mediaType}} cheers=$ctrl.hasCheeringFeature()></media-player> <ad media-id=$ctrl.detailPageCtrl.detailMedia.getCurrentMedia().media_id channel-name=$ctrl.detailPageCtrl.detailMedia.getCurrentMedia().media_display_name></ad> </div> </div> <div ng-if="$ctrl.detailPageCtrl.detailMedia.media.media_type_id == 2 && $ctrl.detailPageCtrl.activeContentTab === \'videos\' && !$ctrl.detailPageCtrl.theaterMode" class=detail-page__content__player__video-meta> <header class=detail-page__content__player__video-meta__header> <h2 ng-bind-html="$ctrl.detailPageCtrl.detailMedia.media.media_status | hashtagFilter:$ctrl.detailPageCtrl.detailMedia.media"></h2> <detail-total-views data-children="$ctrl.detailPageCtrl.detailMedia.media.media_views | number"></detail-total-views> </header> <p class=detail-page__content__player__video-meta__description ng-bind-html="$ctrl.detailPageCtrl.detailMedia.media | mediaDescriptionMD"></p> </div> </div> </section> ')}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2374));n(2375);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{})}return a(e,[{key:"uploadCoverSuccess",value:function(e){e.fields&&Object.assign(this.media,e.fields)}},{key:"getVideoMediaId",value:function(){return this.streamMediaId?null:this.media.media_offline_id}}]),e}();t.default={bindings:{streamMediaId:"<",isAdmin:"<",media:"<",offlineTrailerMedia:"<"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-offline-wrap/detail-offline-wrap.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div id=offline-wrap> <div ng-if=!$ctrl.isAdmin class=offline-cover back-img={{::$root.config.imgUrl}}{{$ctrl.media.media_bg_image}} back-img-fallback={{::$root.config.fallbackImages.userCover}}> </div> <upload-drop-area ng-if=$ctrl.isAdmin class="background-image userCover offline-cover" uda-image={{::$root.config.imgUrl}}{{$ctrl.media.media_bg_image}} uda-success-callback=$ctrl.uploadCoverSuccess(data) uda-user-name={{::$ctrl.media.media_user_name}} uda-data-name=file uda-url={{::$root.config.apiUri}}/upload/account/ uda-delete=false uda-name=Cover uda-fallback-image={{::$root.config.fallbackImages.userCover}} uda-crop=true uda-crop-width=1600 uda-crop-height=900 uda-crop-type=rect></upload-drop-area> <detail-highlight-player ng-if="$ctrl.getVideoMediaId() && $ctrl.offlineTrailerMedia" video-media-id=$ctrl.getVideoMediaId() offline-trailer-media=$ctrl.offlineTrailerMedia></detail-highlight-player> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2377));n(2378);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{Fullscreen:t})}return e.$inject=["Fullscreen"],a(e,[{key:"isFullScreenEnabled",value:function(){return this.Fullscreen.isEnabled()}}]),e}();t.default={bindings:{offlineTrailerMedia:"<",videoMediaId:"<"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-highlight-player/detail-highlight-player.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div id=highlightplayer> <div class="player-wrapper fullScreenWrapper" ng-class="{\'player-wrapper--is-fullscreen\': $ctrl.isFullScreenEnabled()}"> <media-player media-id=$ctrl.videoMediaId media-type=video></media-player> </div> <div class="meta-info nono"> <a ui-sref="detail.video({ channel: $ctrl.offlineTrailerMedia.media_user_name, id: $ctrl.videoMediaId })" style=line-height:18px class=user-status> {{$ctrl.offlineTrailerMedia.media_status}} </a> <div class=user-time> {{$ctrl.offlineTrailerMedia.media_date_added | timeAgo}} </div> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2380));n(2381);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{DisplayService:t})}return e.$inject=["DisplayService"],a(e,[{key:"$onInit",value:function(){this.activeContentTab=this.activeContentTab||"chat"}},{key:"setContentTab",value:function(e){this.activeContentTab=e}}]),e}();t.default={bindings:{user:"<",channelLogo:"<",activeContentTab:"="},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-tabs/detail-tabs.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<ul class="detail-tabs nono"> <li class=detail-tabs__tab ng-class="{\'detail-tabs__tab--active\': $ctrl.activeContentTab === \'feed\'}"> <a ui-sref="detail.feed({ channel: $ctrl.user })" ng-click="$ctrl.setContentTab(\'feed\')"> <smash-icon icon=feed center=true size=24></smash-icon> </a> </li> <li class=detail-tabs__tab ng-class="{\'detail-tabs__tab--active\': $ctrl.activeContentTab === \'profile\'}"> <a ui-sref="detail.profile({ channel: $ctrl.user })" ng-click="$ctrl.setContentTab(\'profile\')"> <div class="detail-tabs__tab__user-logo round" back-img={{::$root.config.imgUrl}}{{$ctrl.channelLogo}} back-img-fallback={{::$root.config.fallbackImages.userLogo}}></div> </a> </li> <li class=detail-tabs__tab ng-if="$root.section != \'video\'" ng-class="{\'detail-tabs__tab--active\': $ctrl.activeContentTab === \'chat\'}" ng-click="$ctrl.setContentTab(\'chat\')"> <smash-icon icon=chat-2 size=24 center=true></smash-icon> </li> </ul> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2383));n(2384);var o=function(){function e(t,n,a,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$scope:t,loggedUser:n,DisplayService:a,ProfileEnable:i,$log:o}),this.profileEditState=a.profileEditState,this.channelOptions=a.channelOptions}return e.$inject=["$scope","loggedUser","DisplayService","ProfileEnable","$log"],a(e,[{key:"toggleEdit",value:function(){this.profileEditState.trigger=!0}}]),e}();t.default={bindings:{currentMedia:"=",updateProfile:"&"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-profile/detail-profile-buttons/detail-profile-buttons.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-if=\"!($ctrl.profileEditState.editContent || $ctrl.profileEditState.previewContent)\" class=detail-profile-buttons> <htbx-button data-type=button data-variant=ok data-on-select=$ctrl.toggleEdit() data-size=super-small> {{:: 'global_text_edit' | translate}} </htbx-button> </div> <div ng-if=$ctrl.profileEditState.previewContent class=detail-profile-buttons> <htbx-button data-type=button data-variant=outline data-on-select=$ctrl.toggleEdit() data-size=super-small> {{:: 'view_profile-settings_button_back-to-editor' | translate}} </htbx-button> </div> <div ng-if=$ctrl.profileEditState.editContent class=detail-profile-buttons> <htbx-button data-type=button data-variant=outline data-on-select=\"$ctrl.profileEditState.previewContent=true;$ctrl.toggleEdit()\" data-size=super-small data-disabled=$ctrl.profileEditState.loading> {{:: 'global_text_preview' | translate}} </htbx-button> <htbx-button data-type=button data-variant=default data-on-select=\"$ctrl.profileEditState.editContent=false\" data-size=super-small data-disabled=$ctrl.profileEditState.loading> {{:: 'global_text_cancel' | translate}} </htbx-button> <htbx-button data-type=button data-variant=ok data-on-select=$ctrl.updateProfile() data-size=super-small data-loading=$ctrl.profileEditState.loading data-loading-spinny=true data-disabled=$ctrl.profileEditState.loading> {{:: 'global_button_save' | translate}} </htbx-button> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2386));n(2387);var i=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{DisplayService:t})};i.$inject=["DisplayService"],t.default={bindings:{detailMedia:"<"},templateUrl:a.default,controller:i}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-profile/detail-profile.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=detail-profile> <device-check show-if-mobile=false show-if-tablet=false show-if-desktop=true> <header class=detail-profile__header back-img={{::$root.config.imgUrl}}{{$ctrl.detailMedia.media.media_bg_image}} back-img-fallback={{::$root.config.fallbackImages.userCover}}> <upload-drop-area ng-if=$ctrl.detailMedia.isAdmin() class="background-image userCover offline-cover" uda-image={{::$root.config.imgUrl}}{{$ctrl.detailMedia.media.media_bg_image}} uda-success-callback=$ctrl.detailMedia.uploadCoverSuccess(data) uda-user-name={{::$ctrl.detailMedia.media.media_user_name}} uda-data-name=file uda-url={{::$root.config.apiUri}}/upload/account/ uda-delete=false uda-name=Cover uda-fallback-image={{::$root.config.fallbackImages.userCover}} uda-crop=true uda-crop-width=1600 uda-crop-height=900 uda-crop-type=rect></upload-drop-area> </header> </device-check> <div class=detail-profile__content> <detail-profile-panels profile-edit-mode=$ctrl.DisplayService.profileEditState.trigger is-admin=$ctrl.detailMedia.isAdmin></detail-profile-panels> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(270);var o=a(n(93)),r=n(8),s=a(n(2)),l=a(n(239)),c=a(n(2389)),u=a(n(2390));n(2391);var d=function(e){var t=e.channel;return{channelName:(0,r.getName)(t)}},f=function(){function e(t,n,a,i,r,s,c,f,p,m,h,g){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getRenderers=function(){return{Link:(0,o.default)(l.default,{target:"_blank",canUseLinks:function(){return!0}})}},Object.assign(this,{$log:t,$scope:n,$rootScope:a,$state:i,loggedUser:r,Profile:s,DisplayService:c,$location:f,$translate:p,HtbxModal:m,$anchorScroll:h}),this.$ngRedux=g,this.profileEditState=c.profileEditState,this.cardTemplate=u.default,this.channelName=null,this.unsubscribeReduxConnection=this.$ngRedux.connect(d)(this)}return e.$inject=["$log","$scope","$rootScope","$state","loggedUser","Profile","DisplayService","$location","$translate","HtbxModal","$anchorScroll","$ngRedux"],i(e,[{key:"$onInit",value:function(){this.profileEditState.editContent=!1,this.profileEditState.previewContent=!1,this.profileEditState.saveContent=!1,this.detail={panels:[],sorted:[],preview:[]},this.maxPanelSize=1e3,"video"===this.$state.current.section?this.channel=this.$rootScope.meta.author:this.channel=this.channelName,this.getProfile()}},{key:"$onChanges",value:function(e){e.profileEditMode&&e.profileEditMode.currentValue&&(this.profileEditState.trigger=!1,this.toggleEdit())}},{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"toggleEdit",value:function(){var e=this;if(this.profileEditState.saveContent)return this.detail.sorted=[],this.detail.panels.forEach(function(t){var n=t.link;n.length&&!/^https?:\/\//i.test(n)&&(t.link="https://"+n),t.image.length&&!/^https?:\/\//i.test(t.image)&&(t.image="https://"+t.image),e.detail.sorted.push({id:t.id,template:t.template,headline:t.headline,link:t.link,content:t.content,image:t.image})}),void this.updateProfile();this.profileEditState.editContent=!this.profileEditState.editContent,this.profileEditState.editContent&&!this.profileEditState.previewContent&&(this.profileEditState.previewContent=!1,this.profileEditState.saveContent=!1,this.detail.panels=[],this.detail.sorted.forEach(function(t){e.detail.panels.push({id:t.id,template:t.template,headline:t.headline,link:t.link,content:t.content,image:t.image})})),this.profileEditState.editContent&&this.profileEditState.previewContent&&(this.profileEditState.previewContent=!1,this.profileEditState.saveContent=!1,this.detail.preview=[]),!this.profileEditState.editContent&&this.profileEditState.previewContent&&(this.detail.preview=[],this.detail.panels.forEach(function(t){e.detail.preview.push({id:t.id,template:t.template,headline:t.headline,link:t.link,content:t.content,image:t.image})}))}},{key:"moveProfilePanel",value:function(e,t){t>-1&&t<this.detail.panels.length&&this.detail.panels.splice(t,0,this.detail.panels.splice(e,1)[0])}},{key:"getProfile",value:function(){var e=this,t={user_name:this.channel};this.Profile.get(t).$promise.then(function(t){if(t&&t.profile){var n=t.profile;n.panels=n.panels||n.panel||[],n.panel&&delete n.panel,"https"===e.$location.protocol()&&["panels","sorted","preview"].forEach(function(t){n[t]=n[t]||[],n[t]=n[t].map(function(e){if(e&&e.image){var t=e.image.match(/(.*)edge\.sf\.hitbox\.tv/i);t&&(e.image=e.image.replace(t[1],"https://"))}return e}.bind(e))}),e.detail=n}}).catch(function(t){e.$log.debug("Profile.get error:",t)})}},{key:"updateProfile",value:function(){var e=this,t={user_name:this.channel,authToken:this.loggedUser.getToken(),profile:this.detail};this.profileEditState.loading=!0,this.Profile.update(t).$promise.then(function(){e.profileEditState.editContent=!1,e.profileEditState.saveContent=!1}).catch(function(t){if(e.$log.error(t),t&&t.data&&t.data.error_msg){var n="";switch(t.data.error_msg){case"profile_panel_size_exceeded":n=e.$translate.instant("component_profile_error-saving-panel-size");break;default:n=e.$translate.instant("global_error_try-again")}var a=e.$translate.instant("global_error_error-occured"),i=[{result:!0,label:e.$translate.instant("global_text_ok"),variant:"ok"}];new e.HtbxModal(a,n,i).open().then(function(){e.scrollToFirstIllegalPanel()})}}).finally(function(){e.profileEditState.saveContent=!1,e.profileEditState.loading=!1})}},{key:"addProfilePanel",value:function(){this.detail.panels.push({id:this.detail.panels.length+1,template:"content",headline:"",link:"",content:"",image:""})}},{key:"deleteProfilePanel",value:function(e){this.detail.panels.splice(e,1)}},{key:"cbuploadpanel",value:function(e,t){var n=e.url;this.detail.panels[t].image=s.default.imgUrl+n}},{key:"cbdeletepanel",value:function(e){this.detail.panels[e].image=null}},{key:"scrollToFirstIllegalPanel",value:function(){var e=this.detail.panels.find(function(e){return e.content.length>1e3});this.$anchorScroll("panel-anchor_"+e.id)}}]),e}();t.default={bindings:{profileEditMode:"<",isAdmin:"<"},templateUrl:c.default,controller:f,controllerAs:"Ctrl"}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-profile/detail-profile-panels/detail-profile-panels.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="detail-profile-panels profile-container"> <detail-profile-buttons ng-if=Ctrl.isAdmin() current-media=Ctrl.detailMedia.media update-profile="Ctrl.profileEditState.saveContent = true;Ctrl.toggleEdit()"></detail-profile-buttons> <div ng-if="Ctrl.profileEditState.editContent == false && Ctrl.profileEditState.previewContent == false" deckgrid source=Ctrl.detail.sorted cardtemplate={{::Ctrl.cardTemplate}} class=deckgrid></div> <div ng-if="Ctrl.profileEditState.editContent == false && Ctrl.profileEditState.previewContent == true" deckgrid source=Ctrl.detail.preview cardtemplate={{::Ctrl.cardTemplate}} class=deckgrid></div> <div ng-if="Ctrl.profileEditState.editContent == true" sv-root sv-part=Ctrl.detail.panels class=edit-panels> <div sv-placeholder></div> <div sv-element="{\n                containment: \'.detail-page__content__profile\',\n            }" ng-repeat="panel in Ctrl.detail.panels" class=panel> <div id=panel-anchor_{{::panel.id}} class=panel-head> <button type=button ng-class="{\n                        \'disabled\': $index == 0,\n                    }" ng-click=Ctrl.moveProfilePanel($index,$index-1) class="move-button move-button--left"> <smash-icon icon=arrow size=24 center=true></smash-icon> </button> <button type=button ng-class="{\n                        \'disabled\': $index == Ctrl.detail.panels.length - 1,\n                    }" ng-click=Ctrl.moveProfilePanel($index,$index+1) class="move-button move-button--right"> <smash-icon icon=arrow size=24 center=true></smash-icon> </button> <div sv-handle class=spacer></div> <div ng-click=Ctrl.deleteProfilePanel($index) class=delete-button> <smash-icon icon=trash size=20 center=true></smash-icon> </div> </div> <div class=panel-body> <div class=panel-headline> <input type=text ng-model=panel.headline placeholder="{{:: \'global_header_headline\' | translate }}"/> </div> <div class=panel-image> <div class=panel-image__fallback> <div class=panel-image__fallback__icon> <smash-icon icon=images center=true></smash-icon> </div> </div> <upload-drop-area uda-image={{panel.image}} uda-success-callback="Ctrl.cbuploadpanel(data, $index)" uda-data-name=file uda-url={{::$root.config.apiUri}}/upload/description/ uda-name=Panel uda-fallback-image="{{::$root.config.imgUrl + $root.config.fallbackImages.teamLogo}}" uda-delete-callback=Ctrl.cbdeletepanel($index) class=logo></upload-drop-area> </div> <div class=panel-headline> <input type=text ng-model=panel.link placeholder=Image-Link /> </div> <div class=panel-content> <textarea placeholder="{{:: \'global_text_text-here\' | translate}}" ng-model=panel.content markdownedit markdown-hidden-buttons=cmdImage,cmdQuote>\n                        {{panel.content}}\n                    </textarea> <span class=panel-content__remaining-characters ng-class="{ \'panel-content__remaining-characters--error\': panel.content.length > Ctrl.maxPanelSize }"> {{panel.content.length}} / {{Ctrl.maxPanelSize}} </span> </div> </div> </div> <div ng-click=Ctrl.addProfilePanel() class=addpanel> <span>+</span> </div> </div> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-profile/detail-profile-panels/detail-profile-panels-card.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <div> <div class=content-panel> <h4 ng-if=::card.headline>{{card.headline}}</h4> <div class=image-container> <a ng-href={{::card.link}} target=_blank rel=noopener ng-if=::card.link> <img ng-src={{::card.image}} class=image-container__image fallback-src={{::$root.config.fallbackImages.profileCard}} ng-if=::card.image /> </a> <img ng-src={{::card.image}} class=image-container__image fallback-src={{::$root.config.fallbackImages.profileCard}} ng-if=\"::!card.link && card.image\"/> </div> <react-markdown source=card.content allowed-types=\"['Text', 'Paragraph', 'Softbreak', 'Hardbreak', 'Link', 'Emph', 'Code', 'CodeBlock', 'List', 'Item', 'Strong']\" unwrap-disallowed=true skip-html=true renderers=mother.Ctrl.getRenderers()></react-markdown> </div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2393));n(2394);var o=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{DetailMedia:t,$state:n,$stateParams:a})}return e.$inject=["DetailMedia","$state","$stateParams"],a(e,[{key:"$onInit",value:function(){var e=this;this.mediaType="video"===this.$state.current.section||"embedvideo"===this.$state.current.section?"video":"live",this.mediaName="live"===this.mediaType?this.$stateParams.channel:this.$stateParams.id,this.detailMedia=new this.DetailMedia(this.mediaName,this.mediaType),this.playButtonActive=!1,this.detailMedia.reInitMedia().catch(function(t){t&&404!==t.status||e.detailMedia.isBanned||(e.mediaNotExisting=!0)})}},{key:"$onDestroy",value:function(){this.detailMedia.onDestroy()}}]),e}();t.default={bindings:{},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-embed/detail-embed.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=detail-embed> <div ng-if="$ctrl.detailMedia.media && !$ctrl.detailMedia.isBanned && !$ctrl.mediaNotExisting" id=embed-player class="detail-meta fullScreenWrapper"> <media-player ng-if=$ctrl.detailMedia.getStreamMediaId() media-id=$ctrl.detailMedia.getStreamMediaId() media-type={{::$ctrl.mediaType}} play-button-active=$ctrl.playButtonActive></media-player> <ad media-id=$ctrl.detailMedia.getCurrentMedia().media_id channel-name=$ctrl.detailMedia.getCurrentMedia().media_display_name no-prerolls="{{::$ctrl.detailMedia.isPrerollDisabled() ? \'true\' : \'\'}}"></ad> <detail-embed-message media-display-name=$ctrl.detailMedia.media.media_display_name></detail-embed-message> <detail-embed-player-offline ng-if=!$ctrl.detailMedia.getStreamMediaId() media=$ctrl.detailMedia.media></detail-embed-player-offline> </div> <detail-channel-banned ng-if="$ctrl.detailMedia.media && $ctrl.detailMedia.isBanned && !$ctrl.mediaNotExisting" detail-media=$ctrl.detailMedia></detail-channel-banned> <detail-media-not-found ng-if="!$ctrl.detailMedia.mediaStatusLoading && $ctrl.mediaNotExisting" media-name=$ctrl.mediaName media-type=$ctrl.mediaType show-sub-text=false></detail-media-not-found> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2396));n(2397);var o=function(){function e(t,n,a){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resetEmbedMessage=function(){i.embedMessage=""},Object.assign(this,{$sce:t,$timeout:n,EmbedMessage:a})}return e.$inject=["$sce","$timeout","EmbedMessage"],a(e,[{key:"$onInit",value:function(){var e=this;this.resetEmbedMessage(),this.EmbedMessage.get({channel:this.mediaDisplayName}).$promise.then(function(t){t&&t.message&&function(e){this.embedMessage=this.$sce.trustAsHtml(e),this.$timeout(this.resetEmbedMessage,2e4)}.call(e,t.message)})}}]),e}();t.default={bindings:{mediaDisplayName:"<"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-embed/detail-embed-message/detail-embed-message.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-if=$ctrl.embedMessage class=embed-message> <button ng-click=$ctrl.resetEmbedMessage() type=button class=embed-message__close> <smash-icon data-icon=close data-size=16 data-center=true></smash-icon> </button> <span ng-bind-html=::$ctrl.embedMessage class=embed-message__text></span> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2399));t.default={bindings:{media:"<"},templateUrl:a.default,controller:function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-embed/detail-embed-player-offline/detail-embed-player-offline.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div id=player-channel-offline> <div back-img="{{::$root.config.imgUrl + $ctrl.media.media_bg_image}}" back-img-fallback={{::$root.config.fallbackImages.userCover}}></div> <a class="player-channel-logo round" ui-sref="detail.feed({ channel: $ctrl.media.media_display_name })" target=_blank back-img="{{::$root.config.imgUrl + $ctrl.media.channel.user_logo}}" back-img-fallback={{::$root.config.fallbackImages.userLogo}} rel=noopener></a> <a class=player-channel-name ui-sref="detail.feed({ channel: $ctrl.media.media_display_name })" target=_blank rel=noopener> {{$ctrl.media.media_display_name}} </a> <div class=player-channel-status>{{:: \'global_text_is-offline\' | translate}}</div> </div> ')}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2401));n(2402);var o=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$rootScope:t,$state:n,loggedUser:a})}return e.$inject=["$rootScope","$state","loggedUser"],a(e,[{key:"$onInit",value:function(){this.ready=!1,this.loggedUser.getName().toLowerCase()!==this.mediaName.toLowerCase()?this.ready=!0:this.$state.go("studio.livestreamSetup",{user:this.loggedUser.getName()})}},{key:"openSearch",value:function(){this.$rootScope.$broadcast("openSearch")}}]),e}();t.default={bindings:{mediaName:"<",mediaType:"<",showSubText:"<"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-media-not-found/detail-media-not-found.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-if=$ctrl.ready class=\"channel-not-existing-page john-travolta\"> <div class=channel-not-existing-error> <span ng-if=\"$ctrl.mediaType !== 'video'\"> <h1> {{::'global_text_channel' | translate}} - <i>{{$ctrl.mediaName}}</i> - {{::'global_error_channel-not-exist_header-2' | translate}} </h1> </span> <span ng-if=\"$ctrl.mediaType === 'video'\"> <h1> {{::'global_error_video-not-existing' | translate}} </h1> </span> <div class=channel-not-existing-error-msg ng-if=::$ctrl.showSubText> {{::'global_error_channel-not-exist_text-1' | translate}} <a ng-click=$ctrl.openSearch()>{{::'global_error_channel-not-exist_text-2' | translate}}</a> {{::'global_error_channel-not-exist_text-3' | translate}} <a ui-sref=browse.channels>{{::'global_error_channel-not-exist_text-4' | translate}}</a>. </div> </div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(2404)),r=a(n(369));n(2405);var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$state:t}),this.templateUrlPriorityNav=r.default}return e.$inject=["$state"],i(e,[{key:"$onInit",value:function(){this.isEmbed=this.$state.current&&this.$state.current.detached}}]),e}();t.default={bindings:{detailMedia:"<"},templateUrl:o.default,controller:s}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-channel-banned/detail-channel-banned.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="error-page banned-page"> <div class=error> <div class=line1> {{::\'view_banned_text_channel-closed\' | translate}} </div> <div class="player-box animate" ng-if="$ctrl.detailMedia.isAdmin() && $ctrl.detailMedia.media.user_banned && !$ctrl.isEmbed"> <media-player media-id=$ctrl.detailMedia.getStreamMediaId() media-type={{::$ctrl.detailMedia.mediaType}}></media-player> </div> </div> <div ng-if="$ctrl.detailMedia.isAdmin() && $ctrl.detailMedia.media.user_banned" class="banned-box animate"> <span class=wrap> <span class=banned-text> <span class=banned-tooltip uib-tooltip="BanID: {{$ctrl.detailMedia.media.user_banned}}" tooltip-append-to-body=true> Banned </span> by <a ui-sref="detail.feed({ channel: $ctrl.detailMedia.media.ban_admin})"> {{$ctrl.detailMedia.media.ban_admin}} </a> <span uib-tooltip={{$ctrl.detailMedia.media.ban_since}} tooltip-append-to-body=true class=banned-tooltip> {{$ctrl.detailMedia.media.ban_since | timeAgo}} </span> <span ng-if=$ctrl.detailMedia.media.ban_until> and will be unbanned <span uib-tooltip={{$ctrl.detailMedia.media.ban_until}} tooltip-append-to-body=true class=banned-tooltip> {{$ctrl.detailMedia.media.ban_until | timeAgo}} </span> again </span> | Reason: {{$ctrl.detailMedia.media.ban_comment}} </span> <htbx-button-show-more popover-template={{::$ctrl.templateUrlPriorityNav}} popover-classes="[\'detail-more-popover\']"></htbx-button-show-more> </span> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=n(8),r=function(e){return e&&e.__esModule?e:{default:e}}(n(2407));n(2408);var s=function(e){var t=e.channel;return{channelFollowers:(0,o.getFollowers)(t),channelViews:(0,o.getViews)(t),channelLogo:(0,o.getLogo)(t)}},l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$state=t,this.$ngRedux=n,this.channelFollowers=0,this.channelViews=0,this.channelLogo="",this.unsubscribeReduxConnection=this.$ngRedux.connect(s)(this)}return e.$inject=["$state","$ngRedux"],a(e,[{key:"$onInit",value:function(){this.media=this.detailMedia}},{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"scrollToTop",value:function(){var e=this;(0,i.element)("html,body").animate({scrollTop:0},300,function(){e.$state.go("^.feed")})}}]),e}();t.default={bindings:{detailMedia:"<",activeContentTab:"="},templateUrl:r.default,controller:l}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-sidebar/detail-sidebar.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=detail-sidebar> <div class=detail-sidebar__user__wrap> <div class=detail-sidebar__user> <div class=detail-sidebar__user__image> <upload-drop-area ng-if=$ctrl.media.isAdmin() class="logo round" uda-image={{::$root.config.imgUrl}}{{$ctrl.channelLogo}} uda-success-callback=$ctrl.media.uploadLogoSuccess(data) uda-data-name=file uda-url={{::$root.config.apiUri}}/upload/account/ uda-delete=false uda-name=logo uda-fallback-image={{::$root.config.fallbackImages.userLogo}} uda-user-name="{{:: $ctrl.media.media.media_user_name}}" uda-crop=true uda-crop-width=200 uda-crop-height=200></upload-drop-area> <a ng-if=!$ctrl.media.isAdmin() back-img={{::$root.config.imgUrl}}{{::$ctrl.channelLogo}} back-img-fallback={{::$root.config.fallbackImages.userLogo}} class="logo round" href=javascript:void(0); ng-click=$ctrl.scrollToTop();></a> </div> <div class=detail-sidebar__user__info> <div class=detail-sidebar__user__info__name-wrap> <a href=javascript:void(0); ng-click=$ctrl.scrollToTop(); class=detail-sidebar__user__info__name> {{::$ctrl.media.media.media_display_name}} </a> <verified-badge data-partner-type=$ctrl.media.media.partner_type></verified-badge> </div> <detail-total-views data-children="$ctrl.channelViews | number" class=detail-sidebar__user__info__stats></detail-total-views> </div> <ul class=detail-sidebar__user__info__buttons> <li class="detail-sidebar__user__info__button detail-sidebar__user__info__button--follow"> <follow-button follow-id=$ctrl.media.media.media_user_id follow-name=$ctrl.media.media.media_display_name follow-count=$ctrl.channelFollowers variant=primary></follow-button> </li> <li ng-if=$ctrl.media.isPartner() class="detail-sidebar__user__info__button detail-sidebar__user__info__button--subscription"> <subscription-button data-variant=sidebar channel={{::$ctrl.media.media.media_display_name.toLowerCase()}}> </subscription-button> </li> </ul> <div class=detail-sidebar__navigation> <detail-navigation active-content-tab=$ctrl.activeContentTab></detail-navigation> </div> </div> </div> <div class=detail-sidebar__related> <related-channels channel-name={{$ctrl.media.media.media_name}} language={{$ctrl.media.media.media_countries[0]}}></related-channels> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2410));n(2411),t.default={templateUrl:a.default}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-sidebar/detail-sidebar-loading.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="detail-sidebar detail-sidebar--mock"> <div class=detail-sidebar__user> <div class="detail-sidebar__user__image round"></div> <div class=detail-sidebar__user__info> <div class=detail-sidebar__user__info__name></div> <div class=detail-sidebar__user__info__stats> </div> </div> <ul class=detail-sidebar__user__info__buttons> <li class="detail-sidebar__fake-button detail-sidebar__fake-button--follow"></li> <li class="detail-sidebar__fake-button detail-sidebar__fake-button--subscription"></li> </ul> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSuperAdmin=t.isSuperAdmin};a.$inject=["loggedUser"],t.default={bindings:{},template:'\n        <ul class="navigation">\n            <li\n                ng-if="$ctrl.isSuperAdmin()"\n                class="navigation__item"\n            >\n                <detail-more></detail-more>\n                <div class="navigation__separator"></div>\n            </li>\n        \n            <li\n                class="navigation__item"\n            >\n                <detail-share-button></detail-share-button>\n            </li>\n        \n            <li class="navigation__item">\n                <htbx-report-modal-trigger\n                    custom-class="navigation__item__link"\n                    ng-click="remove_tooltip()"\n                >\n                    {{:: \'global_text_report-user\' | translate }}\n                </htbx-report-modal-trigger>\n            </li>\n        </ul>\n    ',controller:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2414));n(2415),t.default={bindings:{count:"@"},templateUrl:a.default}},function(e,t,n){var a="/src/js/detail/components/detail-total-followers/detail-total-followers.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <div class=detail-total-followers> <span class=detail-total-followers__icon> <smash-icon icon=heart-filled size=16></smash-icon> </span> <span class=detail-total-followers__text> {{($ctrl.count || 0) | abbreviate:2:false:false}} </span> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2417));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(35))),r=a(n(457)),s=n(2418),l=function(e){var t=e.children;return i.default.createElement(s.StyledComponent,null,i.default.createElement(o.default,{icon:r.default,size:16}),i.default.createElement(s.StyledText,null,t))};l.defaultProps={children:0},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledText=t.StyledComponent=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.StyledComponent=a.default.span.withConfig({displayName:"DetailTotalViewsstyles__StyledComponent",componentId:"qp8p1n-0"})(["display:flex;justify-content:center;align-items:center;"]),t.StyledText=a.default.span.withConfig({displayName:"DetailTotalViewsstyles__StyledText",componentId:"qp8p1n-1"})(["margin-left:6px;"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2420));n(2421);var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$scope:t,$state:n})}return e.$inject=["$scope","$state"],a(e,[{key:"$onInit",value:function(){var e=this;this.videoFilter=this.videoFilter||"recent",this.mediaUserName=this.detailMedia.media.media_user_name,this.$scope.$on("$stateChangeStart",function(t,n,a){if("detail.video"===n.name&&(t.preventDefault(),e.$state.go("detail.video",{id:a.id},{notify:!1}),e.$scope.$emit("detailPage:updateMedia",{type:"video",videoId:a.id})),"detail.video"!==n.name&&"channel"===n.section&&2===parseInt(e.detailMedia.media.media_type_id,10)){if("detail.feed"===n.name)return void e.$scope.$emit("detailPage:reInitMedia",a);e.$scope.$emit("detailPage:togglePlayer",!1)}})}},{key:"setFilter",value:function(e){this.videoFilter=e}},{key:"isVideoPage",value:function(){return this.$state.is("detail.video")}}]),e}();t.default={bindings:{detailMedia:"<",videoFilter:"@"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-videos/detail-videos.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<section class=detail-videos ng-class=\"{ 'detail-videos--singleVideo': $ctrl.isVideoPage() }\"> <header class=detail-videos__header> <h2 class=detail-videos__title> {{:: 'global_text_videos' | translate}} </h2> <div class=detail-videos__filters> <a class=detail-videos__filters__item ng-click=\"$ctrl.setFilter('recent')\" ng-class=\"{'detail-videos__filters__item--active': $ctrl.videoFilter === 'recent'}\"> {{:: 'global_text_recent' | translate}} </a> <a class=detail-videos__filters__item ng-click=\"$ctrl.setFilter('popular')\" ng-class=\"{'detail-videos__filters__item--active': $ctrl.videoFilter === 'popular'}\"> {{:: 'global_text_most-popular' | translate}} </a> </div> </header> <media-list-grid type=video lines=2 order-by=$ctrl.videoFilter filter=\"{userId: $ctrl.mediaUserName}\" show-more=true></media-list-grid> </section> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2423)),o=function(e){return{isAdminOfChat:e.chat.permissions.isAdmin}};t.default={controller:function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{detailMedia:t,loggedUser:n}),this.$ngRedux=a,this.unsubscribeReduxConnection=this.$ngRedux.connect(o)(this)}return e.$inject=["detailMedia","loggedUser","$ngRedux"],a(e,[{key:"$onInit",value:function(){this.detailMedia=this.detailMedia.get()}},{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"isAdmin",value:function(){return this.isAdminOfChat||this.loggedUser.isSuperAdmin()}}]),e}(),templateUrl:i.default}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-section-feed/detail-section-feed.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<feed ng-if=$ctrl.detailMedia.media data-show-new-post=$ctrl.isAdmin() data-user-data="{\n        channelName: $ctrl.detailMedia.media.media_name,\n        name: $ctrl.detailMedia.media.media_display_name,\n        logo: $ctrl.detailMedia.media.channel.user_logo_small\n    }"></feed> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(2425)),r=a(n(369));n(2426),t.default={controller:function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{detailMedia:t}),this.templateUrlPriorityNav=r.default}return e.$inject=["detailMedia"],i(e,[{key:"$onInit",value:function(){this.detailMedia=this.detailMedia.get()}}]),e}(),templateUrl:o.default}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-section-profile/detail-section-profile.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=detail-section-profile> <device-check show-if-mobile=true show-if-tablet=true show-if-desktop=false class=detail-section-profile__mobile> <div class=detail-sidebar--mobile> <user-card user=$ctrl.detailMedia.media.channel follow-button=true class=detail-section-profile__user-card></user-card> <htbx-button-show-more popover-template={{::$ctrl.templateUrlPriorityNav}} popover-classes=\"['detail-more-popover']\" popover-position=right class=detail-section-profile__show-more></htbx-button-show-more> <subscription-button ng-if=$ctrl.detailMedia.isPartner() data-variant=sidebar channel={{::$ctrl.detailMedia.media.channel.user_name}} class=detail-section-profile__sub-button> </subscription-button> </div> </device-check> <detail-profile detail-media=$ctrl.detailMedia></detail-profile> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2428));t.default={controller:function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{detailMedia:t})}return e.$inject=["detailMedia"],a(e,[{key:"$onInit",value:function(){this.detailMedia=this.detailMedia.get()}}]),e}(),templateUrl:i.default}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-section-videos/detail-section-videos.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<detail-videos ng-if=$ctrl.detailMedia.media detail-media=$ctrl.detailMedia></detail-videos> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2430));n(2431),t.default={bindings:{detailMedia:"<",activeContentTab:"<",hidePlayer:"<"},templateUrl:a.default}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-hosted/detail-hosted.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section ng-if="$ctrl.detailMedia.getStreamMediaId() && $ctrl.detailMedia.hostedMedia && $ctrl.activeContentTab === \'feed\'" class="feed-item feed-item--is-first"> <div class=detail-hosted> <feed-item-header logo={{$ctrl.detailMedia.media.channel.user_logo}} name={{$ctrl.detailMedia.media.media_display_name}} hosting={{$ctrl.detailMedia.hostedMedia.media_display_name}} class=detail-hosted__header></feed-item-header> <div class=detail-hosted__content> <div class=detail-hosted__video> <detail-player ng-if="$ctrl.detailMedia.getStreamMediaId() && !$ctrl.hidePlayer"></detail-player> </div> <div class=detail-hosted__info> <feed-item-header logo={{$ctrl.detailMedia.hostedMedia.channel.user_logo}} name={{$ctrl.detailMedia.media.media_display_name}} streaming={{$ctrl.detailMedia.hostedMedia.media_display_name}} streaming-url={{$ctrl.detailMedia.hostedMedia.category_seo_key}} streaming-name={{$ctrl.detailMedia.hostedMedia.category_name}} streaming-title="{{$ctrl.detailMedia.hostedMedia.media_status | hashtagFilter: $ctrl.detailMedia.hostedMedia}}"></feed-item-header> </div> </div> </div> </section> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(0)),r=a(n(12)),s=n(76),l=n(8),c=a(n(2)),u=a(n(2433));n(2434);var d=function(e){var t=e.user,n=e.channel;return{authToken:(0,s.getToken)(t),isSuperAdmin:(0,s.isSuperAdmin)(t),channelName:(0,l.getName)(n)}},f=function(){function e(t,n,a,i,r,s,l,c,u,f,p,m){var h=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onResourceUpdate=function(e){"resourceUpdate"===e.type&&h.updateIngests()},this.updateIngests=function(){h.isSuperAdmin&&(h.$log.debug("Updating ingest info"),h.Ingests.get({authToken:h.authToken},function(e){o.default.forEach(e,function(e){e&&e.data&&e.data.server&&e.data.server.application[0]&&o.default.forEach(e.data.server.application[0].live.stream,function(t){t.name&&h.channelName&&t.name.toLowerCase()===h.channelName&&(t.server=e,o.default.isArray(t.client)&&(t.client=t.client.pop()),h.ingest=t)})})}))},this.showBans=function(){var e={authToken:h.authToken,user_name:h.media.media_user_name};h.bansLoading=!0,h.AdminUserSearch.single(e).$promise.then(function(e){var t={animation:!0,backdrop:!0,keyboard:!0,windowClass:"modal",component:"BanTable",size:"md",resolve:{bans:function(){return e[0].bans}}};h.$uibModal.open(t),h.closePopover()}).catch(function(){}).finally(function(){h.bansLoading=!1})},Object.assign(this,{$rootScope:t,HtbxModal:n,detailMedia:a,$scope:i,$translate:r,$http:s,MediaAdminStatus:l,Ingests:c,$log:u,$uibModal:f,AdminUserSearch:p}),this.$ngRedux=m,this.authToken=null,this.isSuperAdmin=!1,this.channelName=null,this.unsubscribeReduxConnection=this.$ngRedux.connect(d)(this)}return e.$inject=["$rootScope","HtbxModal","detailMedia","$scope","$translate","$http","MediaAdminStatus","Ingests","$log","$uibModal","AdminUserSearch","$ngRedux"],i(e,[{key:"$onInit",value:function(){this.media=this.detailMedia.get().media,this.ingest=!1,this.promptButtons=[{result:!1,label:this.$translate.instant("global_text_cancel")},{result:!0,label:this.$translate.instant("global_text_ok"),variant:"ok"}],r.default.on("chat.serverMsg",this.onResourceUpdate),this.updateIngests()}},{key:"$onDestroy",value:function(){r.default.off("chat.serverMsg",this.onResourceUpdate),this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"restartTranscodings",value:function(){var e=this;new this.HtbxModal(this.$translate.instant("view_dashboard_text_sure-restart-transcodings"),"",this.promptButtons).open().then(function(t){t&&e.$http.get(c.default.apiUri+"/transdrop/"+e.media.media_id,{params:{authToken:e.authToken}}).success(function(){new e.HtbxModal(e.$translate.instant("view_dashboard_text_transcodings-restarted")).open()}).error(function(){new e.HtbxModal(e.$translate.instant("view_dashboard_error_restarting-transcodings")).open()})})}},{key:"setClientOffline",value:function(){var e=this;new this.HtbxModal(this.$translate.instant("view_dashboard_text_sure-channel-offline"),"",this.promptButtons).open().then(function(t){t&&e.MediaAdminStatus.update({media_id:e.media.media_id,authToken:e.authToken,media_is_live:0},function(){new e.HtbxModal(e.$translate.instant("view_dashboard_text_channel-offline")).open()},function(){new e.HtbxModal(e.$translate.instant("view_dashboard_error_channel-offline")).open()})})}},{key:"dropClient",value:function(){var e=this;new this.HtbxModal(this.$translate.instant("view_dashboard_text_sure-drop-client"),"",this.promptButtons).open().then(function(t){t&&e.$http.get(c.default.apiUri+"/drop/client/"+e.ingest.name,{params:{app:"push",server_ip:e.ingest.server.server_ip,authToken:e.authToken}}).success(function(){new e.HtbxModal(e.$translate.instant("view_dashboard_text_client-dropped")).open()}).error(function(){new e.HtbxModal(e.$translate.instant("view_dashboard_error_dropping-client")).open()})})}},{key:"closePopover",value:function(){this.$rootScope.$broadcast("popover:close")}}]),e}();t.default={templateUrl:u.default,controller:f}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-more/detail-more.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div> <div ng-if="!$ctrl.ingest && $ctrl.media.media_is_live === \'1\'"> <smash-spinny></smash-spinny> </div> <div ng-if=$ctrl.ingest class=popover-ingest-info> <div> <span>IP:</span> {{$ctrl.ingest.client.address}} </div> <div> <span>Client:</span> {{$ctrl.ingest.client.flashver}} </div> <div> <span>Video:</span> {{$ctrl.ingest.meta.video.codec}}@{{$ctrl.ingest.meta.video.profile}} | Compat: {{$ctrl.ingest.meta.video.compat}} | Level: {{$ctrl.ingest.meta.video.level}} </div> <div> <span>Audio:</span> {{$ctrl.ingest.meta.audio.codec}} {{$ctrl.ingest.meta.audio.profile}} {{$ctrl.ingest.meta.audio.channels}}&times;{{$ctrl.ingest.meta.audio.sample_rate | abbreviate:2:false:false}} </div> <div> <span>Res:</span> {{$ctrl.ingest.meta.video.width}} x {{$ctrl.ingest.meta.video.height}} </div> <div> <span>Fps:</span> {{$ctrl.ingest.meta.video.frame_rate}} </div> <div class=navigation__separator></div> </div> <a class=navigation__item__link ui-sref="settings.channel({user: $ctrl.media.media_user_name})" target=_blank rel=noopener> Channel Settings </a> <a class=navigation__item__link ui-sref="studio({user: $ctrl.media.media_user_name})" target=_blank rel=noopener> Dashboard </a> <a class=navigation__item__link ui-sref="statistics({user: $ctrl.media.media_user_name})" target=_blank rel=noopener> Statistics </a> <a class=navigation__item__link ng-click="$ctrl.closePopover(); $ctrl.restartTranscodings()"> Restart Transcodings </a> <a class=navigation__item__link ng-if=$ctrl.ingest ng-click="$ctrl.closePopover(); $ctrl.dropClient()"> Drop Client </a> <a class=navigation__item__link ng-click="$ctrl.closePopover(); $ctrl.setClientOffline()"> Set Offline </a> <a class=navigation__item__link admin-ip-control ng-click=$ctrl.closePopover(); channel={{::$ctrl.media.media_user_name}}> Viewer IPs </a> <a class=navigation__item__link ng-click=$ctrl.showBans()> <smash-spinny ng-if=$ctrl.bansLoading size="\'small\'"></smash-spinny> <span>Show previous bans / warnings</span> </a> <a class=navigation__item__link ng-controller=BanUserDialogCtrl ng-click="$ctrl.closePopover(); openDialog()"> Warn / Ban </a> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(133)),r=a(n(2436));n(2437);var s=function(e){return{siteLanguage:e.language.abbreviation}},l=function(){function e(t,n,a,i,o,r,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c.call(this),Object.assign(this,{$log:t,$timeout:n,mediaList:a,loggedUser:i,$window:o,$element:r}),this.$ngRedux=l,this.relatedChannels=[],this.loading=!0,this.unsubscribeReduxConnection=this.$ngRedux.connect(s)(this)}return e.$inject=["$log","$timeout","mediaList","loggedUser","$window","$element","$ngRedux"],i(e,[{key:"$onInit",value:function(){this.limit=5,this.fetch(),this.startTimeout()}},{key:"$onDestroy",value:function(){this.$timeout.cancel(this.timer),this.unregisterRecalculateLimit()}},{key:"startTimeout",value:function(){var e=this;this.$log.debug("Fetching related channels..."),this.timer=this.$timeout(function(){e.fetch(),e.startTimeout()},12e4)}},{key:"fetch",value:function(){var e=this;this.mediaList.fetch({type:"relatedDetail",filter:{channel:this.channelName,language:this.language||this.siteLanguage},limit:5,authToken:this.loggedUser.getToken()}).then(function(t){e.$log.debug("Fetched "+t.length+" related channels."),e.assignRelatedChannels(t),e.recalculateLimit(),e.unregisterRecalculateLimit(),e.registerRecalculateLimit()})}},{key:"assignRelatedChannels",value:function(e){this.relatedChannels=e,this.loading=!1}},{key:"registerRecalculateLimit",value:function(){angular.element(this.$window).on("resize",this.recalculateLimit)}},{key:"unregisterRecalculateLimit",value:function(){angular.element(this.$window).off("resize",this.recalculateLimit)}}]),e}(),c=function(){var e=this;this.recalculateLimit=(0,o.default)(function(){var t=e.limit,n=angular.element(e.$element).parent();e.limit=Math.floor(n.height()/54),e.limit>5&&(e.limit=5),e.limit!==t&&e.$timeout(function(){})},200)};t.default={bindings:{channelName:"@",language:"@?",hideTitle:"<?"},templateUrl:r.default,controller:l}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-sidebar/related-channels.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<span ng-if="$ctrl.relatedChannels && !$ctrl.loading" class=related-channels> <h3 ng-if=::!$ctrl.hideTitle ng-show=$ctrl.limit class=related-channels__title> {{::\'global_text_related\' | translate}} </h3> <ul class=related-channels__list> <li ng-repeat="media in $ctrl.relatedChannels | limitTo:$ctrl.limit track by media.media_id"> <user-card data-user=media.channel data-follow-button=false data-hide-follow-count=true data-variant=sidebar data-is-following=media.following data-is-subscribed=media.subscribed> <a ui-sref="game({ game_name: media.category_seo_key })" title={{::media.category_name}}> {{::media.category_name}} </a> </user-card> </li> </ul> </span> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(8),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2439));n(2440);var r=function(e){var t=e.channel,n=e.chat;return{channelName:(0,i.getName)(t),isAdminOfChat:n.permissions.isAdmin}},s=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.medias=t,this.loggedUser=n,this.Host=a,this.$ngRedux=i,this.unsubscribeReduxConnection=this.$ngRedux.connect(r)(this)}return e.$inject=["medias","loggedUser","Host","$ngRedux"],a(e,[{key:"$onInit",value:function(){this.loading=!1}},{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"stopHosting",value:function(){var e=this;this.isAdminOfChat&&(this.loading=!0,this.Host.stop({user_name:this.channelName,authToken:this.loggedUser.getToken()}).$promise.finally(function(){e.loading=!1}))}}]),e}();t.default={bindings:{detailMedia:"<"},templateUrl:o.default,controller:s}},function(e,t,n){var a="/src/js/detail/components/detail-page/detail-player/hosted-bar.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=hosted-bar> <div class=hosted-bar__content> <div class=hosted-bar__content__data> <div class=hosted-bar__content__images> <a class=hosted-bar__content__images__image ui-sref="detail.feed({ channel: $ctrl.detailMedia.media.media_display_name })" uib-tooltip={{$ctrl.detailMedia.media.media_display_name}} data-tooltip-append-to-body=true> <img class=round ng-src="{{::$root.config.imgUrl + $ctrl.detailMedia.media.channel.user_logo_small}}" fallback-src={{::$root.config.fallbackImages.userLogo}} alt=""/> </a> <a class=hosted-bar__content__images__image ui-sref="detail.feed({ channel: $ctrl.detailMedia.getCurrentMedia().media_display_name })" uib-tooltip={{$ctrl.detailMedia.getCurrentMedia().media_display_name}} data-tooltip-append-to-body=true> <img class=round ng-src="{{::$root.config.imgUrl + $ctrl.detailMedia.getCurrentMedia().channel.user_logo_small}}" fallback-src={{::$root.config.fallbackImages.userLogo}} alt=""/> </a> </div> <div class=hosted-bar__content__meta> <div> <a ui-sref="detail.feed({ channel: $ctrl.detailMedia.media.media_name })" class=hosted-bar__content__meta__user> {{$ctrl.detailMedia.media.media_display_name}} </a> <span> {{::\'global_text_hosting-verb\'|translate}}: </span> </div> <div> <a ui-sref="detail.feed({ channel: $ctrl.detailMedia.getCurrentMedia().media_name })" class=hosted-bar__content__meta__user> {{$ctrl.detailMedia.getCurrentMedia().media_display_name}} </a> <span> {{::\'global_text_streaming-verb\' | translate}} </span> <a ui-sref="game({ game_name: $ctrl.detailMedia.getCurrentMedia().category_seo_key })"> {{$ctrl.detailMedia.getCurrentMedia().category_name}} </a> </div> </div> </div> <div ng-if=$ctrl.isAdminOfChat class=hosted-bar__content__buttons> <htbx-button data-type=button data-variant=ok data-size=super-small data-on-select=$ctrl.stopHosting() data-loading=$ctrl.loading data-loading-spinny=true> {{::\'global_text_stop-hosting\'|translate}} </htbx-button> </div> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(5));t.default=function(){return function(e){var t=a.default.utc(),n=a.default.utc(e),i=t.diff(n),o=a.default.duration(i);return!!e&&Math.floor(o.asHours())+a.default.utc(i).format(":mm")+"h"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$sce","$location",function(e,t){return function(n){return n.media_description_md?("https"===t.protocol()&&(n.media_description_md=n.media_description_md.replace(/src="http:/gim,'src="https:')),e.trustAsHtml(n.media_description_md.replace(/<a /g,'<a target="_blank" rel="noopener" '))):""}}]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2444)),r=a(n(2445));t.default=i.default.module("device",[]).service("DisplayService",o.default).component("deviceCheck",r.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(43)),r=function(e,t,n){var a={currentTab:"",currentSubTab:"",browseCat:"",game:"",gameObject:{}},r={visible:!1,mobile:!1},s={isMobile:!1,isTablet:!1,initial:!0,breakPointMobile:799,breakPointTablet:959},l=function(){return n(function(){})};s.checkSize=function(){var t=c();return t<=s.breakPointMobile?s.isMobile&&!s.initial||(s.isMobile=!0,s.isTablet=!1,e.$broadcast("isMobile"),s.initial=!1,l()):t<=s.breakPointTablet?s.isTablet&&!s.initial||(s.isMobile=!1,s.isTablet=!0,e.$broadcast("isTablet"),s.initial=!1,l()):(s.isMobile||s.isTablet||s.initial)&&(s.isMobile=!1,s.isTablet=!1,e.$broadcast("isDesktop"),s.initial=!1,l()),s},s.update=function(){return new Promise(function(e){n(function(){s.initial=!0,e(s.checkSize())},0,!1)})},r.destroy=function(){r.visible=!1,e.$broadcast("PopoverUpdated")},r.checkSize=function(){r.mobile=c()<=600},r.set=function(t){r.visible!==t&&(r.visible=t,e.$broadcast("PopoverUpdated"))},r.get=function(){return r.visible},r.isMobile=function(){return r.checkSize(),r.mobile},a.setTab=function(t){a.currentTab=t,e.$broadcast("navTabUpdated")},a.getTab=function(){return a.currentTab},a.setSubTab=function(t){a.currentSubTab=t,e.$broadcast("navTabUpdated")},a.getSubTab=function(){return a.currentSubTab},a.getBrowseCat=function(){return a.browseCat},a.getGameObject=function(){return a.gameObject};var c=function(){return t.innerWidth},u=i.default.element(t),d=(0,o.default)(function(){s.checkSize(),e.$broadcast("WindowResize"),r.destroy()},100);return u.on("resize",d),e.$on("$stateChangeStart",function(){r.destroy()}),{chatOptions:{},channelOptions:{editProfile:!1},deviceSize:s,popoverState:r,navState:a,profileEditState:{editContent:!1,previewContent:!1,saveContent:!1,trigger:!1,loading:!1}}};r.$inject=["$rootScope","$window","$timeout"],t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(11)),o=function(){function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.DisplayService=n,this.isMobile=!0,this.isTablet=!1,this.isDesktop=!1,t.$on("isMobile",function(){a.isMobile=!0,a.isTablet=!1,a.isDesktop=!1}),t.$on("isTablet",function(){a.isMobile=!1,a.isTablet=!0,a.isDesktop=!1}),t.$on("isDesktop",function(){a.isMobile=!1,a.isTablet=!1,a.isDesktop=!0})}return e.$inject=["$scope","DisplayService"],a(e,[{key:"$onInit",value:function(){(0,i.default)(this.showIfMobile)&&(this.showIfMobile=!0),(0,i.default)(this.showIfTablet)&&(this.showIfTablet=!0),(0,i.default)(this.showIfDesktop)&&(this.showIfDesktop=!0);var e=this.DisplayService.deviceSize.checkSize();this.isMobile=e.isMobile,this.isTablet=e.isTablet,this.isDesktop=!e.isMobile&&!e.isTablet}},{key:"isVisible",value:function(){return!!(this.isMobile&&this.showIfMobile||this.isTablet&&this.showIfTablet||this.isDesktop&&this.showIfDesktop)}}]),e}();t.default={bindings:{showIfMobile:"<?",showIfTablet:"<?",showIfDesktop:"<?",showOnMediaQuery:"@?"},template:'<div ng-if="$ctrl.isVisible()" ng-transclude></div>',controller:o,transclude:!0}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2447)),r=a(n(2448));t.default=i.default.module("smash.dom",[]).service("bodyClassNames",o.default).service("htmlClassNamesService",r.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.body=t.find("body")[0]}return e.$inject=["$document"],a(e,[{key:"add",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=t.length,i=0;i<a;++i)this.body.classList.add(t[i])}},{key:"remove",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=t.length,i=0;i<a;++i)this.body.classList.remove(t[i])}},{key:"toggle",value:function(e){this.body.classList.toggle(e)}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.html=document.documentElement}return a(e,[{key:"add",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=t.length,i=0;i<a;++i)this.html.classList.add(t[i])}},{key:"remove",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=t.length,i=0;i<a;++i)this.html.classList.remove(t[i])}},{key:"toggle",value:function(e){this.html.classList.toggle(e)}}]),e}();t.default=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=n(15),r=a(n(2450)),s=a(n(2452)),l=a(n(2453)),c=function(e){return["$scope","Analytics",function(t,n){t.$on("$stateChangeSuccess",function(t,a,i,o,r){n.trackEvent(e,o.section,JSON.stringify({fromState:o,fromParams:r}))})}]};t.default=i.default.module("htbx.error",[]).component("htbxErrorPage",r.default).component("htbxError401",s.default).component("htbxError404",l.default).config(["$stateProvider",function(e){var t=o.ROUTING_CONFIG.accessLevels;e.state("404",{url:"/404",views:{viewNav:{template:"<htbx-main-nav></htbx-main-nav>"},viewMain:{template:"<htbx-error-404></htbx-error-404>",controller:c("error404")}},access:t.anon,section:"404"}).state("401",{url:"/401",views:{viewNav:{template:"<htbx-main-nav></htbx-main-nav>"},viewMain:{template:"<htbx-error-401></htbx-error-401>",controller:c("error401")}},access:t.anon,section:"401"})}]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2451),t.default={bindings:{code:"@",description:"@"},transclude:!0,template:'\n        <div\n            class="error-page"\n        >\n            <div class="error">\n                <div class="errorcode">\n                    {{::$ctrl.code}}\n                </div>\n                <div class="line1">\n                    {{::$ctrl.description}}\n                </div>\n                <div class="line2" ng-transclude></div>\n            </div>\n        </div>\n    '}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={template:"\n        <htbx-error-page\n            data-code=\"401\"\n            data-description=\"{{::'view_401_header_something-went-wrong' | translate}}\"\n        >\n            <span>{{::'view_401_text_coming-here-often' | translate}}</span>\n            &nbsp;\n            <htbx-feedback-modal-trigger>\n                {{::'view_401_link_tell-us' | translate}}\n            </htbx-feedback-modal-trigger>\n        </htbx-error-page>\n    "}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={template:'\n        <htbx-error-page\n            data-code="404"\n            data-description="{{::\'view_404_header_dont-know-where\' | translate}}"\n        ></htbx-error-page>\n    '}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2455)),r=a(n(2460)),s=a(n(2461));t.default=i.default.module("htbx.esports",[o.default]).filter("esportsIsLive",r.default).filter("esportsTodayTransform",s.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2456)),r=a(n(2457));t.default=i.default.module("htbx.esports.scores",[]).service("scores",o.default).component("htbxEsportsScores",r.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(370)),r=a(n(12)),s=n(8),l=[],c=!1,u=!1,d=void 0,f={},p=function(e){var t=e.channel;return{channelName:(0,s.getName)(t)}},m=function(){function e(t,n,a,i,o,s){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pause=function(){u&&(f={},l.$timeout.cancel(d),c&&(c=!1,l.$rootScope.$broadcast("esport-scores:active",!1),l.$timeout(function(){})))},this.joinChannel=function(){r.default.sendMessage("abios.joinChannel",{channel:l.channelName,name:l.loggedUser.getName(),token:l.loggedUser.getToken()})},this.partChannel=function(){r.default.sendMessage("abios.partChannel",{channel:l.channelName,name:l.loggedUser.getName()})},this.$rootScope=t,this.$timeout=n,this.$log=a,this.$window=i,this.loggedUser=o,this.$ngRedux=s,this.isMobile=i.mobilecheck(),this.$ngRedux.connect(p)(this),this.scoreCallback=this.scoreCallback.bind(this)}return e.$inject=["$rootScope","$timeout","$log","$window","loggedUser","$ngRedux"],i(e,[{key:"getData",value:function(){return f}},{key:"isActive",value:function(){return c}},{key:"subscribe",value:function(e){var t=this,n=!0;return l.length||this.start(),l.push(e),function(){if(n){n=!1;var a=l.indexOf(e);l.splice(a,1),l.length||t.destroy()}}}},{key:"start",value:function(){u||this.isMobile||(this.$log.debug("Starting esports-scores service"),u=!0,r.default.on("open",this.joinChannel),r.default.on("abios.score",this.scoreCallback))}},{key:"destroy",value:function(){u&&(this.$log.debug("Destroying esports-scores service"),this.pause(),r.default.off("abios.score",this.scoreCallback),r.default.off("open",this.joinChannel),this.partChannel(),u=!1)}},{key:"scoreCallback",value:function(e){var t=e.data;this.$timeout.cancel(d),d=this.$timeout(this.pause,3e5),c||(c=!0,this.$rootScope.$broadcast("esport-scores:active",!0)),(0,o.default)(f,t)||(this.$log.debug("Esports-scores service data changed"),f=Object.assign({},t),l.forEach(function(e){return e(f)}),this.$timeout(function(){}))}}]),e}();t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2458));n(2459);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"getData",value:function(){return this.data}},{key:"getSize",value:function(){return this.size}},{key:"getVariant",value:function(){return this.variant}},{key:"getWinnerTeam",value:function(){return this.data&&this.data.hasMatchup?this.data.score.teamA>this.data.score.teamB?1:this.data.score.teamA<this.data.score.teamB?2:0:0}},{key:"getWinnerClass",value:function(){return"esport-scores--winner-team-"+this.getWinnerTeam()}}]),e}();t.default={bindings:{size:"@?",showTooltips:"<?",showFormat:"<?",variant:"@?",data:"<",language:"@?",channel:"@?"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/esports/scores/components/scores.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=esport-scores ng-class=\"::[\n        $ctrl.getWinnerClass(),\n        {\n            'esport-scores--variant-vs': $ctrl.getVariant() === 'vs',\n            'esport-scores--size-feed': $ctrl.getSize() === 'feed',\n            'esport-scores--live': $ctrl.getData().live,\n        }\n    ]\"> <div ng-if=::$ctrl.getData().hasMatchup class=esport-scores__teams> <div class=\"esport-scores__team esport-scores__team--team-1\" tooltip-placement=\"auto bottom\" uib-tooltip={{::$ctrl.getData().teamA.name}} data-tooltip-append-to-body=true data-tooltip-enable=$ctrl.showTooltips> <div class=esport-scores__team__name> {{::$ctrl.getData().teamA.name}} </div> <div class=esport-scores__team__logo-and-score> <div class=esport-scores__team__logo> <img ng-if=::$ctrl.getData().teamA.images.thumbnail ng-src={{::$ctrl.getData().teamA.images.thumbnail}} fallback-src={{::$root.config.fallbackImages.eSportTeam}} alt=\"Logo of &quot;{{::$ctrl.getData().teamA.name}}&quot;\" class=esport-scores__team__logo__image /> </div> <span ng-if=\"::$ctrl.getVariant() !== 'vs'\" class=\"esport-scores__score esport-scores__score--team-1\"> {{::$ctrl.getData().score.teamA}} </span> </div> </div> <div class=esport-scores__divider> <div class=esport-scores__divider__text> {{::($ctrl.getVariant() !== 'vs' ? ':' : 'vs')}} </div> </div> <div class=\"esport-scores__team esport-scores__team--team-2\" tooltip-placement=\"auto bottom\" uib-tooltip=\"{{::$ctrl.getData().teamB.name }}\" data-tooltip-append-to-body=true data-tooltip-enable=$ctrl.showTooltips> <div class=esport-scores__team__logo-and-score> <span ng-if=\"::$ctrl.getVariant() !== 'vs'\" class=\"esport-scores__score esport-scores__score--team-2\"> {{::$ctrl.getData().score.teamB}} </span> <div class=esport-scores__team__logo> <img ng-if=::$ctrl.getData().teamB.images.thumbnail ng-src=\"{{::$ctrl.getData().teamB.images.thumbnail }}\" fallback-src={{::$root.config.fallbackImages.eSportTeam}} alt=\"Logo of &quot;{{::$ctrl.getData().teamB.name }}&quot;\" class=esport-scores__team__logo__image /> </div> </div> <div class=esport-scores__team__name> {{::$ctrl.getData().teamB.name}} </div> </div> <div class=esport-scores__upcoming> <time class=esport-scores__upcoming__text datetime={{::$ctrl.getData().start}}> <span ng-if=\"::($ctrl.getVariant() === 'vs')\"> <span> {{::$ctrl.getData().start | esportsTodayTransform: 'Do MMM'}} </span> <span> {{::$ctrl.getData().start | date: 'H:mm'}} </span> </span> <span ng-if=\"::($ctrl.getVariant() !== 'vs')\" class=esport-scores__upcoming__live> {{::'global_text_live' | translate}} </span> </time> </div> </div> <div ng-if=::!$ctrl.getData().hasMatchup class=\"esport-scores__divider esport-scores__divider--noMatchup\"> <div class=esport-scores__divider__text> {{::'component_esport_tba' | translate}} </div> <div class=esport-scores__upcoming> <time class=esport-scores__upcoming__text datetime={{::$ctrl.getData().start}}> <span> {{::$ctrl.getData().start | esportsTodayTransform: 'Do MMM'}} </span> <span> {{::$ctrl.getData().start | date: 'H:mm'}} </span> </time> </div> </div> <div class=esport-scores__meta> <div class=esport-scores__tournament> <h3 class=esport-scores__tournament__title> {{::$ctrl.getData().tournament.title}} </h3> <h2 class=esport-scores__tournament__sub-title> {{::$ctrl.getData().title}} <span class=esport-scores__tournament__sub-title__results> - {{::'global_text_results' | translate}}: </span> </h2> </div> <div class=esport-scores__info> <div class=esport-scores__info__language-and-game> <span ng-if=::$ctrl.language class=esport-scores__info__lang> {{::$ctrl.language}} </span> <span class=esport-scores__info__game ng-style=\"::{'background-image': 'url(' + $ctrl.getData().game.image + ')'}\"></span> </div> <div ng-if=::$ctrl.channel class=esport-scores__info__channel> {{::$ctrl.channel}} </div> </div> </div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){return!!(i.default.isDefined(t)&&(0,o.default)(e)<(0,o.default)()&&(0,o.default)(t)>(0,o.default)())||(0,o.default)(e)<(0,o.default)()}};var i=a(n(0)),o=a(n(5))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t="["+e.instant("global_text_today")+"]",n="["+e.instant("global_text_tomorrow")+"]";return function(e,a){return o.default.isUndefined(a)&&(a="d"),(0,r.default)(e).utc().calendar(null,{sameDay:t,nextDay:n,nextWeek:a,sameElse:a})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=a(n(0)),r=a(n(5));i.$inject=["$translate"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(687)),r=a(n(2488)),s=a(n(2490)),l=a(n(2493));t.default=i.default.module("htbx.featured",[o.default]).component("featuredInfoBox",r.default).component("featuredMedia",s.default).component("mobileInfobox",l.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),l=a(s),c=(a(n(3)),a(n(2464))),u=a(n(11)),d=a(n(2480)),f=a(n(2481)),p=a(n(2));n(2482);var m=function(e){var t=e.media,n=e.stateHref;return t.media_user_name?l.default.createElement(d.default,{name:t.media_user_name,thumbnail:t.media_thumbnail_large?p.default.imgUrl+t.media_thumbnail_large:p.default.fallbackImages.liveMedia,game:t.category_name,gameSlug:t.category_seo_key,stateHref:n}):null},h=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.beforeChange=function(e,t){a.props.onPageChange&&a.props.onPageChange(e,t)},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.medias,a=t.numberFilter,i=t.stateHref,r=this.props.carouselOptions||{};return(0,u.default)(r.arrows)&&(r.arrows=!1),l.default.createElement(c.default,o({ref:function(t){e.slider=t},beforeChange:this.beforeChange},r),n.map(function(e,t){return l.default.createElement("div",{key:"media_"+((0,u.default)(e.media_id)?e.category_id:e.media_id)},(0,u.default)(e.media_id)?l.default.createElement(f.default,{game:e,stateHref:i,numberFilter:a,isLast:t===n.length-1}):l.default.createElement(m,{media:e,stateHref:i}))}))}}]),t}();h.defaultProps={onPageChange:null,numberFilter:null,carouselOptions:{}},t.default=h},function(e,t,n){"use strict";t.__esModule=!0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2465));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=a(n(1)),r=n(2466),s=a(n(2473)),l=a(n(2475)),c=n(255),u=(0,c.canUseDOM)()&&n(2476),d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.innerSliderRefHandler=function(e){return a.innerSlider=e},a.slickPrev=function(){return a.innerSlider.slickPrev()},a.slickNext=function(){return a.innerSlider.slickNext()},a.slickGoTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.innerSlider.slickGoTo(e,t)},a.slickPause=function(){return a.innerSlider.pause("paused")},a.slickPlay=function(){return a.innerSlider.autoPlay("play")},a.state={breakpoint:null},a._responsiveMediaHandlers=[],a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.media=function(e,t){u.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})},t.prototype.componentWillMount=function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map(function(e){return e.breakpoint});t.sort(function(e,t){return e-t}),t.forEach(function(n,a){var i=void 0;i=0===a?(0,s.default)({minWidth:0,maxWidth:n}):(0,s.default)({minWidth:t[a-1]+1,maxWidth:n}),(0,c.canUseDOM)()&&e.media(i,function(){e.setState({breakpoint:n})})});var n=(0,s.default)({minWidth:t.slice(-1)[0]});(0,c.canUseDOM)()&&this.media(n,function(){e.setState({breakpoint:null})})}},t.prototype.componentWillUnmount=function(){this._responsiveMediaHandlers.forEach(function(e){u.unregister(e.query,e.handler)})},t.prototype.render=function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter(function(e){return e.breakpoint===n.state.breakpoint}))[0].settings?"unslick":i({},l.default,this.props,t[0].settings):i({},l.default,this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var a=o.default.Children.toArray(this.props.children);a=a.filter(function(e){return"string"==typeof e?!!e.trim():!!e}),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var s=[],c=null,u=0;u<a.length;u+=e.rows*e.slidesPerRow){for(var d=[],f=u;f<u+e.rows*e.slidesPerRow;f+=e.slidesPerRow){for(var p=[],m=f;m<f+e.slidesPerRow&&(e.variableWidth&&a[m].props.style&&(c=a[m].props.style.width),!(m>=a.length));m+=1)p.push(o.default.cloneElement(a[m],{key:100*u+10*f+m,tabIndex:-1,style:{width:100/e.slidesPerRow+"%",display:"inline-block"}}));d.push(o.default.createElement("div",{key:10*u+f},p))}e.variableWidth?s.push(o.default.createElement("div",{key:u,style:{width:c}},d)):s.push(o.default.createElement("div",{key:u},d))}if("unslick"===e){var h="regular slider "+(this.props.className||"");return o.default.createElement("div",{className:h},s)}return s.length<=e.slidesToShow&&(e.unslick=!0),o.default.createElement(r.InnerSlider,i({ref:this.innerSliderRefHandler},e),s)},t}(o.default.Component);t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.InnerSlider=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=a(n(1)),s=a(n(27)),l=a(n(2467)),c=a(n(2468)),u=a(n(254)),d=n(255),f=n(2469),p=n(2470),m=n(2471),h=a(n(2472));t.InnerSlider=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.listRefHandler=function(e){return a.list=e},a.trackRefHandler=function(e){return a.track=e},a.adaptHeight=function(){if(a.props.adaptiveHeight&&a.list){var e=a.list.querySelector('[data-index="'+a.state.currentSlide+'"]');a.list.style.height=(0,d.getHeight)(e)+"px"}},a.componentWillMount=function(){if(a.ssrInit(),a.props.onInit&&a.props.onInit(),a.props.lazyLoad){var e=(0,d.getOnDemandLazySlides)(o({},a.props,a.state));e.length>0&&(a.setState(function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}}),a.props.onLazyLoad&&a.props.onLazyLoad(e))}},a.componentDidMount=function(){var e=o({listRef:a.list,trackRef:a.track},a.props);a.updateState(e,!0,function(){a.adaptHeight(),a.props.autoplay&&a.autoPlay("update")}),"progressive"===a.props.lazyLoad&&(a.lazyLoadTimer=setInterval(a.progressiveLazyLoad,1e3)),a.ro=new h.default(function(){a.state.animating?(a.onWindowResized(!1),a.callbackTimers.push(setTimeout(function(){return a.onWindowResized()},a.props.speed))):a.onWindowResized()}),a.ro.observe(a.list),Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(e){e.onfocus=a.props.pauseOnFocus?a.onSlideFocus:null,e.onblur=a.props.pauseOnFocus?a.onSlideBlur:null}),window&&(window.addEventListener?window.addEventListener("resize",a.onWindowResized):window.attachEvent("onresize",a.onWindowResized))},a.componentWillUnmount=function(){a.animationEndCallback&&clearTimeout(a.animationEndCallback),a.lazyLoadTimer&&clearInterval(a.lazyLoadTimer),a.callbackTimers.length&&(a.callbackTimers.forEach(function(e){return clearTimeout(e)}),a.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",a.onWindowResized):window.detachEvent("onresize",a.onWindowResized),a.autoplayTimer&&clearInterval(a.autoplayTimer)},a.componentWillReceiveProps=function(e){for(var t=o({listRef:a.list,trackRef:a.track},e,a.state),n=!1,s=Object.keys(a.props),l=Array.isArray(s),c=0,s=l?s:s[Symbol.iterator]();;){var u;if(l){if(c>=s.length)break;u=s[c++]}else{if((c=s.next()).done)break;u=c.value}var d=u;if(!e.hasOwnProperty(d)){n=!0;break}if("object"!==i(e[d])&&"function"!=typeof e[d]&&e[d]!==a.props[d]){n=!0;break}}a.updateState(t,n,function(){a.state.currentSlide>=r.default.Children.count(e.children)&&a.changeSlide({message:"index",index:r.default.Children.count(e.children)-e.slidesToShow,currentSlide:a.state.currentSlide}),e.autoplay?a.autoPlay("update"):a.pause("paused")})},a.componentDidUpdate=function(){if(a.checkImagesLoad(),a.props.onReInit&&a.props.onReInit(),a.props.lazyLoad){var e=(0,d.getOnDemandLazySlides)(o({},a.props,a.state));e.length>0&&(a.setState(function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}}),a.props.onLazyLoad&&a.props.onLazyLoad(e))}a.adaptHeight()},a.onWindowResized=function(e){a.debouncedResize&&a.debouncedResize.cancel(),a.debouncedResize=(0,c.default)(function(){return a.resizeWindow(e)},50),a.debouncedResize()},a.resizeWindow=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(s.default.findDOMNode(a.track)){var t=o({listRef:a.list,trackRef:a.track},a.props,a.state);a.updateState(t,e,function(){a.props.autoplay?a.autoPlay("update"):a.pause("paused")}),a.setState({animating:!1}),clearTimeout(a.animationEndCallback),delete a.animationEndCallback}},a.updateState=function(e,t,n){var i=(0,d.initializedState)(e);e=o({},e,i,{slideIndex:i.currentSlide});var s=(0,d.getTrackLeft)(e);e=o({},e,{left:s});var l=(0,d.getTrackCSS)(e);(t||r.default.Children.count(a.props.children)!==r.default.Children.count(e.children))&&(i.trackStyle=l),a.setState(i,n)},a.ssrInit=function(){if(a.props.variableWidth){var e=0,t=0,n=[],i=(0,d.getPreClones)(o({},a.props,a.state,{slideCount:a.props.children.length})),s=(0,d.getPostClones)(o({},a.props,a.state,{slideCount:a.props.children.length}));a.props.children.forEach(function(t){n.push(t.props.style.width),e+=t.props.style.width});for(var l=0;l<i;l++)t+=n[n.length-1-l],e+=n[n.length-1-l];for(var c=0;c<s;c++)e+=n[c];for(var u=0;u<a.state.currentSlide;u++)t+=n[u];var f={width:e+"px",left:-t+"px"};if(a.props.centerMode){var p=n[a.state.currentSlide]+"px";f.left="calc("+f.left+" + (100% - "+p+") / 2 ) "}a.setState({trackStyle:f})}else{var m=r.default.Children.count(a.props.children),h=o({},a.props,a.state,{slideCount:m}),g=(0,d.getPreClones)(h)+(0,d.getPostClones)(h)+m,_=100/a.props.slidesToShow*g,v=100/g,b=-v*((0,d.getPreClones)(h)+a.state.currentSlide)*_/100;a.props.centerMode&&(b+=(100-v*_/100)/2);var y={width:_+"%",left:b+"%"};a.setState({slideWidth:v+"%",trackStyle:y})}},a.checkImagesLoad=function(){var e=document.querySelectorAll(".slick-slide img"),t=e.length,n=0;Array.prototype.forEach.call(e,function(e){var i=function(){return++n&&n>=t&&a.onWindowResized()};if(e.onclick){var o=e.onclick;e.onclick=function(){o(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(a.props.lazyLoad?e.onload=function(){a.adaptHeight(),a.callbackTimers.push(setTimeout(a.onWindowResized,a.props.speed))}:(e.onload=i,e.onerror=function(){i(),a.props.onLazyLoadError&&a.props.onLazyLoadError()}))})},a.progressiveLazyLoad=function(){for(var e=[],t=o({},a.props,a.state),n=a.state.currentSlide;n<a.state.slideCount+(0,d.getPostClones)(t);n++)if(a.state.lazyLoadedList.indexOf(n)<0){e.push(n);break}for(var i=a.state.currentSlide-1;i>=-(0,d.getPreClones)(t);i--)if(a.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(a.setState(function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}}),a.props.onLazyLoad&&a.props.onLazyLoad(e)):a.lazyLoadTimer&&(clearInterval(a.lazyLoadTimer),delete a.lazyLoadTimer)},a.slideHandler=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.props,i=n.asNavFor,r=n.currentSlide,s=n.beforeChange,l=n.onLazyLoad,c=n.speed,u=n.afterChange,f=(0,d.slideHandler)(o({index:e},a.props,a.state,{trackRef:a.track,useCSS:a.props.useCSS&&!t})),p=f.state,m=f.nextState;if(p){s&&s(r,p.currentSlide);var h=p.lazyLoadedList.filter(function(e){return a.state.lazyLoadedList.indexOf(e)<0});l&&h.length>0&&l(h),a.setState(p,function(){i&&i.innerSlider.state.currentSlide!==r&&i.innerSlider.slideHandler(e),m&&(a.animationEndCallback=setTimeout(function(){var e=m.animating,t=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(m,["animating"]);a.setState(t,function(){a.callbackTimers.push(setTimeout(function(){return a.setState({animating:e})},10)),u&&u(p.currentSlide),delete a.animationEndCallback})},c))})}},a.changeSlide=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=o({},a.props,a.state),i=(0,d.changeSlide)(n,e);(0===i||i)&&(!0===t?a.slideHandler(i,t):a.slideHandler(i))},a.clickHandler=function(e){!1===a.clickable&&(e.stopPropagation(),e.preventDefault()),a.clickable=!0},a.keyHandler=function(e){var t=(0,d.keyHandler)(e,a.props.accessibility,a.props.rtl);""!==t&&a.changeSlide({message:t})},a.selectHandler=function(e){a.changeSlide(e)},a.disableBodyScroll=function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}},a.enableBodyScroll=function(){window.ontouchmove=null},a.swipeStart=function(e){a.props.verticalSwiping&&a.disableBodyScroll();var t=(0,d.swipeStart)(e,a.props.swipe,a.props.draggable);""!==t&&a.setState(t)},a.swipeMove=function(e){var t=(0,d.swipeMove)(e,o({},a.props,a.state,{trackRef:a.track,listRef:a.list,slideIndex:a.state.currentSlide}));t&&(t.swiping&&(a.clickable=!1),a.setState(t))},a.swipeEnd=function(e){var t=(0,d.swipeEnd)(e,o({},a.props,a.state,{trackRef:a.track,listRef:a.list,slideIndex:a.state.currentSlide}));if(t){var n=t.triggerSlideHandler;delete t.triggerSlideHandler,a.setState(t),void 0!==n&&(a.slideHandler(n),a.props.verticalSwiping&&a.enableBodyScroll())}},a.slickPrev=function(){a.callbackTimers.push(setTimeout(function(){return a.changeSlide({message:"previous"})},0))},a.slickNext=function(){a.callbackTimers.push(setTimeout(function(){return a.changeSlide({message:"next"})},0))},a.slickGoTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";a.callbackTimers.push(setTimeout(function(){return a.changeSlide({message:"index",index:e,currentSlide:a.state.currentSlide},t)},0))},a.play=function(){var e;if(a.props.rtl)e=a.state.currentSlide-a.props.slidesToScroll;else{if(!(0,d.canGoNext)(o({},a.props,a.state)))return!1;e=a.state.currentSlide+a.props.slidesToScroll}a.slideHandler(e)},a.autoPlay=function(e){a.autoplayTimer&&clearInterval(a.autoplayTimer);var t=a.state.autoplaying;if("update"===e){if("hovered"===t||"focused"===t||"paused"===t)return}else if("leave"===e){if("paused"===t||"focused"===t)return}else if("blur"===e&&("paused"===t||"hovered"===t))return;a.autoplayTimer=setInterval(a.play,a.props.autoplaySpeed+50),a.setState({autoplaying:"playing"})},a.pause=function(e){a.autoplayTimer&&(clearInterval(a.autoplayTimer),a.autoplayTimer=null);var t=a.state.autoplaying;"paused"===e?a.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==t&&"playing"!==t||a.setState({autoplaying:"focused"}):"playing"===t&&a.setState({autoplaying:"hovered"})},a.onDotsOver=function(){return a.props.autoplay&&a.pause("hovered")},a.onDotsLeave=function(){return a.props.autoplay&&"hovered"===a.state.autoplaying&&a.autoPlay("leave")},a.onTrackOver=function(){return a.props.autoplay&&a.pause("hovered")},a.onTrackLeave=function(){return a.props.autoplay&&"hovered"===a.state.autoplaying&&a.autoPlay("leave")},a.onSlideFocus=function(){return a.props.autoplay&&a.pause("focused")},a.onSlideBlur=function(){return a.props.autoplay&&"focused"===a.state.autoplaying&&a.autoPlay("blur")},a.render=function(){var e=(0,u.default)("slick-slider",a.props.className,{"slick-vertical":a.props.vertical,"slick-initialized":!0}),t=o({},a.props,a.state),n=(0,d.extractObject)(t,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding"]),i=a.props.pauseOnHover;n=o({},n,{onMouseEnter:i?a.onTrackOver:null,onMouseLeave:i?a.onTrackLeave:null,onMouseOver:i?a.onTrackOver:null,focusOnSelect:a.props.focusOnSelect?a.selectHandler:null});var s;if(!0===a.props.dots&&a.state.slideCount>=a.props.slidesToShow){var l=(0,d.extractObject)(t,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),c=a.props.pauseOnDotsHover;l=o({},l,{clickHandler:a.changeSlide,onMouseEnter:c?a.onDotsLeave:null,onMouseOver:c?a.onDotsOver:null,onMouseLeave:c?a.onDotsLeave:null}),s=r.default.createElement(p.Dots,l)}var h,g,_=(0,d.extractObject)(t,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);_.clickHandler=a.changeSlide,a.props.arrows&&(h=r.default.createElement(m.PrevArrow,_),g=r.default.createElement(m.NextArrow,_));var v=null;a.props.vertical&&(v={height:a.state.listHeight});var b=null;!1===a.props.vertical?!0===a.props.centerMode&&(b={padding:"0px "+a.props.centerPadding}):!0===a.props.centerMode&&(b={padding:a.props.centerPadding+" 0px"});var y=o({},v,b),w=a.props.touchMove,$={className:"slick-list",style:y,onClick:a.clickHandler,onMouseDown:w?a.swipeStart:null,onMouseMove:a.state.dragging&&w?a.swipeMove:null,onMouseUp:w?a.swipeEnd:null,onMouseLeave:a.state.dragging&&w?a.swipeEnd:null,onTouchStart:w?a.swipeStart:null,onTouchMove:a.state.dragging&&w?a.swipeMove:null,onTouchEnd:w?a.swipeEnd:null,onTouchCancel:a.state.dragging&&w?a.swipeEnd:null,onKeyDown:a.props.accessibility?a.keyHandler:null},x={className:e,dir:"ltr"};return a.props.unslick&&($={className:"slick-list"},x={className:e}),r.default.createElement("div",x,a.props.unslick?"":h,r.default.createElement("div",o({ref:a.listRefHandler},$),r.default.createElement(f.Track,o({ref:a.trackRefHandler},n),a.props.children)),a.props.unslick?"":g,a.props.unslick?"":s)},a.list=null,a.track=null,a.state=o({},l.default,{currentSlide:a.props.initialSlide,slideCount:r.default.Children.count(a.props.children)}),a.callbackTimers=[],a.clickable=!0,a.debouncedResize=null,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default.Component)},function(e,t,n){"use strict";t.__esModule=!0,t.default={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0}},function(e,t,n){(function(t){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&m.call(e)==o}(e))return i;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var a=l.test(e);return a||c.test(e)?u(e.slice(2),a?2:8):s.test(e)?i:+e}var i=NaN,o="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,d="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),m=Object.prototype.toString,h=Math.max,g=Math.min,_=function(){return p.Date.now()};e.exports=function(e,t,i){function o(t){var n=u,a=d;return u=d=void 0,b=t,p=e.apply(a,n)}function r(e){var n=e-v;return void 0===v||n>=t||n<0||w&&e-b>=f}function s(){var e=_();if(r(e))return l(e);m=setTimeout(s,function(e){var n=t-(e-v);return w?g(n,f-(e-b)):n}(e))}function l(e){return m=void 0,$&&u?o(e):(u=d=void 0,p)}function c(){var e=_(),n=r(e);if(u=arguments,d=this,v=e,n){if(void 0===m)return function(e){return b=e,m=setTimeout(s,t),y?o(e):p}(v);if(w)return m=setTimeout(s,t),o(v)}return void 0===m&&(m=setTimeout(s,t)),p}var u,d,f,p,m,v,b=0,y=!1,w=!1,$=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return t=a(t)||0,n(i)&&(y=!!i.leading,f=(w="maxWait"in i)?h(a(i.maxWait)||0,t):f,$="trailing"in i?!!i.trailing:$),c.cancel=function(){void 0!==m&&clearTimeout(m),b=0,u=v=d=m=void 0},c.flush=function(){return void 0===m?p:l(_())},c}}).call(t,n(7))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.Track=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=a(n(1)),r=a(n(254)),s=n(255),l=function(e){var t,n,a,i,o;return a=(o=e.rtl?e.slideCount-1-e.index:e.index)<0||o>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(o-e.currentSlide)%e.slideCount==0,o>e.currentSlide-i-1&&o<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":a,"slick-current":o===e.currentSlide}},c=function(e,t){return e.key||t},u=function(e){var t,n=[],a=[],u=[],d=o.default.Children.count(e.children),f=(0,s.lazyStartIndex)(e),p=(0,s.lazyEndIndex)(e);return o.default.Children.forEach(e.children,function(m,h){var g=void 0,_={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};g=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?m:o.default.createElement("div",null);var v=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase,t.WebkitTransition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase),t}(i({},e,{index:h})),b=g.props.className||"",y=l(i({},e,{index:h}));if(n.push(o.default.cloneElement(g,{key:"original"+c(g,h),"data-index":h,className:(0,r.default)(y,b),tabIndex:"-1","aria-hidden":!y["slick-active"],style:i({outline:"none"},g.props.style||{},v),onClick:function(t){g.props&&g.props.onClick&&g.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(_)}})),e.infinite&&!1===e.fade){var w=d-h;w<=(0,s.getPreClones)(e)&&d!==e.slidesToShow&&((t=-w)>=f&&(g=m),y=l(i({},e,{index:t})),a.push(o.default.cloneElement(g,{key:"precloned"+c(g,t),"data-index":t,tabIndex:"-1",className:(0,r.default)(y,b),"aria-hidden":!y["slick-active"],style:i({},g.props.style||{},v),onClick:function(t){g.props&&g.props.onClick&&g.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(_)}}))),d!==e.slidesToShow&&((t=d+h)<p&&(g=m),y=l(i({},e,{index:t})),u.push(o.default.cloneElement(g,{key:"postcloned"+c(g,t),"data-index":t,tabIndex:"-1",className:(0,r.default)(y,b),"aria-hidden":!y["slick-active"],style:i({},g.props.style||{},v),onClick:function(t){g.props&&g.props.onClick&&g.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(_)}})))}}),e.rtl?a.concat(n,u).reverse():a.concat(n,u)};t.Track=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=u(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return o.default.createElement("div",i({className:"slick-track",style:this.props.trackStyle},n),e)},t}(o.default.PureComponent)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.Dots=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=a(n(1)),r=a(n(254));t.Dots=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.clickHandler=function(e,t){t.preventDefault(),this.props.clickHandler(e)},t.prototype.render=function(){var e=this,t=function(e){return e.infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1}({slideCount:this.props.slideCount,slidesToScroll:this.props.slidesToScroll,slidesToShow:this.props.slidesToShow,infinite:this.props.infinite}),n=this.props,a={onMouseEnter:n.onMouseEnter,onMouseOver:n.onMouseOver,onMouseLeave:n.onMouseLeave},s=Array.apply(null,Array(t+1).join("0").split("")).map(function(t,n){var a=n*e.props.slidesToScroll,i=n*e.props.slidesToScroll+(e.props.slidesToScroll-1),s=(0,r.default)({"slick-active":e.props.currentSlide>=a&&e.props.currentSlide<=i}),l={message:"dots",index:n,slidesToScroll:e.props.slidesToScroll,currentSlide:e.props.currentSlide},c=e.clickHandler.bind(e,l);return o.default.createElement("li",{key:n,className:s},o.default.cloneElement(e.props.customPaging(n),{onClick:c}))});return o.default.cloneElement(this.props.appendDots(s),i({className:this.props.dotsClass},a))},t}(o.default.PureComponent)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.NextArrow=t.PrevArrow=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=a(n(1)),c=a(n(254)),u=n(255);t.PrevArrow=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return r(t,e),t.prototype.clickHandler=function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)},t.prototype.render=function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,c.default)(e),style:{display:"block"},onClick:t},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?l.default.cloneElement(this.props.prevArrow,s({},n,a)):l.default.createElement("button",s({key:"0",type:"button"},n)," ","Previous")},t}(l.default.PureComponent),t.NextArrow=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return r(t,e),t.prototype.clickHandler=function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)},t.prototype.render=function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,u.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,c.default)(e),style:{display:"block"},onClick:t},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?l.default.cloneElement(this.props.nextArrow,s({},n,a)):l.default.createElement("button",s({key:"1",type:"button"},n)," ","Next")},t}(l.default.PureComponent)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function n(e){return parseFloat(e)||0}function a(e){for(var t=[],a=arguments.length-1;a-- >0;)t[a]=arguments[a+1];return t.reduce(function(t,a){return t+n(e["border-"+a+"-width"])},0)}function i(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return _;var o=g(e).getComputedStyle(e),s=function(e){for(var t={},a=0,i=["top","right","bottom","left"];a<i.length;a+=1){var o=i[a],r=e["padding-"+o];t[o]=n(r)}return t}(o),l=s.left+s.right,c=s.top+s.bottom,u=n(o.width),d=n(o.height);if("border-box"===o.boxSizing&&(Math.round(u+l)!==t&&(u-=a(o,"left","right")+l),Math.round(d+c)!==i&&(d-=a(o,"top","bottom")+c)),!function(e){return e===g(e).document.documentElement}(e)){var f=Math.round(u+l)-t,p=Math.round(d+c)-i;1!==Math.abs(f)&&(u-=f),1!==Math.abs(p)&&(d-=p)}return r(s.left,s.top,u,d)}function o(e){return l?v(e)?function(e){var t=e.getBBox();return r(0,0,t.width,t.height)}(e):i(e):_}function r(e,t,n,a){return{x:e,y:t,width:n,height:a}}var s=function(){function e(e,t){var n=-1;return e.some(function(e,a){return e[0]===t&&(n=a,!0)}),n}return"undefined"!=typeof Map?Map:function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),a=this.__entries__[n];return a&&a[1]},t.prototype.set=function(t,n){var a=e(this.__entries__,t);~a?this.__entries__[a][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,a=e(n,t);~a&&n.splice(a,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,a=this.__entries__;n<a.length;n+=1){var i=a[n];e.call(t,i[1],i[0])}},Object.defineProperties(t.prototype,n),t}()}(),l="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,c=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),u="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(c):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},d=2,f=["top","right","bottom","left","width","height","size","weight"],p="undefined"!=typeof MutationObserver,m=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){function n(){o&&(o=!1,e()),r&&i()}function a(){u(n)}function i(){var e=Date.now();if(o){if(e-s<d)return;r=!0}else o=!0,r=!1,setTimeout(a,t);s=e}var o=!1,r=!1,s=0;return i}(this.refresh.bind(this),20)};m.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},m.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},m.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},m.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},m.prototype.connect_=function(){l&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),p?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},m.prototype.disconnect_=function(){l&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},m.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),f.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},m.getInstance=function(){return this.instance_||(this.instance_=new m),this.instance_},m.instance_=null;var h=function(e,t){for(var n=0,a=Object.keys(t);n<a.length;n+=1){var i=a[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},g=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||c},_=r(0,0,0,0),v="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof g(e).SVGGraphicsElement}:function(e){return e instanceof g(e).SVGElement&&"function"==typeof e.getBBox},b=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=r(0,0,0,0),this.target=e};b.prototype.isActive=function(){var e=o(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},b.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var y=function(e,t){var n=function(e){var t=e.x,n=e.y,a=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,r=Object.create(o.prototype);return h(r,{x:t,y:n,width:a,height:i,top:n,right:t+a,bottom:i+n,left:t}),r}(t);h(this,{target:e,contentRect:n})},w=function(e,t,n){if(this.activeObservations_=[],this.observations_=new s,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n};w.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof g(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},w.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof g(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},w.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},w.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},w.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new y(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},w.prototype.clearActive=function(){this.activeObservations_.splice(0)},w.prototype.hasActive=function(){return this.activeObservations_.length>0};var $="undefined"!=typeof WeakMap?new WeakMap:new s,x=function(e){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=m.getInstance(),n=new w(e,t,this);$.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){x.prototype[e]=function(){return(t=$.get(this))[e].apply(t,arguments);var t}});var k=void 0!==c.ResizeObserver?c.ResizeObserver:x;t.default=k}.call(t,n(7))},function(e,t,n){var a=n(2474),i=function(e){var t="",n=Object.keys(e);return n.forEach(function(i,o){var r=e[i];(function(e){return/[height|width]$/.test(e)})(i=a(i))&&"number"==typeof r&&(r+="px"),t+=!0===r?i:!1===r?"not "+i:"("+i+": "+r+")",o<n.length-1&&(t+=" and ")}),t};e.exports=function(e){var t="";return"string"==typeof e?e:e instanceof Array?(e.forEach(function(n,a){t+=i(n),a<e.length-1&&(t+=", ")}),t):i(e)}},function(e,t){e.exports=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()}},function(e,t,n){"use strict";t.__esModule=!0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return a.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return a.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=i},function(e,t,n){var a=n(2477);e.exports=new a},function(e,t,n){function a(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}var i=n(2478),o=n(688),r=o.each,s=o.isFunction,l=o.isArray;a.prototype={constructor:a,register:function(e,t,n){var a=this.queries,o=n&&this.browserIsIncapable;return a[e]||(a[e]=new i(e,o)),s(t)&&(t={match:t}),l(t)||(t=[t]),r(t,function(t){s(t)&&(t={match:t}),a[e].addHandler(t)}),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=a},function(e,t,n){function a(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}var i=n(2479),o=n(688).each;a.prototype={constuctor:a,addHandler:function(e){var t=new i(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;o(t,function(n,a){if(n.equals(e))return n.destroy(),!t.splice(a,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){o(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";o(this.handlers,function(t){t[e]()})}},e.exports=a},function(e,t){function n(e){this.options=e,!e.deferSetup&&this.setup()}n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=n},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(35))),r=a(n(287)),s=function(){return i.default.createElement("div",{className:"featured-media__item__play"},i.default.createElement(o.default,{icon:r.default,center:!0}))},l=function(e){var t=e.game,n=e.gameSlug,a=e.stateHref;return i.default.createElement("a",{className:"featured-media__infobox__game",href:a("game",{game_name:n})},t)},c=function(e){var t=e.url,n=e.name,a=e.children;return i.default.createElement("a",{href:t,"aria-label":n,className:"featured-media__item--carousel__link"},a)};c.defaultProps={children:null};var u=function(e){var t=e.name,n=e.thumbnail,a=e.game,o=e.gameSlug,r=e.stateHref;return i.default.createElement("div",{className:"featured-media__item featured-media__item--carousel",style:{backgroundImage:"url("+n+")"}},i.default.createElement(c,{url:r("detail.feed",{channel:t}),name:t},i.default.createElement(s,null)),a&&o?i.default.createElement(l,{game:a,gameSlug:o,stateHref:r}):null)};u.defaultProps={game:"",gameSlug:""},t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(67)),o=a(n(11)),r=(a(n(3)),a(n(1))),s=n(26),l=a(n(2)),c=function(e){var t=e.stateHref;return r.default.createElement("div",{className:"game game--grid game--carousel"},r.default.createElement("a",{href:t("browse.games"),className:"game__link game__link--show-more"},r.default.createElement("div",{className:"game__image"}),r.default.createElement("div",{className:"game__title"},r.default.createElement("span",{className:"game__title__show-more"},(0,s.getTranslation)("global_button_showmore")))))},u=function(e){var t=e.isLast,n=e.game,a=e.stateHref,s=e.numberFilter;return t?r.default.createElement(c,{stateHref:a}):r.default.createElement("div",{className:"game game--grid game--carousel"},r.default.createElement("a",{href:a("game",{game_name:n.category_seo_key}),className:"game__link"},r.default.createElement("div",{className:(0,i.default)(["game__image",{"has-fallback":n.hasFallback}]),style:{backgroundImage:"url("+(n.hasFallback?n.category_logo_small:l.default.imgUrl+n.category_logo_small)+")"}}),r.default.createElement("div",{className:"game__title"},r.default.createElement("div",{className:"game__title__name"},n.category_name),r.default.createElement("div",{className:"game__title__stats"},r.default.createElement("span",{className:"game__title__stats__icon game-list-carousel__game__icon"},s(n.category_viewers)),(0,o.default)(n.category_media_count)?"":r.default.createElement("span",{className:"game__title__stats__icon game__title__stats__icon--admin game-list-carousel__game__icon"},s(n.category_media_count))))))};u.defaultProps={isLast:!1},t.default=u},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=a(n(2484)),s=a(n(2)),l=a(n(2486));n(2487);var c=function(){function e(t,n,a,i,o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onCarouselPageChange=function(e,t){r.page=Math.ceil(t/r.targetBreakpoint.settings.slidesToShow)},this.getTranslation=function(e,t){return r.$translate.instant(e,t)},this.Games=t,this.$state=n,this.$translate=a,this.$filter=i,this.$window=o}return e.$inject=["Games","$state","$translate","$filter","$window"],i(e,[{key:"$onInit",value:function(){var e=this;this.games=[],this.page=0,this.loading=!0,this.Games.get({limit:this.limit,liveonly:!0}).$promise.then(function(t){if(t.categories&&t.categories.length){var n=t.categories;n.forEach(function(e){null===e.category_logo_small&&(e.category_logo_small=e.category_logo_large),e.category_logo_small||e.category_logo_large||(e.hasFallback=!0,e.category_logo_small=s.default.fallbackImages.gameBoxGridCover),e.category_viewers=parseInt(e.category_viewers,10),(0,o.isDefined)(e.category_media_count)&&(e.category_media_count=parseInt(e.category_media_count,10))}),e.games=n}}).finally(function(){e.loading=!1}),this.carouselOptions=r.default}},{key:"getPageCount",value:function(){var e=this,t=this.$window.innerWidth;return this.targetBreakpoint=null,this.carouselOptions.responsive.forEach(function(n){t<n.breakpoint&&(e.targetBreakpoint=n)}),this.targetBreakpoint||(this.targetBreakpoint={settings:{slidesToShow:this.carouselOptions.slidesToShow}}),Math.ceil(this.games.length/this.targetBreakpoint.settings.slidesToShow)}}]),e}();t.default={bindings:{limit:"<?"},templateUrl:l.default,controller:c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(2485);t.default={infinite:!1,lazyLoad:!0,slidesToShow:8,slidesToScroll:8,arrows:!0,prevArrow:a.default.createElement(i.PrevArrow,{hasDarkBackground:!0}),nextArrow:a.default.createElement(i.NextArrow,{hasDarkBackground:!0}),draggable:!1,responsive:[{breakpoint:1608,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:1306,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1004,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:659,settings:{slidesToShow:3,slidesToScroll:1,swipe:!0,swipeToSlide:!0,infinite:!0}}]}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NextArrow=t.PrevArrow=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=a(n(1)),r=(a(n(3)),a(n(67))),s=a(n(35)),l=a(n(454)),c=function(e){var t=e.type,n=e.hasDarkBackground,a=e.onClick;if(!a)return null;var i=(0,r.default)(["carousel-controls",{"carousel-controls--has-dark-background":n}]);return o.default.createElement("div",{className:i},o.default.createElement("button",{className:"carousel-controls__button carousel-controls__button--"+t,type:"button",onClick:a},o.default.createElement(s.default,{icon:l.default})))};c.defaultProps={hasDarkBackground:!1,onClick:function(){}};var u=function(e){return o.default.createElement(c,i({},e,{type:"next"}))};u.defaultProps={hasDarkBackground:!1,onClick:function(){}};var d=function(e){return o.default.createElement(c,i({},e,{type:"previous"}))};d.defaultProps={hasDarkBackground:!1,onClick:function(){}},t.PrevArrow=d,t.NextArrow=u},function(e,t,n){var a="/src/js/carousel/angular/components/game-carousel.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-class="{\'game-list-carousel--is-loading\': $ctrl.loading}" class=game-list-carousel> <div class="media-list-title media-list-title--game"> <h1> <a ui-sref=browse.games> {{::\'global_text_games_played-now\' | translate}} </a> </h1> <smash-carousel-pagination ng-if="!$ctrl.loading && $ctrl.getPageCount() > 1" data-count=$ctrl.getPageCount() data-active-index=$ctrl.page data-align="\'right\'" data-color="\'light\'"></smash-carousel-pagination> </div> <div class=game-list-carousel__wrapper> <div class=game-list-carousel__container> <carousel-react ng-if=$ctrl.games.length data-medias=$ctrl.games data-on-page-change=$ctrl.onCarouselPageChange data-state-href=$ctrl.$state.href data-number-filter="$ctrl.$filter(\'number\')" data-carousel-options=$ctrl.carouselOptions></carousel-react> </div> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2489));t.default={bindings:{media:"<",hostedMedia:"<"},templateUrl:a.default,controller:function(){}}},function(e,t,n){var a="/src/js/featured/components/featured-info-box.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=featured-media__infobox__content> <a class=featured-media__infobox__status ui-sref="detail.feed({ channel: $ctrl.media.media_name })" ng-bind-html="$ctrl.media.media_status | hashtagFilter:$ctrl.media"></a> <a class=featured-media__infobox__name ui-sref="detail.feed({ channel: $ctrl.media.media_name })"> <div class=featured-media__infobox__logo ui-sref="detail.feed({ channel: $ctrl.media.media_name })" back-img={{::$root.config.imgUrl}}{{$ctrl.media.user_logo_small}} back-img-fallback={{::$root.config.fallbackImages.userLogoSmall}}></div> {{$ctrl.media.media_display_name}} <verified-badge data-partner-type=$ctrl.media.partner_type></verified-badge> </a> </div> <a class=featured-media__infobox__game ng-if=$ctrl.media.category_name ui-sref="game({game_name: $ctrl.media.category_seo_key})"> {{$ctrl.media.category_name}} </a> ')}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2491));n(2492);var o=function(){function e(t,n,a,i,o,r,s,l,c){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onCarouselPageChange=function(e,t){u.page=t,u.setActive(u.medias[t])},Object.assign(this,{HtbxModal:t,loggedUser:n,MediaFeatured:a,MediaFeaturedList:i,$uibPosition:o,$state:r,$window:s,$element:l,$timeout:c})}return e.$inject=["HtbxModal","loggedUser","MediaFeatured","MediaFeaturedList","$uibPosition","$state","$window","$element","$timeout"],a(e,[{key:"$onInit",value:function(){var e=this;this.page=0,this.activeMedia={media_id:0},this.medias=[{media_id:0},{media_id:1},{media_id:2},{media_id:3},{media_id:4}],this.MediaFeaturedList.get({limit:5,liveOnly:!0}).$promise.then(function(t){e.medias=t.media_featured_list,e.setActive(e.medias[0])})}},{key:"setActive",value:function(e){this.activeMedia=e}},{key:"noPropagation",value:function(e){e.stopPropagation()}},{key:"removeFeatured",value:function(e){var t=this,n="Un-Feature "+e.media_user_name+"?";new this.HtbxModal(n,"",[{result:!1,label:"Abort"},{result:!0,label:"Confirm",variant:"warning"}]).open().then(function(n){n&&t.MediaFeatured.put({media_id:e.media_id,weight:0,forced:0,countries:"",featured:!1,authToken:t.loggedUser.getToken()})})}},{key:"goToDetailPage",value:function(){this.activeMedia.media_id&&this.$state.go("detail.feed",{channel:this.activeMedia.media_name})}}]),e}();t.default={bindings:{},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/featured/components/featured-media.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<device-check show-if-mobile=true show-if-tablet=false show-if-desktop=false> <div class=featured-media--mobile> <carousel-react data-medias=$ctrl.medias data-on-page-change=$ctrl.onCarouselPageChange data-state-href=$ctrl.$state.href></carousel-react> <smash-carousel-pagination class=featured-media__carousel-pagination data-count=$ctrl.medias.length data-active-index=$ctrl.page data-align="\'left\'" data-color="\'light\'"></smash-carousel-pagination> <mobile-infobox media=$ctrl.activeMedia></mobile-infobox> </div> </device-check> <device-check show-if-mobile=false show-if-tablet=true show-if-desktop=true> <section class=featured-media> <div class=featured-media__aside> <div class=featured-media__item back-img={{::$root.config.imgUrl}}{{media.media_thumbnail_large}} back-img-fallback={{::$root.config.fallbackImages.liveMedia}} ng-repeat="media in $ctrl.medias | filter: { media_id: \'!\' + $ctrl.activeMedia.media_id } | limitTo:2:2 track by media.media_id" ng-click=$ctrl.setActive(media)> <featured-info-box ng-if=media.media_user_name media=media class=featured-media__infobox ng-click=$ctrl.noPropagation($event)></featured-info-box> </div> </div> <div class=featured-media__main> <div class=featured-media__item back-img={{::$root.config.imgUrl}}{{$ctrl.activeMedia.media_thumbnail_large}} back-img-fallback={{::$root.config.fallbackImages.liveMedia}} ng-click=$ctrl.goToDetailPage()> <span ng-if=$ctrl.activeMedia.media_id> <media-player media-id=$ctrl.activeMedia.media_id media-type=live simple-controls=true></media-player> <featured-info-box media=$ctrl.activeMedia class=featured-media__infobox></featured-info-box> <div ng-if=$ctrl.loggedUser.isSuperAdmin() class=featured-media__unfeature-button ng-click=$ctrl.removeFeatured($ctrl.activeMedia) uib-tooltip="Unfeature FOREVER" tooltip-placement="auto left"> <smash-icon icon=trash size=24 center=true></smash-icon> </div> </span> </div> </div> <div class=featured-media__aside> <div class=featured-media__item back-img={{::$root.config.imgUrl}}{{::media.media_thumbnail_large}} back-img-fallback={{::$root.config.fallbackImages.liveMedia}} ng-repeat="media in $ctrl.medias | filter: { media_id: \'!\' + $ctrl.activeMedia.media_id } | limitTo:2:0 track by media.media_id" ng-click=$ctrl.setActive(media)> <featured-info-box ng-if=media.media_user_name media=media class=featured-media__infobox ng-click=$ctrl.noPropagation($event)></featured-info-box> </div> </div> </section> </device-check> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2494));n(2495),t.default={bindings:{media:"<?"},templateUrl:a.default}},function(e,t,n){var a="/src/js/featured/components/mobile-infobox.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=mobile-infobox> <span ng-if=!$ctrl.media.media_user_name> <span class="mobile-infobox__status mobile-infobox__status--mock"></span> <span class="mobile-infobox__name mobile-infobox__name--mock"> <div class=mobile-infobox__logo back-img={{::$root.config.fallbackImages.userLogoSmall}}></div> <span class=mobile-infobox__name__text></span> </span> </span> <span ng-if=$ctrl.media.media_user_name> <span class=mobile-infobox__status ng-bind-html="$ctrl.media.media_status | hashtagFilter:$ctrl.media"></span> <a class=mobile-infobox__name ui-sref="detail.feed({ channel: $ctrl.media.media_name })"> <div class=mobile-infobox__logo ui-sref="detail.feed({ channel: $ctrl.media.media_name })" back-img={{::$root.config.imgUrl}}{{$ctrl.media.user_logo_small}} back-img-fallback={{::$root.config.fallbackImages.userLogoSmall}}></div> <span>{{$ctrl.media.media_display_name}}</span> <verified-badge data-partner-type=$ctrl.media.partner_type></verified-badge> </a> </span> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2497)),r=a(n(2498)),s=a(n(2499)),l=a(n(2500)),c=a(n(2501)),u=a(n(2502)),d=a(n(2503)),f=a(n(2504)),p=a(n(2505)),m=a(n(2506)),h=a(n(2507)),g=a(n(2508));t.default=i.default.module("htbx.filters",[]).filter("truncate",o.default).filter("range",r.default).filter("nl2br",s.default).filter("timeAgo",l.default).filter("toMoney",c.default).filter("toDate",u.default).filter("hexToRgb",d.default).filter("propsFilter",f.default).filter("featuredCountryFilter",p.default).filter("abbreviate",m.default).filter("startFrom",h.default).filter("domain",g.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t,n){return e?(n=n||"",e.length<=t||e.length-n.length<=t?e:String(e).substring(0,t-n.length)+n):""}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t,n){t=parseInt(t,10),n=parseInt(n,10);for(var a=t;a<n;a++)e.push(a);return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(""+e).replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(t?"<br />":"<br>")+"$2");return String(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){return a.default.utc(e).fromNow()}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(5))},function(e,t,n){"use strict";function a(e){return function(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="EUR";return isNaN(t)||(0,i.isUndefined)(t)||function(t,n){return t?"0.00"===e("number")(n,2):0===parseInt(n,10)}(a,t)?"":(n&&(o=n),'<span class="filter currency">'+o+"</span>"+e("number")(t,2))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(0);a.$inject=["$filter"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){return t?(0,a.default)(e).format("LLLL"):"en"===a.default.locale()?(0,a.default)(e).format("MMM Do, YYYY"):(0,a.default)(e).format("ll")}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(5))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){var t=parseInt(e,16);return(t>>16&255)+","+(t>>8&255)+","+(255&t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=[];return angular.isArray(e)?e.forEach(function(e){var a=!1,i=void 0,o=Object.keys(t);for(i=0;i<o.length;i++){var r=o[i],s=t[r].toLowerCase();if(-1!==e[r].toString().toLowerCase().indexOf(s)){a=!0;break}}a&&n.push(e)}):n=e,n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){if(!e)return[];var n=[],a=t.split(",");return e.forEach(function(e){a.forEach(function(t){-1!==e.media_featured_countries.indexOf(t)&&-1===n.indexOf(e)&&n.push(e)})}),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t,n,a){var i=0,o=0;switch(a){case"M":i=e/1e6;break;case"k":i=e/1e3;break;case"":i=e}return!1!==t&&new RegExp("\\.\\d{"+(t+1)+",}$").test(""+i)&&(o=i,i=i.toFixed(t)),!1!==n&&(i=Number(i).toFixed(n)),!1===n&&i.length>4&&(i=o.toFixed(0)),(i=parseFloat(i))+a}return function(t,n,a,i){if(t=Number(t),!1!==(i=i||!1))return e(t,n,a,i);var o=void 0;return o=t>=1e6?"M":t>=1e3?"k":"",e(t,n,a,o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){return e?(t=+t,e.slice(t)):[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=e,i=[],o=e.match(/:\/\/(.[^\/]+)/);return o&&!(0,a.isUndefined)(o[1])&&(n=o[1]),t&&(i=n.split(".")),i.length&&"www"===i[0]&&(n=i.slice(1).join(".")),n}};var a=n(0)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2510)),r=a(n(2511)),s=a(n(2512)),l=a(n(2513)),c=a(n(2514)),u=a(n(2515)),d=a(n(2520));t.default=i.default.module("htbx.follow",[]).factory("Follow",o.default).factory("FollowerList",r.default).factory("FollowerStats",s.default).factory("FollowingStore",l.default).factory("Following",c.default).component("followButton",u.default).component("followPopover",d.default).name},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/follow",{authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1},add:{method:"POST",params:{},isArray:!1},delete:{method:"DELETE",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/followers/user/:user_name",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/followerstats/:user_name",{user_name:"@user_name"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e,t){var n={},a={};return n.get=function(n,o,r){var s={follow_id:n.follow_id},l=i.default.toJson(s).hashCode(),c=t.defer(),u=c.promise;return i.default.isDefined(a[l])&&!n.nocache?a[l]:(a[l]=u,e.get(n,function(e){i.default.isFunction(o)&&o(e),c.resolve(e)},function(e){i.default.isFunction(r)&&r(e),c.reject(e)}),u)},n.wipe=function(e){var t={follow_id:e.follow_id},n=i.default.toJson(t).hashCode();i.default.isDefined(a[n])&&delete a[n]},n}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0));a.$inject=["Following","$q"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/following/:type/:follow_id",{type:"@type",follow_id:"@follow_id",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1},getAll:{method:"GET",params:{},isArray:!1},update:{method:"PUT",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=a(n(2516)),s=a(n(2517)),l=a(n(2518));n(2519);var c=function(){function e(t,n,a,i,o,r,s,l,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$element:t,$scope:n,$rootScope:a,Follow:i,FollowingStore:o,Analytics:r,Following:s,loggedUser:l,$timeout:c}),this.mouseEntered=!1,this.locked=!1,this.lockTimeoutComplete=!0,this.lockTimeoutInterval=null}return e.$inject=["$element","$scope","$rootScope","Follow","FollowingStore","Analytics","Following","loggedUser","$timeout"],i(e,[{key:"$onInit",value:function(){var e=this;this.following={},this.isFollowing=!1,this.followCount=parseInt(this.followCount,10)||0,this.followType=this.followType||"user",this.getFollowing(),(0,o.isUndefined)(this.variant)&&(this.variant="default"),this.$scope.$on("followingUpdate",function(t,n){n.id===e.followId&&(e.isFollowing=n.value)})}},{key:"$onDestroy",value:function(){this.lockTimeoutInterval&&(this.lockTimeoutComplete=!0,this.$timeout.cancel(this.lockTimeoutInterval))}},{key:"getFollowing",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.FollowingStore.get({type:this.followType,follow_id:this.followId,authToken:this.loggedUser.getToken(),user_name:this.loggedUser.getName(),nocache:t}).then(function(t){e.following=t.following,t.following&&t.following.follower_user_id&&(e.isFollowing=!0),t.following&&1===t.following.follower_notify&&(e.following.follower_notify=!0),t.following&&0===t.following.follower_notify&&(e.following.follower_notify=!1)}).finally(function(){e.loading=!1})}},{key:"follow",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.followId&&("primary"===this.variant&&t&&(this.lockTimeoutComplete=!1,this.$timeout(function(){e.locked=!0}),this.lockTimeoutInterval=this.$timeout(function(){e.lockTimeoutComplete=!0,e.isFollowingNew=!1,e.mouseEntered||(e.locked=!1)},800)),this.isFollowing=t,this.isFollowingNew=t,this.followCount=t?this.followCount+1:this.followCount-1,this.loading=!0,this.Follow[t?"add":"delete"]({type:this.followType,follow_id:this.followId,authToken:this.loggedUser.getToken()}).$promise.then(function(){e.Analytics.trackEvent("user",t?"follow":"unfollow")}).catch(function(){e.isFollowing=!t,e.isFollowingNew=!t,e.followCount=t?e.followCount-1:e.followCount+1}).finally(function(){e.getFollowing(!0),e.$rootScope.$broadcast("followingUpdate",{id:e.followId,value:e.isFollowing})}))}},{key:"unFollow",value:function(){this.follow(!1)}},{key:"updateFollowing",value:function(){var e=this.following;e.follower_notify=e.follower_notify?1:0,this.Following.update({type:this.followType,follow_id:this.followId,authToken:this.loggedUser.getToken(),user_name:this.loggedUser.getName(),following:[e]})}},{key:"onMouseEnter",value:function(){this.mouseEntered=!0}},{key:"onMouseLeave",value:function(){this.mouseEntered=!1,this.locked&&this.lockTimeoutComplete&&(this.locked=!1)}}]),e}();t.default={bindings:{followId:"<",followType:"<",followName:"<",variant:"@?",followCount:"<"},templateUrl:["$attrs",function(e){"ngInject";var t=void 0;switch(e.variant){case"primary":t=s.default;break;case"compact":t=l.default;break;default:t=r.default}return t}],controller:c}},function(e,t,n){var a="/src/js/follow/components/follow-button.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=\"follow-button follow-button--variant-default\" ng-class=\"{\n        'follow-button--activating': $ctrl.isFollowingNew,\n    }\"> <htbx-authorize permission=follow_channel signin-purpose=\"{{:: 'global_button_follow' | translate }}\" class=follow-button-permission-switch> <unauthenticated once-signed-in=$ctrl.addFollow()> <button type=button tooltip-placement=\"auto top\" class=follow-button__button uib-tooltip=\"{{:: 'global_tooltip_login-to-follow' | translate }}\" tooltip-append-to-body=true> <span class=follow-button__button__icon> <smash-icon icon=heart-outline></smash-icon> </span> <span class=follow-button__button__counter> {{$ctrl.followCount | abbreviate:2:false:false}} </span> <span class=follow-button__button__text> {{'global_button_follow' | translate}} </span> </button> </unauthenticated> <access-granted> <button ng-if=$ctrl.isFollowing type=button class=follow-button__button uib-tooltip=\"{{$ctrl.followCount | number}} {{'global_text_follower-followers' | translate:{ COUNT: $ctrl.followCount }:'messageformat'}}\" tooltip-placement=\"auto top\" tooltip-append-to-body=true generic-popover gp-width=220 gp-height=200 gp-position=top gp-template=\"<follow-popover follow-type='$ctrl.followType' follow-id='$ctrl.followId' follow-name='$ctrl.followName' on-unfollow='$ctrl.unFollow()'></follow-popover>\" gp-on=click> <span class=follow-button__button__icon> <span ng-if=$ctrl.isFollowingNew class=icon-follow-activate></span> <smash-icon ng-if=!$ctrl.isFollowingNew icon=heart-filled></smash-icon> </span> <span class=follow-button__button__counter> {{$ctrl.followCount | abbreviate:2:false:false}} </span> <span class=follow-button__button__text> {{'global_text_following' | translate}} </span> </button> <button ng-if=!$ctrl.isFollowing ng-click=$ctrl.follow() type=button class=follow-button__button uib-tooltip=\"{{$ctrl.followCount | number}} {{'global_text_follower-followers' | translate:{ COUNT: $ctrl.followCount }:'messageformat'}}\" tooltip-placement=\"auto top\" tooltip-append-to-body=true> <span class=follow-button__button__icon> <span class=icon-follow-activate></span> </span> <span class=follow-button__button__counter> {{$ctrl.followCount | abbreviate:2:false:false}} </span> <span class=follow-button__button__text> {{'global_button_follow' | translate}} </span> </button> </access-granted> </htbx-authorize> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/follow/components/follow-button-primary.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-class=\"[\n        'follow-button',\n        'follow-button--variant-primary',\n        {\n            'follow-button--activating': $ctrl.isFollowingNew,\n            'follow-button--is-locked': $ctrl.locked,\n        },\n    ]\"> <htbx-authorize permission=follow_channel signin-purpose=\"{{:: 'global_button_follow' | translate }}\" class=follow-button-permission-switch> <unauthenticated once-signed-in=$ctrl.addFollow()> <button type=button tooltip-placement=\"auto top\" uib-tooltip=\"{{:: 'global_tooltip_login-to-follow' | translate }}\" tooltip-append-to-body=true class=follow-button__button ng-disabled=$ctrl.loading> <span class=follow-button__inner> <span class=follow-button__button__icon> <smash-icon icon=heart-outline></smash-icon> </span> <span class=follow-button__button__counter> {{$ctrl.followCount | abbreviate:2:false:false}} </span> <span class=follow-button__button__text> {{'global_button_follow' | translate}} </span> </span> </button> </unauthenticated> <access-granted> <button ng-if=$ctrl.isFollowing ng-mouseleave=$ctrl.onMouseLeave() type=button generic-popover gp-width=220 gp-height=200 gp-position=top gp-template=\"<follow-popover follow-type='$ctrl.followType' follow-id='$ctrl.followId' follow-name='$ctrl.followName' on-unfollow='$ctrl.unFollow()'></follow-popover>\" gp-on=click class=follow-button__button ng-disabled=$ctrl.loading> <span class=follow-button__inner> <span class=follow-button__button__icon> <span ng-if=$ctrl.isFollowingNew class=icon-follow-activate></span> <smash-icon ng-if=!$ctrl.isFollowingNew icon=heart-filled></smash-icon> </span> <span class=follow-button__button__counter> {{$ctrl.followCount | abbreviate:2:false:false}} </span> <span class=follow-button__button__text> {{'global_text_following' | translate}} </span> </span> </button> <button ng-if=!$ctrl.isFollowing ng-click=$ctrl.follow() ng-mouseenter=$ctrl.onMouseEnter() ng-mouseleave=$ctrl.onMouseLeave() type=button class=follow-button__button ng-disabled=$ctrl.loading> <span class=follow-button__inner> <span class=follow-button__button__icon> <span class=icon-follow-activate></span> </span> <span class=follow-button__button__counter> {{$ctrl.followCount | abbreviate:2:false:false}} </span> <span class=follow-button__button__text> {{'global_button_follow' | translate}} </span> </span> </button> </access-granted> </htbx-authorize> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/follow/components/follow-button-compact.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<span class="follow-button follow-button--variant-compact" ng-class="{\n        \'follow-button--activating\': $ctrl.isFollowingNew,\n    }"> <htbx-authorize permission=follow_channel signin-purpose="{{:: \'global_button_follow\' | translate }}" class=follow-button-permission-switch> <unauthenticated once-signed-in=$ctrl.addFollow()> <button type=button class=follow-button__button tooltip-placement="auto top" uib-tooltip="{{:: \'global_tooltip_login-to-follow\' | translate }}"> <span class=follow-button__button__icon> <smash-icon icon=heart-outline></smash-icon> </span> <span class=follow-button__button__counter> {{$ctrl.followCount | abbreviate:2:false:false}} </span> <span class=follow-button__button__text> {{\'global_button_follow\' | translate}} </span> </button> </unauthenticated> <access-granted> <button type=button ng-if=!$ctrl.isFollowing class=follow-button__button ng-click=$ctrl.follow() tooltip-placement="auto top" uib-tooltip="{{:: \'global_tooltip_click-to-follow\' | translate }}"> <span class=follow-button__button__icon> <span class=icon-follow-activate></span> </span> <span class=follow-button__button__counter> {{$ctrl.followCount | abbreviate:2:false:false}} </span> <span class=follow-button__button__text> {{\'global_button_follow\' | translate}} </span> </button> <button type=button ng-if=$ctrl.isFollowing class=follow-button__button ng-click=$ctrl.unFollow() tooltip-placement="auto top" uib-tooltip="{{:: \'global_text_you-follow-username\' | translate:{username : $ctrl.followName} }}"> <span class=follow-button__button__icon> <span ng-if=$ctrl.isFollowingNew class=icon-follow-activate></span> <smash-icon ng-if=!$ctrl.isFollowingNew class=follow-button--compact--filled icon=heart-filled></smash-icon> </span> <span class=follow-button__button__counter> {{$ctrl.followCount | abbreviate:2:false:false}} </span> <span class=follow-button__button__text> {{\'global_text_following\' | translate}} </span> </button> </access-granted> </htbx-authorize> </span> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2521));n(2522);var o=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$rootScope:t,FollowingStore:n,Following:a,loggedUser:i})}return e.$inject=["$rootScope","FollowingStore","Following","loggedUser"],a(e,[{key:"$onInit",value:function(){var e=this;this.following=null,this.isFollowing=!1,this.notify=!1,this.loading=!0,this.FollowingStore.get({type:this.followType,follow_id:this.followId,authToken:this.loggedUser.getToken(),user_name:this.loggedUser.getName(),nocache:!0}).then(function(t){e.following=t.following,e.isFollowing=t.following&&t.following.follower_user_id,e.following.follower_notify=t.following&&1===t.following.follower_notify}).finally(function(){e.loading=!1})}},{key:"updateFollowing",value:function(){var e=this.following;e.follower_notify=e.follower_notify?1:0,this.Following.update({type:this.followType,follow_id:this.followId,authToken:this.loggedUser.getToken(),user_name:this.loggedUser.getName(),following:[e]})}},{key:"unFollow",value:function(){this.onUnfollow&&this.onUnfollow()}},{key:"closePopover",value:function(){this.$rootScope.$broadcast("popover:close")}}]),e}();t.default={bindings:{followId:"<",followType:"<",followName:"<",onUnfollow:"&"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/follow/components/follow-popover.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-click=$event.stopPropagation() class=follow-popover> <div class=follow-popover__header> {{::\'global_text_you-follow-username\' | translate: { username: $ctrl.followName } }} </div> <ul class=navigation> <li class=navigation__item> <span title="{{::\'view_popover-follow_text_recieve-email-when\' | translate: { username: $ctrl.followName } }}" class="navigation__item__link navigation__item__link--none"> <toggle-checkbox class=follow-popover__toggle ng-model=$ctrl.following.follower_notify ng-change=$ctrl.updateFollowing() useint=true type=checkbox data-is-disabled=$ctrl.loading data-label="{{:: \'global_header_notifications\' | translate }}"></toggle-checkbox> </span> </li> <li class=navigation__item> <span class="navigation__item__link navigation__item__link--none" ng-click="$ctrl.unFollow(); $ctrl.closePopover()"> {{::\'global_button_unfollow\' | translate}} </span> </li> </ul> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(158)),r=a(n(2524));t.default=i.default.module("htbx.gameList",[o.default]).component("htbxGameList",r.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(0)),r=a(n(43)),s=a(n(2525)),l=a(n(2526)),c=a(n(2527)),u=133,d=function(){function e(t,n,a,i,o,r,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$element:t,$scope:n,Games:a,$stateParams:i,$timeout:o,$window:r,Analytics:s}),this.games=[],this.isAnimating=!1}return e.$inject=["$element","$scope","Games","$stateParams","$timeout","$window","Analytics"],i(e,[{key:"$onInit",value:function(){var e=this;this.getGames(),this.$scope.$on("$stateChangeSuccess",function(){e.currentGameName=e.$stateParams.game_name,e.getGames()}),this.$scope.$on("WindowResize",(0,r.default)(function(){"carousel"===e.type&&e.calculateSlider()}),500)}},{key:"$onChanges",value:function(e){var t=this;e.team&&e.team.currentValue&&this.filterTeam(e.team.currentValue),(e.teamName||e.search)&&(this.games=[],this.searchTimeout&&this.$timeout.cancel(this.searchTimeout),this.search&&(this.searchTimeout=this.$timeout(function(){t.getGames(),t.Analytics.trackEvent("games","searching",t.search.currentValue)},300)))}},{key:"getGames",value:function(){function e(e){return this.percentage=u/this.virtualSliderWidth*100,e||(e=1===this.slidesDisplayed?1:this.slidesDisplayed>this.slidesToBeShown?this.slidesToBeShown:this.slidesDisplayed),e=Math.floor(e),this.percentage*e}var t=this,n={filter:this.filter,limit:this.limit,liveonly:this.liveonly};this.search&&(n.q=this.search),this.Games.get(n,function(n){t.loading=!1,n.categories&&n.categories.length&&(t.games=n.categories),t.games.forEach(function(e){null===e.category_logo_small&&(e.category_logo_small=e.category_logo_large),e.category_logo_small&&!e.category_logo_large&&(e.category_logo_large=e.category_logo_small)}),t.limit||(t.limit=n.categories.length),o.default.isDefined(t.publicLength)&&(t.publicLength=t.games.length),"carousel"===t.type&&(t.$timeout(function(){return t.calculateSlider()}),t.moveSlide=function(n){t.isAnimating||(t.isAnimating=!0,t.$timeout(function(){t.isAnimating=!1},t.$window.phonecheck()?100:600),"prev"===n?t.carouselPage>1&&(0===t.slidesToBeShown?t.slidesToBeShown+=t.lastMove:t.slidesToBeShown+=Math.floor(t.slidesDisplayed),t.translation+=e.call(t),t.carouselPage-=1):"next"===n&&t.carouselPage<t.pages.length&&(t.translation-=e.call(t),t.lastMove=t.slidesDisplayed>t.slidesToBeShown?t.slidesToBeShown:Math.floor(t.slidesDisplayed),t.slidesToBeShown-=t.lastMove,t.carouselPage+=1),t.Analytics.trackEvent("Carouselclicked_games",n))})})}},{key:"calculateSlider",value:function(){this.games&&this.games.length&&(this.translation=0,this.carouselPage=1,this.sliderWidth=this.$element.find(".game-list-carousel").width(),this.slidesDisplayed=this.sliderWidth/u,this.virtualSliderWidth=u*this.games.length,this.slidesToBeShown=this.games.length-Math.floor(this.slidesDisplayed),this.createPages())}},{key:"selectGame",value:function(e){this.Analytics.trackEvent("user","gameClicked",e.category_name)}},{key:"createPages",value:function(){var e=this;this.$timeout(function(){var t=Math.ceil(e.games.length/e.slidesDisplayed);e.pages=[];for(var n=0;n<t;n++)e.pages.push(n)})}}]),e}();t.default={bindings:{search:"<?",filter:"@",limit:"@",publicLength:"=",liveonly:"@",type:"@",gutter:"@?"},templateUrl:["$attrs",function(e){"ngInject";var t=void 0;switch(e.type){case"list":t=l.default;break;case"grid":t=c.default;break;default:t=s.default}return t}],controller:d}},function(e,t,n){var a="/src/js/game-list/views/gameList_all.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<ul class="game-list game-thumbs grid cf"> <li class=game-list__game ng-repeat="game in $ctrl.games"> <game game=game></game> </li> </ul> ')}]),e.exports=a},function(e,t,n){var a="/src/js/game-list/views/gameList_list.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-if="!$ctrl.loading && $ctrl.games.length === 0" class=user-list__no-content> {{::\'global_header_no-games\'|translate}} </div> <ul class="game-list game-thumbs list"> <li ng-repeat="game in $ctrl.games" class=cf ui-sref="game({\n\t\t    game_name: game.category_seo_key,\n\t\t})" ng-class="{\n\t\t    \'active\': currentGameName == game.category_seo_key,\n\t\t}" ng-click=selectGame(game)> <game game=game type=list></game> </li> </ul> ')}]),e.exports=a},function(e,t,n){var a="/src/js/game-list/views/gameList_grid.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<ul class="game-list game-thumbs grid"> <li class=game-list__game ng-repeat="game in $ctrl.games track by $index" ng-class="{\n\t\t    \'active\': currentGameName == game.category_seo_key,\n\t\t}" ng-click=selectGame(game)> <game game=game></game> </li> </ul> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=r.ROUTING_CONFIG.accessLevels;e.state("game",{url:"/games/:game_name",views:{viewNav:{template:"<htbx-main-nav></htbx-main-nav>"},viewMain:{template:"<htbx-game-page></htbx-game-page>"}},access:n.anon,section:"game"}),t.when("/games",["$state","$match",function(e,t){e.go("browse.games",t)}]),t.when("/embed/game/:game",["$state","$match","EmbedFilter","$log",function(e,t,n,a){n.get({filter:t.game},function(t){var n=t.channel;n&&e.go("embed",{channel:n},{location:"replace"})},a.error)}])}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=n(15),s=a(n(2529)),l=a(n(2530)),c=a(n(2531)),u=a(n(2532)),d=a(n(2533)),f=a(n(2536)),p=a(n(2539));i.$inject=["$stateProvider","$urlRouterProvider"],t.default=o.default.module("htbx.game",[]).config(i).factory("Game",s.default).factory("Games",l.default).factory("GameSearch",c.default).factory("EmbedFilter",u.default).component("game",d.default).component("htbxGamePage",f.default).directive("gamePageHeader",["reactDirective",function(e){return e(p.default,["children","cover","hero","hasCustomCover"])}]).name},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/game/:game_name",{game_name:"@game_name",authToken:"@authToken"},{get:{method:"GET",params:t,isArray:!1},create:{method:"POST",params:t,isArray:!1,url:i.default.apiUri+"/game"},update:{method:"PUT",params:t,isArray:!1},delete:{method:"DELETE",isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e,t){var n={};return e(i.default.apiUri+"/games/:filter",{category_id:"@category_id",filter:"@filter",authToken:t.getToken()},{get:{method:"GET",params:{},isArray:!1},create:{method:"POST",params:n},update:{method:"PUT",params:n,isArray:!0}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource","loggedUser"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/search/games",{q:"@q"},{get:{method:"GET",params:{}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/embed/:filter",{filter:"@filter"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2534));n(2535);var i=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loggedUser=t,this.type=this.type||"grid"};i.$inject=["loggedUser"],t.default={bindings:{game:"<",type:"@?",isShowMore:"<?"},templateUrl:a.default,controller:i}},function(e,t,n){var a="/src/js/games/components/game.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-class="[\'game\', \'game--{{$ctrl.type}}\']"> <a ng-if=!$ctrl.isShowMore ui-sref="game({game_name: $ctrl.game.category_seo_key})" class=game__link> <div class=game__image lazy-load-fallback={{::$root.config.fallbackImages.gameBoxGridCover}} lazy-load={{::$root.config.imgUrl}}{{::$ctrl.game.category_logo_small}}></div> <div class=game__title> <div class=game__title__name> {{::$ctrl.game.category_name}} </div> <div class=game__title__stats> <span class="game__title__stats__icon game-list-carousel__game__icon"> <live-dot></live-dot> {{$ctrl.game.category_viewers | number}} </span> <span ng-if=$ctrl.loggedUser.isSuperAdmin() class="game__title__stats__icon game__title__stats__icon--admin game-list-carousel__game__icon"> <live-dot data-admin=true></live-dot> {{$ctrl.game.category_media_count | number}} </span> </div> </div> </a> <a ng-if=$ctrl.isShowMore ui-sref=browse.games class="game__link game__link--show-more"> <div class=game__image></div> <div class=game__title> <span class=game__title__show-more> {{::\'global_button_showmore\' | translate}} </span> </div> </a> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2537));n(2538);var o=function(){function e(t,n,a,i,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$location:t,$stateParams:n,Game:a,$rootScope:i,$translate:o,pageTitle:r})}return e.$inject=["$location","$stateParams","Game","$rootScope","$translate","pageTitle"],a(e,[{key:"$onInit",value:function(){var e=this,t={game_name:this.$stateParams.game_name,seo:"true"};this.loading=!0,this.game=null,this.customBackground=!1,this.Game.get(t).$promise.then(function(t){e.game=t.category,null===e.game.category_logo_small?e.game.category_logo_small=e.game.category_logo_large:e.customBackground=!0,e.game.category_logo_small&&!e.game.category_logo_large&&(e.game.category_logo_large=e.game.category_logo_small,e.customBackground=!1),e.game&&e.game.category_name&&e.pageTitle.set(e.game.category_name),e.$rootScope.meta={},e.$rootScope.meta.title=t.category?t.category.category_name:"",e.$rootScope.meta.url=e.$location.absUrl(),e.$rootScope.meta.image=t.category?t.category.category_logo_large:"",e.$rootScope.meta.description=e.$translate.instant("global_text_livestream_about")+(t.category?t.category.category_name:e.$translate.instant("global_text_all-games"))}).finally(function(){e.loading=!1})}}]),e}();t.default={bindings:{},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/games/components/game-page.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <htbx-layout data-page=game data-variant=full> <htbx-layout-content> <section ng-if=$ctrl.game> <game-page-header children=::$ctrl.game.category_name cover=::$ctrl.game.category_logo_small hero=::$ctrl.game.category_logo_large has-custom-cover=$ctrl.customBackground></game-page-header> <div ng-if="!$ctrl.loading && $ctrl.game" class=game-page__content> <media-list-grid data-title="{{::\'global_header_live-now\' | translate}}" lines=3 show-more=true filter="{gameId: $ctrl.game.category_id}"></media-list-grid> <media-list-grid data-title="{{::\'global_text_videos\' | translate}}" type=video lines=3 show-more=true filter="{gameId: $ctrl.game.category_id}" order-by="\'recent\'"></media-list-grid> </div> </section> </htbx-layout-content> </htbx-layout> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2540));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(2))),r=n(2541),s=function(e){var t=e.cover,n=e.hero,a=e.hasCustomCover,s=e.children,l=!0;return s&&(l=!1),n||(a=!1),i.default.createElement(r.StyledComponent,{loading:l},i.default.createElement(r.StyledWrapper,null,i.default.createElement(r.StyledTitle,{loading:l},s),i.default.createElement(r.StyledCover,{loading:l},l||!t?null:i.default.createElement(r.StyledCoverImage,{src:o.default.imgUrl+t}))),i.default.createElement(r.StyledBackgroundImage,{loading:l,image:l||!n?null:o.default.imgUrl+n,custom:!l&&a}))};s.defaultProps={cover:"",hero:"",hasCustomCover:!1,children:""},t.default=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledCoverImage=t.StyledCover=t.StyledTitle=t.StyledBackgroundImage=t.StyledWrapper=t.StyledComponent=void 0;var o=i(["\n        height: 300px;\n    "],["\n        height: 300px;\n    "]),r=i(["\n        height: 160px;\n        margin-bottom: 10px;\n    "],["\n        height: 160px;\n        margin-bottom: 10px;\n    "]),s=i(["\n        bottom: 15px;\n        left: ","px;\n        font-size: 36px;\n    "],["\n        bottom: 15px;\n        left: ","px;\n        font-size: 36px;\n    "]),l=i(["\n        left: ","px;\n        font-size: 26px;\n        white-space: normal;\n    "],["\n        left: ","px;\n        font-size: 26px;\n        white-space: normal;\n    "]),c=i(["\n        bottom: -10px;\n        width: 100px;\n    "],["\n        bottom: -10px;\n        width: 100px;\n    "]),u=i(["\n        display: none;\n    "],["\n        display: none;\n    "]),d=a(n(3)),f=a(n(10)),p=n(180),m=n(20),h=n(689),g=n(40),_=a(n(2)),v=(0,p.rgba)("#000",.8),b=t.StyledComponent=f.default.div.withConfig({displayName:"GamePageHeaderstyles__StyledComponent",componentId:"qrdfqo-0"})(["position:relative;height:400px;margin-bottom:50px;"," "," ",""],function(e){return e.loading?null:"\n        box-shadow: inset 0 -200px 240px -130px "+v+";\n    "},g.mediaQueries.lessThan("mobile")(o),g.mediaQueries.lessThan("phone")(r));b.propTypes={loading:d.default.bool},b.defaultProps={loading:!0},t.StyledWrapper=f.default.div.withConfig({displayName:"GamePageHeaderstyles__StyledWrapper",componentId:"qrdfqo-1"})(["height:100%;position:relative;max-width:1500px;margin:0 auto;"]);var y=t.StyledBackgroundImage=f.default.div.attrs({style:function(e){var t=e.image;return{backgroundImage:t?"url("+t+")":null}}}).withConfig({displayName:"GamePageHeaderstyles__StyledBackgroundImage",componentId:"qrdfqo-2"})(["position:absolute;z-index:-1;top:0;left:0;right:0;bottom:0;overflow:hidden;background:"," "," ",";background-size:cover;"],m.grayLight,function(e){return e.loading?"":"url("+_.default.fallbackImages.gameCover+")"},function(e){return e.custom?"0 0":"center center"});y.propTypes={loading:d.default.bool,image:d.default.string,custom:d.default.bool},y.defaultProps={loading:!0,image:"",custom:!1};var w=t.StyledTitle=f.default.h2.withConfig({displayName:"GamePageHeaderstyles__StyledTitle",componentId:"qrdfqo-3"})(["position:absolute;bottom:25px;left:","px;right:","px;margin:0;font-size:42px;line-height:1.2em;font-weight:",";color:#fff;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;"," "," ",""],g.gutter+140,g.gutter,h.bold,function(e){return e.loading?"\n        &:after {\n            content: '';\n            display: block;\n            margin-bottom: 10px;\n            width: 160px;\n            height: 40px;\n            background-color: #fff;\n        }\n    ":null},g.mediaQueries.lessThan("mobile")(s,g.gutter+120),g.mediaQueries.lessThan("phone")(l,g.gutter));w.propTypes={loading:d.default.bool},w.defaultProps={loading:!0};var $=t.StyledCover=f.default.div.withConfig({displayName:"GamePageHeaderstyles__StyledCover",componentId:"qrdfqo-4"})(["position:absolute;bottom:-10px;left:","px;width:120px;min-height:164px;border-radius:6px;background:"," "," no-repeat;background-size:cover;overflow:hidden;"," ",""],g.gutter,m.gray,function(e){return e.loading?"":"url("+_.default.fallbackImages.gameBoxCover+")"},g.mediaQueries.lessThan("mobile")(c),g.mediaQueries.lessThan("phone")(u));$.propTypes={loading:d.default.bool},$.defaultProps={loading:!0},t.StyledCoverImage=f.default.img.attrs({alt:""}).withConfig({displayName:"GamePageHeaderstyles__StyledCoverImage",componentId:"qrdfqo-5"})(["display:block;width:120px;"])},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2543)),r=a(n(2544)),s=a(n(2546));t.default=i.default.module("htbx.hashtags",[]).factory("Hashtags",o.default).component("hashtagList",r.default).filter("hashtagFilter",s.default).name},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/titlehashtags",{},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(11)),r=a(n(2545)),s=function(){function e(t,n,a,i,o,r,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$scope:t,$timeout:n,$window:a,Hashtags:i,Analytics:o,$location:r}),this.$state=s,this.$stateParams=l,this.hashtags=[]}return e.$inject=["$scope","$timeout","$window","Hashtags","Analytics","$location","$state","$stateParams"],i(e,[{key:"$onInit",value:function(){(0,o.default)(this.variant)&&(this.variant="default"),this.getHashtags()}},{key:"getHashtags",value:function(){var e=this,t={};this.limit>0&&(t.limit=this.limit),this.Hashtags.get(t,function(t){var n=[];(0,r.default)(t.data,function(e,t){n.push({key:function(e){return e=e.replace(/['"]+/g,"")}(t),val:e})}),e.hashtags=n})}},{key:"changeHashtag",value:function(e){var t=this;this.Analytics.trackEvent("hashtag",e,this.$location.absUrl()),this.$timeout(function(){t.$window.scrollTo(0,0)},200)}}]),e}();t.default={bindings:{limit:"@?",variant:"@?"},controller:s,template:'\n        <hashtag-list-react\n            state-current-name="$ctrl.$state.current.name"\n            state-current-language="$ctrl.$stateParams.hashtag"\n            state-href="$ctrl.$state.href"\n            variant="$ctrl.variant"\n            hashtags="$ctrl.hashtags"\n        ></hashtag-list-react>\n    '}},function(e,t,n){var a=n(317),i=n(221),o=n(251),r=n(23);e.exports=function(e,t){return(r(e)?a:i)(e,o(t))}},function(e,t,n){"use strict";function a(e){return function(t,n,a){if(!n)return t;var o=/#([^ #?\/=&%]+?)(\s|\n|\r|\t|$)/gm,r=/(<a class="hashtag" href=".*?" target="_blank" rel="noopener">#.*?<\/a>)/g,s=2===parseInt(n.media_type_id,10)?n.media_user_name:n.media_name;if((0,i.isString)(t)&&t.length>0){t.split(" ").forEach(function(n){o.test(n)&&(t=t.replace(o,function(t){var n=t.trim().substr(1).toLowerCase(),a=t;return n.length>2&&!n.match(/^[0-9]+$/)&&(a='<a class="hashtag" href="'+e.href("browse.hashtags",{hashtag:n,source:"detail:"+s})+'" target="_blank" rel="noopener">'+t.trim()+"</a>"),a}))});var l=t.split(r).map(function(t){var n=t=t.trim();return!r.test(t)&&t.trim().length>0&&s&&(n='<a class="hashtag-separator" href="'+e.href("detail.feed",{channel:s})+'" '+(a?'target="_blank" rel="noopener"':"")+">"+t+"</a>"),n});return t=l.join(" ")}return""}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(0);n(2547),a.$inject=["$state"]},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(687)),r=a(n(2549));t.default=i.default.module("htbx.home",[o.default]).directive("htbxHomePage",r.default).config(["$stateProvider",function(e){e.state("home",{url:"",abstract:!0,views:{"viewMain@":{template:"<htbx-home-page></htbx-home-page>"}},parent:"hitbox"}).state("home.root",{url:"/",section:"home"})}]).name},function(e,t,n){"use strict";function a(e,t,n,a){var o=a.connect(s)(e);n.deviceSize.update(),t.meta={},e.languageMediaListFilter={language:e.language},e.openLoginDialog=function(){a.dispatch((0,i.showSignup)())},e.$on("$destroy",function(){o&&o()})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(42),o=n(76),r=function(e){return e&&e.__esModule?e:{default:e}}(n(2550));n(2551),a.$inject=["$scope","$rootScope","DisplayService","$ngRedux"];var s=function(e){var t=e.language,n=e.user;return{language:t.abbreviation,isAuthenticated:(0,o.isAuthenticated)(n)}};t.default=function(){return{templateUrl:r.default,controller:a}}},function(e,t,n){var a="/src/js/home/directives/home-page.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=home-page> <div class=home-page__header> <featured-media></featured-media> <device-check show-if-mobile=true show-if-tablet=false show-if-desktop=false> <game-carousel limit=50></game-carousel> </device-check> </div> <call-to-action-banner ng-if=!isAuthenticated> <call-to-action-content> <div> {{::'global_text_welcome-to-smashcast' | translate}} </div> <div> {{::'component_call-to-action-banner_signup' | translate}} </div> </call-to-action-content> <call-to-action-action> <htbx-button data-type=button data-variant=outline data-on-select=openLoginDialog()> {{::'global_text_signup' | translate }} </htbx-button> </call-to-action-action> </call-to-action-banner> <div class=home-page__content> <section ng-if=isAuthenticated class=\"home-page__content__item home-page__content__item--category-recommended\"> <media-list desktop-type=carousel mobile-type=grid options=\"{\n                    type: 'followingWithRecommended',\n                    limit: 25,\n                    i18nTitle: 'global_text_for-you',\n                    titleSref: 'browse.forYou'\n                }\"></media-list> </section> <device-check show-if-mobile=false show-if-tablet=true show-if-desktop=true> <section class=\"home-page__content__item home-page__content__item--category-games\"> <game-carousel limit=50></game-carousel> </section> </device-check> <section class=\"home-page__content__item home-page__content__item--category-channels-by-language\"> <media-list desktop-type=carousel mobile-type=grid options=\"{\n                    limit: 25,\n                    i18nTitle: 'global_text_channels-in-language',\n                    titleSref: 'browse.language({language: \\'' + languageMediaListFilter.language + '\\'})',\n                    filter: languageMediaListFilter,\n                }\"></media-list> </section> <section class=\"home-page__content__item home-page__content__item--category-popular\"> <media-list-grid data-title=\"{{::'global_text_top-channels' | translate}}\" title-sref=browse.channels use-carousel=true lines=2 limit=51></media-list-grid> </section> <section class=\"home-page__content__item home-page__content__item--category-esports\"> <media-list desktop-type=carousel mobile-type=grid options=\"{\n                    type: 'esport',\n                    limit: 25,\n                    i18nTitle: 'global_text_esports',\n                    titleSref: 'browse.esports'\n                }\"></media-list> </section> </div> </div> <main-footer></main-footer> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var i=n(452),o=a(n(2553)),r=a(n(2554));n(2555),(0,i.addIcon)({name:"discord",icon:o.default}),(0,i.addIcon)({name:"youtube",icon:r.default})},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 245 240"><style>.discord-logo .st0{fill:#7289da}</style><g class="discord-logo"><path class="st0" d="M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zM140.9 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"></path><path class="st0" d="M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34 16"><path fill="#E62D27" class="youtube-icon-box" d="M33.8,4.3c0,0-0.2-1.4-0.8-2c-0.8-0.8-1.6-0.8-2-0.9c-2.8-0.2-7.1-0.2-7.1-0.2h0 c0,0-4.3,0-7.1,0.2c-0.4,0-1.3,0.1-2,0.9c-0.6,0.6-0.8,2-0.8,2s-0.2,1.6-0.2,3.3v1.5c0,1.6,0.2,3.3,0.2,3.3s0.2,1.4,0.8,2 c0.8,0.8,1.8,0.8,2.2,0.9c1.6,0.2,6.9,0.2,6.9,0.2s4.3,0,7.1-0.2c0.4,0,1.3-0.1,2-0.9c0.6-0.6,0.8-2,0.8-2S34,10.7,34,9.1V7.6 C34,5.9,33.8,4.3,33.8,4.3z"></path><path fill="#000" d="M12.7,12.7h-1.3V12c-0.5,0.6-0.9,0.8-1.4,0.8c-0.4,0-0.7-0.2-0.8-0.5c-0.1-0.2-0.1-0.5-0.1-1V5.9 h1.3v5.1c0,0.3,0,0.4,0,0.5c0,0.2,0.1,0.3,0.3,0.3c0.2,0,0.5-0.2,0.7-0.6V5.9h1.3V12.7z"></path><path fill="#000" d="M8.1,8.1c0-0.7-0.1-1.3-0.4-1.6C7.4,6,6.9,5.8,6.3,5.8C5.7,5.8,5.2,6,4.9,6.5 C4.6,6.8,4.5,7.4,4.5,8.1l0,2.4c0,0.7,0.1,1.2,0.4,1.6c0.3,0.5,0.9,0.7,1.4,0.7c0.5,0,1.1-0.2,1.5-0.7c0.3-0.3,0.4-0.8,0.4-1.6V8.1 z M6.9,10.7c0.1,0.7-0.1,1-0.5,1c-0.4,0-0.6-0.3-0.5-1V8C5.7,7.3,5.9,7,6.3,7s0.6,0.3,0.5,1L6.9,10.7z"></path><path fill="#000" d="M3.1,9v3.7H1.7V9c0,0-1.4-4.6-1.7-5.4h1.4l1,3.6l0.9-3.6h1.4L3.1,9z"></path><path fill="#FFF" d="M32.3,9.5l0-1.4c0-0.7-0.1-1.3-0.4-1.6c-0.3-0.5-0.8-0.7-1.4-0.7c-0.6,0-1.1,0.2-1.5,0.7 c-0.3,0.3-0.4,0.9-0.4,1.6v2.4c0,0.7,0.2,1.2,0.4,1.6c0.4,0.5,0.8,0.7,1.5,0.7c0.6,0,1.1-0.2,1.5-0.7c0.1-0.2,0.2-0.5,0.3-0.7 c0-0.1,0-0.4,0-0.8v-0.2H31c0,0.5,0,0.8,0,0.9c-0.1,0.3-0.2,0.5-0.5,0.5c-0.4,0-0.6-0.3-0.6-0.9V9.5H32.3z M29.9,7.8 c0-0.6,0.2-0.8,0.6-0.8c0.4,0,0.6,0.2,0.6,0.8v0.7l-1.2,0V7.8z"></path><path fill="#FFF" d="M26.6,5.8c-0.5,0-0.9,0.3-1.3,0.8l0-3h-1.2v9.1h1.2l0-0.7c0.4,0.5,0.9,0.8,1.3,0.8 c0.5,0,0.8-0.3,1-0.8c0.1-0.3,0.1-0.7,0.1-1.4V8c0-0.6-0.1-1.1-0.2-1.4C27.4,6.1,27.1,5.8,26.6,5.8z M26.5,10.7 c0,0.7-0.2,0.9-0.5,0.9c-0.2,0-0.4-0.1-0.6-0.3l0-4.1c0.2-0.2,0.4-0.3,0.6-0.3c0.4,0,0.5,0.2,0.5,0.9V10.7z"></path><path fill="#FFF" d="M23.1,12.7h-1.3V12c-0.5,0.6-0.9,0.8-1.4,0.8c-0.4,0-0.7-0.2-0.8-0.5c-0.1-0.2-0.1-0.5-0.1-1V5.9 h1.3v5c0,0.3,0,0.4,0,0.5c0,0.2,0.1,0.3,0.3,0.3c0.2,0,0.5-0.2,0.7-0.6V5.9h1.3V12.7z"></path><polygon fill="#FFF" points="18.2,12.7 16.8,12.7 16.8,4.9 15.4,4.9 15.4,3.6 19.7,3.6 19.7,4.9 18.2,4.9 "></polygon><line stroke="#231F20" class="youtube-icon-strikethrough" stroke-width="3" x1="1.6" y1="13.9" x2="34" y2="2.9"></line></svg>'},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=u.default.currentLanguage,n=u.default.languages;e.translations(t,n[t].translation),e.translations(c.DEFAULT_LANGUAGE,n[c.DEFAULT_LANGUAGE].translation),e.addInterpolation("$translateMessageFormatInterpolation"),e.useSanitizeValueStrategy("escape"),e.useSanitizeValueStrategy("sanitizeParameters"),e.preferredLanguage(t),e.fallbackLanguage(c.DEFAULT_LANGUAGE),l.default.locale(t)}function o(e){e.localeLocationPattern("/js/angular-locale_{{locale}}.js")}function r(e,t,n,a,i){function o(){n(function(){location.reload()},1)}var r=e.getState().language;i.trackEvent("language",r.abbreviation),t.set(r.id.replace("_","-").toLowerCase()),e.subscribe(function(){var t=e.getState().language;if(t.id!==r.id){if(r=t,"serviceWorker"in navigator)return void function(e){return new Promise(function(t,n){var a=new MessageChannel;a.port1.onmessage=function(e){e.data.error?n(e.data.error):t(e.data)},navigator.serviceWorker.controller.postMessage(e,[a.port2])})}({command:"delete",url:"https://"+a.host()+"/api/i18n",cache:"smashcast-translation"}).then(o).catch(o);o()}})}Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),l=a(n(5)),c=n(26),u=a(c),d=a(n(690)),f=a(n(2579)),p=a(n(2581)),m=a(n(693));r.$inject=["$ngRedux","tmhDynamicLocale","$timeout","$location","Analytics"],o.$inject=["tmhDynamicLocaleProvider"],i.$inject=["$translateProvider"],t.default=s.default.module("htbx.language",[d.default,"tmh.dynamicLocale"]).config(i).config(o).run(r).component("translationMessageFormat",f.default).component("languageMenu",p.default).directive("smashLanguageSwitch",["reactDirective",function(e){return e(m.default,["active","onSelect","children"])}]).name},,,,,,,function(e,t,n){"use strict";function a(e){return function(t){var n=t.dispatch,a=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,a,e):t(i)}}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a();i.withExtraArgument=a,t.default=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){return(0,o.combineReducers)(i({channel:c.default,chat:(0,o.combineReducers)({connected:u.default,config:d.default,enabled:f.default,permissions:p.default,tab:m.default,options:h.default}),cheering:s.default,esports:l.default,language:r.default,loginModal:_.default,user:g.default},e))};var o=n(181),r=a(n(2565)),s=a(n(2566)),l=a(n(2567)),c=a(n(2568)),u=a(n(2569)),d=a(n(2570)),f=a(n(2571)),p=a(n(2572)),m=a(n(2573)),h=a(n(2574)),g=a(n(2575)),_=a(n(2576))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"initialState",function(){return o});var a=n(124),i=n(692),o=a.languages[0];t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case i.a:return Object(a.find)(t.data);default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(649);t.default=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch(arguments[1].type){case a.b:return!0;case a.a:return!1;default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(635),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case a.b:return null;case a.a:return i({},t.data);default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(467);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case i.RESET:return null;case i.NAME:return a({},e,{name:t.data});case i.VIEWS:return a({},e,{views:t.data});case i.FOLLOWERS:return a({},e,{followers:t.data});case i.LOGO:return a({},e,{logo:t.data});case i.BACKGROUND_IMAGE:return a({},e,{backgroundImage:t.data});case i.IS_PARTNER:return a({},e,{isPartner:t.data});case i.SUBSCRIPTIONS_ALLOWED:return a({},e,{subscriptionsAllowed:t.data});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(589);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case a.CONNECT:return!0;case a.DISCONNECT:return!1;default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(588),o={slowModeSeconds:0,subscriberImages:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case i.RESET:return a({},o);case i.SET_SLOW_MODE:return a({},e,{slowModeSeconds:t.data});case i.SET_SUBSCRIBER_IMAGES:return a({},e,{subscriberImages:t.data});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(592);t.default=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments[1];switch(t.type){case a.SET_CHAT_ENABLED:return t.data;default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(533),o=t.initialState={isBanned:!1,isModerator:!1,isEditor:!1,isAdmin:!1,isOwner:!1,userRole:null,isSubscribed:null,subscriptionData:null,subscriberMode:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case i.RESET:return a({},o);case i.IS_BANNED:return a({},e,{isBanned:t.data});case i.IS_MODERATOR:return a({},e,{isModerator:t.data});case i.IS_EDITOR:return a({},e,{isEditor:t.data});case i.IS_ADMIN:return a({},e,{isAdmin:t.data});case i.IS_OWNER:return a({},e,{isOwner:t.data});case i.USER_ROLE:return a({},e,{userRole:t.data});case i.IS_SUBSCRIBED:return a({},e,{subscribed:t.data});case i.SUBSCRIPTION_DATA:return a({},e,{subscriptionData:t.data});case i.SUBSCRIBER_MODE:return a({},e,{subscriberMode:t.data});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(172),o={active:i.CHAT_TAB_CHAT,previous:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case i.RESET:return a({},o);case i.SET_ACTIVE:return{active:t.data,previous:e.active};case i.GO_TO_PREVIOUS:return{active:e.previous,previous:e.active};default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(175),o=n(536),r={nameColor:(0,i.getRandom)(),compact:!1,timestamps:!1,fontSize:1,images:!1,stickyUserList:!1,whisper:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case o.SET_NAME_COLOR:return a({},e,{nameColor:t.data});case o.SET_COMPACT_MODE:return a({},e,{compact:t.data});case o.SET_TIMESTAMPS:return a({},e,{timestamps:t.data});case o.SET_FONT_SIZE:if(t.data<0||t.data>4)throw new Error("fontSize needs to be a number between 0 and 4");return a({},e,{fontSize:t.data});case o.SET_SHOWING_IMAGES:return a({},e,{images:t.data});case o.SET_STICKY_USER_LIST:return a({},e,{stickyUserList:t.data});case o.SET_WHISPER:return a({},e,{whisper:t.data});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(468);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case i.USER:return a({},t.data);case i.RESET:return null;case i.LOGOUT:return a({},e,{_logout:!0});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(288);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case a.SHOW:return{type:function(e){switch(e){case a.TYPE_SIGNIN:break;case a.TYPE_SIGNUP:default:e=a.TYPE_SIGNUP}return e}(t.data?t.data.type:null),title:t.data?t.data.title:null};case a.HIDE:return null;default:return e}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(16)),o=a(n(2578)),r=n(175),s=n(74),l=i.default.get("smashcast.session",null),c={cheering:i.default.get("cheeringEnabled",!0),chat:{enabled:i.default.get("chat.chatOptions.chatState",!0),options:{nameColor:i.default.get("chat.chatOptions.nameColor",(0,r.getRandom)()),compact:i.default.get("chat.chatOptions.compact",!1),timestamps:i.default.get("chat.chatOptions.timestamps",!1),fontSize:i.default.get("chat.chatOptions.fontSize",1),images:!i.default.get("chat.chatOptions.disableImages",!1),stickyUserList:i.default.get("chat.chatOptions.stickyUsers",!1),whisper:i.default.get("chat.chatOptions.whisper",null)}},language:o.default,user:l?(0,s.normalizeApiUserData)(l):null};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),i=n(124),o=a.default.get("currentLanguage",null),r=Object(i.find)(o);t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2580)),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"$onInit",value:function(){(0,i.isObject)(this.values)?this.translationValue=this.value:this.translationValue={COUNT:this.value}}}]),e}();t.default={bindings:{translation:"@",value:"<"},transclude:!0,templateUrl:o.default,controller:r}},function(e,t,n){var a="/src/js/language/components/translation-message-format.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<span ng-transclude></span> <span translate={{$ctrl.translation}} translate-values=$ctrl.translationValue translate-interpolation=messageformat> </span> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=n(2582),s=n(124),l=a(n(2583)),c=a(n(2584));n(2585);var u=function(e){return{currentLanguageId:e.language.id}},d=function(){function e(t,n,a,i,o,r,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{Analytics:n,loggedUser:a,$scope:i,$timeout:o,$uibPosition:r,$location:s}),this.$ngRedux=l,this.unsubscribeReduxConnection=this.$ngRedux.connect(u)(this),this.$element=t}return e.$inject=["$element","Analytics","loggedUser","$scope","$timeout","$uibPosition","$location","$ngRedux"],i(e,[{key:"$onInit",value:function(){this.availableLanguages=s.languages,(0,o.isUndefined)(this.variant)&&(this.variant="default"),this.relativeElementSelector&&this.calculatePosition()}},{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}},{key:"setLang",value:function(e){this.Analytics.trackEvent("switchLanguage",e),this.$ngRedux.dispatch((0,r.change)(e))}},{key:"calculatePosition",value:function(){var e=(0,o.element)(this.relativeElementSelector),t=this.$uibPosition.position(e),n=this.$element.find(".language-menu"),a=(0,o.element)("body");n.css({position:"absolute",top:t.top+t.height,right:a.width()-t.left-e.outerWidth(!0)})}}]),e}(),f=function(e,t){var n=void 0;switch(t.variant){case"vertical":n=c.default;break;default:n=l.default}return n};f.$inject=["$element","$attrs"],t.default={bindings:{variant:"@?",relativeElementSelector:"<?"},controller:d,templateUrl:f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"change",function(){return o});var a=n(16),i=n(692),o=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){t&&a.default.set("currentLanguage",e),n({type:i.a,data:e})}}},function(e,t,n){var a="/src/js/language/components/language-menu.variant-default.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <ul class="language-menu language-menu--variant-default"> <li ng-repeat="language in $ctrl.availableLanguages" ng-class="[\n            \'language-menu__item\',\n            {\n                \'language-menu__item--is-active\': language.id === $ctrl.currentLanguage.id,\n            },\n        ]"> <a class=language-menu__link ng-click=$ctrl.setLang(language.id)> {{::language.name}} </a> </li> </ul> ')}]),e.exports=a},function(e,t,n){var a="/src/js/language/components/language-menu.variant-vertical.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <ul class=\"language-menu language-menu--variant-vertical navigation\"> <li ng-repeat=\"language in $ctrl.availableLanguages\" ng-class=\"[\n            'language-menu__item',\n            'navigation__item',\n            {\n                'navigation__item--active': language.id === $ctrl.currentLanguageId,\n            },\n        ]\"> <a class=navigation__item__link ng-click=$ctrl.setLang(language.id)> {{::language.name}} </a> </li> </ul> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),n(10)),r=a(n(35)),s=a(n(460)),l=n(2587),c=function(e){var t=e.active,n=e.onSelect,a=e.children;return i.default.createElement(o.ThemeProvider,{theme:{modifiers:{active:t}}},i.default.createElement(l.StyledComponent,{onClick:n},i.default.createElement(l.StyledContent,null,i.default.createElement(l.StyledIcon,null,i.default.createElement(r.default,{icon:s.default,size:24,center:!0})),i.default.createElement(l.StyledLabel,null,a))))};c.defaultProps={active:!1,onSelect:null,children:"en"},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledContent=t.StyledComponent=t.StyledLabel=t.StyledIcon=t.mainNavBackground=void 0;var a=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(a),o=n(20),r=t.mainNavBackground="#fff",s=(0,a.css)(["",""],function(e){return e.theme.modifiers.active?"\n        color: "+o.primary+";\n    ":""}),l=t.StyledIcon=i.default.span.withConfig({displayName:"LanguageSwitchstyles__StyledIcon",componentId:"sc-1vy80k5-0"})(["",""],s),c=t.StyledLabel=i.default.span.withConfig({displayName:"LanguageSwitchstyles__StyledLabel",componentId:"sc-1vy80k5-1"})(["position:absolute;top:0;right:-7px;padding:1px 2px;font-size:9px;line-height:9px;background-color:",";text-transform:uppercase;",""],r,s);t.StyledComponent=i.default.button.attrs({type:"button"}).withConfig({displayName:"LanguageSwitchstyles__StyledComponent",componentId:"sc-1vy80k5-2"})(["position:relative;display:block;padding:0;width:100%;height:inherit;min-width:42px;min-height:42px;color:",";background-color:transparent;&:hover{",",","{color:",";}}"],o.text,l,c,o.primary),t.StyledContent=i.default.span.withConfig({displayName:"LanguageSwitchstyles__StyledContent",componentId:"sc-1vy80k5-3"})(["position:absolute;top:50%;left:50%;width:24px;height:24px;transform:translateX(-50%) translateY(-50%);"])},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){var a=this.sideNavServiceCallback.bind(this),o=[];this.SideNavService=e,this.$timeout=t,this.bodyClassNamesService=n,r.default.isUndefined(this.showFooter)&&(this.showFooter=!0),this.isSideNavActive=!1,this.$onInit=function(){var e;this.SideNavService.subscribe(a),this.bodyClassNamesService.add("htbx-layout"),this.showFooter&&this.bodyClassNamesService.add("htbx-layout--has-footer"),this.variant&&o.push("htbx-layout--variant-"+this.variant),this.design&&o.push("htbx-layout--design-"+this.design),this.page&&o.push("htbx-layout--page-"+this.page),(e=this.bodyClassNamesService).add.apply(e,i(o))}.bind(this),this.$onChanges=function(e){r.default.isDefined(e.showFooter)&&(e.showFooter.currentValue?this.bodyClassNamesService.add("htbx-layout--has-footer"):this.bodyClassNamesService.remove("htbx-layout--has-footer"))},this.$onDestroy=function(){var e;this.SideNavService.unsubscribe(a),this.bodyClassNamesService.remove("htbx-layout"),this.bodyClassNamesService.remove("htbx-layout--has-footer"),(e=this.bodyClassNamesService).remove.apply(e,i(o)),o=[]}.bind(this)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),s=a(n(2589));n(2590),o.$inject=["SideNavService","$timeout","bodyClassNames"],o.prototype.sideNavServiceCallback=function(){var e=this;this.isSideNavActive=this.SideNavService.isSideNavActive(),this.$timeout(function(){e.isSideNavActive=e.SideNavService.isSideNavActive()})},t.default={bindings:{variant:"@?",design:"@?",page:"@?",showFooter:"<?"},templateUrl:s.default,transclude:{navigation:"?htbxLayoutNavigation",content:"?htbxLayoutContent"},controller:o}},function(e,t,n){var a="/src/js/layout/components/layout.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <div class="layout layout--variant-{{$ctrl.variant}} layout--page-{{$ctrl.page}}" ng-class="{\n        \'layout--has-footer\': $ctrl.showFooter,\n    }"> <div class=layout__wrapper> <div class=layout__navigation data-ng-transclude=navigation></div> <div class=layout__content-container> <div class=layout__content data-ng-transclude=content></div> </div> </div> <main-footer ng-if=$ctrl.showFooter class=layout__footer></main-footer> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2592)),r=a(n(2615)),s=a(n(2618)),l=a(n(2621)),c=a(n(2624)),u=a(n(2627)),d=a(n(2630)),f=a(n(2633)),p=a(n(2634)),m=a(n(2637)),h=a(n(2640));t.default=i.default.module("htbx.ui-elements.main-nav",[]).service("SideNavService",h.default).directive("htbxMainNavReact",["reactDirective",function(e){return e(o.default,["stateCurrentName","stateHref","isMobile","isLoggedIn","isPageSideNavOpen","isUserSideNavOpen","togglePageSideNav","toggleUserSideNav","toggleUserMenu","searchOnSelect","languageSwitchActive","languageSwitchOnSelect","languageSwitchLabel","navLoginLinksPopupLogin","navLoginLinksPopupSignup","userMenuIconSrc"])}]).component("userMenu",r.default).component("htbxMainNavContainer",s.default).component("htbxMainNavSearch",l.default).component("htbxSideNav",c.default).component("htbxPageSideNav",u.default).component("htbxUserSideNav",d.default).directive("htbxMainNav",f.default).directive("htbxMainNavHeader",p.default).directive("teamlist",m.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2593));t.default=a.default},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),r=a(o),s=(a(n(3)),n(227)),l=n(26),c=a(n(693)),u=a(n(2594)),d=a(n(2597)),f=a(n(2600)),p=a(n(2603)),m=a(n(2606)),h=n(98),g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.stateCurrentName,n=e.stateHref,a=e.isMobile,i=e.isLoggedIn,o=e.isPageSideNavOpen,s=e.isUserSideNavOpen,g=e.togglePageSideNav,_=e.toggleUserSideNav,v=e.toggleUserMenu,b=e.searchOnSelect,y=e.languageSwitchActive,w=e.languageSwitchOnSelect,$=e.languageSwitchLabel,x=e.userMenuIconSrc,k=e.navLoginLinksPopupLogin,S=e.navLoginLinksPopupSignup;return r.default.createElement(h.StyledComponent,null,r.default.createElement(u.default,{open:o,onClick:g},(0,l.getTranslation)("global_text_browse")),r.default.createElement(p.default,{href:n?n("home.root"):"/",label:(0,l.getTranslation)("global_text_start")}),r.default.createElement(d.default,{stateCurrentName:t,stateHref:n}),r.default.createElement(h.StyledItemSpacer,null),n?r.default.createElement(r.default.Fragment,null,r.default.createElement(f.default,{onSelect:b}),r.default.createElement(h.StyledItemLanguage,null,r.default.createElement(c.default,{active:y,onSelect:w},$))):null,r.default.createElement(m.default,{isMobile:a,stateHref:n,isLoggedIn:i,isUserSideNavOpen:s,toggleUserSideNav:_,toggleUserMenu:v,userMenuIconSrc:x,navLoginLinksPopupLogin:k,navLoginLinksPopupSignup:S}))}}]),t}();g.defaultProps={stateCurrentName:null,stateHref:null,isMobile:!1,isLoggedIn:!1,isPageSideNavOpen:!1,isUserSideNavOpen:!1,togglePageSideNav:null,toggleUserSideNav:null,toggleUserMenu:null,searchOnSelect:null,languageSwitchActive:!1,languageSwitchOnSelect:null,languageSwitchLabel:null,userMenuIconSrc:null,navLoginLinksPopupLogin:null,navLoginLinksPopupSignup:null},t.default=(0,s.hot)(e)(g)}).call(t,n(44)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2595));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(35))),r=a(n(455)),s=a(n(286)),l=n(2596),c=function(e){var t=e.open,n=e.onClick,a=e.children;return i.default.createElement(l.StyledComponent,{"aria-label":a,onClick:n,"data-side-nav-trigger":!0},t?i.default.createElement(o.default,{icon:s.default,size:16,center:!0}):i.default.createElement(o.default,{icon:r.default,size:24,center:!0}))};c.defaultProps={open:!1,onClick:null,children:"Browse"},t.default=c},function(e,t,n){"use strict";function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledComponent=void 0;var i=a([""],[""]),o=a(["\n        display: none;\n    "],["\n        display: none;\n    "]),r=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),s=n(20),l=n(40),c=n(142),u=n(98).StyledItem.withComponent("button").extend.attrs({type:"button"})(i);u.defaultProps={square:!0},t.StyledComponent=(0,r.default)(u).withConfig({displayName:"Burgerstyles__StyledComponent",componentId:"sc-15g9fea-0"})(["display:block;margin:0;padding:0;background-color:transparent;&:focus{color:",";outline:none;}&:hover{color:",";}",""],c.itemColor,s.primary,l.mediaQueries.greaterThan("mobile")(o))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2598));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),n(26)),r=n(2599),s=function(e){var t=e.stateCurrentName,n=e.stateHref;return n?i.default.createElement(r.StyledComponent,null,i.default.createElement(r.StyledItem,{active:"browse.forYou"===t},i.default.createElement(r.StyledLink,{href:n("browse.forYou")},(0,o.getTranslation)("global_text_for-you"))),i.default.createElement(r.StyledItem,{active:"browse.channels"===t},i.default.createElement(r.StyledLink,{href:n("browse.channels")},(0,o.getTranslation)("global_text_browse")))):i.default.createElement(r.StyledComponent,null,i.default.createElement(r.StyledItemLoading,null,i.default.createElement(r.StyledItemLoadingItem,null),i.default.createElement(r.StyledItemLoadingItem,null)))};s.defaultProps={stateCurrentName:null,stateHref:null},t.default=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledItemLoadingItem=t.StyledItemLoading=t.StyledLink=t.StyledItem=t.StyledComponent=void 0;var o=i(["\n        display: none;\n\n        /* media query: */\n        ","\n    "],["\n        display: none;\n\n        /* media query: */\n        ","\n    "]),r=i(["\n            display: flex;\n        "],["\n            display: flex;\n        "]),s=a(n(3)),l=a(n(10)),c=n(20),u=n(40),d=n(142),f=n(98),p=(t.StyledComponent=f.StyledItem.withComponent("ul").extend(o,u.mediaQueries.greaterThan("mobile")(r)),t.StyledItem=l.default.li.withConfig({displayName:"NavLinksstyles__StyledItem",componentId:"sc-19igepu-0"})([""]));p.propTypes={active:s.default.bool},p.defaultProps={active:!1},t.StyledLink=l.default.a.withConfig({displayName:"NavLinksstyles__StyledLink",componentId:"sc-19igepu-1"})(["position:relative;display:block;padding:0 20px;height:","px;line-height:","px;font-size:14px;color:",";&:focus{outline:none;color:",";}&:hover{color:",";}"],d.height,d.height,d.itemColor,d.itemColor,c.primary),t.StyledItemLoading=l.default.li.withConfig({displayName:"NavLinksstyles__StyledItemLoading",componentId:"sc-19igepu-2"})(["position:relative;display:flex;height:inherit;overflow:hidden;"]),t.StyledItemLoadingItem=l.default.span.withConfig({displayName:"NavLinksstyles__StyledItemLoadingItem",componentId:"sc-19igepu-3"})(["position:relative;margin-left:20px;width:60px;height:inherit;&:after{content:'';position:absolute;top:50%;right:0;left:0;margin-top:-8px;height:16px;background-color:",";}"],c.graySuperLight)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2601));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(35))),r=a(n(463)),s=n(2602),l=function(e){var t=e.onSelect;return i.default.createElement(s.StyledComponent,{onClick:t},i.default.createElement(o.default,{icon:r.default,size:24,center:!0}))};l.defaultProps={onSelect:null},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledComponent=void 0;var a=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        margin: 0;\n        color: ",";\n        background-color: transparent;\n\n        &:focus {\n            color: ",";\n            outline: none;\n        }\n\n        &:hover {\n            color: ",";\n        }\n\n        ","\n    "],["\n        margin: 0;\n        color: ",";\n        background-color: transparent;\n\n        &:focus {\n            color: ",";\n            outline: none;\n        }\n\n        &:hover {\n            color: ",";\n        }\n\n        ","\n    "]),i=n(20),o=n(40),r=n(142),s=n(98);(t.StyledComponent=s.StyledItem.withComponent("button").extend.attrs({type:"button"})(a,r.itemColor,r.itemColor,i.primary,o.hideOnMobile)).defaultProps={square:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2604));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(13))),r=a(n(623)),s=n(2605),l=function(){(0,o.default)("html,body").animate({scrollTop:0})},c=function(e){var t=e.href,n=e.label;return i.default.createElement(s.StyledComponent,{href:t,"aria-label":n,onClick:l},i.default.createElement(s.StyledIcon,null,i.default.createElement(r.default,null)))};c.defaultProps={href:null,label:"Start Page"},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledIcon=t.StyledComponent=void 0;var a=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        flex: none;\n        padding: 0 ","px 0 ","px;\n    "],["\n        flex: none;\n        padding: 0 ","px 0 ","px;\n    "]),i=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),o=n(40),r=n(142),s=n(98).StyledItem.withComponent("a");t.StyledComponent=(0,i.default)(s).withConfig({displayName:"Logostyles__StyledComponent",componentId:"ggv1m9-0"})(["display:flex;justify-content:center;flex:1;padding:0 2px;",""],o.mediaQueries.greaterThan("mobile")(a,o.gutter-10,o.gutter)),t.StyledIcon=i.default.span.withConfig({displayName:"Logostyles__StyledIcon",componentId:"ggv1m9-1"})(["display:block;height:","px;width:130px;"],r.height)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2607));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),a(n(3));var i=a(n(1)),o=a(n(2608)),r=a(n(2611)),s=n(2614),l=function(e){var t=e.isMobile,n=e.stateHref,a=e.isLoggedIn,l=e.isUserSideNavOpen,c=e.toggleUserSideNav,u=e.toggleUserMenu,d=e.userMenuIconSrc,f=e.navLoginLinksPopupLogin,p=e.navLoginLinksPopupSignup;return n?a?i.default.createElement(r.default,{iconSrc:d,isMobile:t,isNavOpen:l,toggleDesktopNav:u,toggleMobileNav:c}):i.default.createElement(o.default,{stateHref:n,onLogin:f,onSignup:p}):i.default.createElement(s.StyledLoadingComponent,null,i.default.createElement(s.StyledLoadingUserIcon,null))};l.defaultProps={isMobile:!1,stateHref:null,isLoggedIn:!1,isUserSideNavOpen:!1,toggleUserSideNav:null,toggleUserMenu:null,userMenuIconSrc:null,navLoginLinksPopupLogin:null,navLoginLinksPopupSignup:null},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2609));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),a(n(3));var i=a(n(1)),o=n(26),r=a(n(35)),s=a(n(465)),l=n(2610),c=function(e){var t=e.stateHref,n=e.onLogin,a=e.onSignup;return i.default.createElement(l.StyledComponent,null,i.default.createElement(l.StyledSigninLink,{onClick:n},(0,o.getTranslation)("global_text_login")),i.default.createElement(l.StyledSignupLink,{onClick:a},(0,o.getTranslation)("global_text_signup")),i.default.createElement(l.StyledMobileSigninLink,{"aria-label":(0,o.getTranslation)("global_text_login"),href:t("login")},i.default.createElement(r.default,{icon:s.default,size:24,center:!0})))};c.defaultProps={onLogin:null,onSignup:null},t.default=c},function(e,t,n){"use strict";function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledMobileSigninLink=t.StyledSignupLink=t.StyledSigninLink=t.StyledComponent=void 0;var i=a(["\n    min-width: 70px;\n"],["\n    min-width: 70px;\n"]),o=a(["\n        margin-left: 10px;\n        padding: 0 12px;\n        ","\n    "],["\n        margin-left: 10px;\n        padding: 0 12px;\n        ","\n    "]),r=a(["\n        margin-left: 4px;\n        padding: 0 ","px;\n        color: ",";\n        font-weight: ",";\n        ","\n    "],["\n        margin-left: 4px;\n        padding: 0 ","px;\n        color: ",";\n        font-weight: ",";\n        ","\n    "]),s=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),l=n(20),c=n(689),u=n(40),d=n(142),f=n(98),p=(t.StyledComponent=f.StyledItem.extend(i),s.default.button.attrs({type:"button"}).withConfig({displayName:"LoginLinksstyles__StyledGenericButtton",componentId:"t0zma8-0"})(["height:inherit;color:",";font-size:14px;background-color:transparent;&:focus{outline:none;}&:hover{color:",";}"],d.itemColor,l.primary)),m=(t.StyledSigninLink=p.extend(o,u.hideOnMobile),t.StyledSignupLink=p.extend(r,u.gutter,l.primary,c.bold,u.hideOnMobile),s.default.a.attrs({href:function(e){return e.href}}).withConfig({displayName:"LoginLinksstyles__StyledMobileSigninLink",componentId:"t0zma8-1"})(["display:block;width:70px;height:inherit;",""],u.showOnMobile));t.StyledMobileSigninLink=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2612));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(35))),r=a(n(286)),s=n(2613),l=function(e){var t=e.isMobile,n=e.isNavOpen,a=e.iconSrc,l=e.toggleDesktopNav,c=e.toggleMobileNav;return i.default.createElement(s.StyledComponent,{onClick:t?c:l},t&&n?i.default.createElement(o.default,{icon:r.default,size:16,center:!0}):i.default.createElement(s.StyledUserIcon,{src:a}))};l.defaultProps={isMobile:!1,isNavOpen:!1,iconSrc:""},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledUserIcon=t.StyledComponent=void 0;var a=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([""],[""]),i=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),o=n(20),r=n(40),s=n(98).StyledItem.withComponent("button").extend.attrs({type:"button",id:"user-menu-target","data-side-nav-trigger":!0})(a),l=(t.StyledComponent=(0,i.default)(s).withConfig({displayName:"UserMenustyles__StyledComponent",componentId:"sc-1tqep25-0"})(["width:70px;cursor:pointer;background-color:transparent;&:focus{outline:none;}"]),i.default.img.attrs({src:function(e){return e.src},alt:""}).withConfig({displayName:"UserMenustyles__StyledUserIcon",componentId:"sc-1tqep25-1"})(["position:absolute;top:50%;left:50%;height:28px;width:28px;background-color:",";transform:translateX(-50%) translateY(-50%);",""],o.gray,r.roundedAvatar));t.StyledUserIcon=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledLoadingUserIcon=t.StyledLoadingComponent=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),i=n(20),o=n(40),r=n(98);t.StyledLoadingComponent=(0,a.default)(r.StyledItem).withConfig({displayName:"UserMenuCheckstyles__StyledLoadingComponent",componentId:"sc-1tyc1cl-0"})(["width:70px;cursor:pointer;background-color:transparent;&:focus{outline:none;}"]),t.StyledLoadingUserIcon=a.default.span.withConfig({displayName:"UserMenuCheckstyles__StyledLoadingUserIcon",componentId:"sc-1tyc1cl-1"})(["position:absolute;top:50%;left:50%;height:28px;width:28px;background-color:",";transform:translateX(-50%) translateY(-50%);",""],i.gray,o.roundedAvatar)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=a(n(16)),s=n(74);n(2616);var l=a(n(2617)),c=function(){function e(t,n,a,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$scope:t,$uibPosition:n,medias:a,loggedUser:i}),this.$ngRedux=o}return e.$inject=["$scope","$uibPosition","medias","loggedUser","$ngRedux"],i(e,[{key:"$onInit",value:function(){var e=this;this.calculatePosition(),r.default.get("user.hasLiveStream",!1)?this.hasLivestream=!0:this.medias.refresh(this.loggedUser.getName(),"live").then(function(t){e.hasLivestream=null!==t}).catch(function(){e.hasLivestream=!1})}},{key:"calculatePosition",value:function(){var e=(0,o.element)("#user-menu-target"),t=this.$uibPosition.position(e),n=(0,o.element)("user-menu .user-menu"),a=(0,o.element)("body");n.css({position:"absolute",top:t.top+t.height,right:a.width()-t.left-e.outerWidth(!0)})}},{key:"logout",value:function(){this.$ngRedux.dispatch((0,s.logout)())}}]),e}();t.default={require:{mainNavCtrl:"^htbxMainNavHeader"},templateUrl:l.default,controller:c}},function(e,t){},function(e,t,n){var a="/src/js/layout/main-nav/components/user-menu.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <div class=user-menu> <user-card class=user-menu__user></user-card> <ul class=navigation> <li ng-if="$ctrl.loggedUser.getLivestreamCount() < 1 && !$ctrl.hasLivestream" class=navigation__item> <a class=navigation__item__link ui-sref="studio.livestreamSetup({user: $ctrl.loggedUser.getName()})"> <span class=color-blue> {{::\'global_text_start-streaming\' | translate}} </span> </a> </li> <span ng-if="$ctrl.loggedUser.getLivestreamCount() > 0 || $ctrl.hasLivestream"> <li class="navigation__item navigation__item--with-icon-right"> <a ui-sref="studio.dashboard({user: $ctrl.loggedUser.getName()})" class=navigation__item__link> {{::\'global_menu_live-dashboard\' | translate}} </a> <a ng-click=$ctrl.mainNavCtrl.popoutDashboard($ctrl.loggedUser.getName()) class="navigation__item__link navigation__item__link__icon-right"> <smash-icon icon=popout size=16 center=true></smash-icon> </a> </li> <li class=navigation__item> <a class="navigation__item__link navigation__item__link" ui-sref="videomanager.recordings({user: $ctrl.loggedUser.getName()})"> {{::\'global_menu_video-manager\' | translate}} </a> </li> <li class=navigation__item> <a ui-sref="statistics({user: $ctrl.loggedUser.getName()})" class=navigation__item__link> {{::\'global_menu_statistics\' | translate}} </a> </li> <li class=navigation__item> <a ui-sref="payments({user: $ctrl.loggedUser.getName()})" class=navigation__item__link> {{::\'global_menu_revenues\' | translate}} </a> </li> </span> <li class=navigation__item> <a ui-sref="community.subscriptions({user: $ctrl.loggedUser.getName()})" class="navigation__item__link navigation__item__link"> {{::\'global_text_community\' | translate}} </a> </li> <li class=navigation__item> <a ng-if="$ctrl.loggedUser.getLivestreamCount() > 0" ui-sref="settings.channel({user: $ctrl.loggedUser.getName()})" class=navigation__item__link> {{::\'global_text_settings\' | translate}}</a> <a ng-if="$ctrl.loggedUser.getLivestreamCount() < 1" ui-sref="settings.account({user: $ctrl.loggedUser.getName()})" class=navigation__item__link> {{::\'global_text_settings\' | translate}}</a> </li> <li ng-if=$ctrl.mainNavCtrl.isSuperAdmin() class=navigation__item> <a ui-sref="admin({user: $ctrl.loggedUser.getName()})" class=navigation__item__link> Admin Panels </a> </li> <li class=navigation__separator></li> <li class=navigation__item> <a ng-click=$ctrl.logout() class="navigation__item__link navigation__item__link--gray"> {{::\'global_text_logout\' | translate}} </a> </li> </ul> <ul ng-if=$ctrl.mainNavCtrl.isSuperAdmin() class=navigation> <li class=navigation__item> <span class=navigation__item__link> <htbx-viewport-toggle></htbx-viewport-toggle> </span> </li> </ul> </div> ')}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2619));n(2620);var o=function(){function e(t,n,a,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sideNavServiceCallback=function(){o.isSideNavActive=o.SideNavService.isSideNavActive(),o.$timeout(function(){o.isSideNavActive=o.SideNavService.isSideNavActive()})},this.$scope=t,this.$timeout=n,this.SideNavService=a,this.htmlClassNamesService=i,this.isSearchOpen=!1,this.isSideNavActive=!1,this.isPageSideNavOpen=!1,this.isUserSideNavOpen=!1}return e.$inject=["$scope","$timeout","SideNavService","htmlClassNamesService"],a(e,[{key:"$onInit",value:function(){this.SideNavService.subscribe(this.sideNavServiceCallback)}},{key:"$onDestroy",value:function(){this.SideNavService.unsubscribe(this.sideNavServiceCallback),this.htmlClassNamesService.remove("side-nav--is-open")}},{key:"togglePageSideNav",value:function(e){this.isPageSideNavOpen=e,this.isUserSideNavOpen=!1,e?this.htmlClassNamesService.add("side-nav--is-open"):this.htmlClassNamesService.remove("side-nav--is-open")}},{key:"toggleUserSideNav",value:function(e){this.isUserSideNavOpen=e,this.isPageSideNavOpen=!1,e?this.htmlClassNamesService.add("side-nav--is-open"):this.htmlClassNamesService.remove("side-nav--is-open")}},{key:"toggleSearch",value:function(e){this.isSearchOpen=e}}]),e}();t.default={bindings:{section:"@",config:"="},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/layout/main-nav/components/main-nav-container.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=main-nav-container> <htbx-main-nav-header section={{$ctrl.section}} config=$ctrl.config is-search-open=$ctrl.isSearchOpen is-side-nav-active=$ctrl.isSideNavActive is-page-side-nav-open=$ctrl.isPageSideNavOpen is-user-side-nav-open=$ctrl.isUserSideNavOpen on-toggle-search=$ctrl.toggleSearch(toggle) on-toggle-page-side-nav=$ctrl.togglePageSideNav(toggle) on-toggle-user-side-nav=$ctrl.toggleUserSideNav(toggle)></htbx-main-nav-header> <htbx-side-nav ng-if=$ctrl.isSideNavActive is-open=$ctrl.isPageSideNavOpen data-align=left app-links=true on-close=$ctrl.togglePageSideNav(false)> <htbx-page-side-nav></htbx-page-side-nav> </htbx-side-nav> <htbx-side-nav ng-if=$ctrl.isSideNavActive is-open=$ctrl.isUserSideNavOpen data-align=right show-logout=true on-close=$ctrl.toggleUserSideNav(false)> <htbx-user-side-nav></htbx-user-side-nav> </htbx-side-nav> <htbx-main-nav-search is-open=$ctrl.isSearchOpen on-close=$ctrl.toggleSearch(false)></htbx-main-nav-search> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2622));n(2623);var o=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=t,this.$document=n,this.$timeout=a,this.htmlElement=n[0].documentElement,this.searchTerm="",this.$focusTimeout=null}return e.$inject=["$element","$document","$timeout"],a(e,[{key:"$onChanges",value:function(e){e&&e.isOpen&&(e.isOpen.currentValue?this.focusInput():this.reset())}},{key:"$onDestroy",value:function(){this.$timeout.cancel(this.$focusTimeout),this.reset()}},{key:"focusInput",value:function(){var e=this.$element.find("input");this.$focusTimeout=this.$timeout(function(){e.focus()},200)}},{key:"onSearchStringChange",value:function(e){0===e.length&&this.reset(),e.length<3||(this.searchTerm=e,this.htmlElement.classList.add("search--is-open"))}},{key:"closeSearch",value:function(){this.reset(),this.onClose&&this.onClose()}},{key:"reset",value:function(){this.searchTerm="",this.htmlElement.classList.remove("search--is-open")}}]),e}();t.default={bindings:{isOpen:"<",onClose:"&?"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/layout/main-nav/components/main-nav-search.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <div ng-if=$ctrl.isOpen class="main-nav-search animate" ng-class="{\n        \'main-nav-search--results-open\': $ctrl.searchTerm,\n    }" ui-keydown="{\n        esc: \'$ctrl.closeSearch()\',\n    }"> <div class=main-nav-search__header> <smash-search-input on-change=$ctrl.onSearchStringChange(search) class=main-nav-search__input></smash-search-input> <htbx-button-close data-on-select=$ctrl.closeSearch() class=main-nav-search__close></htbx-button-close> </div> <smash-search-results data-search=$ctrl.searchTerm class=main-nav-search__results></smash-search-results> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(0)),r=n(74),s=a(n(2625));n(2626);var l="left",c="right",u=function(){function e(t,n,a,i,r,s){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$stateChangeStart=function(){u.close(),u.removeEvents()},this.documentClickEvent=function(e){var t=o.default.element(e.target);u.isOpen&&!u.documentClickLocked&&(u.documentClickLocked=!0,u.documentClickLockTimeout=u.$timeout(function(){u.documentClickLocked=!1},200),t.closest(u.$element).length||t.closest("[data-side-nav-trigger], .button-close").length||u.$scope.$apply(u.close.bind(u)))},this.$timeout=a,this.$rootScope=i,this.$document=o.default.element(document),this.$ngRedux=s,this.ALIGN_LEFT=l,this.ALIGN_RIGHT=c,o.default.isUndefined(this.align)&&(this.align=l),this.$scope=t,this.$element=n,this.isLoggedIn=r.isAuthenticated,this.isSuperAdmin=r.isSuperAdmin,this.documentClickLockTimeout=null}return e.$inject=["$scope","$element","$timeout","$rootScope","loggedUser","$ngRedux"],i(e,[{key:"$onInit",value:function(){this.$boundStateChangeStartEvent=this.$rootScope.$on("$stateChangeStart",this.$stateChangeStart)}},{key:"$onDestroy",value:function(){this.removeEvents(),this.$boundStateChangeStartEvent(),this.$timeout.cancel(this.documentClickLockTimeout)}},{key:"$onChanges",value:function(e){e&&e.isOpen&&(e.isOpen.currentValue?this.addEvents():this.removeEvents())}},{key:"addEvents",value:function(){var e=this;this.$documentClickEventTimeout=this.$timeout(function(){e.$document.on("click touchstart",e.documentClickEvent)},100)}},{key:"removeEvents",value:function(){this.$timeout.cancel(this.$documentClickEventTimeout),this.$document.off("click touchstart",this.documentClickEvent)}},{key:"close",value:function(){this.isOpen&&this.onClose&&this.onClose()}},{key:"logout",value:function(){this.$ngRedux.dispatch((0,r.logout)())}}]),e}();t.default={bindings:{isOpen:"<?",align:"@?",appLinks:"<?",showLogout:"<?",onClose:"&?"},templateUrl:s.default,transclude:!0,controller:u}},function(e,t,n){var a="/src/js/layout/main-nav/components/side-nav.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-if=$ctrl.isOpen class=\"side-nav animate\" ng-class=\"{\n        'side-nav--is-open': $ctrl.isOpen,\n        'side-nav--align-left': ($ctrl.align === $ctrl.ALIGN_LEFT),\n        'side-nav--align-right': ($ctrl.align === $ctrl.ALIGN_RIGHT),\n        'side-nav--has-app-links': ($ctrl.appLinks && !$ctrl.showLogout),\n        'side-nav--has-logout': ($ctrl.showLogout && !$ctrl.appLinks),\n    }\"> <htbx-scrollable class=side-nav__content> <div ng-transclude></div> </htbx-scrollable> <div ng-if=\"$ctrl.showLogout && !$ctrl.appLinks\" class=side-nav__footer> <div class=side-nav__footer__logout> <button ng-click=$ctrl.logout() type=button class=side-nav__footer__logout__button> <span class=side-nav__footer__logout__button__text> Logout </span> </button> </div> <div ng-if=$ctrl.isSuperAdmin() class=side-nav__footer__viewport-toggle> <htbx-viewport-toggle></htbx-viewport-toggle> </div> </div> <div ng-if=\"$ctrl.appLinks && !$ctrl.showLogout\" class=side-nav__footer> <htbx-ui-app-links data-cta=true data-title=\"{{:: 'view_popover-mobile_header_get-hitbox-app' | translate}}:\" data-ios={{::$root.config.apps.ios.url}} data-android={{::$root.config.apps.android.url}}></htbx-ui-app-links> </div> </div> <div ng-if=$ctrl.isOpen ng-click=$ctrl.close() class=\"side-nav__backdrop animate\"></div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2628));n(2629);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$document=t,this.htmlElement=t[0].documentElement,this.searchTerm=""}return e.$inject=["$document"],a(e,[{key:"$onDestroy",value:function(){this.reset()}},{key:"onSearchStringChange",value:function(e){0===e.length&&this.reset(),e.length<3||(this.searchTerm=e,this.htmlElement.classList.add("search--is-open"))}},{key:"reset",value:function(){this.searchTerm="",this.htmlElement.classList.remove("search--is-open")}}]),e}();t.default={templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/layout/main-nav/components/page-side-nav.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <div class=page-side-nav> <smash-search-input variant=compact show-reset=true on-change=$ctrl.onSearchStringChange(search) class=page-side-nav__search></smash-search-input> <smash-search-results data-search=$ctrl.searchTerm class=page-side-nav__search-results></smash-search-results> <browse-links variant=nav show-for-you=true class=page-side-nav__links></browse-links> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2631));n(2632);var o=function(e){return{language:e.language.abbreviation}},r=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.toggleLanguageMenu=function(){n.languageMenuOpened=!n.languageMenuOpened},this.$ngRedux=t,this.languageMenuOpened=!1,this.unsubscribeReduxConnection=this.$ngRedux.connect(o)(this)}return e.$inject=["$ngRedux"],a(e,[{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}}]),e}();t.default={controller:r,templateUrl:i.default}},function(e,t,n){var a="/src/js/layout/main-nav/components/user-side-nav.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <div class=user-side-nav> <div class=user-side-nav__header> <user-card class=user-side-nav__user-card></user-card> <smash-language-switch data-children=$ctrl.language data-on-select=$ctrl.toggleLanguageMenu class=user-side-nav__language-switch></smash-language-switch> </div> <div class=user-side-nav__separator></div> <language-menu ng-if=$ctrl.languageMenuOpened class=user-side-nav__language-menu></language-menu> <htbx-sub-nav data-active-section={{$root.section}} data-variant=side-nav></htbx-sub-nav> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{restrict:"E",template:'\n            <app-banner></app-banner>\n            <htbx-main-nav-container\n                data-section="{{$root.section}}"\n                data-config="config"\n            ></htbx-main-nav-container>'}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a){a.init(t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),s=a(r),l=a(n(90)),c=n(42),u=a(n(2635));n(2636),i.$inject=["scope","$element","attrs","controller"];var d="page--is-popped-out",f=function(e){return{language:e.language.abbreviation}},p=function(){function e(t,n,a,i,o,u,p,m,h,g,_,v,b,y,w){var $=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.openSearch=function(){$.onToggleSearch&&($.onToggleSearch({toggle:!0}),$.closeActiveMenu())},this.togglePageNav=function(){$.isPageSideNavOpen=!$.isPageSideNavOpen,$.onTogglePageSideNav&&$.onTogglePageSideNav({toggle:$.isPageSideNavOpen})},this.toggleUserNav=function(){$.isUserSideNavOpen=!$.isUserSideNavOpen,$.onToggleUserSideNav&&$.onToggleUserSideNav({toggle:$.isUserSideNavOpen})},this.toggleMenu=function(e){var t=$.activeMenu;$.closeActiveMenu(),e!==t&&($.activeMenu=e,$.$document.on("click touchstart",$.clickEvent))},this.toggleLanguageMenu=function(){$.toggleMenu("languageMenu")},this.toggleUserMenu=function(){$.toggleMenu("userMenu")},this.closeActiveMenu=function(){$.activeMenu=null,$.$document.off("click touchstart",$.clickEvent)},this.popupLogin=function(){$.closeActiveMenu(),$.$ngRedux.dispatch((0,c.showSignin)())},this.popupSignup=function(){$.closeActiveMenu(),$.$ngRedux.dispatch((0,c.showSignup)())},this.clickEvent=function(e){(0,r.element)(e.target).closest($.$element).length||(e.preventDefault(),$.$timeout(function(){return $.toggleMenu($.activeMenu)}))},this.onNavTabUpdated=function(){$.tab=$.navState.getTab()},this.onStateChangeStart=function(e,t,n){n.user&&($.user={user_name:n.user}),$.closeSearch()},this.getTranslation=function(e,t){return $.$translate.instant(e,t)},this.$document=t,this.$state=n,this.$scope=a,this.$rootScope=i,this.$timeout=o,this.$window=u,this.DisplayService=p,this.$stateParams=m,this.ScrollCheck=h,this.$location=g,this.loggedUser=_,this.DashboardPopout=v,this.$translate=b,this.$ngRedux=w;var x=t[0].documentElement,k=g.search();this.deviceSize=p.deviceSize,this.navState=p.navState,this.isLoggedIn=_.isAuthenticated,this.isSuperAdmin=_.isSuperAdmin,this.isMobile=!1,this.isPoppedOut=!1,this.activeMenu=null,this.unsubscribeReduxConnection=this.$ngRedux.connect(f)(this),"dashboard"===this.$rootScope.section&&(this.isPoppedOut=s.default.isDefined(k.popout)&&(0,l.default)(k.popout)),this.isPoppedOut&&x.classList.add(d),a.$on("isMobile",function(){$.isMobile=!0}),a.$on("isTablet",function(){$.isMobile=!1}),a.$on("isDesktop",function(){$.isMobile=!1}),a.$on("$stateChangeStart",function(){return $.closeActiveMenu()}),s.default.isUndefined(this.isPageSideNavOpen)&&(this.isPageSideNavOpen=!1),a.$watch(function(){return $.isSearchOpen},function(){$.scrollCheckInstance&&($.isSearchOpen?$.scrollCheckInstance.lock():$.scrollCheckInstance.unlock())});var S=i.$on("navTabUpdated",this.onNavTabUpdated);this.user={user_name:m.user?m.user:this.loggedUser.getName()};var C=i.$on("$stateChangeStart",this.onStateChangeStart);a.$on("$destroy",function(){S(),C(),$.unsubscribeReduxConnection&&$.unsubscribeReduxConnection(),$.scrollCheckInstance&&$.scrollCheckInstance.destroy(),$.closeActiveMenu(),x.classList.remove(d)}),a.now=new Date,a.section=n.current.section}return e.$inject=["$document","$state","$scope","$rootScope","$timeout","$window","DisplayService","$stateParams","ScrollCheck","$location","loggedUser","DashboardPopout","$translate","$controller","$ngRedux"],o(e,[{key:"init",value:function(e){var t=this;this.$element=e,this.scrollCheckInstance=new this.ScrollCheck({target:e,offsets:{up:0,down:60},classNames:{scrolled:"main-nav--scrolled",up:"main-nav--scrolled-up",down:"main-nav--scrolled-down",firstDown:"main-nav--scrolled-down-start",locked:"main-nav--scroll-locked"}}),this.$scope.$on("openSearch",function(){t.openSearch()})}},{key:"$onChanges",value:function(e){e&&this.scrollCheckInstance&&(e.isPageSideNavOpen||e.isUserSideNavOpen)&&(e.isPageSideNavOpen&&e.isPageSideNavOpen.currentValue||e.isUserSideNavOpen&&e.isUserSideNavOpen.currentValue?this.scrollCheckInstance.lock():this.scrollCheckInstance.unlock())}},{key:"closeSearch",value:function(){this.onToggleSearch&&this.onToggleSearch({toggle:!1})}},{key:"closePopover",value:function(){this.DisplayService.popoverState.destroy()}},{key:"popoutDashboard",value:function(e){this.DashboardPopout.popout(e)}},{key:"getSectionClass",value:function(){return this.$state.current.section}}]),e}();t.default=function(){return{restrict:"E",scope:{section:"@",config:"=",isSearchOpen:"<?",isSideNavActive:"<?",isPageSideNavOpen:"<?",isUserSideNavOpen:"<?",onToggleSearch:"&?",onTogglePageSideNav:"&?",onToggleUserSideNav:"&?"},templateUrl:u.default,replace:!0,controllerAs:"mainNav",bindToController:!0,controller:p,link:i}}},function(e,t,n){var a="/src/js/layout/main-nav/directives/main-nav-header.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-class=\"[\n        'main-nav',\n        'main-nav--section-' + mainNav.getSectionClass(),\n        'nono',\n        {\n            'main-nav--search-is-open': mainNav.isSearchOpen,\n            'main-nav--is-open': mainNav.isNavOpened,\n        },\n    ]\"> <htbx-main-nav-react ng-if=!mainNav.isPoppedOut data-state-current-name=mainNav.$state.current.name data-state-href=mainNav.$state.href data-is-mobile=mainNav.isSideNavActive data-is-logged-in=mainNav.isLoggedIn() data-is-page-side-nav-open=mainNav.isPageSideNavOpen data-is-user-side-nav-open=mainNav.isUserSideNavOpen data-toggle-page-side-nav=mainNav.togglePageNav data-toggle-user-side-nav=mainNav.toggleUserNav data-toggle-user-menu=mainNav.toggleUserMenu data-search-on-select=mainNav.openSearch data-language-switch-active=\"mainNav.activeMenu === 'languageMenu'\" data-language-switch-on-select=mainNav.toggleLanguageMenu data-language-switch-label=mainNav.language data-user-menu-icon-src=\"::mainNav.config.imgUrl + mainNav.loggedUser.getLogoSmall()\" data-nav-login-links-popup-login=mainNav.popupLogin data-nav-login-links-popup-signup=mainNav.popupSignup class=main-nav__container></htbx-main-nav-react> <language-menu ng-if=\"mainNav.activeMenu === 'languageMenu'\" variant=vertical relative-element-selector=\"'#language-select-target'\"></language-menu> <user-menu ng-if=\"mainNav.activeMenu === 'userMenu'\"></user-menu> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2638));n(2639),t.default=function(){return{restrict:"E",scope:{team:"=",search:"="},templateUrl:a.default,controller:["$scope","$timeout","$http","$element","$attrs","Teams",function(e,t,n,a,i,o){var r=!1;e.loading=!1,e.$watch("[team, search]",function(n,a){n===a&&!1!==r||(r=!0,e.teams=[],e.searchTimeout&&t.cancel(e.searchTimeout),e.search.length>2&&(e.searchTimeout=t(function(){e.loading=!0,o.get({search:e.search},function(t){e.teams=t,e.loading=!1})},300)))},!0)}]}}},function(e,t,n){var a="/src/js/layout/main-nav/directives/teamlist.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-if="!teams.loading && teams.teams.length === 0" class=teamlist__no-content> {{::\'global_header_no-teams\'|translate}} </div> <ul class=team-list> <li ng-repeat="team in teams.teams"> <a ui-sref="team({team: team.info.group_name})"> <img class="logo round" ng-src={{::$root.config.imgUrl}}{{team.info.group_logo_small}} fallback-src={{::$root.config.fallbackImages.teamLogo}} /> <div class=name>{{team.info.group_name}}</div> </a> </li> </ul> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){var t=!1,n=e.matchMedia(i),a=!1,o=[];this.subscribe=function(e){o.push(e),this.start(),this.checkMediaQuery(e)}.bind(this),this.unsubscribe=function(e){var t=o.indexOf(e);-1!==t&&(o=o.slice(0,t).concat(o.slice(t+1))),o.length||this.stop()},this.isSideNavActive=function(){return a},this.start=function(){t||(t=!0,n.addListener(this.handleWindowResize))},this.stop=function(){t&&(t=!1,n.removeListener(this.handleWindowResize))},this.handleWindowResize=function(e){a=e.matches,o.forEach(function(e){e()})},this.checkMediaQuery=function(e){a=n.matches,e()}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$window"];var i="(max-width: 799px)";t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2642));t.default=i.default.module("htbx.ui-elements.main-footer",[]).component("mainFooter",o.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2643));n(2644);var o=function(e){return{language:e.language.abbreviation}},r=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.toggleLanguageMenu=function(){n.languageMenuOpened=!n.languageMenuOpened},this.$ngRedux=t,this.languageMenuOpened=!1,this.now=new Date,this.unsubscribeReduxConnection=this.$ngRedux.connect(o)(this)}return e.$inject=["$ngRedux"],a(e,[{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}}]),e}();t.default={templateUrl:i.default,controller:r}},function(e,t,n){var a="/src/js/layout/main-footer/components/main-footer.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <footer class=main-footer> <device-check show-if-mobile=true show-if-tablet=false show-if-desktop=false> <smash-language-switch data-children=$ctrl.language data-on-select=$ctrl.toggleLanguageMenu class=main-footer__language-select></smash-language-switch> <language-menu ng-if=$ctrl.languageMenuOpened class=main-footer__language-menu></language-menu> </device-check> <ul class=main-footer__nav> <li class=main-footer__nav__item> <htbx-feedback-modal-trigger custom-class=main-footer__nav__link> {{:: 'global_menu_feedback' | translate}} </htbx-feedback-modal-trigger> </li> <li class=main-footer__nav__item> <a class=main-footer__nav__link href=https://help.smashcast.tv target=_blank rel=noopener> {{:: 'global_menu_help-support' | translate}} </a> </li> <li class=main-footer__nav__item> <a class=main-footer__nav__link href=\"{{::'footer_link-blog-url' | translate}}\" target=_blank rel=noopener> {{:: 'global_menu_blog' | translate}} </a> </li> <li class=main-footer__nav__item> <a class=main-footer__nav__link href=https://developers.smashcast.tv/ target=_blank rel=noopener> {{:: 'global_menu_developers' | translate}} </a> </li> <li class=main-footer__nav__item> <a ui-sref=broadcastTools class=main-footer__nav__link> {{:: 'global_text_broadcast-tools' | translate}} </a> </li> <li class=main-footer__nav__item> <a class=main-footer__nav__link href=\"https://drive.google.com/drive/folders/0B9Ekxwvoc30RUjJxNDRqX0N6WHM?usp=sharing\" target=_blank rel=noopener> {{:: 'global_text_brand-assets' | translate}} </a> </li> </ul> <ul class=main-footer__subnav> <li class=main-footer__subnav__item> &copy; Smashcast {{:: $ctrl.now | date:'yyyy' }} </li> <li class=main-footer__subnav__item> <a ui-sref=\"legal({ tab: 'terms-of-use' })\" class=main-footer__subnav__link> {{:: 'global_menu_terms' | translate}} </a> </li> <li class=main-footer__subnav__item> <a ui-sref=\"legal({ tab: 'privacy-policy' })\" class=main-footer__subnav__link> {{:: 'global_menu_policy' | translate}} </a> </li> <li class=main-footer__subnav__item> <a ui-sref=\"legal({ tab: 'imprint' })\" class=main-footer__subnav__link> {{:: 'global_menu_imprint' | translate}} </a> </li> <li ng-repeat=\"social in $root.config.socials track by social.name\" class=main-footer__subnav__item> <a class=main-footer__subnav__link ng-href=\"{{::(social.translation ? (social.translation | translate) : social.url)}}\" target=_blank rel=noopener> <span>{{::social.displayName}}</span> </a> </li> </ul> <htbx-ui-app-links data-cta=true data-title=\"{{:: 'view_popover-mobile_header_get-hitbox-app' | translate}}:\" data-ios={{::$root.config.apps.ios.url}} data-android={{::$root.config.apps.android.url}} class=main-footer__app-links></htbx-ui-app-links> </footer> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2646));t.default=i.default.module("htbx.maintenance",[o.default]).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2647)),r=a(n(2648));t.default=i.default.module("htbx.maintenance.message",[]).factory("GlobalMessage",o.default).component("htbxMaintenanceMessage",r.default).name},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/globalmessage",{},{get:{method:"GET"}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(16));n(2649);var r=a(n(2650)),s=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$sce:t,GlobalMessage:n,$timeout:a}),this.messageShow=!1}return e.$inject=["$sce","GlobalMessage","$timeout"],i(e,[{key:"$onInit",value:function(){var e=this;this.$timeout(function(){return e.getMessage()},5e3)}},{key:"hide",value:function(){this.messageShow=!1,o.default.set("smashcast.maintenance.show",!1)}},{key:"getMessage",value:function(){var e=this;this.GlobalMessage.get(function(t){if(t.message){var n=o.default.get("smashcast.maintenance.message","");e.maintenanceMessage=e.$sce.trustAsHtml(t.message),t.message!==n&&(o.default.set("smashcast.maintenance.message",t.message),o.default.set("smashcast.maintenance.show",!0)),e.messageShow=o.default.get("smashcast.maintenance.show",!1)}})}}]),e}();t.default={templateUrl:r.default,controller:s}},function(e,t){},function(e,t,n){var a="/src/js/maintenance/message/components/message.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-if="!$root.detached && $ctrl.messageShow" class=htbx-maintenance-message> <button ng-click=$ctrl.hide() type=button autofocus class=htbx-maintenance-message__close> <smash-icon icon=close size=16 center=true></smash-icon> </button> <div ng-bind-html=$ctrl.maintenanceMessage class=htbx-maintenance-message__message></div> </div> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=n(15),r=a(n(2652));t.default=i.default.module("htbx.newsletter",[]).component("htbxUnsubscribeNewsletter",r.default).config(["$stateProvider",function(e){var t=o.ROUTING_CONFIG.accessLevels;e.state("newsletter",{url:"/unsubscribe/newsletter",views:{viewNav:{template:"<htbx-main-nav></htbx-main-nav>"},viewMain:{template:"<htbx-unsubscribe-newsletter></htbx-unsubscribe-newsletter>"}},access:t.anon,section:"unsubscribe"})}]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2653));n(2654);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.Analytics=t}return e.$inject=["Analytics"],a(e,[{key:"$onInit",value:function(){this.Analytics.trackEvent("newsletter","Unsubscribe")}}]),e}();t.default={templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/newsletter/components/unsubscribe-newsletter.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <div class=unsubscribe-newsletter> <htbx-alert type=warning> {{::'view_unsubscribe-newsletter_text_success-unsubscribed' | translate}} </htbx-alert> <a ui-sref=home.root class=unsubscribe-newsletter__link> {{::'view_unsubscribe-newsletter_text_continue-to-start' | translate}} </a> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=n(15),r=a(o),s=a(n(190)),l=a(n(2770)),c=a(n(2771)),u=a(n(2772)),d=a(n(2773)),f=a(n(2776)),p=a(n(2778)),m=a(n(2781)),h=a(n(2783)),g=a(n(2786)),_=a(n(2787)),v=a(n(2788));n(2789),t.default=i.default.module("htbx.payments",[r.default,s.default]).factory("PaymentOrders",l.default).factory("AvailableBalance",c.default).factory("PaymentSettings",u.default).directive("availableBalance",d.default).directive("emailVerified",f.default).directive("paymentsAccountPopover",p.default).component("paymentsPage",m.default).component("paymentsOverview",h.default).config(["$stateProvider","mediaExistsResolve",function(e,t){var n=o.ROUTING_CONFIG.accessLevels;e.state("payments",{url:"/payments/:user",resolve:t,section:"payments",parent:"nav",views:{"viewMain@":{template:"<payments-page></payments-page>"}},layoutVariant:"settings",access:n.admin,requiresAuth:!0}).state("payments.welcome",{url:"/welcome",section:"payments",templateUrl:g.default,layoutVariant:"settings",access:n.admin,tab:"payments",requiresAuth:!0}).state("payments.partofteam",{url:"/partofteam",section:"payments",templateUrl:_.default,layoutVariant:"settings",access:n.admin,tab:"payments"}).state("payments.account",{url:"/account",section:"payments",templateUrl:v.default,layoutVariant:"settings",access:n.admin,tab:"payments",requiresAuth:!0}).state("payments.overview",{url:"/overview",section:"payments",template:"<payments-overview></payments-overview>",layoutVariant:"settings",access:n.admin,tab:"payments",requiresAuth:!0})}]).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2657)),r=a(n(2659)),s=a(n(2663)),l=a(n(2667)),c=a(n(2670)),u=a(n(2671));t.default=i.default.module("smash.webhook",[]).component("webhookManager",o.default).component("webhookAddFormModal",r.default).component("webhookList",s.default).component("webhookListItem",l.default).factory("Webhook",c.default).factory("WebhookEvents",u.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2658)),o=function(){function e(t,n,a,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$uibModal:t,$stateParams:n,loggedUser:i,Webhook:o}),this.$log=a}return e.$inject=["$uibModal","$stateParams","$log","loggedUser","Webhook"],a(e,[{key:"$onInit",value:function(){var e=this;this.webhookLimit=1,this.webhooks=[],this.loading=!0,this.Webhook.get({media_id:this.$stateParams.user||this.loggedUser.getName(),authToken:this.loggedUser.getToken()}).$promise.then(function(t){e.webhooks=[t]}).catch(function(t){e.$log.error(t)}).finally(function(){e.loading=!1})}},{key:"openAddWebhookModal",value:function(){var e=this;this.$uibModal.open({animation:!0,backdrop:!0,keyboard:!0,windowClass:"webhook-add-modal",component:"webhookAddFormModal"}).result.then(function(t){t&&(e.webhooks=[t])})}}]),e}();t.default={templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/webhook/components/webhook-manager.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<section class=\"webhook-manager box\"> <div class=box__title> {{::'component_webhook-manager_webhooks' | translate}} <htbx-button data-type=button data-variant=default data-on-select=$ctrl.openAddWebhookModal() class=box__action__button data-disabled=\"$ctrl.webhooks.length >= $ctrl.webhookLimit || $ctrl.loading\"> {{::'component_webhook-manager_add-webhook' | translate }} </htbx-button> </div> <smash-spinny ng-if=$ctrl.loading data-size=\"'medium'\"></smash-spinny> <div ng-if=\"!$ctrl.loading && !$ctrl.webhooks.length\" class=webhook-manager__no-webhooks> {{::'component_webhook-manager_no-webhooks' | translate}} </div> <webhook-list ng-if=!$ctrl.loading data-webhooks=$ctrl.webhooks></webhook-list> </section> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(9),r=a(n(2660)),s=a(n(2661));n(2662);var l=function(){function e(t,n,a,i,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$translate:t,$stateParams:n,loggedUser:i,Webhook:o,WebhookEvents:r}),this.$log=a}return e.$inject=["$translate","$stateParams","$log","loggedUser","Webhook","WebhookEvents"],i(e,[{key:"$onInit",value:function(){this.urlRegex=r.default,this.url="",this.events=this.WebhookEvents,this.loading=!1}},{key:"submit",value:function(){var e=this;this.loading=!0,this.Webhook.create({method:this.getEnabledEvents(),url:this.url,media_id:this.$stateParams.user||this.loggedUser.getName(),authToken:this.loggedUser.getToken()}).$promise.then(function(t){e.close({$value:t})}).catch(function(t){e.$log.error(t)}).finally(function(){e.loading=!1})}},{key:"getEnabledEvents",value:function(){var e=[];return(0,o.fromJS)(this.events).forEach(function(t){t.get("selected")&&e.push(t.get("name"))}),e}}]),e}();t.default={bindings:{close:"&",dismiss:"&"},templateUrl:s.default,controller:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=new RegExp("^https://(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i")},function(e,t,n){var a="/src/js/webhook/components/webhook-add-form-modal.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<form accept-charset=UTF-8 class=webhook-add-form ng-submit=$ctrl.submit() name=webhookAddForm> <header class=modal-header> <h3 class=modal-title id=modal-title> {{::'component_webhook-add-form_add-webhook'|translate}} </h3> </header> <section> <div class=dash__input> <div class=webhook-add-form__option> <label for=webhookUrl> <h3 class=webhook-add-form__option__label> {{::'component_webhook-add-form_url'|translate}} </h3> </label> <div class=webhook-add-form__option__description> {{::'component_webhook-add-form_url_description'|translate}} </div> <input id=webhookUrl ng-model=$ctrl.url name=webhookUrl class=box__text-input type=text ng-pattern=$ctrl.urlRegex required/> </div> </div> <div class=dash__input> <div class=webhook-add-form__option> <h3 class=webhook-add-form__option__label> {{::'component_webhook-add-form_trigger'|translate}} </h3> <ul class=webhook-add-form__events> <li class=webhook-add-form__events__event ng-repeat=\"(key, event) in $ctrl.events track by key\"> <toggle-checkbox ng-model=event.selected label={{::event.displayName}}> </toggle-checkbox> <span class=webhook-add-form__events__event__description> {{::event.description}} </span> </li> </ul> </div> </div> </section> <footer class=modal-footer> <htbx-button data-type=button data-variant=outline data-on-select=$ctrl.dismiss() class=htbx-modal__footer__button> {{::'global_text_cancel'|translate}} </htbx-button> <htbx-button data-type=submit data-variant=ok class=htbx-modal__footer__button data-disabled=\"webhookAddForm.$invalid || $ctrl.getEnabledEvents().length === 0 || $ctrl.loading\" data-loading=$ctrl.loading data-loading-spinny=true> {{::'global_button_save'|translate}} </htbx-button> </footer> </form> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(2664)),o=a(n(2665));n(2666),t.default={bindings:{webhooks:"<"},templateUrl:i.default,controller:function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.tableItemTpl=o.default}}},function(e,t,n){var a="/src/js/webhook/components/webhook-list.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<htbx-table list=$ctrl.webhooks item-tpl={{::$ctrl.tableItemTpl}} items-per-page=10 loading=$ctrl.loading class="webhook-list box-list table--webhook-list table--discord" ng-if=$ctrl.webhooks.length></htbx-table> ')}]),e.exports=a},function(e,t,n){var a="/src/js/webhook/views/list.webhooks.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<webhook-list-item item=item></webhook-list-item> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(9),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2668));n(2669);var r=function(){function e(t,n,a,i,o,r,s,l){var c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getEvent=function(e){return c.events.find(function(t){return t.get("name")===e})},this.testWebhook=function(e){e.testing=!0,c.Webhook.test({method:c.testEvent.get("name"),media_id:c.$stateParams.user||c.loggedUser.getName(),authToken:c.loggedUser.getToken()}),c.$timeout(function(){e.testing=!1},1e4)},this.openDeleteWebhookModal=function(){var e=c.$translate.instant("component_webhook-list_delete-webhook-sure"),t=[{result:!1,label:c.$translate.instant("global_text_cancel")},{result:!0,label:c.$translate.instant("global_text_remove"),variant:"warning"}];return new c.HtbxModal(e,"",t).open().then(function(e){e&&c.deleteWebhook()})},this.deleteWebhook=function(){c.Webhook.delete({media_id:c.$stateParams.user||c.loggedUser.getName(),authToken:c.loggedUser.getToken()}).$promise.then(function(){c.webhookManager.webhooks=[]}).catch(function(e){c.$log.error(e)})},Object.assign(this,{Webhook:t,WebhookEvents:n,$timeout:a,$stateParams:i,$translate:r,HtbxModal:s,loggedUser:l}),this.$log=o}return e.$inject=["Webhook","WebhookEvents","$timeout","$stateParams","$log","$translate","HtbxModal","loggedUser"],a(e,[{key:"$onInit",value:function(){this.events=(0,i.fromJS)(this.WebhookEvents)}},{key:"setTestEvent",value:function(e){e!==this.testEvent?this.testEvent=e:this.testEvent=null}}]),e}();t.default={bindings:{item:"<"},require:{webhookManager:"^webhookManager"},templateUrl:o.default,controller:r}},function(e,t,n){var a="/src/js/webhook/components/webhook-list-item.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=webhook-list-item> <div class=webhook-list-item__data> <div class=webhook-list-item__url>{{::$ctrl.item.url}}</div> <div class=webhook-list-item__token> <strong>{{'component_webhook-list_token'|translate}}</strong> <a ng-if=!$ctrl.showToken href=javascript:void(0) ng-click=\"$ctrl.showToken = true\"> {{::'component_webhook-list_click-to-reveal'|translate}} </a> <span ng-if=$ctrl.showToken> {{::$ctrl.item.token}} </span> </div> <ul class=webhook-list-item__event-list> <li class=webhook-list-item__event-list__item ng-repeat=\"eventName in $ctrl.item.method track by $index\" uib-tooltip=\"{{::$ctrl.getEvent(eventName).get('description')}}\" data-tooltip-append-to-body=true> <a class=webhook-list-item__event-list__item__link ng-class=\"{\n                        'webhook-list-item__event-list__item__link--test-event': $ctrl.testEvent === $ctrl.getEvent(eventName),\n                    }\" ng-click=$ctrl.setTestEvent($ctrl.getEvent(eventName))> {{::$ctrl.getEvent(eventName).get('displayName')}} </a> </li> </ul> </div> <div class=webhook-list-item__actions> <span uib-tooltip=\"{{::'component_webhook-list_select-test-event'|translate}}\" data-tooltip-append-to-body=true data-tooltip-enable=!$ctrl.testEvent class=webhook-list-item__action--test> <htbx-button data-type=button data-variant=outline data-on-select=$ctrl.testWebhook($ctrl.item) data-size=super-small data-disabled=\"$ctrl.item.testing || !$ctrl.testEvent\" class=webhook-list-item__action ng-class=\"{ 'webhook-list-item__action--testing': $ctrl.item.testing }\"> {{::'component_webhook-list_test-webhook' | translate}} </htbx-button> </span> <htbx-button-remove data-on-select=$ctrl.openDeleteWebhookModal(item) data-label=\"{{::'component_webhook-list_delete-webhook' | translate }}\" class=webhook-list-item__action></htbx-button-remove> </div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/webhook/:media_id",{media_id:"@media_id",method:"@method",authToken:"@authToken"},{get:{method:"GET",params:t,isArray:!1},test:{method:"GET",url:i.default.apiUri+"/webhook/:media_id/:method",isArray:!1},create:{method:"PUT",params:t},delete:{method:"DELETE",params:t}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return{follow:{displayName:e.instant("component_webhook-add-form_event_follow"),name:"follow",description:e.instant("component_webhook-add-form_event_follow-description"),selected:!1,order:0},unfollow:{displayName:e.instant("component_webhook-add-form_event_unfollow"),name:"unfollow",description:e.instant("component_webhook-add-form_event_unfollow-description"),selected:!1,order:1},subscribe:{displayName:e.instant("component_webhook-add-form_event_subscribe"),name:"subscribe",description:e.instant("component_webhook-add-form_event_subscribe-description"),selected:!1,order:2},unsubscribe:{displayName:e.instant("component_webhook-add-form_event_unsubscribe"),name:"unsubscribe",description:e.instant("component_webhook-add-form_event_unsubscribe-description"),selected:!1,order:3},online:{displayName:e.instant("component_webhook-add-form_event_online"),name:"online",description:e.instant("component_webhook-add-form_event_online-description"),selected:!1,order:4},offline:{displayName:e.instant("component_webhook-add-form_event_offline"),name:"offline",description:e.instant("component_webhook-add-form_event_offline-description"),selected:!1,order:5},hosted:{displayName:e.instant("component_webhook-add-form_event_hosted"),name:"hosted",description:e.instant("component_webhook-add-form_event_hosted-description"),selected:!1,order:6},unhosted:{displayName:e.instant("component_webhook-add-form_event_unhost"),name:"unhosted",description:e.instant("component_webhook-add-form_event_unhost-description"),selected:!1,order:7}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,a.$inject=["$translate"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SETUP_AS_PARTNER:"SETUP_AS_PARTNER",SETUP_AS_NOT_YET_A_PARTNER:"SETUP_AS_NOT_YET_A_PARTNER",READ_WELCOME:"READ_WELCOME",UNSEE_WELCOME_PAGE:"UNSEE_WELCOME_PAGE",BECAME_A_PARTNER:"BECAME_A_PARTNER"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={UNKOWN_STATE:"UnknownState",NOT_YET_A_PARTNER:"NotYetAPartner",VISITED_WELCOME:"VisitedWelcome",IS_A_PARTNER:"IsAPartner"}},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/chatbanlist/:channel",{channel:"@media_name",authToken:"@authToken"},{get:{method:"GET",isArray:!1},delete:{method:"DELETE",params:{user:"@user"},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e,t,n){var a={};return a.getDeletionStatus=function(t,a,i){function o(e){return Math.round(100*e)/100}var r={user:{msg:""}},s={user:t,authToken:a};e.get(s,function(e){var t=0,a=0,s="";e.forEach(function(e){a+=parseFloat(e.sub_earnings)+parseFloat(e.live_earnings)+parseFloat(e.video_earnings)+parseFloat(e.special_credits),s=e.plan_currency,t=e.min_threshold}),r.user.msg=t>a&&0!==a?n.instant("view_account-settings_text_delete-billing-note-no-payout",{balance:o(a),currency:s}):t<=a&&0!==t?n.instant("view_account-settings_text_delete-billing-note-payout",{balance:o(a),currency:s}):n.instant("view_account-settings_text_delete-billing-note"),i(r)},function(){i(r)})},a}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["AvailableBalance","$rootScope","$translate"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/chat/moderations/:user_name",{user_name:"@user_name"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/chat/moderators/:user_name",{user_name:"@user_name"},{add:{method:"POST",params:t,isArray:!1},remove:{method:"DELETE",params:t,isArray:!1},get:{method:"GET",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/chat/icon/:icon_name",{icon_name:"@icon_name"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e,t){var n={};return{verifyPassword:function(e,n){var a={};return e.length<6?(a.user_password=t.instant("view_signup_error_password-short"),a):n!==e?(a.user_password2=t.instant("view_signup_error_password-nomatch"),a):{}},verifyUser:function(a){var o={};if(!(a.length>2))return o.user_name=t.instant("view_signup_error_username-short"),o;var r=e(i.default.apiUri+"/user/:name");return n=r.get({name:a},function(){return null!=n.user_name&&(o.user_name=t.instant("view_signup_error_username-taken"),o)}),o},verifyEmail:function(e){var n={};return n.user_email="",/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)?{}:(n.user_email=t.instant("view_signup_error_email-invalid"),n)},verifyDisplayName:function(e,n){var a={};return e.toLowerCase()!==n.toLowerCase()&&(a.user_display_name=t.instant("view_account-settings_text_can-change")),a}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource","$translate"]},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/notifications",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:t,isArray:!1},update:{method:"PUT",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/verifyemail/:verifyToken",{verifyToken:"@verifyToken"},{verify:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/tfasetup/:user",{authToken:"@authToken",user:"@user"},{get:{method:"GET",params:{nocache:"true"},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/tfastop/:user",{authToken:"@authToken",user:"@user",code:"@code"},{get:{method:"GET",params:{nocache:"true"},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/tfavalidate/:user/:code",{authToken:"@authToken",user:"@user",code:"@code"},{get:{method:"GET",params:{nocache:"true"},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){var t={};return e(s.default.apiUri+"/facebook/pages",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:t,isArray:!1},save:{method:"POST",params:t,isArray:!1}})}function i(e){return e(s.default.apiUri+"/facebook/rescrape",{id:"@id",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1}})}function o(e){var t={};return e(s.default.apiUri+"/facebook",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:t,isArray:!1},post:{method:"POST",params:t,isArray:!1}})}function r(e){return e(s.default.apiUri+"/facebook/post",{user_name:"@user_name",authToken:"@authToken"},{post:{method:"POST",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.FacebookPostFactory=t.FacebookAccountFactory=t.FacebookResetCacheFactory=t.FacebookPagesFactory=void 0;var s=function(e){return e&&e.__esModule?e:{default:e}}(n(2));r.$inject=["$resource"],o.$inject=["$resource"],i.$inject=["$resource"],a.$inject=["$resource"],t.FacebookPagesFactory=a,t.FacebookResetCacheFactory=i,t.FacebookAccountFactory=o,t.FacebookPostFactory=r},function(e,t,n){"use strict";function a(e){var t={};return e(o.default.apiUri+"/social/twitter",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:t,isArray:!1},verify:{method:"GET",params:t,isArray:!1,url:o.default.apiUri+"/twitter/verify"}})}function i(e){return e(o.default.apiUri+"/twitter/post",{user_name:"@user_name",authToken:"@authToken"},{post:{method:"POST",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.TwitterPostFactory=t.TwitterAccountFactory=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(2));i.$inject=["$resource"],a.$inject=["$resource"],t.TwitterAccountFactory=a,t.TwitterPostFactory=i},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/social/youtube",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){var t={};return e(o.default.apiUri+"/oauthaccess/:user_name",{authToken:"@authToken",user_name:"@user_name"},{get:{method:"GET",params:t,isArray:!1},post:{method:"POST",params:t,isArray:!1}})}function i(e){var t={};return e(o.default.apiUri+"/oauthapps/:user_name",{authToken:"@authToken",user_name:"@user_name"},{get:{method:"GET",params:t,isArray:!1},create:{method:"POST",params:t,isArray:!1},update:{method:"PUT",url:o.default.apiUri+"/oauthapps/:user_name/:app_id",params:{authToken:"@authToken",user_name:"@user_name",app_id:"@app_id"},isArray:!1},delete:{method:"DELETE",url:o.default.apiUri+"/oauthapps/:user_name/:app_id",params:{authToken:"@authToken",user_name:"@user_name",app_id:"@app_id"},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.OauthAppsFactory=t.OauthAccessFactory=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(2));i.$inject=["$resource"],a.$inject=["$resource"],t.OauthAccessFactory=a,t.OauthAppsFactory=i},function(e,t,n){"use strict";function a(e,t){var n={};return t.isAuthenticated()&&(n={authToken:t.getToken()}),e(o.default.apiUri+"/editors/:user_name",{user_name:"@user_name",authToken:"@authToken"},{add:{method:"POST",params:n,isArray:!1},remove:{method:"DELETE",params:n,isArray:!1},list:{method:"GET",params:n,isArray:!1}})}function i(e,t){var n={};return t.isAuthenticated()&&(n={authToken:t.getToken()}),e(o.default.apiUri+"/editor/:user_name",{user_name:"@user_name",authToken:"@authToken"},{list:{method:"GET",params:n,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.EditorFactory=t.EditorsFactory=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(2));i.$inject=["$resource","loggedUser"],a.$inject=["$resource","loggedUser"],t.EditorsFactory=a,t.EditorFactory=i},function(e,t,n){"use strict";function a(e){return e.states.current.values}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["partnershipStateDiagram"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a){var i=t,o=n,r=[{initial:!0,name:i.UNKOWN_STATE,transitions:[{action:o.SETUP_AS_PARTNER,target:i.IS_A_PARTNER},{action:o.SETUP_AS_NOT_YET_A_PARTNER,target:i.NOT_YET_A_PARTNER}]},{name:i.NOT_YET_A_PARTNER,transitions:[{action:o.READ_WELCOME,target:i.VISITED_WELCOME}]},{name:i.VISITED_WELCOME,transitions:[{action:o.BECAME_A_PARTNER,target:i.IS_A_PARTNER},{action:o.UNSEE_WELCOME_PAGE,target:i.NOT_YET_A_PARTNER}]},{name:i.IS_A_PARTNER},{name:"current",values:{}}],s=e("partnership");s.create(r);var l=a.defer();return s.states.current.values={deferred:l,promise:l.promise},s}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["StateMachineFactory","PartnershipState","PartnershipAction","$q"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,r,s,l,c,u,d,f,p,m,h,g,_,v,b){var y=void 0;e.templateUrlNewPasswordErrorMessage=o.default,e.navState=p.navState,e.navState.setTab(""),e.tab=n.current.tab,e.subtab=n.current.subtab,e.navState.setTab(e.tab),e.showCancel={},e.save={},e.save_status={},e.editItem={},p.deviceSize.update(),e.$on("$stateChangeStart",function(t,n){e.tab=n.tab,e.navState.setTab(e.tab)}),e.edit={editPassword:!1,editEmail:!1},e.loadUser=function(){var t={user_name:a.user,authToken:v.getToken(),nocache:!0};v.isSuperAdmin()&&(t.superadmin=1),y=u.get(t,function(t){e.user=t,e.user.user_display_name=e.user.user_name,e.backup_username=e.user.user_display_name,e.backup_email=e.user.user_email,e.userDataReady=!0,"1"===e.user.tfa_active?e.user.tfa_active=!0:e.user.tfa_active=!1,e.error={}}),t={authToken:v.getToken(),user:a.user||v.getName()},h.trackEvent("user","SettingsPages"),m.get(t,function(t){e.paysettings=t,e.partner_type={id:t.partner_type,name:t.partner_type}}),e.updateTfaStatus=function(t){t!==e.user.tfa_active&&(e.user.tfa_active=t)},e.getPasswordStrengthTranslation=_.getTranslation,e.verifyPassword=function(){e.error={},e.user&&e.user.user_password_new&&e.user.user_password_new.length>0&&(e.error=d.verifyPassword(e.user.user_password_new,e.user.user_password2_new))},e.verifyEmail=function(){e.error={},e.user.user_email&&(e.error=d.verifyEmail(e.user.user_email))},e.verifyDisplayName=function(){e.error={},e.user.user_display_name&&(e.error=d.verifyDisplayName(e.user.user_display_name,e.user.user_name))},e.cancel=function(){e.showCancel={},e.editItem={},e.save_status={},e.loadUser()};var n=!1;e.saveUser=function(a){e.showCancel[a]=!1,e.error.user_email||e.error.user_password||e.error.user_password_new||e.error.user_password2_new||e.error.user_display_name||(e.save_status[a]="saving",t={authToken:v.getToken()},n=!1,e.user.user_display_name!==e.user.user_name&&(t.user_display_name=e.user.user_display_name,n=!0),y.$update(t,function(){e.save_status[a]="saved",l(e.afterUpdate,2e3)},function(t){switch(s.debug("userResourceUpdateError",t),t.data.error_msg){case"email_in_use":e.error.user_email=r.instant("view_signup_error_email-in-use");break;case"invalid_original_password":e.error.user_password=r.instant("view_signup_error_current-password");break;default:e.error.user_email=""}e.save_status[a]="error"}))},e.closeError=function(t){e.save_status[t]=""},e.deleteMsgBox=function(t){var n=r.instant("global_text_unsaved-changes"),a=[{result:!1,label:r.instant("global_text_cancel")},{result:!0,label:r.instant("global_button_continue"),variant:"ok"}];new c(n,"",a).open().then(function(n){n&&(e.editItem={},e.editItem[t]=!0,e.save_status[t]="save",e.showCancel[t]=!0,e.user.user_password="",e.user.user_password_new="",e.user.user_password2_new="",e.user.user_display_name=e.backup_username,e.user.user_email=e.backup_email)})},e.switchOpen=function(t){e.editItem[t]||((e.editItem.name||e.editItem.pwd||e.editItem.email||e.editItem.tw)&&(e.backup_username!==e.user.user_display_name||e.user.user_email!==e.backup_email||e.user.user_password||e.user.user_password_new||e.user.user_password2_new)?e.deleteMsgBox(t):(e.editItem={},e.editItem[t]=!0,e.save_status[t]="save",e.showCancel[t]=!0))},e.afterUpdate=function(){if(e.editItem={},e.showCancel={},e.save_status={},n){n=!1;var t={authToken:v.getToken()};"vk"===e.oauth_provider&&(t.vk_open_api_keys=g.getVKTokensString()),f.login(t).then(function(){e.loadUser()}).catch(function(){b.dispatch((0,i.reset)(!0))})}else e.loadUser()},e.cbupload=function(t){t.fields&&Object.assign(e.user,t.fields)},e.cbdelete=function(){return function(){e.loadUser()}},e.cberrorcover=function(){e.errors={user_cover:r.instant("global_error_error-image")}},e.cberrorlogo=function(){e.errors={user_logo:r.instant("global_error_error-image")}}},e.loadUser()}Object.defineProperty(t,"__esModule",{value:!0});var i=n(74),o=function(e){return e&&e.__esModule?e:{default:e}}(n(296));a.$inject=["$scope","$rootScope","$state","$stateParams","$translate","$log","$timeout","HtbxModal","User","Forms","Auth","DisplayService","PaymentSettings","Analytics","ExternalAuth","PasswordStrength","loggedUser","$ngRedux"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a){var i={user_name:t.user,authToken:a.getToken()};e.saving=!1,e.getNotificationSettings=function(){n.get(i,function(t){e.notify_email=1===parseInt(t.notify_email,10),e.notify_facebook=1===parseInt(t.notify_facebook,10),e.push_facebook=1===parseInt(t.push_facebook,10),e.push_twitter=1===parseInt(t.push_twitter,10)},function(){})},e.saveNotificationSettings=function(){var i={user_name:t.user,authToken:a.getToken(),notify_email:e.notify_email?1:0,notify_facebook:e.notify_facebook?1:0,push_facebook:e.push_facebook?1:0,push_twitter:e.push_twitter?1:0};e.saving=!0,n.update(i,function(){e.saving=!1},function(){e.saving=!1})},e.getNotificationSettings()}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$scope","$stateParams","Notifications","loggedUser"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a,o,r,s,l,c,u){e.myApps=[],e.showNewApp=!1,e.create_app=!1,e.new_app={},e.errors={hasError:!1,caption:""},e.appsTableItemTpl=i.default,e.getMyApps=function(){var t={authToken:u.getToken(),user_name:a.user};s.get(t,function(t){e.errors.hasError=!1,e.myApps=t.apps,e.showNewApp&&(l(function(){e.myApps[e.myApps.length-1].isExpanded=!0},100),e.showNewApp=!1)},function(t){e.displayError(t.data.error_msg)})},e.newApp=function(){e.collapseApps(),e.create_app=!e.create_app},e.cancelApp=function(){e.create_app=!1},e.deleteApp=function(t){var n={authToken:u.getToken(),user_name:a.user,app_id:t.app_id};s.delete(n,function(){e.errors.hasError=!1;for(var n=0;n<e.myApps.length;n++)if(e.myApps[n]===t){e.myApps.splice(n,1);break}},function(t){e.displayError(t.data.error_msg)})},e.deleteConfirm=function(t){var n=r.instant("view_oauth_header_app-delete"),a=r.instant("view_oauth_text_delete-confirm"),i=[{result:!1,label:r.instant("global_text_cancel")},{result:!0,label:r.instant("global_button_delete"),variant:"warning"}];new o(n,a,i).open().then(function(n){n&&e.deleteApp(t)})},e.expandApp=function(t){e.cancelApp(),e.collapseApps(),e.myApps[t].isExpanded=!0},e.collapseApps=function(){for(var t=0;t<e.myApps.length;t++)e.myApps[t].isExpanded=!1},e.saveApp=function(t){var n={authToken:u.getToken(),user_name:a.user,app:t,app_id:t.app_id};s.update(n,function(){e.errors.hasError=!1},function(t){t&&t.data?e.displayError(t.data.error_msg):e.displayError()})},e.$watch("errors.caption",function(t,n){t!=n&&(e.errors.hasError=!1,l(function(){e.errors.hasError=!0},100))}),e.displayError=function(t){switch(c.debug("displayError: ",t),t){case"app_limit_reached":e.errors.caption=r.instant("view_oauth_eror_app-limit");break;case"name_already_in_use":e.errors.caption=r.instant("view_oauth_eror_app-name");break;case"app_not_found":e.errors.caption=r.instant("view_oauth_eror_app-not-found");break;case"auth_required":case"error_deleting":e.errors.caption=r.instant("view_oauth_eror_delete");break;case"field_empty":e.errors.caption=r.instant("view_oauth_eror_empty-field");break;default:return void(e.errors.caption=r.instant("global_error_try-again"))}e.errors.hasError=!0},e.createApp=function(t){if(t.app_name&&t.app_redirect_uri){var n={authToken:u.getToken(),user_name:a.user,app:t};s.create(n,function(){e.errors.hasError=!1,e.create_app=!1,e.showNewApp=!0,e.new_app={},e.getMyApps()},function(t){t.data&&e.displayError(t.data.error_msg)})}else e.displayError("field_empty")},e.getMyApps()}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2695));a.$inject=["$scope","$state","OauthAccess","$stateParams","HtbxModal","$translate","OauthApps","$timeout","$log","loggedUser"],t.default=a},function(e,t,n){var a="/src/js/settings/views/list.apps.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=col-2> {{item.app_name}} <div ng-show=item.isExpanded class="box__collapsible animate ng-hide"> <input class="developer-apps-settings__input settings__oAuth__app-uri box__text-input appUri" name=app_redirect_uri_{{$index}} type=text ng-model=item.app_redirect_uri ng-disabled=!item.isExpanded placeholder="Redirect URI" ng-class="{\n                disabled: !item.isExpanded,\n            }" required/> <div class=input-group-row> <label class=input-group-row__label> {{\'view_oauth_text_token\' | translate }}: </label> <htbx-input-group input-readonly=true input-value={{item.app_token}} class=input-group-row__input> <htbx-input-group-addon input-click-action=clipboard data-tooltip-text="{{::\'global_button_copy-to-clipboard\' | translate}}"> {{::\'global_text_copy\' | translate}} </htbx-input-group-addon> </htbx-input-group> </div> <div class=input-group-row> <label class=input-group-row__label> {{\'view_oauth_text_secret\' | translate }}: </label> <htbx-input-group input-readonly=true input-value={{item.app_secret}} class=input-group-row__input> <htbx-input-group-addon input-click-action=clipboard data-tooltip-text="{{::\'global_button_copy-to-clipboard\' | translate}}"> {{::\'global_text_copy\' | translate}} </htbx-input-group-addon> </htbx-input-group> </div> <div class=box__buttons> <htbx-button data-variant=cancel data-on-select="item.isExpanded = false"> {{::\'global_text_cancel\' | translate}} </htbx-button> <htbx-button data-variant=ok data-on-select="$ctrl.actions.saveApp(item);item.isExpanded = false"> {{::\'global_button_save\' | translate}} </htbx-button> <htbx-button data-variant=warning data-on-select="$ctrl.actions.deleteConfirm(item);item.isExpanded = false"> <smash-icon icon=trash size=20 center=true></smash-icon> </htbx-button> </div> </div> </div> <div class=col-4> <a class="settings__oAuth__app-edit editnono" ng-click=$ctrl.actions.expandApp($index) ng-if=!item.isExpanded> <span class=settings__oAuth__app-edit__icon> <smash-icon icon=edit size=16></smash-icon> </span> <span class=settings__oAuth__app-edit__text> {{\'global_text_edit\' | translate}} </span> </a> </div> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,d,f,p,m,h,g,_,v,b,y,w,$,x){function k(t,n){if(t!==n){var a=(0,l.default)(e.options.selectCountry.data().results,{code:t});a.length>0&&(e.selectedValues.country={code:t,name:a[0].name,SEPA:a[0].SEPA},e.isSepaCountryFlag=e.isSepaCountry(e.selectedValues.country))}}function S(e,t,n){var a=[],i=e,o=t,r=function(e,t){return e<=t},s=function(e){return e+1};for(n&&(i=t,o=e,r=function(e,t){return t<=e},s=function(e){return e-1});r(i,o);){var l="0";i<10?l+=i.toString():l=i.toString(),a.push({id:l,text:i.toString()}),i=s(i)}return a}function C(){if(e.formValues.birthDay&&e.formValues.birthMonth&&e.formValues.birthYear){var t=(0,s.default)({year:parseInt(e.formValues.birthYear,10),month:parseInt(e.formValues.birthMonth,10)-1,day:parseInt(e.formValues.birthDay,10)});if(t.isValid()){var n=s.default.duration(18,"years"),a=(0,s.default)().subtract(n);e.mustBe18Error=a.diff(t,"days")<1}}}e.typeaheadListCountriesTemplateUrl=u.default,e.formValues={is_business:"individual",pay_method:"paypal"},e.isSepaCountry=function(e){return e&&e.SEPA},e.loadedPriorPaymentSettings=!1,e.sendingForm=!1,e.options={selectCountry:{selectItem:function(t,n,a,i){i&&i.preventDefault(),e.formValues.country=t.code,e.selectedValues.country=t},checkCountryValidity:function(){(0,c.default)(e.getCountries(),["name",e.selectedValues.country.name])||(e.formValues.country="")},refresh:function(){e.options.selectCountry.searchable=e.options.selectCountry.data().results},onClick:function(){},data:function(){return{results:e.options.selectCountry.searchable}},placeholder:v.instant("view_dashboard_placeholder_select-country")},dayOptions:{selectItem:function(t){e.formValues.birthDay=t.id,e.selectedValues.birthDay=t},refresh:function(){e.options.dayOptions.searchable=e.options.dayOptions.data().results},onClick:function(){},data:function(){return{results:S(1,31,!1)}},placeholder:v.instant("global_text_day")},monthOptions:{selectItem:function(t){e.formValues.birthMonth=t.id,e.selectedValues.birthMonth=t},refresh:function(){e.options.monthOptions.searchable=e.options.monthOptions.data().results},onClick:function(){},data:function(){return{results:function(){var e=[],t=1;return g.DATETIME_FORMATS.SHORTMONTH.forEach(function(n){var a="0";t<10?a+=t.toString():a=t.toString(),e.push({id:a,text:n}),t+=1}),e}()}},placeholder:v.instant("global_text_month")},yearOptions:{selectItem:function(t){e.formValues.birthYear=t.id,e.selectedValues.birthYear=t},refresh:function(){e.options.yearOptions.searchable=e.options.yearOptions.data().results},onClick:function(){},data:function(){return{results:S(1900,(new Date).getFullYear()-18,!0)}},placeholder:v.instant("global_text_year")}},e.options.dayOptions.searchable=e.options.dayOptions.data().results,e.options.monthOptions.searchable=e.options.monthOptions.data().results,e.options.yearOptions.searchable=e.options.yearOptions.data().results,e.data={formInvalid:!1},e.$watch("data.formInvalid",function(t,n){t&&t!==n&&(e.userToCorrectValues=!0)}),e.$watch("formValues.country",k),i.promise.then(function(t){e.loadedPriorPaymentSettings=!0,e.data.verifiedEmail="1"===t.emailverified,t.user_id&&(e.data.settings_status=t.settings_status,"Verified"===t.settings_status&&"self"!==t.partner_type&&"suspended"!==t.partner_type?e.data.settings_status="Premium":"suspended"===t.partner_type&&(e.data.settings_status="Suspended"),e.data.existingSettings=t,e.formValues.currency=t.currency,e.formValues.country=t.country,t.verifiedEmail&&t.group_partner&&"0"!==t.group_partner&&"self"!==t.partner_type&&n.go("payments.partofteam",{user:a.user}))}),_.get({},function(t){"US"!==t.country_code&&"CA"!==t.country_code||(e.formValues.currency="USD")}),e.loadedFromBackend=!1,e.loaded={},e.toggleDisplayForm=function(){e.displayForm=!e.displayForm},e.selectedValues={},p.getCountries().then(function(t){e.options.selectCountry.searchable=t,k(e.formValues.country,"")}),e.getCountries=function(t){return t&&0!==t.trim().length?o.default.copy(e.options.selectCountry.searchable).sort(function(e,n){var a=e.name.match(new RegExp("^"+t,"i"))||[],i=n.name.match(new RegExp("^"+t,"i"))||[];return a.length!=i.length?i.length-a.length:e.name>n.name?1:-1}):o.default.copy(e.options.selectCountry.searchable)},e.setLanguage=function(t){e.select2.selected_countries=o.default.copy((0,c.default)(e.countries,["text",t]))},e.showSettings=function(){n.go("payments.account",{user:a.user})},e.refreshValues=function(){var t={user:a.user||x.getName(),authToken:x.getToken()};e.loadedFromBackend=!1,1!==i.deferred.promise.$$state.status?i.promise.then(function(t){e.loaded=t,e.loadedFromBackend=!0}):d.get(t,function(t){t.date_added&&(e.loaded=t,i.promise=$.when(t),e.$broadcast("newValuesLoaded",e.loaded)),e.loadedFromBackend=!0},function(){f.trackEvent("user","PaymentSettings.get_failed")})},e.$watch("formValues.birthDay",C),e.$watch("formValues.birthMonth",C),e.$watch("formValues.birthYear",C),e.handleError=function(t){e.userToCorrectValues=!0;var n=m.hash("topofform");t&&t.data?"Could not validate against paypal"===t.data.error_msg?(f.trackEvent("user","partner.paypal_validation_failed"),t.data.paypal_msg&&t.data.paypal_msg.error&&t.data.paypal_msg.error.length>0&&t.data.paypal_msg.error[0].message?e.paypalError=t.data.paypal_msg.error[0].message:e.paypalError="Error without message",h(n)):"Only 18+ registration allowed"===t.data.error_msg?(e.mustBe18Error=!0,e.formValues.birthDay="",e.formValues.birthMonth="",e.formValues.birthYear="",e.selectedValues.birthDay="",e.selectedValues.birthMonth="",e.selectedValues.birthYear=""):"invalid_original_password"===t.data.error_msg&&(e.invalidPwdError=!0):h(n)},e.cancelFormChanges=function(){b.currentState.name!==w.IS_A_PARTNER&&b.action(y.UNSEE_WELCOME_PAGE),n.go("payments",{user:a.user},{reload:!0})},e.submitPaymentSettings=function(i){if(e.userToCorrectValues=!1,e.formValues.birthDay&&e.formValues.birthMonth&&e.formValues.birthYear&&(e.mustBe18Error=!1),e.formSubmitted=!0,delete e.invalidPwdError,delete e.paypalError,!e.payment_settings.$invalid){var o=r.default.extend({user_id:x.getId(),user:a.user,authToken:x.getToken()},i);d.set(o,function(){f.trackEvent("user","paysettings_change"),e.loaded.date_added||(t.firsts.signupAsPartner=!0),e.sendingForm=!1,b.action(y.BECAME_A_PARTNER),n.go("payments",{user:a.user},{reload:!0})},function(t){e.sendingForm=!1,f.trackEvent("user","paysettings_change_failed"),e.handleError(t)}),e.sendingForm=!0}},e.refreshValues()}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(13)),s=a(n(5)),l=a(n(58)),c=a(n(32)),u=a(n(2697));i.$inject=["$scope","$rootScope","$state","$stateParams","partnerState","PaymentSettings","Analytics","DBCountryService","$location","$anchorScroll","$locale","GeoIp","$translate","partnershipStateDiagram","PartnershipAction","PartnershipState","$q","loggedUser"],t.default=i},function(e,t,n){var a="/src/js/settings/views/list.countries.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<a class=hitbox-typeahead__dropdown__item__link> {{match.label.name}} </a> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e,t,n,a,i,o,r,s,l,c,u,d){e.stateUser=n.user,e.facebook={pages:[],connected:!1},e.twitter={connected:!1},e.youtube={connected:!1},e.getFBConnection=function(){var t={user_name:n.user,authToken:d.getToken()};r.get(t,function(){e.facebook.connected=!0},function(){e.facebook.connected=!1}),a.get(t,function(t){if(t.pages&&t.pages.length>0){e.facebook.pages=t.pages;for(var n=0;n<e.facebook.pages.length;n++)e.facebook.pages[n].selected=1===e.facebook.pages[n].selected||"1"===e.facebook.pages[n].selected;e.facebook.connected=!0}})},e.connectFB=function(){i.login(function(t){if(t.authResponse){var a={user_name:n.user,authToken:d.getToken(),oauth_token:t.authResponse.accessToken,oauth_provider:"facebook"};r.post(a,function(){e.facebook.connected=!0,l.trackEvent("stream","FacebookConnectOk")},function(){e.facebook.connected=!1,l.trackEvent("stream","FacebookConnectError")})}},{scope:"manage_pages,publish_pages,publish_actions"})},e.saveFBPages=function(){for(var t=[],i=0;i<e.facebook.pages.length;i++)t.push({id:e.facebook.pages[i].id,name:e.facebook.pages[i].name,selected:e.facebook.pages[i].selected?1:0,access_token:e.facebook.pages[i].access_token});var o={user_name:n.user,authToken:d.getToken(),pages:t};a.save(o)},e.getTwitterAccount=function(){var t={user_name:n.user,authToken:d.getToken()};o.get(t,function(){e.twitter.connected=!0})},e.connectTwitter=function(){if(e.twitter.connected)e.verifyTwitter();else var t=window.open("https://www.smashcast.tv/api/twitter/login?user_name="+n.user+"&authToken="+d.getToken(),"_blank"),a=c(function(){(null===t||t.closed)&&(c.cancel(a),e.getTwitterAccount())},1e3)},e.verifyTwitter=function(){var t={user_name:n.user,authToken:d.getToken()};o.verify(t,function(){e.twitter.connected=!0,l.trackEvent("stream","TwitterConnectOk")},function(){e.twitter.connected=!1,l.trackEvent("stream","TwitterConnectError")})},e.connectYoutube=function(){var e=u.host();window.open("https://"+e+"/api/youtube/login?user_name="+n.user+"&authToken="+d.getToken(),"_blank")},e.getYoutubeAccount=function(){var t={user_name:n.user,authToken:d.getToken()};s.get(t,function(){e.youtube.connected=!0,l.trackEvent("stream","YoutubeConnectOk")},function(){l.trackEvent("stream","YoutubeConnectError"),e.youtube.connected=!1})},e.getFBConnection(),e.verifyTwitter(),e.getYoutubeAccount()}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$scope","$rootScope","$stateParams","FacebookPages","ezfb","TwitterAccount","FacebookAccount","YoutubeAccount","Analytics","$interval","$location","loggedUser"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2700));n(2701);var o=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{loggedUser:t,UserVerification:n,$state:a,$translate:i}),this.emailUnverified=!1,this.title=i.instant("component_unverified-email_email-not-verified"),this.type="warning",this.loading=!1,this.verificationSent=!1}return e.$inject=["loggedUser","UserVerification","$state","$translate"],a(e,[{key:"$onInit",value:function(){var e=this;this.UserVerification.get({user:this.userName}).$promise.then(function(t){e.emailUnverified=!t.user||t.user&&"1"!==t.user.user_activated}).catch(function(){e.error=!0})}},{key:"resendVerificationEmail",value:function(){var e=this,t={user:this.userName,authToken:this.loggedUser.getToken(),return:this.$state.href(this.$state.current.name,this.$state.params),title:this.$translate.instant("component_unverified-email_email-verification")};this.loading=!0,this.UserVerification.resendVerificationEmail(t,function(){e.type="success",e.title="",e.loading=!1,e.verificationSent=!0})}}]),e}();t.default={bindings:{userName:"<?",emailUnverified:"=?"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/settings/components/email-unverified.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-alert ng-if=$ctrl.emailUnverified data-type={{$ctrl.type}} data-dismissable=$ctrl.verificationSent data-alert-title={{$ctrl.title}} data-on-dismiss=\"$ctrl.emailUnverified=false\" class=email-unverified> <div ng-if=$ctrl.verificationSent> {{::'view_earnings-settings_text_sent-email'|translate}} </div> <div ng-if=!$ctrl.verificationSent> <div>{{::'component_unverified-email_check-email'|translate}}</div> <div> <a ng-click=$ctrl.resendVerificationEmail()>{{::'component_unverified-email_resend-verification'|translate}}</a> <smash-spinny class=email-unverified__spinny ng-if=$ctrl.loading data-size=\"'small'\"></smash-spinny> </div> </div> </htbx-alert> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2703));n(2704);var o=function(){function e(t,n,a,i,o,r,s,l,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$scope:t,$state:n,User:a,$stateParams:i,VerifyEmail:o,Analytics:r,$translate:s,$timeout:l,$location:c})}return e.$inject=["$scope","$state","User","$stateParams","VerifyEmail","Analytics","$translate","$timeout","$location"],a(e,[{key:"$onInit",value:function(){var e=this;this.captcha={completed:!1,recaptcha:null},this.error=!1,this.loading=!0,this.alertType="warning",this.returnTo=this.$location.search().return,this.$scope.$on("$stateChangeStart",function(){e.returnTo&&(e.$location.search("return",null),e.$location.search("title",null))})}},{key:"getAlertType",value:function(){return this.alertType}},{key:"getTitle",value:function(){return this.error?this.$translate.instant("global_error_try-again"):this.loading?"":this.$translate.instant("view_verifyemail_text_thank-you",{user_name:this.user_name})}},{key:"recaptchaSuccess",value:function(e){this.alertType="info",this.captcha.recaptcha=e,this.captcha.completed=!0,this.verify()}},{key:"recaptchaExpired",value:function(){this.captcha.recaptcha=null,this.captcha.completed=!1,this.error=!0,this.alertType="error",this.errorMsg=this.$translate.instant("global_error_captcha")}},{key:"verify",value:function(){var e=this;this.VerifyEmail.verify({verifyToken:this.$stateParams.token,recaptcha:this.captcha.recaptcha}).$promise.then(function(t){e.user_name=t.user.user_name,e.Analytics.trackEvent("user","emailVerified"),e.alertType="success",e.$timeout(function(){e.returnTo?e.$location.path(e.returnTo):e.goToHome()},5e3)}).catch(function(t){"verification_token_invalid"===t.data.error_msg?e.errorMsg=e.$translate.instant("component_verify-email_verification-token-invalid"):"captcha_wrong"===t.data.error_msg&&(e.errorMsg=e.$translate.instant("global_error_captcha")),e.error=!0,e.alertType="error"}).finally(function(){e.loading=!1})}},{key:"goToHome",value:function(){this.$state.go("home.root",{reload:!0})}},{key:"getReturnHref",value:function(){return this.returnTo||this.$state.href("home.root",{absolute:!0})}}]),e}();t.default={templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/settings/components/verify-email.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <div class=verify-email> <htbx-alert data-type={{$ctrl.getAlertType()}} data-alert-title={{$ctrl.getTitle()}}> <span ng-if=$ctrl.loading> <div ng-if=!$ctrl.captcha.completed class=verify-email__captcha> <span ng-if=$ctrl.error> <span> {{::$ctrl.errorMsg}} </span> </span> <span> {{::'global_error_captcha' | translate }} </span> <span ng-if=!$ctrl.errorMsg class=verify-email__box-header> <recaptcha-check-field on-success=$ctrl.recaptchaSuccess(key) on-expire=$ctrl.recaptchaExpired() ng-model=$ctrl.captcha.recaptcha></recaptcha-check-field> </span> </div> <div ng-if=$ctrl.captcha.completed class=verify-email__captcha> <span> {{::'component_verify-email_verifying-email' | translate }} </span> <smash-spinny data-size=\"'small'\"></smash-spinny> </div> </span> <span ng-if=\"!$ctrl.loading && $ctrl.error\"> <span> {{::$ctrl.errorMsg}} </span> <span ng-if=!$ctrl.errorMsg>| <a href=javascript:void(0); ng-click=$ctrl.verify()> {{::'global_text_retry' | translate}} </a> </span> </span> <a ng-if=\"!$ctrl.loading && !$ctrl.error\" ng-href={{$ctrl.getReturnHref()}}> {{::'component_verify-email_click-here-redirect' | translate }} </a> </htbx-alert> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(66)),r=a(n(11)),s=a(n(2)),l=a(n(2706)),c=function(){function e(t,n,a,i,l){var c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getChannelBg=function(){return!c.media||(0,r.default)(c.media.media_bg_image)||(0,o.default)(c.media.media_bg_image)?s.default.fallbackImages.userCover:""+s.default.imgUrl+c.media.media_bg_image},this.getMediaUsername=function(){return c.$stateParams.user},Object.assign(this,{Analytics:t,Media:n,medias:a,$stateParams:i}),this.loggedUser=l,this.loading=!1,this.media={},this.params={media_name:this.$stateParams.user,media_type:"live",authToken:this.loggedUser.getToken(),nocache:!0,showHidden:!0,filter:"newfirst",liveonly:!1,grouped:!0},this.saving=!1,this.coverUploadLoading=!1}return e.$inject=["Analytics","Media","medias","$stateParams","loggedUser"],i(e,[{key:"$onInit",value:function(){this.getMedia()}},{key:"getMedia",value:function(e){var t=this;this.loading=!0,e?this.params.cacheBuster=Number(new Date):delete this.params.cacheBuster,this.Media.get(this.params).$promise.then(function(e){t.media=e.livestream[0]}).catch(function(){}).finally(function(){t.loading=!1,t.coverUploadLoading=!1})}},{key:"save",value:function(){var e=this;this.saving=!0,this.medias.update(this.media).then(function(){e.saving=!1,function(){1===parseInt(this.media.media_mature,10)?this.Analytics.trackEvent("stream","mature","On"):this.Analytics.trackEvent("stream","mature","Off")}.call(e)}).catch(function(){e.saving=!1})}},{key:"coverUploadSuccessCallback",value:function(e){e.fields&&Object.assign(this.media,e.fields)}}]),e}();t.default={templateUrl:l.default,controller:c}},function(e,t,n){var a="/src/js/settings/components/settings.channel.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=channel-settings> <section class=box> <div class=box__title> {{::'global_menu_channel-settings' | translate}} </div> <div class=box__content> <div class=\"box__row channel-settings__mature\"> <div class=box__header-checkbox> <toggle-checkbox data-dark-background=true ng-disabled=\"$ctrl.loading || $ctrl.saving\" ng-model=$ctrl.media.media_mature ng-change=$ctrl.save() label=\"{{::'view_settings_text_mature-content' | translate}}\"></toggle-checkbox> <div class=toggle-checkbox__note> {{::'view_settings_text_mature-content-note' | translate}} </div> </div> </div> <htbx-settings-stream-recordings class=box__row data-media=$ctrl.media data-loading=$ctrl.saving on-change=$ctrl.save()></htbx-settings-stream-recordings> <htbx-settings-stream-visibility ng-if=$ctrl.loggedUser.isSuperAdmin() class=box__row data-media=$ctrl.media data-loading=$ctrl.saving on-change=$ctrl.save()></htbx-settings-stream-visibility> <htbx-settings-stream-delay class=box__row media=$ctrl.media on-change=$ctrl.save()></htbx-settings-stream-delay> </div> </section> <section class=box> <div class=box__title> {{'view_livestream-settings_label_stream-key' | translate}} </div> <div class=box__content> <htbx-settings-stream-ingest media=$ctrl.media></htbx-settings-stream-ingest> </div> </section> <section class=box> <div class=box__title> {{'view_settings_header_channel-design' | translate}} </div> <div class=box__content> <div class=\"box__row channel-settings__trailer\"> <div class=box__row__title> {{'view_channel-settings_header_trailer' | translate }} </div> <div class=box__row__title__sub> {{'view_channel-settings_text_trailer-note' | translate}} </div> <div class=box__action__button> <a class=\"button button--size-default\" ui-sref=\"videomanager.videos({user: $ctrl.getMediaUsername()})\"> {{::$ctrl.media.media_offline_id ? 'global_button_change' : 'global_text_select' | translate}} </a> </div> <div ng-if=$ctrl.media.media_offline_id class=channel-settings__trailer__thumb> <media-list-grid type=video limit=1 lines=1 filter=\"{userId: $ctrl.getMediaUsername()}\"></media-list-grid> </div> </div> <div class=\"box__row channel-settings__cover\"> <div class=box__row__title> {{'global_text_cover' | translate }} </div> <div class=box__row__title__sub> JPG {{:: 'global_text_or' | translate }} PNG, {{:: 'view_modal-upload_text_max-500' | translate }}, {{:: 'global_text_min' | translate }}. 1600x900px </div> <upload-drop-area class=box__action__button uda-success-callback=$ctrl.coverUploadSuccessCallback(data) uda-user-name={{::$ctrl.getMediaUsername()}} uda-data-name=file uda-url={{::$root.config.apiUri}}/upload/account/ uda-delete=false uda-name=Settings uda-crop=true uda-crop-width=1600 uda-crop-height=900 uda-crop-type=rect is-uploading=$ctrl.coverUploadLoading></upload-drop-area> <div class=channel-settings__cover__cover> <div ng-if=$ctrl.coverUploadLoading class=channel-settings__cover__loading> <smash-spinny data-size=\"'medium'\" data-center=true></smash-spinny> </div> <img class=channel-settings__cover__image ng-src={{$ctrl.getChannelBg()}} fallback-src={{::$root.config.fallbackImages.userCover}} alt=\"\"/> </div> </div> </div> </section> <htbx-saving-indicator data-saving=$ctrl.saving data-position-in-corner=true></htbx-saving-indicator> </div> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2708));n(2709),t.default=function(){function e(e,t){function n(){t.is("settings")&&t.go("settings.channel")}e.$on("$stateChangeSuccess",n),n()}return e.$inject=["$scope","$state"],{templateUrl:a.default,controller:e,controllerAs:"settingsPage"}}},function(e,t,n){var a="/src/js/settings/directives/settings-page.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<htbx-layout data-variant=settings> <htbx-layout-navigation> <htbx-sub-nav data-active-section={{$root.section}}></htbx-sub-nav> </htbx-layout-navigation> <htbx-layout-content ng-controller=SettingsCtrl> <htbx-email-unverified ng-if=user.user_name user-name=user.user_name></htbx-email-unverified> <div class="settings-content settings__content settings__content--{{tab}}" ui-view=viewSettings autoscroll></div> </htbx-layout-content> </htbx-layout> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,l,u,d,f,p,m){e.originImage="",e.croppedImage={},e.originBadge="",e.croppedBadge={},e.config=s.default,e.partner={},e.subscription={},e.saveClass="save",e.errors={emoji:!1,badge:!1},e.tableItemTpl=c.default,e.handleFileSelectEmoji=function(t){if(t){e.errors.emoji=!1,e.saveClass="save";var n=t,a=new FileReader;a.onload=function(t){e.$apply(function(e){e.originImage=t.target.result,e.subscription.emoji={},e.subscription.emoji.name=e.subscription.plan_prefix,e.croppedImage={}})},a.readAsDataURL(n)}else e.errors.emoji="invalid_file_type"},e.handleFileSelectBadge=function(t){if(t){e.badgeInvalid=!1,e.saveClass="save";var n=t,a=new FileReader;a.onload=function(t){e.$apply(function(e){e.originBadge=t.target.result,e.subscription.new_badge={},e.subscription.new_badge.name="",e.croppedBadge={}})},a.readAsDataURL(n)}else e.badgeInvalid=!0},e.loadSubscription=function(){e.errors={emoji:!1,badge:!1},e.croppedImage={},e.originImage="",e.originBadge="",e.croppedBadge={},f.get(t.user).then(function(){e.cacheBuster=Number(new Date),e.partner.id=t.user,e.partner.type="user",e.loadSubPlan()})},e.has_team_emotes=!1,e.my_emote_counter=0,e.team_emote_counter=0,e.loadSubPlan=function(){e.params={id:e.partner.id,type:e.partner.type,authToken:m.getToken()},a.get(e.params,function(t){e.has_team_emotes=!1,e.my_emote_counter=0,e.team_emote_counter=0,e.subscription=t.subscription,e.subscription.emoji={};for(var n=0;n<e.subscription.icons.length;n++){var a=!1;e.subscription.icons[n].category_name.toLowerCase()===e.subscription.user_name.toLowerCase()?(e.my_emote_counter+=1,a=!0):(e.team_emote_counter+=1,e.has_team_emotes=!0),e.subscription.icons[n].can_delete=a}})},e.addEmoji=function(){e.saveClass="saving";var n=e.dataURItoBlob(e.croppedImage),a=e.blobToFile(n,"cropped_file.png");e.udaUrl=s.default.apiUri+"/upload/emoji/";var i=t.user,o=m.getToken();e.upload=u.upload({url:e.udaUrl+i+"/"+o,method:"POST",data:{file:a,fileFormDataName:"file"}}).then(function(t){e.uploading=!1,t&&t.data&&t.data.emoji&&(e.subscription.emoji.file=t.data.emoji,e.saveEmoji())}).catch(function(){e.uploading=!1})},e.cancelEmojiCrop=function(){e.originImage="",e.croppedImage={}},e.addBadge=function(){e.saveClass="saving";var n=e.dataURItoBlob(e.croppedBadge),a=e.blobToFile(n,"cropped_badge.png");e.udaUrl=s.default.apiUri+"/upload/badge/";var i=t.user,o=m.getToken();e.upload=u.upload({url:e.udaUrl+i+"/"+o,method:"POST",data:{file:a,fileFormDataName:"file"}}).then(function(t){e.uploading=!1,t&&t.data&&t.data.badge&&e.loadSubscription(),e.saveClass="saved"}).catch(function(){e.uploading=!1})},e.cancelBadgeCrop=function(){e.originBadge="",e.croppedBadge={}},e.verifyEmojiName=function(){e.errors={emoji:!1,badge:!1},o.default.isUndefined(e.subscription.emoji.name)||(e.subscription.emoji.name.length<6?e.errors.emoji="icon_name_too_short":e.subscription.emoji.name.length>24?e.errors.emoji="icon_name_too_long":e.subscription.emoji.name.toLowerCase()!==e.subscription.emoji.name?e.subscription.emoji.name.indexOf(" ")>=0&&(e.errors.emoji="icon_name_spaces_not_allowed"):e.errors.emoji="icon_name_all_lower_case")},e.saveEmoji=function(){var t={icon_name:e.subscription.emoji.name};l.get(t,function(){e.saveClass="save",e.errors.emoji="icon_name_in_use"},function(){e.saveClass="saved",e.params={media_id:e.partner.id,icon_name:e.subscription.emoji.name,icon_path:e.subscription.emoji.file,authToken:m.getToken(),icon_premium:1},n.add(e.params,function(){e.loadSubscription()},function(t){e.saveClass="save",e.errors.emoji=t.error_msg})})},e.deleteEmoji=function(t){var a=p.instant("global_text_remove-emote"),o=[{result:!1,label:p.instant("global_text_cancel")},{result:!0,label:p.instant("global_text_remove"),variant:"warning"}];new i(a,"",o).open().then(function(a){if(a){var i={media_id:e.partner.id,icon_id:t.icon_id,authToken:m.getToken(),action:"delete"};n.add(i,function(){e.loadSubscription()})}})},e.cbupload=function(){return function(t){t.emoji&&(e.subscription.emoji={},e.subscription.emoji=t.emoji,e.subscription.emoji.name=e.subscription.plan_prefix,d(function(){e.originImage="https://edge.sf.hitbox.tv"+t.emoji,e.croppedImage={}},2e3)),t.emoji||e.loadSubscription()}},e.blobToFile=function(e,t){var n=e;return n.lastModifiedDate=new Date,n.name=t,e},e.dataURItoBlob=function(e){if(!(0,r.default)(e)){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],a=[],i=0;i<t.length;i++)a.push(t.charCodeAt(i));return new Blob([new Uint8Array(a)],{type:n})}},e.loadSubscription()}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(29)),s=a(n(2)),l=a(n(2711)),c=a(n(2712));n(2713),i.$inject=["$scope","$stateParams","ChatIcons","SubPlanAdmin","HtbxModal","ChatIcon","Upload","$timeout","SubscriptionInfoStore","$translate","loggedUser"],t.default=function(){return{scope:{},templateUrl:l.default,replace:!0,controller:i}}},function(e,t,n){var a="/src/js/settings/directives/settings.emoji.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=emoji-settings ng-show=subscription.plan_id> <section class=\"box emoji-list subscriber-badge-settings\"> <div class=box__title> {{:: 'view_emoji-settings_header_subscriber-badge' | translate }} <div class=box__title__sub ng-show=has_team_emotes> {{:: 'view_emoji-settings_text_team-badge-note' | translate }} </div> <div class=box__title__sub ng-hide=has_team_emotes> {{:: 'view_emoji-settings_text_badge-note' | translate }} </div> <htbx-alert ng-if=badgeInvalid data-on-dismiss=\"badgeInvalid = false\" data-dismissable=true type=warning> {{::'view_emoji-settings_error_invalid-file-type' | translate}} </htbx-alert> </div> <div class=box__content> <div class=table> <div class=table__content> <form name=badgeForm ng-submit=addBadge() novalidate class=userLogo> <ul class=table__list> <li class=table__list__row> <div class=col-1> <img class=table__row__image ng-src={{::$root.config.imgUrl}}{{subscription.badge_image}}?{{cacheBuster}} fallback-src={{::$root.config.fallbackImages.subBadge}} alt=\"\"/> </div> <div class=col-2> <span class=color-green ng-if=\"subscription.badge_enabled == 1\"> {{::'global_text_active' | translate}} </span> <span class=color-blue ng-if=\"subscription.badge_enabled == 0\"> {{::'view_emoji-settings_text_to-be-verified' | translate}} </span> <span class=color-red ng-if=\"icon.icon_enabled == 2\"> {{::'view_emoji-settings_label_declined' | translate}} </span> </div> <button type=button ng-hide=originBadge ng-model=newBadge name=newBadge ngf-select=handleFileSelectBadge($file) ngf-accept=\"'image/*'\" ngf-pattern=\"'image/*'\" class=\"button button--size-default\"> {{:: 'global_button_change' | translate }} </button> </li> </ul> <div class=uploadarea ng-show=originBadge> <div class=step> <div class=headline> <label> {{:: 'view_emoji-settings_label_select-image-area' | translate }} </label> <img class=preview ng-src={{croppedBadge}} alt=\"\"/> <span class=fltR> {{::'global_text_preview' | translate}} </span> </div> <div class=crop ng-show=\"originBadge != ''\"> <img-crop image=originBadge result-image=croppedBadge area-type=square result-image-size=80 result-image-format=image/png area-min-size=80></img-crop> </div> <div class=box__buttons> <htbx-button data-type=cancel data-variant=cancel data-on-select=cancelBadgeCrop()> {{::'global_text_cancel' | translate}} </htbx-button> <htbx-button data-type=submit data-variant=ok data-disabled=badgeForm.$invalid data-loading=\"saveClass === 'saving'\"> {{::'global_button_save' | translate}} </htbx-button> </div> </div> </div> </form> </div> </div> </div> </section> <section class=\"box emoji-list subscriber-emojis-settings\"> <div class=box__title> {{:: 'view_chat_header_channel-subscriber-emotes' | translate }} <span class=subscriber-emojis-settings__counter ng-if=\"subscription.icons.length > 0\"> {{subscription.icons.length}} {{::'global_text_of' | translate}} 15 </span> <div class=box__title__sub ng-show=has_team_emotes> {{::'view_emoji-settings_text_team-emoji-note' | translate}} </div> <div class=box__title__sub ng-hide=has_team_emotes> {{:: 'view_emoji-settings_text_emoji-note' | translate }} </div> <form class=subscriber-emojis-settings__upload-form name=emoteForm ng-submit=addEmoji() ng-hide=\"my_emote_counter >= 15\" novalidate> <div ng-show=originImage class=userLogo> <div class=uploadarea> <div class=step> <div class=headline> <label> {{::'view_emoji-settings_label_select-image-area' | translate}} </label> <img class=preview ng-src={{croppedImage}} /> <span class=fltR> {{::'global_text_preview' | translate}} </span> </div> <div class=crop ng-show=\"originImage != ''\"> <img-crop image=originImage result-image=croppedImage area-type=square result-image-size=80 result-image-format=image/png area-min-size=80></img-crop> </div> </div> <div class=step> <label class=headline>{{::'view_emoji-settings_label_second-enter-shortcut' | translate}}</label> <div class=error-message> <span ng-show=\"!emoteForm.emoteName.$valid && (emoteForm.emoteName.$error.maxlength || emoteForm.emoteName.$error.minlength)\"> {{::'view_emoji-settings_error_name' | translate}} </span> </div> <div ng-show=\"errors.emoji == 'icon_name_in_use'\" class=error-message> {{::'view_emoji-settings_error_name-in-use' | translate}} </div> <div ng-show=\"errors.emoji == 'icon_name_all_lower_case'\" class=error-message> {{::'view_emoji-settings_error_name-all-lowercase' | translate}} </div> <div ng-show=\"errors.emoji == 'icon_name_spaces-not-allowed'\" class=error-message> {{::'view_emoji-settings_error_name-spaces' | translate}} </div> <div ng-show=\"errors.emoji == 'emote_limit_reached'\" class=error-message> {{::'view_emoji-settings_error_emoji-limit' | translate}} </div> <input type=text required ng-minlength=6 ng-maxlength=24 ng-model=subscription.emoji.name ng-change=verifyEmojiName() name=emoteName placeholder=\"{{:: 'view_emoji-settings_placeholder_shortcut' | translate }}\"/> <div class=box__buttons> <htbx-button data-type=reset data-variant=cancel data-on-select=cancelEmojiCrop()> {{::'global_text_cancel' | translate}} </htbx-button> <htbx-button data-type=submit data-variant=ok data-disabled=\"emoteForm.$invalid || errors.emoji\" data-loading=\"saveClass === 'saving'\"> {{::'global_button_save' | translate}} </htbx-button> </div> </div> </div> </div> <div ng-hide=originImage class=userLogo> <htbx-alert ng-if=\"errors.emoji === 'invalid_file_type'\" data-on-dismiss=\"errors.emoji = false\" data-dismissable=true type=warning> {{::'view_emoji-settings_error_invalid-file-type' | translate}} </htbx-alert> <button type=button class=\"button button--size-default emoji-settings__add-button\" ng-model=newEmote name=newEmote ngf-select=handleFileSelectEmoji($file) ngf-accept=\"'image/*'\" ngf-pattern=\"'image/*'\"> <span class=emoji-settings__add-button__icon> <smash-icon icon=add size=24 center=true></smash-icon> </span> <span class=emoji-settings__button__add-text> {{:: 'view_emoji-settings_label_add-emoji' | translate }} </span> </button> </div> </form> </div> <div class=box__content> <htbx-table ng-if=subscription.icons.length list=subscription.icons track-by=icon_id item-tpl={{::tableItemTpl}} items-per-page=15 actions=\"{deleteEmoji: deleteEmoji}\"></htbx-table> </div> </section> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/settings/views/list.emojis.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=col-1> <img class=table__row__image ng-src="{{::$root.config.imgUrl + item.icon_path}}" fallback-src={{::$root.config.fallbackImages.userLogo}} alt=""/> </div> <div class=col-2> {{item.icon_short}} </div> <div class=col-3> <span class=color-green ng-if="item.icon_enabled == 1"> {{::\'global_text_active\' | translate}} </span> <span class=color-blue ng-if="item.icon_enabled == 0"> {{::\'view_emoji-settings_text_to-be-verified\' | translate}} </span> <span ng-if="item.icon_enabled == 2" tooltip-placement="auto left" uib-tooltip={{::item.icon_comment}} tooltip-append-to-body=true class=color-red> {{::\'view_emoji-settings_label_declined\' | translate}} </span> </div> <div class=col-4> <htbx-button-remove ng-if=item.can_delete data-on-select=$ctrl.actions.deleteEmoji(item)></htbx-button-remove> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2715));n(2716);var o=function(){function e(t,n,a,i,o,r){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$onNavTabUpdated=function(){s.tab=s.navState.getTab(),s.subtab=s.navState.getSubTab()},this.$onStateChangeStart=function(e,t,n){n.user&&(s.stateUserName=n.user)},this.$rootScope=t,this.$stateParams=n,this.DisplayService=a,this.$log=i,this.loggedUser=o,this.medias=r,this.partner=!1,this.$stateParams.user?this.stateUserName=this.$stateParams.user:this.stateUserName=this.loggedUser.getName(),this.navState=this.DisplayService.navState,this.stateUserName===this.loggedUser.getName()?this.partner=this.loggedUser.isPartner():this.medias.get(this.stateUserName,"live").then(function(e){e&&e.channel&&e.channel.partner_type&&(s.partner=!0)})}return e.$inject=["$rootScope","$stateParams","DisplayService","$log","loggedUser","medias"],a(e,[{key:"$onInit",value:function(){this.navTabUpdatedEvent=this.$rootScope.$on("navTabUpdated",this.$onNavTabUpdated),this.stateChangeStartEvent=this.$rootScope.$on("$stateChangeStart",this.$onStateChangeStart),this.$log.debug("Creating SettingsNavigation.Component")}},{key:"$onDestroy",value:function(){this.navTabUpdatedEvent&&this.navTabUpdatedEvent(),this.stateChangeStartEvent&&this.stateChangeStartEvent(),this.$log.debug("Destroying SettingsNavigation.Component")}},{key:"isPartner",value:function(){return this.partner}}]),e}();t.default={bindings:{livestream:"<?"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/settings/components/settings-navigation.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<ul ng-if=$ctrl.livestream class=sub-nav__section> <li ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref=\"settings.channel({user: $ctrl.stateUserName})\" class=sub-nav__link> {{::'global_text_channel' | translate}} </a> </li> <li ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref=\"settings.chat({user: $ctrl.stateUserName})\" class=sub-nav__link> {{::'global_text_chat' | translate}} </a> </li> <li ng-if=$ctrl.isPartner() ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref=\"settings.emotes({user: $ctrl.stateUserName})\" class=sub-nav__link> {{::'view_chat_header_channel-subscriber-emotes' | translate}} </a> </li> <li ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref=\"settings.moderators({user: $ctrl.stateUserName})\" class=sub-nav__link> {{::'view_studio_menu_editors-moderators' | translate}} </a> </li> </ul> <ul class=sub-nav__section> <li ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref=\"settings.account({user: $ctrl.stateUserName})\" class=sub-nav__link> {{::'global_text_profile' | translate}} </a> </li> <li ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref=\"settings.security({user: $ctrl.stateUserName})\" class=sub-nav__link> {{::'global_menu_security' | translate}} </a> </li> <li ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref=\"settings.notifications({user: $ctrl.stateUserName})\" class=sub-nav__link> {{::'global_header_notifications' | translate}} </a> </li> <li ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref=\"settings.connections({user: $ctrl.stateUserName})\" class=sub-nav__link> {{::'global_menu_connections' | translate}} </a> </li> <li ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref=\"settings.access({user: $ctrl.stateUserName})\" class=sub-nav__link> {{::'global_menu_access' | translate}} </a> </li> </ul> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i){this.code=null,this.setup=!1,this.disabling=!1,this.saving=!1,this.loading=!1,this.loggedInUserService=e,this.setupService=t,this.validateService=n,this.stopService=a,this.$logService=i,this.tokenDisableInputId="tfa-token-disable_"+(0,o.default)()}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(46)),r=a(n(2718));n(2719),i.$inject=["loggedUser","tfasetup","tfavalidate","tfastop","$log"],i.prototype.isSuperAdmin=function(){return this.superAdmin},i.prototype.isReady=function(){return this.ready},i.prototype.isActive=function(){return this.active},i.prototype.isSetup=function(){return this.setup},i.prototype.isDisabling=function(){return this.disabling},i.prototype.isLoading=function(){return this.loading},i.prototype.enable=function(){var e=this;this.secret=null,this.image=null,this.error=null,this.code=null,this.loading=!0,this.setupService.get({authToken:this.loggedInUserService.getToken(),user:this.userName},function(t){e.setup=!0,e.loading=!1,!0===t.ok?(e.secret=t.secret,e.image=t.image):e.error=t.error||"error"},function(t){e.loading=!1,e.error=t.data.error||"error",e.$logService.debug("error",t)})},i.prototype.disable=function(){var e=this;if(this.isSuperAdmin())return this.loading=!0,void this.stopService.get({authToken:this.loggedInUserService.getToken(),user:this.userName,code:!0},function(){e.loading=!1,e.active=!1,e.code=null,e.onUpdate(e.active)},function(t){e.error=t.data.error||"error",e.$logService.debug("error",t),e.loading=!1});this.disabling=!0},i.prototype.verifyCode=function(){var e=this;this.code&&this.secret&&this.setup&&(this.saving=!0,this.validateService.get({authToken:this.loggedInUserService.getToken(),user:this.userName,code:this.code},function(t){e.saving=!1,!0===t.ok&&(e.active=!0,e.setup=!1,e.secret=null,e.image=null,e.error=null,e.code=null,e.onUpdate(e.active))},function(t){e.saving=!1,e.error=t.data.error||"error",e.$logService.debug(t)}))},i.prototype.disableCode=function(){var e=this;this.code&&(this.saving=!0,this.stopService.get({authToken:this.loggedInUserService.getToken(),user:this.userName,code:this.code},function(){e.active=!1,e.code=null,e.disabling=!1,e.saving=!1,e.onUpdate(e.active)},function(t){e.error=t.data.error||"error",e.saving=!1,e.$logService.debug(t)}))},i.prototype.cancel=function(){this.setup=!1,this.disabling=!1,this.saving=!1,this.code=null},t.default={bindings:{ready:"<",userName:"<",active:"<",superAdmin:"<",onUpdate:"<"},templateUrl:r.default,replace:!0,controller:i}},function(e,t,n){var a="/src/js/settings/components/settings-tfa.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <div class=settings-tfa ng-class="{\n        \'settings-tfa--is-active\': ($ctrl.isActive()),\n        \'settings-tfa--show-setup\': $ctrl.isSetup(),\n        \'settings-tfa--show-disable\': ($ctrl.isDisabling() && !$ctrl.isSuperAdmin()),\n    }"> <div class=settings-tfa__controls> <label class=settings-tfa__controls__label> <h2 class=settings-tfa__controls__label__title> {{::\'view_account-settings_label_tfa\' | translate}} </h2> <a href=https://help.smashcast.tv/customer/en/portal/articles/2779887 translate=view_account-settings_text_tfa class=settings-tfa__controls__label__description target=_blank rel=noopener></a> </label> <div ng-if="$ctrl.isReady() && !$ctrl.isSetup() && !$ctrl.isDisabling()" class=settings-tfa__controls__buttons> <htbx-button-group> <htbx-button-group-item ng-if=$ctrl.isActive()> <div class="settings-tfa__controls__buttons__button settings-tfa__controls__buttons__button--enabled"> <smash-icon icon=check size=24 class=settings-tfa__controls__buttons__button__icon></smash-icon> <span class=settings-tfa__controls__buttons__button__text> {{::\'global_enabled\' | translate}} </span> </div> </htbx-button-group-item> <htbx-button-group-item ng-if=$ctrl.isActive()> <htbx-button data-variant=warning data-loading=$ctrl.isLoading() data-on-select=$ctrl.disable()> {{::\'global_disable\' | translate}} </htbx-button> </htbx-button-group-item> <htbx-button-group-item ng-if=!$ctrl.isActive()> <htbx-button data-variant=ok data-loading=$ctrl.isLoading() data-on-select=$ctrl.enable()> {{::\'global_enable\' | translate}} </htbx-button> </htbx-button-group-item> </htbx-button-group> </div> </div> <div class=settings-tfa__details> <form name=setupTfaForm ng-submit=$ctrl.verifyCode() ng-if=$ctrl.isSetup() novalidate> <ol class=settings-tfa__details__list> <li class="settings-tfa__details__item settings-tfa__details__item--get-app"> <div class=settings-tfa__details__item__description> <h3 class=settings-tfa__details__item__title> {{::\'view_account-settings_text_tfa_app\' | translate}} </h3> </div> <htbx-ui-app-links data-ios="https://itunes.apple.com/en/app/google-authenticator/id388497605?mt=8" data-android="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2" data-color-dark=true></htbx-ui-app-links> </li> <li class="settings-tfa__details__item settings-tfa__details__item--qr-code"> <div class=settings-tfa__details__item__description> <h3 class=settings-tfa__details__item__title> {{::\'view_account-settings_text_tfa_secret-title\' | translate}} </h3> <p> {{::\'view_account-settings_text_tfa_secret\' | translate}} <span class=settings-tfa__secret>{{$ctrl.secret}}</span> </p> </div> <div class=settings-tfa__qr-code> <img ng-src={{$ctrl.image}} alt=QR-Code class=settings-tfa__qr-code__image /> <p class=settings-tfa__qr-code__text> {{::\'view_account-settings_text_tfa_qr-info\' | translate}} </p> </div> </li> <li class="settings-tfa__details__item settings-tfa__details__item--enter-tfa-code"> <div class=settings-tfa__details__item__description> <h3 class=settings-tfa__details__item__title> {{::\'view_account-settings_text_tfa_enter_code\' | translate}} </h3> </div> <input ng-model=$ctrl.code ng-change="$ctrl.error = null" name=tfaCode autocomplete=off required class="settings-tfa__code-input password text input" placeholder="{{ \'global_tfa_code\' | translate }}"/> </li> </ol> <div class=box__text> <htbx-alert ng-if=$ctrl.error type=warning class=box__text__error> {{::\'view_account-settings_text_tfa_code-error\' | translate}} </htbx-alert> </div> <div class="box__buttons settings-tfa__details__buttons buttons"> <button type=button ng-click=$ctrl.cancel() translate=global_text_cancel class="button button--size-default"></button> <htbx-button data-type=submit data-variant=ok data-disabled="$ctrl.error || !$ctrl.code" data-loading=$ctrl.saving> {{::\'global_button_save\' | translate}} </htbx-button> </div> </form> <div ng-if="$ctrl.isDisabling() && !$ctrl.isSuperAdmin()"> <label for={{$ctrl.tokenDisableInputId}} class=settings-tfa__code-label> {{::\'view_account-settings_text_tfa_disable\' | translate}} </label> <form name=disableTfaForm class=settings-tfa__details__form ng-submit=$ctrl.disableCode() novalidate> <div class=box__input-group> <input ng-model=$ctrl.code ng-change="$ctrl.error = null" ui-keydown="{enter: \'$ctrl.disableCode()\'}" id={{$ctrl.tokenDisableInputId}} name=tfaCodeDisable autocomplete=off required class="settings-tfa__code-input password text input" placeholder="{{ \'global_tfa_code\' | translate }}"/> <div class=box__text> <htbx-alert ng-if=$ctrl.error type=warning class=box__text__error> {{::\'view_account-settings_text_tfa_code-error\' | translate}} </htbx-alert> </div> </div> <div class="box__buttons settings-tfa__details__buttons buttons"> <button type=button ng-click=$ctrl.cancel() class="button button--size-default"> {{::\'global_text_cancel\' | translate}} </button> <htbx-button data-type=submit data-variant=ok data-disabled="$ctrl.error || disableTfaForm.$invalid" data-loading=$ctrl.saving> {{::\'global_button_save\' | translate}} </htbx-button> </div> </form> </div> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a){var i=this;i.editors=[],i.tableItemTpl=r.default,this.$onInit=function(){i.getDashboards()},i.getDashboards=function(){this.loading=!0,e.get({user_name:n.user,authToken:a.getToken(),nocache:!0},function(e){i.loading=!1,i.editors=e.list},function(){i.loading=!1})},i.removeDashboard=function(e){var o={user_name:e.user_name,authToken:a.getToken(),editor:n.user,remove:!0};t.add(o,function(){i.getDashboards()})}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(2721)),r=a(n(2722));i.$inject=["Editor","Editors","$stateParams","loggedUser"],t.default={bindings:{},templateUrl:o.default,replace:!0,controller:i}},function(e,t,n){var a="/src/js/settings/components/settings.access.dashboards.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=chat-moderators-settings> <div class=box> <div class=box__title> {{::'view_settings_access_header_dashboard-access' | translate}} </div> <div class=box__content> <htbx-table list=$ctrl.editors order-by=user_name item-tpl={{::$ctrl.tableItemTpl}} items-per-page=15 loading=$ctrl.loading actions=\"{removeDashboard: $ctrl.removeDashboard}\" track-by=user_name no-data-text=\"{{::'access-settings_header_no-dashboards' | translate}}\"></htbx-table> </div> </div> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/settings/views/list.dashboards.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=col-1> <a ui-sref="detail.feed({channel: item.user_name})"> <img class="table__row__image round" ng-src="{{::$root.config.imgUrl + item.user_logo_small}}" fallback-src={{::$root.config.fallbackImages.userLogo}} /> </a> </div> <div class="table__list__row__col--username col-2"> <a ui-sref="studio({user: item.user_name})" target=_blank rel=noopener> {{\'global_menu_username-dashboard\' | translate:{username : item.user_name} }} </a> </div> <htbx-button-remove data-on-select=$ctrl.actions.removeDashboard(item) data-label="{{:: \'view_livestream-settings_tooltip_remove-me\' | translate }}"></htbx-button-remove> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i){var o=this;this.saving=!1,this.loading=!1,this.tableItemTpl=r.default,this.chatModeratorsService=e,this.chatModerationsService=t,this.loggedInUserService=n,this.$logService=a,this.$stateParams=i,this.moderations={list:[]},this.$onInit=function(){o.getModerations()},this.removeModeration=function(e){var t={user_name:e.user_name,authToken:o.loggedInUserService.getToken(),moderator:o.$stateParams.user,remove:!0};o.chatModeratorsService.add(t,function(){o.getModerations()})}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(2724)),r=a(n(2725));i.$inject=["ChatModerators","ChatModerations","loggedUser","$log","$stateParams"],i.prototype.getModerations=function(){var e=this;e.loading=!0,e.chatModerationsService.get({user_name:e.$stateParams.user,authToken:e.loggedInUserService.getToken(),nocache:!0},function(t){e.moderations.list=t.moderations,e.loading=!1})},t.default={bindings:{},templateUrl:o.default,replace:!0,controller:i}},function(e,t,n){var a="/src/js/settings/components/settings.access.moderations.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=chat-moderators-settings> <div class=box> <div class=box__title> {{::'access-settings_header_moderator-of-channels' | translate}} </div> <div class=box__content> <htbx-table list=$ctrl.moderations.list order-by=user_name item-tpl={{::$ctrl.tableItemTpl}} items-per-page=15 loading=$ctrl.loading actions=\"{removeModeration: $ctrl.removeModeration}\" no-data-text=\"{{::'access-settings_header_not-moderator-of-channels' | translate}}\" track-by=user_name></htbx-table> </div> </div> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/settings/views/list.moderations.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=col-1> <a ui-sref="detail.feed({channel: item.user_name})"> <img class="table__row__image round" ng-src="{{::$root.config.imgUrl + item.user_logo_small}}" fallback-src={{::$root.config.fallbackImages.userLogo}} /> </a> </div> <div class="table__list__row__col--username col-2"> <a ui-sref="detail.feed({channel: item.user_name})">{{item.user_name}}</a> </div> <htbx-button-remove data-on-select=$ctrl.actions.removeModeration(item) data-label="{{:: \'view_livestream-settings_tooltip_remove-me\' | translate }}"></htbx-button-remove> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i){var o=this;this.loading=!1,this.apps=[],this.$stateParams=e,this.loggedInUserService=t,this.oAuthAccessService=n,this.$translate=a,this.HtbxModalFactory=i,this.tableItemTpl=r.default,this.$onInit=function(){o.getApps()},this.boundDeleteConfirm=this.deleteConfirm.bind(this)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(2727)),r=a(n(2728));i.$inject=["$stateParams","loggedUser","OauthAccess","$translate","HtbxModal"],i.prototype.removeApp=function(e){var t=this,n={authToken:t.loggedInUserService.getToken(),user_name:t.$stateParams.user,app:e.name};t.loading=!0,e.isExpanded=!1,t.oAuthAccessService.post(n,function(){t.getApps(),t.loading=!1},function(){t.loading=!1})},i.prototype.getApps=function(){var e=this,t={authToken:e.loggedInUserService.getToken(),user_name:e.$stateParams.user};e.loading=!0,e.oAuthAccessService.get(t,function(t){e.apps=t.apps,e.loading=!1},function(){e.loading=!1})},i.prototype.deleteConfirm=function(e){var t=this,n=this.$translate.instant("view_oauth_header_app-delete"),a=this.$translate.instant("view_oauth_text_delete-confirm"),i=[{result:!1,label:this.$translate.instant("global_text_cancel")},{result:!0,label:this.$translate.instant("global_button_delete"),variant:"warning"}];new this.HtbxModalFactory(n,a,i).open().then(function(n){n&&t.removeApp(e)})},t.default={bindings:{},templateUrl:o.default,replace:!0,controller:i}},function(e,t,n){var a="/src/js/settings/components/settings.account.apps.oauth.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section class="box settings__oAuth"> <div class=box__title>{{::\'global_menu_connected-apps\' | translate}}</div> <div class=box__content> <htbx-table list=$ctrl.apps item-tpl={{::$ctrl.tableItemTpl}} items-per-page=15 loading=$ctrl.loading actions="{deleteConfirm: $ctrl.boundDeleteConfirm}" no-data-text="{{::\'view_settings_apps_text_no-connections\' | translate}}"></htbx-table> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/settings/views/list.apps.oauth.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=col-2> <span>{{item.name}}</span> </div> <div class=col-4> <htbx-button-remove ng-if=!item.isExpanded data-on-select=$ctrl.actions.deleteConfirm(item) data-label=\"{{::'global_text_revoke-access' | translate }}\"></htbx-button-remove> </div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e,t,n,a,i,o,r,s,l,c,u){this.loading=!1,this.expanded=!1,this.disableMonetization=!!this.disableMonetization,this.reset(),this.$rootScope=e,this.$state=t,this.$stateParams=n,this.$translate=a,this.analyticsService=i,this.loggedInUserService=o,this.partnershipStatusService=r,this.paymentSettingsService=s,this.userService=l,this.vcRecaptchaService=c,this.$ngRedux=u,this.errorMessages={password_wrong:a.instant("global_error_wrong-password"),captcha_wrong:a.instant("global_error_captcha"),user_is_live:"Your stream must be offline before you can delete your account.",user_is_team_captain:"You cannot delete your account while you are leading a team.",general_error:"An error occurred."},this.checkboxes={deleteAccountSubscriptions:!1,userMsg:!1,deleteAccountUsername:!1,cantUndo:!1}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(74);n(2730);var o=function(e){return e&&e.__esModule?e:{default:e}}(n(2731));a.$inject=["$rootScope","$state","$stateParams","$translate","Analytics","loggedUser","PartnershipDeletionStatus","PaymentSettings","User","vcRecaptchaService","$ngRedux"],a.prototype.setCaptchaResponse=function(e){this.user.captcha=e,this.error=!1},a.prototype.triggerAction=function(){var e={authToken:this.loggedInUserService.getToken(),user_password:this.user.user_password,recaptcha:this.user.captcha};this.disableMonetization?this.revokePartnership(e):this.deleteAccount(e)},a.prototype.revokePartnership=function(e){var t=this;t.loading=!0,e.user=t.$stateParams.user||t.loggedInUserService.getName(),t.analyticsService.trackEvent("user","revokedPartnershipRequest"),t.paymentSettingsService.revokePartnership(e,function(){t.analyticsService.trackEvent("user","revokedPartnership"),t.$state.reload(),t.loading=!1},function(e){t.handleError(e)})},a.prototype.deleteAccount=function(e){var t=this,n=this;n.loading=!0,e.user_name=n.$stateParams.user||n.loggedInUserService.getName(),n.analyticsService.trackEvent("user","user.delete"),n.userService.delete(e,function(){n.analyticsService.trackEvent("user","user.deleted"),t.$ngRedux.dispatch((0,i.reset)(!0)),n.analyticsService.trackEvent("user","logout"),n.$state.go("home.root",{},{reload:!0,inherit:!1,notify:!0}),n.loading=!1},function(e){n.handleError(e)})},a.prototype.handleError=function(e){if(this.loading=!1,e.data){switch(e.data.error_msg){case"captcha_wrong":this.error=this.errorMessages.captcha_wrong;break;case"password_wrong":this.error=this.errorMessages.password_wrong;break;case"user_is_live":this.error=this.errorMessages.user_is_live;break;case"user_is_team_captain":this.error=this.errorMessages.user_is_team_captain;break;default:this.error=this.errorMessages.general_error}this.vcRecaptchaService.getResponse().length>0&&this.vcRecaptchaService.reload()}else this.error=this.errorMessages.general_error},a.prototype.expand=function(){var e=this;e.loading=!0,e.partnershipStatusService.getDeletionStatus(e.$stateParams.user,e.loggedInUserService.getToken(),function(t){e.user=t.user,e.user.userDetailsLoaded=!0,e.expanded=!0,e.loading=!1})},a.prototype.contract=function(){this.expanded=!1,this.reset()},a.prototype.reset=function(){this.error=!1,this.user={msg:"",buttonLabel:"",userDetailsLoaded:!1}},a.prototype.hasError=function(){return!!this.error},a.prototype.checkboxesAccepted=function(){return!(!this.disableMonetization&&!this.checkboxes.deleteAccountSubscriptions||this.user.msg&&!this.checkboxes.userMsg||!this.disableMonetization&&!this.checkboxes.deleteAccountUsername||!this.checkboxes.cantUndo)},t.default={bindings:{disableMonetization:"@?"},templateUrl:o.default,replace:!0,controller:a}},function(e,t){},function(e,t,n){var a="/src/js/settings/components/settings.account.delete-account.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <div class=\"box__row settings__account__delete\"> <div ng-if=!$ctrl.expanded> <h3 class=box__row__title ng-click=$ctrl.expand()> {{::$ctrl.disableMonetization ? 'view_account-settings_text_disable-monetization' : 'view_account-settings_text_disable-account' | translate}}... </h3> <p class=box__row__title__sub> <span> {{::$ctrl.disableMonetization ? 'Revoke your open partnership status.' : 'view_account-settings_text_delete-account-note' | translate}} </span> </p> </div> <div ng-show=$ctrl.expanded class=\"box__collapsible animate ng-hide\"> <form ng-if=$ctrl.user.userDetailsLoaded accept-charset=UTF-8 name=deleteAccountForm ng-submit=$ctrl.triggerAction() novalidate> <div> <div class=box__text> <htbx-alert type=error class=box__text__warning> <p ng-if=!$ctrl.disableMonetization class=box__text__warning__text> <toggle-checkbox data-dark-background=true ng-model=$ctrl.checkboxes.deleteAccountSubscriptions label=\"{{::'view_account-settings_text_delete-account-subscriptions' | translate}}\"> </toggle-checkbox> </p> <p ng-if=$ctrl.user.msg class=box__text__warning__text> <toggle-checkbox data-dark-background=true ng-model=$ctrl.checkboxes.userMsg label={{$ctrl.user.msg}}> </toggle-checkbox> </p> <p ng-if=!$ctrl.disableMonetization class=\"box__text__warning__text box__text__warning__text--important\"> <toggle-checkbox data-dark-background=true ng-model=$ctrl.checkboxes.deleteAccountUsername label=\"{{::'view_account-settings_text_delete-account-username' | translate}}\"></toggle-checkbox> </p> <p class=\"box__text__warning__text box__text__warning__text--important\"> <toggle-checkbox data-dark-background=true ng-model=$ctrl.checkboxes.cantUndo label=\"{{::'global_text_cant-undo' | translate}}\"></toggle-checkbox> </p> </htbx-alert> </div> <div class=box__input-group> <input type=password required autofocus=autofocus class=box__text-input ng-change=\"$ctrl.error = false\" ng-model=$ctrl.user.user_password placeholder=\"{{'global_text_enter-password' | translate}}\"/> <div class=box__text> <htbx-alert ng-if=$ctrl.hasError() type=warning class=box__text__error> {{$ctrl.error}} </htbx-alert> </div> </div> <htbx-recaptcha on-success=$ctrl.setCaptchaResponse(response)></htbx-recaptcha> <div class=box__buttons> <htbx-button data-variant=cancel data-on-select=$ctrl.contract()> {{::'global_text_cancel' | translate}} </htbx-button> <htbx-button data-type=submit data-variant=warning data-disabled=\"$ctrl.hasError() || deleteAccountForm.$invalid || !$ctrl.checkboxesAccepted()\" data-loading=$ctrl.loading> {{::$ctrl.disableMonetization ? 'view_account-settings_text_disable-monetization' : 'view_account-settings_text_delete-account' | translate}} </htbx-button> </div> </div> </form> </div> </div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){var t=this;t.newEntry="",t.submit=function(){t.onSubmit({newEntry:t.newEntry}).then(function(){t.newEntry=""})},t.getUsers=function(t){return e.get({q:t,limit:20}).$promise.then(function(e){return e.map(function(e){return e.user_name})})}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2733));n(2734),a.$inject=["Users"],t.default={bindings:{onSubmit:"&",error:"=",isLoading:"<"},templateUrl:i.default,replace:!0,controller:a}},function(e,t,n){var a="/src/js/settings/components/settings.add-form.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<form name=settingsAddForm ng-submit=$ctrl.submit() novalidate class=add-form> <div class=add-form__input-group> <htbx-typeahead class=add-form__typeahead input-class=add-form__input ng-model=$ctrl.newEntry ng-change=\"$ctrl.error = false\" loading=$ctrl.isLoading is-required=true min-length=3 placeholder=\"{{:: 'view_dashboard_placeholder_hitbox-username' | translate }}\" on-refresh=$ctrl.getUsers($viewValue)> </htbx-typeahead> <htbx-button data-type=submit data-variant=default data-disabled=settingsAddForm.$invalid data-loading=$ctrl.isLoading class=add-form__button> {{::'global_text_add' | translate}} </htbx-button> </div> <div ng-if=$ctrl.error> <htbx-alert ng-if=\"$ctrl.error === true || $ctrl.error === 'editor_not_found' || $ctrl.error === 'moderator_not_found'\" type=warning size=small class=add-form__error> {{::'global_error_user-not-exist' | translate}} </htbx-alert> <htbx-alert ng-if=\"$ctrl.error === 'error_adding_editor' || $ctrl.error === 'error_adding_moderator'\" type=warning size=small class=add-form__error> {{::'view_settings_error_user-could-not-be-added' | translate}} </htbx-alert> <htbx-alert ng-if=\"$ctrl.error === 'error_deleting_editor' || $ctrl.error === 'error_deleting_moderator'\" type=warning size=small class=add-form__error> {{::'view_settings_error_user-could-not-be-removed' | translate}} </htbx-alert> </div> </form> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var a=this;a.tableItemTpl=r.default,a.editors=[],a.loading=!1,a.addUserLoading=!1,this.$onInit=function(){a.getEditors()},a.getEditors=function(){a.loading=!0,e.get({user_name:t.user,authToken:n.getToken(),nocache:!0},function(e){a.editors=e.list,a.loading=!1},function(){a.loading=!1})},a.removeEditor=function(i){if(a.loadDashboards)a.removeDashboard(i);else{var o={user_name:t.user,authToken:n.getToken(),editor:i.user_name,remove:!0};a.loading=!0,e.add(o).$promise.then(function(){a.loading=!1,a.getEditors()}).catch(function(e){a.error=e.data.error_msg,a.loading=!1})}},a.addEditor=function(i){if(!a.addUserLoading){var o={user_name:t.user,authToken:n.getToken(),editor:i};return a.addUserLoading=!0,e.add(o,function(){a.getEditors(),a.addUserLoading=!1},function(e){a.error=e.data.error_msg,a.addUserLoading=!1}).$promise}}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(2736)),r=a(n(2737));i.$inject=["Editors","$stateParams","loggedUser"],t.default={bindings:{loadDashboards:"<?"},templateUrl:o.default,replace:!0,controller:i}},function(e,t,n){var a="/src/js/settings/components/settings.channel.dashboard-editors.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=\"chat-moderators-settings box\"> <div class=box__title> {{::'view_livestream-settings_label_your-editors' | translate}} <div class=box__title__sub> {{::'view_livestream-settings_text_editors-edit' | translate}} </div> <htbx-settings-add-form data-is-loading=$ctrl.addUserLoading data-error=$ctrl.error data-on-submit=$ctrl.addEditor(newEntry)></htbx-settings-add-form> </div> <div class=box__content> <htbx-table list=$ctrl.editors order-by=user_name item-tpl={{::$ctrl.tableItemTpl}} items-per-page=15 loading=$ctrl.loading actions=\"{removeEditor: $ctrl.removeEditor, isDashboards: $ctrl.isDashboards}\" track-by=user_name></htbx-table> </div> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/settings/views/list.dashboard-editors.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=col-1> <a ui-sref="detail.feed({channel: item.user_name})"> <img class="table__row__image round" ng-src="{{::$root.config.imgUrl + item.user_logo_small}}" fallback-src={{::$root.config.fallbackImages.userLogo}} /> </a> </div> <div class="table__list__row__col--username col-2"> <a ui-sref="detail.feed({channel: item.user_name})">{{item.user_name}}</a> </div> <htbx-button-remove data-on-select=$ctrl.actions.removeEditor(item) data-label="{{:: \'global_text_remove\' | translate }}"></htbx-button-remove> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var a=this,i=t.user;a.bannedList=[],a.tableItemTpl=s.default,a.loading=!0,e.get({channel:i,authToken:n.getToken()}).$promise.then(function(e){a.bannedList=e.banlist}).finally(function(){a.loading=!1}),this.unban=function(t){a.loading=!0,e.remove({channel:i,authToken:n.getToken(),user:t}).$promise.then(function(){a.bannedList=(0,o.default)(a.bannedList,t)}).finally(function(){a.loading=!1})}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(56)),r=a(n(2739)),s=a(n(2740));n(2741),i.$inject=["ChatBanlist","$stateParams","loggedUser"],t.default={bindings:{},templateUrl:r.default,replace:!0,controller:i}},function(e,t,n){var a="/src/js/settings/components/settings.chat.banned-users.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=chat-banned-users-settings> <div class=box__title>{{::'view_chat_label_banned-users' | translate}}</div> <div class=box__content> <htbx-table list=$ctrl.bannedList order-by=user_name item-tpl={{::$ctrl.tableItemTpl}} items-per-page=15 loading=$ctrl.loading actions=\"{unban: $ctrl.unban}\" no-data-text=\"{{::'view_chat_text_no-banned-users' | translate}}\" class=chat-banned-users-settings__table></htbx-table> </div> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/settings/views/list.chat.user-banned.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=col-1> <a ui-sref="detail.feed({channel: item})"> <img class="table__row__image round" ng-src="{{::$root.config.imgUrl + item.user_logo}}" fallback-src={{::$root.config.fallbackImages.userLogo}} /> </a> </div> <div class="table__list__row__col--username col-2"> <a ui-sref="detail.feed({channel: item})" class=chat-banned-users-settings__list__link> {{item}} </a> </div> <htbx-button-remove data-on-select=$ctrl.actions.unban(item) data-label="{{:: \'global_text_unban\' | translate }}" class=chat-banned-users-settings__list__button></htbx-button-remove> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a){var i=this,c=[];i.words=[],i.saving=!1,i.channelName=null;var u=a.connect(f)(i);!function(){var t={channel:i.channelName};e.get(t,function(e){i.words=e,c=e})}(),t.$watch(function(){return i.words},(0,r.default)(function(){var t=(0,o.default)(i.words,"text");if(t=(0,o.default)(t,s.default),!(0,l.default)(t,c)){var a={channel:i.channelName,authToken:n.getToken(),blacklist:t};i.saving=!0,e.post(a).$promise.then(function(){c=t}).finally(function(){i.saving=!1})}},d),!0),i.$onDestroy=function(){u&&u()}}Object.defineProperty(t,"__esModule",{value:!0}),n(202),n(530);var o=a(n(250)),r=a(n(43)),s=a(n(2743)),l=a(n(370)),c=n(8),u=a(n(2744));n(2745),i.$inject=["Blacklists","$scope","loggedUser","$ngRedux"];var d=3e3,f=function(e){var t=e.channel;return{channelName:(0,c.getName)(t)}};t.default={bindings:{},templateUrl:u.default,replace:!0,controller:i}},function(e,t,n){var a=n(284);e.exports=function(e){return a(e).toLowerCase()}},function(e,t,n){var a="/src/js/settings/components/settings.chat.blacklist.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=chat-blacklist-settings> <div class=\"chat-blacklist-settings__title box__title\"> {{::'view_chat_label_word-blacklist' | translate}} <div class=\"chat-blacklist-settings__subtitle box__title__sub\"> <span>{{::'view_chat_text_add-words' | translate}}</span> <br/> <span>{{::'view_chat_text_changes-effect' | translate}}</span> </div> </div> <div class=\"chat-blacklist-settings__tags box__content\"> <div class=box__row> <tags-input ng-model=$ctrl.words data-placeholder=\"{{::'view_chat_button_add-word' | translate}}\"></tags-input> </div> </div> <htbx-saving-indicator data-saving=$ctrl.saving data-position-in-corner=true></htbx-saving-indicator> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a){var i=this;this.saving=!1,this.loading=!1,this.tableItemTpl=r.default,this.chatModeratorsService=e,this.loggedInUserService=t,this.$logService=n,this.$stateParams=a,this.moderators={list:[],error:!1},i.addModeratorLoading=!1,this.$onInit=function(){i.getModerators()},this.removeModerator=function(e){var t={user_name:i.$stateParams.user,authToken:i.loggedInUserService.getToken(),moderator:e.user_name,remove:!0};i.loading=!0,i.chatModeratorsService.add(t,function(){i.loading=!1,i.getModerators()})}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(2747)),r=a(n(2748));i.$inject=["ChatModerators","loggedUser","$log","$stateParams"],i.prototype.getModerators=function(){var e=this;e.loading=!0,e.chatModeratorsService.get({user_name:e.$stateParams.user,authToken:e.loggedInUserService.getToken(),nocache:!0},function(t){e.moderators.list=t.moderators,e.loading=!1})},i.prototype.addModerator=function(e){var t=this,n={user_name:t.$stateParams.user,authToken:t.loggedInUserService.getToken(),moderator:e};if(!t.addModeratorLoading)return t.addModeratorLoading=!0,t.chatModeratorsService.add(n,function(){t.getModerators(),t.addModeratorLoading=!1},function(e){t.moderators.error=!e.data||!e.data.error_msg||e.data.error_msg,t.addModeratorLoading=!1}).$promise},t.default={bindings:{},templateUrl:o.default,replace:!0,controller:i}},function(e,t,n){var a="/src/js/settings/components/settings.chat.moderators.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=\"chat-moderators-settings box\"> <div class=box__title> {{::'view_team-settings_header_chat-moderators' | translate}} <div class=box__title__sub> {{::'view_livestream-settings_text_can-timeout' | translate}} </div> <htbx-settings-add-form data-is-loading=$ctrl.addModeratorLoading data-error=$ctrl.moderators.error data-on-submit=$ctrl.addModerator(newEntry)></htbx-settings-add-form> </div> <div class=box__content> <htbx-table list=$ctrl.moderators.list order-by=user_name item-tpl={{::$ctrl.tableItemTpl}} items-per-page=15 loading=$ctrl.loading actions=\"{removeModerator: $ctrl.removeModerator}\" track-by=user_name></htbx-table> </div> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/settings/views/list.moderators.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=col-1> <a ui-sref="detail.feed({channel: item.user_name})"> <img class="table__row__image round" ng-src="{{::$root.config.imgUrl + item.user_logo_small}}" fallback-src={{::$root.config.fallbackImages.userLogo}} /> </a> </div> <div class="table__list__row__col--username col-2"> <a ui-sref="detail.feed({channel: item.user_name})">{{item.user_name}}</a> </div> <htbx-button-remove data-on-select=$ctrl.actions.removeModerator(item) data-label="{{:: \'view_livestream-settings_tooltip_remove-moderator\' | translate }}"></htbx-button-remove> ')}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2750));t.default={bindings:{media:"=",onChange:"&?"},templateUrl:a.default,replace:!0,controller:function(){var e=this;e.updateMediaDelay=function(t){e.media.media_live_delay=t,e.onChange&&e.onChange()}}}},function(e,t,n){var a="/src/js/settings/components/settings.stream.delay.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=\"\"> <h3 class=box__row__title> {{::'global_header_stream-delay' | translate}} </h3> <htbx-media-delay-settings delay=$ctrl.media.media_live_delay on-change=$ctrl.updateMediaDelay(delay) class=box__action__button></htbx-media-delay-settings> </div> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2752)),o=function(){function e(t,n,a,i,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{HtbxModal:t,$translate:n,MediaKey:a,Analytics:i,loggedUser:o,$stateParams:r})}return e.$inject=["HtbxModal","$translate","MediaKey","Analytics","loggedUser","$stateParams"],a(e,[{key:"$onInit",value:function(){this.channel=this.$stateParams.user,!1!==this.withGenerate&&(this.withGenerate=!0)}},{key:"getNewStreamKey",value:function(){var e=this,t=this.$translate.instant("view_livestream-settings_text_new-stream-key"),n=[{result:!1,label:this.$translate.instant("global_text_cancel")},{result:!0,label:this.$translate.instant("global_button_confirm"),variant:"warning"}];this.gettingNewStreamKey=!0,new this.HtbxModal(t,"",n).open().then(function(t){if(t){var n={channel:e.channel,authToken:e.loggedUser.getToken()};e.MediaKey.update(n,function(t){e.Analytics.trackEvent("stream","newStreamKey"),e.media.media_key=t.streamKey,e.gettingNewStreamKey=!1},function(){e.gettingNewStreamKey=!1})}else e.gettingNewStreamKey=!1},function(){e.gettingNewStreamKey=!1})}},{key:"showStreamKey",value:function(){this.showkey=!0}},{key:"hideStreamKey",value:function(){this.showkey=!1}}]),e}();t.default={bindings:{media:"=",withGenerate:"<?"},templateUrl:i.default,replace:!0,controller:o}},function(e,t,n){var a="/src/js/settings/components/settings.stream.ingest.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<section class=\"ingest-info box__row\"> <div class=input-group-row> <div class=input-group-row__label> {{::'view_livestream-settings_label_rtmp-server-url' | translate}} </div> <htbx-input-group class=input-group-row__input input-readonly=true input-value=rtmp://live.hitbox.tv/push> <htbx-input-group-addon input-click-action=clipboard data-tooltip-text=\"{{::'global_button_copy-to-clipboard' | translate}}\"> {{::'global_text_copy' | translate}} </htbx-input-group-addon> </htbx-input-group> </div> </section> <section class=\"ingest-info box__row\"> <div class=input-group-row> <div class=input-group-row__label> {{::'view_livestream-settings_label_stream-key' | translate}} </div> <div class=ingest-info__stream-key> <div ng-if=$ctrl.showkey class=ingest-info__stream-key__inputs> <htbx-input-group ng-if=\"$ctrl.showkey && $ctrl.media.media_name && $ctrl.media.media_key\" input-readonly=true input-value=\"{{$ctrl.media.media_name + '?key=' + $ctrl.media.media_key}}\" class=input-group-row__input> <htbx-input-group-addon input-click-action=clipboard data-tooltip-text=\"{{::'global_button_copy-to-clipboard' | translate}}\"> {{::'global_text_copy' | translate}} </htbx-input-group-addon> </htbx-input-group> <htbx-button ng-if=::$ctrl.withGenerate data-variant=warning data-disabled=$ctrl.gettingNewStreamKey data-loading=$ctrl.gettingNewStreamKey data-on-select=$ctrl.getNewStreamKey() class=ingest-info__stream-key__button> {{::'global_text_generate-new' | translate}} </htbx-button> <htbx-button data-variant=default data-disabled=$ctrl.gettingNewStreamKey data-on-select=$ctrl.hideStreamKey() class=ingest-info__stream-key__button> {{::'global_button_hide' | translate}} </htbx-button> </div> </div> <div ng-if=!$ctrl.showkey> <htbx-button data-variant=box-edit data-on-select=$ctrl.showStreamKey() class=ingest-info__stream-key__show-btn> {{::'global_button_show' | translate}} </htbx-button> </div> </div> <htbx-alert ng-if=$ctrl.showkey data-type=warning data-size=small> {{::'view_livestream-settings_label_stream-key-notice' | translate}} </htbx-alert> </section> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2754));n(2755);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.Analytics=t}return e.$inject=["Analytics"],a(e,[{key:"checkMediaRecording",value:function(){this.media.media_recording?this.Analytics.trackEvent("stream","recording","On"):this.Analytics.trackEvent("stream","recording","Off"),this.onChange&&this.onChange()}}]),e}();t.default={bindings:{media:"=",loading:"<?",onChange:"&?"},templateUrl:i.default,replace:!0,controller:o}},function(e,t,n){var a="/src/js/settings/components/settings.stream.recordings.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=stream-recordings-settings> <div class=box__header-checkbox> <toggle-checkbox data-dark-background=true ng-disabled=$ctrl.loading ng-model=$ctrl.media.media_recording ng-change=$ctrl.checkMediaRecording() useint=true type=checkbox data-label=\"{{::'view_livestream-settings_header_record' | translate}}\"></toggle-checkbox> <div class=toggle-checkbox__note> {{:: 'view_livestream-settings_text_record-switch' | translate }} </div> </div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2757));n(2758);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.Analytics=t}return e.$inject=["Analytics"],a(e,[{key:"switchMediaVisiblity",value:function(){this.media.media_hidden?this.Analytics.trackEvent("stream","visibility","Off"):this.Analytics.trackEvent("stream","visibility","On"),this.onChange&&this.onChange()}}]),e}();t.default={bindings:{media:"=",loading:"<?",onChange:"&?"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/settings/components/settings.stream.visibility.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=stream-visibility-settings> <div class=box__header-checkbox> <toggle-checkbox data-dark-background=true ng-disabled=$ctrl.loading ng-model=$ctrl.media.media_hidden inverse-mode=true ng-change=$ctrl.switchMediaVisiblity() type=checkbox data-label=\"{{::'view_dashboard_header_channel-visible' | translate}}\"></toggle-checkbox> <div class=toggle-checkbox__note> {{:: 'view_dashboard_tooltip_channel-visibility' | translate }} </div> </div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2760));n(2761),t.default={bindings:{userId:"@",mediaId:"@"},templateUrl:a.default}},function(e,t,n){var a="/src/js/settings/components/settings.user-info.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <span class=settings-user-info> <span class=settings-user-info__title>User ID:</span> <span class=settings-user-info__value>{{$ctrl.userId}}</span> <span class=settings-user-info__title>Media ID:</span> <span class=settings-user-info__value>{{$ctrl.mediaId}}</span> </span> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2763));t.default={templateUrl:a.default}},function(e,t,n){var a="/src/js/settings/components/settings.connections.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-controller=SocialSettingsCtrl class=\"box settings__connections__box\"> <div class=box__title> {{::'global_menu_connections' | translate}} </div> <section class=\"box__row settings__connections__box__item settings__connections__box__item--type-facebook\"> <span class=settings__connections__box__icon> <smash-icon data-icon=facebook></smash-icon> </span> <div class=box__header> <div class=box__row__title> Facebook <div class=box__row__title__sub> {{::'view_account-settings_label_post-facebook' | translate}} </div> </div> <htbx-button data-on-select=connectFB() data-disabled=facebook.connected class=settings__connections__button ng-class=\"{\n                    'settings__connections__button--connected': facebook.connected,\n                }\"> <span ng-if=!facebook.connected> {{::'global_text_connect' | translate}} </span> <span ng-if=facebook.connected> {{::'global_text_connected' | translate}} </span> </htbx-button> </div> <div class=box__content> <div ng-if=facebook.connected ng-controller=NotificationsSettingsCtrl> <toggle-checkbox data-dark-background=true ng-model=push_facebook ng-change=saveNotificationSettings() label=\"{{::'view_account-settings_label_post-facebook' | translate}}\"></toggle-checkbox> </div> <div ng-if=\"facebook.pages.length > 0\"> <toggle-checkbox data-dark-background=true ng-repeat=\"page in facebook.pages\" ng-model=page.selected ng-change=saveFBPages() label={{page.name}}></toggle-checkbox> </div> </div> </section> <section class=\"box__row settings__connections__box__item settings__connections__box__item--type-twitter\"> <span class=settings__connections__box__icon> <smash-icon data-icon=twitter></smash-icon> </span> <div class=box__header> <div class=box__row__title> Twitter <div class=box__row__title__sub> {{::'view_account-settings_label_send-tweets' | translate}} </div> </div> <htbx-button data-on-select=connectTwitter() data-disabled=twitter.connected class=settings__connections__button ng-class=\"{'settings__connections__button--connected': twitter.connected}\"> <span ng-if=!twitter.connected> {{::'global_text_connect' | translate}} </span> <span ng-if=twitter.connected> {{::'global_text_connected' | translate}} </span> </htbx-button> </div> <div ng-if=twitter.connected ng-controller=NotificationsSettingsCtrl class=box__content> <toggle-checkbox data-dark-background=true ng-model=push_twitter ng-change=saveNotificationSettings() label=\"{{::'view_account-settings_label_post-twitter' | translate}}\"></toggle-checkbox> </div> </section> <section class=\"box__row settings__connections__box__item settings__connections__box__item--type-youtube\"> <span class=settings__connections__box__icon> <smash-icon data-icon=youtube data-keep-colors=\"'true'\"></smash-icon> </span> <div class=box__header> <div class=box__row__title> YouTube <div class=box__row__title__sub> {{::'view_account-settings_label_upload-videos' | translate}} </div> </div> <htbx-button data-on-select=connectYoutube() data-disabled=youtube.connected class=settings__connections__button ng-class=\"{'settings__connections__button--connected': youtube.connected}\"> <span ng-if=!youtube.connected> {{::'global_text_connect' | translate}} </span> <span ng-if=youtube.connected> {{::'global_text_connected' | translate}} </span> </htbx-button> </div> </section> <htbx-discord-connect username={{stateUser}}></htbx-discord-connect> </div> <htbx-discord-guild-manager></htbx-discord-guild-manager> <htbx-settings-oauth></htbx-settings-oauth> <webhook-manager></webhook-manager> <section ng-controller=OAuthAppCtrl class=\"developer-apps-settings box\"> <div class=box__title> {{::'view_oauth_header_dev-apps' | translate}} <htbx-button ng-if=!create_app data-type=button data-variant=default data-on-select=newApp() class=box__action__button> {{::'view_oauth_button_new-app' | translate }} </htbx-button> </div> <div class=box__content> <div ng-show=create_app class=\"box__collapsible animate ng-hide\"> <form accept-charset=UTF-8 ng-submit=createApp(new_app) novalidate class=developer-apps-settings__form> <input ng-model=new_app.app_name class=box__text-input type=text placeholder=\"{{::'view_oauth_text_app-name' | translate }}\"/> <input ng-model=new_app.app_redirect_uri class=box__text-input type=text placeholder=\"{{::'view_oauth_text_redirect-uri' | translate }}\"/> <div class=box__text> <htbx-alert ng-if=errors.hasError type=warning class=box__text__error> {{errors.caption}} </htbx-alert> </div> <div class=box__buttons> <htbx-button data-variant=cancel data-on-select=cancelApp()> {{::'global_text_cancel' | translate}} </htbx-button> <htbx-button data-type=submit data-variant=ok> {{::'global_button_create' | translate}} </htbx-button> </div> </form> </div> <htbx-table ng-if=myApps.length list=myApps item-tpl={{::appsTableItemTpl}} items-per-page=15 actions=\"{saveApp: saveApp, expandApp: expandApp, deleteConfirm: deleteConfirm}\" ng-init=\"app.isExpanded = false\" class=developer-apps-settings__list></htbx-table> </div> </section> ")}]),e.exports=a},function(e,t,n){var a="/src/js/settings/views/settings.chat.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=settings__chat> <section class=box> <htbx-settings-chat-blacklist></htbx-settings-chat-blacklist> </section> <section class=box> <htbx-settings-chat-banned-users></htbx-settings-chat-banned-users> </section> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/settings/views/settings.account.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=\"settings__account box\"> <div class=box__title>{{::'global_text_profile' | translate}}</div> <div class=box__content> <section class=box__row ng-if=\"roles.superadmin == 'admin'\"> <htbx-settings-user-info data-user-id={{user.user_id}} data-media-id={{user.user_media_id}}></htbx-settings-user-info> <form ng-submit=\"saveUser('comment')\" novalidate class=settings-user-info__comment> <input type=text ng-model=user.comment ng-change=\"editItem['comment'] = true;\" placeholder=\"Admin Comment\"/> <htbx-button ng-if=\"editItem['comment']\" data-type=submit data-variant=ok data-loading=\"save_status.comment === 'saving'\"> {{::'global_button_save' | translate}} </htbx-button> </form> </section> <section class=\"box__row box__row--3col\"> <div class=box__row__title>{{::'global_text_profile-picture' | translate}}</div> <div class=settings__account__logo> <div class=logoError ng-show=errors.user_logo>{{errors.user_logo}}</div> <upload-drop-area uda-image={{::config.imgUrl}}{{user.user_logo}} uda-success-callback=cbupload(data) uda-data-name=file uda-url={{config.apiUri}}/upload/account/ uda-name=Logo uda-fallback-image={{::$root.config.fallbackImages.userLogo}} uda-delete=delete uda-error-callback=cberrorcover() uda-crop=true uda-crop-width=200 uda-crop-height=200 class=userLogo> </upload-drop-area> </div> </section> <section class=\"box__row box__row--3col account-username-settings\" ng-class=\"{'account-username-settings--edit-mode': editItem['name']}\"> <div class=box__row__title>{{::'global_text_username' | translate}}</div> <div class=box__center> <form ng-submit=\"saveUser('name')\" novalidate class=box__center__form> <input name=display_name type=text class=\"box__text-input name\" ng-class=\"{disabled:!editItem['name']}\" placeholder={{user.user_name}} ng-model=user.user_display_name ng-change=verifyDisplayName() ng-disabled=\"!editItem['name']\" autocomplete=off autofocus spellcheck=false required/> <div class=\"box__collapsible animate ng-hide\" ng-show=\"editItem['name']\"> <div class=box__text--note> {{::'view_account-settings_text_can-change' | translate}} </div> <div class=box__buttons> <htbx-button data-variant=cancel data-on-select=\"cancel('name')\"> {{::'global_text_cancel' | translate}} </htbx-button> <htbx-button data-type=submit data-variant=ok data-disabled=\"error.user_display_name || user.user_display_name == backup_username\" data-loading=\"save_status.name === 'saving'\"> {{::'global_button_save' | translate}} </htbx-button> </div> </div> </form> </div> <div class=box__action> <htbx-button data-variant=box-edit data-disabled=\"editItem['name']\" data-on-select=\"switchOpen('name')\"> {{::'global_text_edit' | translate}} </htbx-button> </div> </section> <section class=\"box__row box__row--3col account-email-settings\" ng-class=\"{'account-email-settings--edit-mode': editItem['email']}\"> <div class=box__row__title>{{::'global_text_email' | translate}}</div> <div class=box__center> <form ng-submit=\"saveUser('email')\" novalidate class=box__center__form> <div class=box__input-group> <input name=email type=text class=\"box__text-input email text email-bck\" ng-class=\"{disabled:!editItem['email']}\" placeholder=\"{{ 'global_text_email' | translate }}\" ng-model=user.user_email ng-change=verifyEmail() ng-disabled=\"!editItem['email']\" autocomplete=off required/> <div class=box__text> <htbx-alert ng-if=error.user_email type=warning class=box__text__error> {{error.user_email}} </htbx-alert> </div> </div> <div class=\"box__collapsible animate ng-hide\" ng-show=\"editItem['email']\"> <div class=box__input-group> <input name=password type=password class=\"box__text-input password text\" placeholder=\"{{::'global_text_password' | translate }}\" ng-model=user.user_password ng-change=verifyPassword() required/> <div class=box__text> <htbx-alert ng-if=error.user_password type=warning class=box__text__error> {{error.user_password}} </htbx-alert> <span class=box__text--note ng-hide=\"!editItem['email']\">{{::'view_account-settings_text_enter-update-email' | translate}}</span> </div> </div> <div class=box__buttons> <htbx-button data-variant=cancel data-on-select=\"cancel('email')\"> {{::'global_text_cancel' | translate}} </htbx-button> <htbx-button data-type=submit data-variant=ok data-disabled=\"error.user_email || user.user_email == backup_email || !user.user_password\" data-loading=\"save_status.email === 'saving'\"> {{::'global_button_save' | translate}} </htbx-button> </div> </div> </form> </div> <div class=box__action> <htbx-button data-variant=box-edit data-disabled=\"editItem['email']\" data-on-select=\"switchOpen('email')\"> {{::'global_text_edit' | translate}} </htbx-button> </div> </section></div>  <htbx-settings-delete-account disable-monetization=true ng-if=\"paysettings.partner_type === 'self'\"></htbx-settings-delete-account> <htbx-settings-delete-account></htbx-settings-delete-account> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/settings/views/settings.security.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="settings__security box box--rowed"> <div class=box__title>{{::\'global_menu_security\' | translate}}</div> <section class="box__row box__row--3col password"> <div class=box__row__title> {{::\'global_text_password\' | translate}} </div> <div class=box__center> <div class="box__collapsible animate ng-hide" ng-show="editItem[\'pwd\'] || error.user_password_new || error.user_password2_new"> <form ng-submit="saveUser(\'pwd\')" name=changePasswordForm novalidate class=box__center__form> <input name=password type=password ng-show="editItem[\'pwd\'] || error.user_password_new || error.user_password2_new" class="box__text-input password text" placeholder="{{ \'global_text_current\' | translate }}" ng-model=user.user_password ng-change=verifyPassword() required/> <div class=password-strength-wrap> <div class="password-strength{{!changePasswordForm.newPassword.$pristine > 0 ? \' htbx-input--password-strength-\' + passwordStrength.score : \'\'}}"> <input type=password class="box__text-input password text" ng-class={error:error.user_password_new} placeholder="{{ \'global_text_new\' | translate }}" ng-model=user.user_password_new name=newPassword zxcvbn=passwordStrength ng-minlength=6 zx-min-score=2 ng-blur=verifyPassword() ng-change=verifyPassword() required/> <div ng-if="!changePasswordForm.newPassword.$pristine && !changePasswordForm.newPassword.$pending" class="htbx-input__icon animate" ng-class="{\'htbx-input__icon--is-valid\': !changePasswordForm.newPassword.$invalid}" uib-tooltip={{getPasswordStrengthTranslation(passwordStrength.score)}} data-tooltip-append-to-body=true> <smash-icon ng-if=!changePasswordForm.newPassword.$invalid data-icon=check data-size=24 data-lines=true></smash-icon> </div> <div ng-if=changePasswordForm.newPassword.$pending class="htbx-input__loading animate"> <smash-spinny></smash-spinny> </div> </div> </div> <div class=box__input-group> <input type=password name=newPassword2 password-match=newPassword class="box__text-input password text" ng-class={error:error.user_password2_new} placeholder="{{ \'view_account-settings_placeholder_retype-new\' | translate }}" ng-model=user.user_password2_new ng-change=verifyPassword() ng-change="" required/> <div class=box__text> <htbx-alert ng-if="!changePasswordForm.newPassword.$pristine && changePasswordForm.newPassword.$invalid" type=warning class=box__text__error> <htbx-auth-field-error data-model=changePasswordForm.newPassword data-template-src={{::templateUrlNewPasswordErrorMessage}} class=htbx-input__error-msg></htbx-auth-field-error> </htbx-alert> <htbx-alert ng-if="!changePasswordForm.newPassword2.$pristine && changePasswordForm.newPassword2.$invalid" type=warning class=box__text__error> <htbx-auth-field-error data-model=changePasswordForm.newPassword2 data-template-src={{::templateUrlNewPasswordErrorMessage}} class=htbx-input__error-msg></htbx-auth-field-error> </htbx-alert> </div> </div> <div class=box__buttons> <htbx-button data-variant=cancel data-on-select="cancel(\'pwd\')"> {{::\'global_text_cancel\' | translate}} </htbx-button> <htbx-button data-type=submit data-variant=ok data-disabled="error.user_password_new || error.user_password || error.user_password2 || !user.user_password || !user.user_password_new || !user.user_password2_new" data-loading="save_status[\'pwd\'] === \'saving\'"> {{::\'global_button_save\' | translate}} </htbx-button> </div> </form> </div> </div> <div class=box__action> <htbx-button data-variant=box-edit data-disabled="editItem[\'pwd\'] || error.user_password_new || error.user_password2_new" data-on-select="switchOpen(\'pwd\')"> {{::\'global_text_edit\' | translate}} </htbx-button> </div> </section> <section class="box__row account-details--tfa"> <htbx-settings-tfa data-ready=userDataReady data-active=user.tfa_active data-user-name=user.user_name data-super-admin="roles.superadmin === \'admin\'" data-on-update=updateTfaStatus></htbx-settings-tfa> </section> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/settings/views/settings.notifications.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<section class=\"account-notifications-settings box\" ng-controller=NotificationsSettingsCtrl> <div class=box__title> {{::'global_header_notifications' | translate}} </div> <div class=box__content> <div class=box__row> <div class=box__header-checkbox> <toggle-checkbox data-dark-background=true ng-model=notify_email ng-change=saveNotificationSettings() label=\"{{::'view_account-settings_label_recieve-email' | translate}}\"></toggle-checkbox> <div class=toggle-checkbox__note> <a ui-sref=\"community.following({user: user.user_name})\" class=account-notifications-settings__link> {{::'view_account-settings_link_set-individually' | translate}} </a> </div> </div> </div> </div> <htbx-saving-indicator data-saving=saving data-position-in-corner=true></htbx-saving-indicator> </section> ")}]),e.exports=a},function(e,t,n){var a="/src/js/settings/views/settings.access.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <htbx-settings-access-moderations></htbx-settings-access-moderations> <htbx-settings-access-dashboards></htbx-settings-access-dashboards> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/transactions/history/:user",{user:"@user"},{get:{method:"GET",params:{}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/payments/balance/:user",{user:"@user"},{get:{method:"GET",params:{},isArray:!0}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){var t={nocache:"true"},n=e(i.default.apiUri+"/payments/settings/:user",{user:"@user"},{get:{method:"GET",params:t,isArray:!1},set:{method:"POST",params:t,isArray:!1},revokePartnership:{method:"POST",params:t,isArray:!1,url:i.default.apiUri+"/partnership/revokePartnership/:user"},forfeitRevenues:{method:"POST",params:t,isArray:!1,url:i.default.apiUri+"/revenues/forfeit/:user"}}),a=function(){var e=void 0;return{getInstance:function(){return e||((e={}).data={}),e}}}();return{get:function(e,t,i){if(a.getInstance().data.user_id)return t(a.getInstance().data);n.get(e,function(e){a.getInstance().data=e,t(e)},i)},set:function(e,t,i){n.set(e,function(e){a.getInstance().data=e,t(e)},i)},loaded:a.getInstance(),revokePartnership:n.revokePartnership,forfeitRevenues:n.forfeitRevenues,changePartnership:n.changePartnership}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,l,c,u){e.data={activeBalance:""},e.charts={revenuestats:{series:[{name:"revenue",type:"column",visible:!0,data:[]},{name:"breakdown",type:"pie",visible:!0,data:[]}]},processing:0},e.chartReady=!1,i(function(){e.charts.processing=1},0),i(function(){e.charts.processing=0,e.chartReady=!0},1),e.selected_revenue_series=s.default.get("stats.selected_revenue_series"),e.selected_revenue_series||(e.selected_revenue_series={payments:!1,payorders:!0}),e.selected_labels={advertising:c.instant("global_header_subscriptions")},e.$watch("selected_revenue_series",function(){s.default.set("stats.selected_revenue_series",e.selected_revenue_series);for(var t=e.charts.revenuestats,n=0;n<t.series.length;n++)o.default.isDefined(e.selected_revenue_series[t.series[n].name])&&(t.series[n].visible=e.selected_revenue_series[t.series[n].name])},!0),e.getAvailableBalance=function(){var i={user:l.user||u.getName(),authToken:u.getToken()};t.get(i,function(t){var i=0,o="",s="",l="";t.forEach(function(e){i+=parseFloat(e.sub_earnings)+parseFloat(e.live_earnings)+parseFloat(e.video_earnings)+parseFloat(e.special_credits),o=e.plan_currency,s=e.minDate,l=e.maxDate}),e.data.activeBalance=function(e,t){return n.trustAsHtml(a("toMoney")(e,t,!0))}(i,o),s&&l&&(e.data.activeBalanceMinDate=(0,r.default)(s).utc().format("Do MMM YYYY"),e.data.activeBalanceMaxDate=(0,r.default)(l).utc().format("Do MMM YYYY"),e.data.setup=!0)})},e.getStats=function(){e.getAvailableBalance()},e.getStats()}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(5)),s=a(n(16));n(2774);var l=a(n(2775));i.$inject=["$scope","AvailableBalance","$sce","$filter","$timeout","$stateParams","$translate","loggedUser"],t.default=function(){return{restrict:"A",templateUrl:l.default,scope:{},controller:i}}},function(e,t){},function(e,t,n){var a="/src/js/payments/directives/available-balance.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=revenues-balance> <p ng-bind-html=data.activeBalance class=revenues-balance__value></p> <p> {{::'view_payment-settings_header_account-balance' | translate}} </p> <p ng-if=data.setup> {{:: data.activeBalanceMinDate}}{{:: 'view_payment-settings_header_balance_date_range-help' | translate}}{{:: data.activeBalanceMaxDate}} </p> </div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i){e.data={reSentInformation:"",loading:!0},e.data.emailVerified=!0,(0,o.default)(e.currentStatus)||(e.currentStatus=e.data.emailVerified),e.resendEmail=function(){var o={user:t.user,authToken:i.getToken(),return:"/payments/"+t.user+"/account",title:a.instant("global_header_payment-setup")};n.resendVerificationEmail(o,function(){e.data.reSentInformation=a.instant("view_earnings-settings_text_sent-email")})};var r={user:t.user};n.get(r,function(t){e.data.loading=!1,e.data.emailVerified=!((0,o.default)(t)||"1"!==t.user.user_activated),(0,o.default)(e.currentStatus)||(e.currentStatus=e.data.emailVerified)},function(){e.data.loading=!1})}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(11)),r=a(n(2777));i.$inject=["$scope","$stateParams","UserVerification","$translate","loggedUser"],t.default=function(){return{restrict:"E",templateUrl:r.default,scope:{currentStatus:"=",nextStepText:"@",continueGoto:"@"},controller:i}}},function(e,t,n){var a="/src/js/payments/directives/email-verified.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-show="data.emailVerified && !data.loading" class=revenues__setup__continue> <div>{{::nextStepText}}</div> <button class="button button--size-default button--ok" ui-sref={{continueGoto}} ui-sref-opts="{reload: true}"> {{::\'global_button_continue\' | translate }} </button> </div> <div class="hitbox-alert hitbox-alert--warning" ng-show="!data.emailVerified && !data.loading"> <div ng-if=!data.emailVerified> <div class=hitbox-alert__title> {{::\'view_earnings-settings_text_verify-email\' | translate}} </div> <div class=hitbox-alert__message> {{::\'view_earnings-settings_text_check-email\' | translate}} </div> <br/> <button ng-click=resendEmail() class="button button--size-default button--ok"> {{::\'view_earnings-settings_button_resend-verification-email\' | translate}} </button> </div> <div class=box-header> {{data.reSentInformation}} </div> </div> ')}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2779));n(2780),t.default=function(){return{restrict:"E",templateUrl:a.default}}},function(e,t,n){var a="/src/js/payments/directives/payments-account-popover.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <div class=payment-account-popover> <div class=payment-account-popover__note> {{::'view_payment-settings_text_personal-hidden' | translate}} </div> <dl class=payment-account-popover__data ng-show=$ctrl.loaded.is_business> <dt>{{::'global_text_entity' | translate}}</dt> <dd>{{$ctrl.loaded.is_business}}</dd> </dl> <dl class=payment-account-popover__data> <dt>{{::'global_text_first-name' | translate}}</dt> <dd>{{$ctrl.loaded.first_name}}</dd> <dt>{{::'global_text_last-name' | translate}}</dt> <dd>{{$ctrl.loaded.last_name}}</dd> <dt>{{::'global_text_address' | translate}}</dt><dt> <dd>{{$ctrl.loaded.address1}}</dd><dd> <dt>{{::'global_text_city' | translate}}</dt> </dd><dd>{{$ctrl.loaded.city}}</dd> </dt><dt>{{::'global_text_country' | translate}}</dt> <dd>{{$ctrl.loaded.country}}</dd> <dt>{{::'global_label_currency' | translate}}</dt> <dd>{{$ctrl.loaded.currency}}</dd> </dl> <button class=\"payment-account-popover__button button button--size-super-small button--variant-ok\" ui-sref=payments.account> {{::'global_text_edit' | translate}} </button> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2782)),r=function(){function e(t,n,a,o,r,s,l,c,u,d,f){var p=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.redirectToEndPage=function(){if("payments.welcome"!==p.$state.current.name)p.partnerState.promise.then(function(e){p.redirectIsNeeded()&&(p.partnershipStateDiagram.currentState.name===p.PartnershipState.NOT_YET_A_PARTNER?e.group_partner&&"0"!==e.group_partner&&"self"!==e.partner_type?p.$state.go("payments.partofteam",{user:p.$stateParams.user}):p.$state.go("payments.welcome",{user:p.$stateParams.user}):p.partnershipStateDiagram.currentState.name===p.PartnershipState.VISITED_WELCOME?p.$state.go("payments.account",{user:p.$stateParams.user}):p.partnershipStateDiagram.currentState.name===p.PartnershipState.IS_A_PARTNER?p.$state.go("payments.overview",{user:p.$stateParams.user}):p.$state.go("payments.welcome",{user:p.$stateParams.user}))});else{var e={user:p.$stateParams.user};p.UserVerification.get(e,function(e){!((0,i.isUndefined)(e.user)||"1"!==e.user.user_activated)&&p.$timeout(function(){p.partnershipStateDiagram.action(p.PartnershipAction.READ_WELCOME)},2e3)})}},this.redirectIsNeeded=function(){var e=!0;return 1!==p.partnerState.deferred.promise.$$state.status&&(e=!1),p.$state.is("payments.overview")||p.$state.is("payments")||(e=!1),p.$state.is("payments.overview")&&p.partnershipStateDiagram.currentState.name===p.PartnershipState.IS_A_PARTNER&&(e=!1),e},Object.assign(this,{$stateParams:t,PaymentSettings:n,$state:a,$scope:o,partnershipStateDiagram:r,partnerState:s,PartnershipAction:l,PartnershipState:c,UserVerification:u,$timeout:d}),this.loggedUser=f}return e.$inject=["$stateParams","PaymentSettings","$state","$scope","partnershipStateDiagram","partnerState","PartnershipAction","PartnershipState","UserVerification","$timeout","loggedUser"],a(e,[{key:"$onInit",value:function(){var e=this;this.partnershipStateDiagram.start(),this.PaymentSettings.get({user:this.$stateParams.user||this.loggedUser.getName(),authToken:this.loggedUser.getToken()},function(t){e.partnerState.deferred.resolve(t),t&&t.user_id?e.partnershipStateDiagram.action(e.PartnershipAction.SETUP_AS_PARTNER):e.partnershipStateDiagram.action(e.PartnershipAction.SETUP_AS_NOT_YET_A_PARTNER),e.redirectToEndPage()}),this.$scope.$on("$stateChangeSuccess",this.redirectToEndPage)}}]),e}();t.default={templateUrl:o.default,controller:r}},function(e,t,n){var a="/src/js/payments/components/payments-page.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<htbx-layout data-variant=settings> <htbx-layout-navigation> <htbx-sub-nav data-active-section={{$root.section}}></htbx-sub-nav> </htbx-layout-navigation> <htbx-layout-content> <div class="payments-content payments__content payments__content--{{tab}}" ui-view autoscroll></div> </htbx-layout-content> </htbx-layout> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(5)),r=a(n(2784));n(2785);var s=function(){function e(t,n,a,i,o,r,s,l,c,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$scope=t,this.$rootScope=n,this.$stateParams=a,this.PaymentOrders=i,this.partnerState=o,this.Analytics=r,this.$filter=s,this.$sce=l,this.$log=c,this.loggedUser=u,this.data={settings:{}},this.LoadedFromBackend=!1,this.loaded={}}return e.$inject=["$scope","$rootScope","$stateParams","PaymentOrders","partnerState","Analytics","$filter","$sce","$log","loggedUser"],i(e,[{key:"$onInit",value:function(){this.Analytics.trackEvent("payments","overviewClicked"),this.getStats()}},{key:"resetData",value:function(){var e=this;this.data={},this.partnerState.promise.then(function(t){t.user_id?(e.loaded=t,e.data.settings_status=t.settings_status,"Verified"===e.data.settings_status&&"self"!==t.partner_type&&"suspended"!==t.partner_type?e.data.settings_status="Premium":"suspended"===t.partner_type&&(e.data.settings_status="Suspended"),"1"===t.payment_banned&&(e.data.settings_status="Payment banned"),e.getPaymentOrders()):e.data.settings_status="Verified",e.LoadedFromBackend=!0,e.$rootScope.firsts.signupAsPartner&&(e.firstTimeSignupAsPartner=!0,delete e.$rootScope.firsts.signupAsPartner)},function(){e.$log.warn("Not a partner but in partner payments state?!")}),this.chartReady=!0}},{key:"getPaymentOrders",value:function(){var e=this,t={user:this.$stateParams.user,authToken:this.loggedUser.getToken()};this.PaymentOrders.get(t,function(t){e.data.monthly_credits=t.orders;var n=e.data.monthly_credits;!n||n.code&&200!==n.code||n.forEach(function(t){t.amount_html=e.toCcyAmount(t.order_amount,t.order_ccy),t.pay_by_date=(0,o.default)(t.pay_date).utc().format("Do MMM YYYY"),t.breakdown.forEach(function(t){t.amount_html=e.toCcyAmount(t.amount,t.currency)})})})}},{key:"getStats",value:function(){this.resetData()}},{key:"toCcyAmount",value:function(e,t){return this.$sce.trustAsHtml(this.$filter("toMoney")(e,t))}}]),e}();t.default={templateUrl:r.default,controller:s}},function(e,t,n){var a="/src/js/payments/components/payments-overview.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=revenues> <div class=spinner ng-hide=$ctrl.LoadedFromBackend> <bouncy on-light=true></bouncy> </div> <div ng-if=$ctrl.LoadedFromBackend> <htbx-alert ng-show=$ctrl.firstTimeSignupAsPartner data-type=success data-alert-title="{{::\'view_payment-settings_header_welcome-partner\' | translate}}" data-dismissable=true> <p>{{::\'view_payment-settings_text_welcome-1\' | translate}}</p> <p>{{::\'view_payment-settings_text_welcome-2\' | translate}}</p> <p>{{::\'view_payment-settings_text_welcome-3\' | translate}}</p> <p>{{::\'view_payment-settings_text_welcome-4\' | translate}}</p> <p>{{::\'view_payment-settings_text_welcome-5\' | translate}}</p> </htbx-alert> <div class="revenues-overview box cf"> <div class=revenues-overview__balance available-balance></div> <div class=revenues-overview__info> <div class=revenues-overview__info__status> {{::\'view_payment-settings_label_account-status\' | translate }}: <span>{{$ctrl.data.settings_status}}</span> </div> <button class="revenues-overview__info__edit button button--size-small button--variant-outline" generic-popover gp-width=290 gp-height=160 gp-position=bottom gp-template="<payments-account-popover></payments-account-popover>" gp-on=click> {{::\'view_payment-settings_link_billing-account\' | translate }} </button> </div> </div> <div class="revenues-history box"> <div class=box__title> {{::\'view_payment-settings_header_payout-history\' | translate}} </div> <div class=box-content> <div ng-if="$ctrl.data.monthly_credits.length === 0" class=table__no-data> {{::\'view_payment-settings_text_no-payouts\' | translate}} </div> <div class=box-list> <ul class=revenues-history__row ng-repeat="payOrder in $ctrl.data.monthly_credits" ng-if="$ctrl.data.monthly_credits.length > 0"> <li class="revenues-history__row__header cf"> <div class=revenues-history__row__col-1> {{::\'global_text_payout\' | translate}} {{payOrder.publicorderident}} </div> <div class=revenues-history__row__col-2> <span ng-bind-html=payOrder.amount_html></span> </div> <div class=revenues-history__row__col-3> <span class="revenues-history__row__status revenues-history__row__status--problem" ng-if="payOrder.status !== \'Unverified\' && payOrder.status !== \'Verified\' && payOrder.status !== \'Paid\' && payOrder.status !== \'Processing payment\'" uib-tooltip="{{ \'view_payment-settings_header_problem_paying-help\' | translate }}" tooltip-placement="auto top"> <span class=revenues-history__row__status__text> {{payOrder.status}} </span> <span class=revenues-history__row__status__icon> <smash-icon icon=info size=20></smash-icon> </span> </span> <span class="revenues-history__row__status revenues-history__row__status--processing" ng-if="payOrder.status == \'Processing payment\'" uib-tooltip="{{ \'view_payment-settings_header-processing_payment\' | translate }}" tooltip-placement="auto top"> <span class=revenues-history__row__status__text> {{::\'global_text_processing-payment\' | translate}} </span> <span class=revenues-history__row__status__icon> <smash-icon icon=info size=20></smash-icon> </span> </span> <span class="revenues-history__row__status revenues-history__row__status--unverified" ng-if="payOrder.status == \'Unverified\'" uib-tooltip="{{ \'view_payment-settings_being_reviewed_by_staff-help\' | translate }}" tooltip-placement="auto top"> <span class=revenues-history__row__status__text> {{::\'global_text_on-hold\' | translate}} </span> <span class=revenues-history__row__status__icon> <smash-icon icon=info size=20></smash-icon> </span> </span> <span class="revenues-history__row__status revenues-history__row__status--verified" ng-if="payOrder.status == \'Verified\'" uib-tooltip="{{:: \'view_payment-settings_intention_to_be_paid_by_date-help\' | translate:{payOrder: payOrder} }}" tooltip-placement="auto top"> <span class=revenues-history__row__status__text> {{::\'global_text_in-process\' | translate}} </span> <span class=revenues-history__row__status__icon> <smash-icon icon=info size=20></smash-icon> </span> </span> <span class="revenues-history__row__status revenues-history__row__status--paid" ng-if="payOrder.status == \'Paid\'"> <span class=revenues-history__row__status__text> {{::\'global_text_paid\' | translate}} </span> <span class="revenues-history__row__status__note revenues-history__row__col-3__note"> {{payOrder.pay_date}} </span> </span> </div> </li> <li class="revenues-history__row__detail cf" ng-repeat="period in payOrder.breakdown"> <div class=revenues-history__row__col-1> {{period.month_disp}} {{ period.reason ? \'- \' + period.reason : \'\' }} </div> <div class=revenues-history__row__col-2> <span ng-bind-html=period.amount_html></span> </div> </li> </ul> </div> </div> </div> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){var a="/src/js/payments/views/settings-payments-welcome.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-controller=PayAccountSettingsCtrl class=revenues__setup> <htbx-page-title data-variant=emphasis> {{::'view_payment-settings_header_enable-monetization' | translate}} <p> {{::'view_payment-settings_text_make-money' | translate}} </p> </htbx-page-title> <section class=box> <div class=box__title> {{::'view_payment-settings_text_guidelines' | translate}} </div> <div class=box__row> <p ng-click=\"revFaq1 =! revFaq1\" class=revenues__setup__faq__q ng-class=\"{\n                    open: revFaq1,\n                }\"> <span class=revenues__setup__faq__q__icon> <smash-icon icon=tiny-arrow center=true></smash-icon> </span> <span class=revenues__setup__faq__q__text> {{::'view_payment-settings_text_how-money' | translate }} </span> </p> <p class=revenues__setup__faq__a uib-collapse=!revFaq1> <span>{{::'view_payment-settings_text_answer-money' | translate }}</span> </p> <p ng-click=\"revFaq2 =! revFaq2\" class=revenues__setup__faq__q ng-class=\"{\n                    open: revFaq2,\n                }\"> <span class=revenues__setup__faq__q__icon> <smash-icon icon=tiny-arrow center=true></smash-icon> </span> <span class=revenues__setup__faq__q__text> {{::'view_payment-settings_text_how-much' | translate }} </span> </p> <p class=revenues__setup__faq__a uib-collapse=!revFaq2> <span>{{::'view_payment-settings_text_answer-much' | translate }}</span> </p> <p ng-click=\"revFaq3 =! revFaq3\" class=revenues__setup__faq__q ng-class=\"{\n                    open: revFaq3,\n                }\"> <span class=revenues__setup__faq__q__icon> <smash-icon icon=tiny-arrow center=true></smash-icon> </span> <span class=revenues__setup__faq__q__text> {{::'view_payment-settings_text_what-content' | translate }} </span> </p> <p class=revenues__setup__faq__a uib-collapse=!revFaq3> <span>{{::'view_payment-settings_text_answer-content' | translate }}</span> </p> <p ng-click=\"revFaq4 =! revFaq4\" class=revenues__setup__faq__q ng-class=\"{\n                    open: revFaq4,\n                }\"> <span class=revenues__setup__faq__q__icon> <smash-icon icon=tiny-arrow center=true></smash-icon> </span> <span class=revenues__setup__faq__q__text> {{::'view_payment-settings_text_what-require' | translate }} </span> </p> <p class=revenues__setup__faq__a uib-collapse=!revFaq4> <span>{{::'view_payment-settings_text_answer-require' | translate }}</span> </p> </div> </section> <email-verified current-status=data.verifiedEmail next-step-text=\"{{::'view_payment-settings_text_next-step' | translate }}\" continue-goto=payments.account></email-verified> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/payments/views/settings-payments-partofteam.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=revenues__setup> <htbx-alert type=warning> <p>{{::'view_payment-settings_header_monetization' | translate}} {{data.settings.group_partner}}</p> <p>{{::'view_payment-settings_text_partofteam-1' | translate}}</p> <p>{{::'view_payment-settings_text_partofteam-2' | translate}}</p> </htbx-alert> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/payments/views/settings-payments-account.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div ng-controller=PayAccountSettingsCtrl class=revenues__setup> <form ng-show=loadedPriorPaymentSettings accept-charset=UTF-8 class="form form_enclosed revenues__setup__form" name=payment_settings autocomplete=off ng-submit=submitPaymentSettings(formValues) novalidate> <a id=topofform></a> <htbx-page-title> {{::\'view_payment-settings_header_billing-details\' | translate}} <p>{{::\'view_payment-settings_text_billing-details-info\' | translate}}</p> </htbx-page-title> <htbx-alert ng-if=userToCorrectValues type=warning> {{::\'view_payment-settings_error_fill-empty\' | translate}} </htbx-alert> <section class="form__section box-list"> <ul class=form__rows> <li class=form__row> <label class=form__row__label> {{::\'view_payment-settings_label_legal-entity\' | translate}} </label> <div class=form__row__inputs> <htbx-radiobutton ng-model=formValues.is_business data-value=individual data-name=is_business> {{::\'global_text_private\' | translate}} </htbx-radiobutton> <htbx-radiobutton ng-model=formValues.is_business data-value=business data-name=is_business> {{::\'global_text_business\' | translate}} </htbx-radiobutton> </div> </li> <li class=form__row ng-class="{\n                        formRowError: ((payment_settings.currency.$touched || formSubmitted) && payment_settings.currency.$invalid),\n                        formRowDisabled: data.existingSettings.currency,\n                    }"> <label class=form__row__label> {{::\'global_label_currency\' | translate}} </label> <div class=form__row__inputs> <htbx-radiobutton ng-model=formValues.currency data-disabled=data.existingSettings.currency data-required=true data-value=EUR data-name=currency> Euro </htbx-radiobutton> <htbx-radiobutton ng-model=formValues.currency data-disabled=data.existingSettings.currency data-required=true data-value=USD data-name=currency> US Dollars </htbx-radiobutton> </div> </li> <li class=form__row ng-class="{\n                        formRowError: (formSubmitted && !formValues.country),\n                        formRowDisabled: data.existingSettings.country,\n                    }"> <label class=form__row__label> {{::\'global_text_country\' | translate}} </label> <div class=form__row__inputs> <htbx-typeahead class=form__row__typeahead input-class=form__row__inputs__select2 ng-model=selectedValues.country.name on-select="options.selectCountry.selectItem($item, $model)" on-blur=options.selectCountry.checkCountryValidity($event) debounce-time=20 trigger-on-focus=true placeholder={{options.selectCountry.placeholder}} typeahead-item-template={{::typeaheadListCountriesTemplateUrl}} on-refresh=getCountries($viewValue)></htbx-typeahead> </div> </li> </ul> </section> <section class="form__section box-list"> <header class=form__section__header> <p class=form__section__header__title> {{::\'global_header_payment-method\' | translate}} </p> <p ng-hide=paypalError class=form__section__header__note> {{::\'view_payment-settings_text_transfered-1\' | translate}} </p> </header> <ul class=form__rows ng-class="{\n                    formRowError: (((payment_settings.paypal_recipient.$touched || formSubmitted) && payment_settings.paypal_recipient.$invalid) || ((payment_settings.bank_IBAN.$touched || formSubmitted) && payment_settings.bank_IBAN.$invalid) || ((payment_settings.bank_SWIFT.$touched || formSubmitted) && payment_settings.bank_SWIFT.$invalid)),\n                }"> <li ng-if=paypalError class="form__row form__section__header formRowError"> <p class=form__section__header__title> {{\'view_payment-settings_error_paypal\' | translate}}: {{paypalError}} </p> <p class=form__section__header__note> {{\'view_payment-settings_error_error-paypal-combination\' | translate}} </p> </li> <li class=form__row ng-class="{\n                        formRowError: ((payment_settings.paypal_recipient.$touched || formSubmitted) &&  (payment_settings.paypal_recipient.$invalid || paypalError)),\n                    }"> <label ng-if="data.existingSettings.pay_method === \'bank\' || (isSepaCountryFlag && formValues.currency === \'EUR\' && paysettings.partner_type && paysettings.partner_type !== \'self\' && paysettings.partner_type !== \'Suspended\')" class=form__row__label> <label class=radiobutton> <input type=radio ng-model=formValues.pay_method value=paypal /> <div> PayPal </div> </label> </label> <label class=form__row__label ng-if="!(data.existingSettings.pay_method === \'bank\' || (isSepaCountryFlag && formValues.currency === \'EUR\' && paysettings.partner_type && paysettings.partner_type !== \'self\' && paysettings.partner_type !== \'Suspended\'))"> PayPal </label> <div class=form__row__inputs ng-class="{formRowError: ((payment_settings.paypal_recipient.$touched || formSubmitted) && payment_settings.paypal_recipient.$invalid)}"> <input class=form__row__inputs__textinput ng-required="formValues.pay_method !== \'bank\'" name=paypal_recipient type=email ng-model=formValues.paypal_recipient ng-change="paypalError ? paypalError=\'\' : null" placeholder="{{\'view_payment-settings_placeholder_paypal-email\' | translate}}"/> </div> </li> <li class=form__row ng-if="data.existingSettings.pay_method === \'bank\' || (isSepaCountryFlag && formValues.currency === \'EUR\' && paysettings.partner_type && paysettings.partner_type !== \'self\' && paysettings.partner_type !== \'Suspended\')" ng-class="{\n                        formRowError: (((payment_settings.bank_IBAN.$touched || formSubmitted) && payment_settings.bank_IBAN.$invalid) || ((payment_settings.bank_SWIFT.$touched || formSubmitted) && payment_settings.bank_SWIFT.$invalid)),\n                    }"> <label class=form__row__label> <label class=radiobutton> <input type=radio ng-model=formValues.pay_method value=bank /> <div> {{::\'view_payment-settings_text_wire-transfer\' | translate}} </div> </label> </label> <div class=form__row__inputs> <input class=form__row__inputs__textinput name=bank_IBAN placeholder=IBAN ng-model=formValues.bank_IBAN type=text ng-required="formValues.pay_method === \'bank\'"/> </div> <div class=form__row__inputs> <input class=form__row__inputs__textinput name=bank_SWIFT placeholder="BIC or SWIFT" type=text ng-model=formValues.bank_SWIFT ng-required="formValues.pay_method === \'bank\'"/> </div> </li> </ul> </section> <section class="form__section box-list"> <header class=form__section__header> <p class=form__section__header__title> {{::\'view_payment-settings_header_personal\' | translate}} </p> <p class=form__section__header__note> {{::\'view_payment-settings_text_security-paypal\' | translate}} </p> </header> <ul class=form__rows> <li class=form__row ng-class="{\n                        formRowError: ((payment_settings.first_name.$touched || formSubmitted) && (payment_settings.first_name.$invalid || paypalError)),\n                    }"> <label class=form__row__label> {{::\'global_text_first-name\' | translate}} </label> <div class=form__row__inputs> <input class="form__row__inputs__textinput form-control first_name text" name=first_name type=text ng-model=formValues.first_name ng-change="paypalError ? paypalError=\'\' : null" required novalidate/> </div> </li> <li class=form__row ng-class="{\n                        formRowError: ((payment_settings.last_name.$touched || formSubmitted) && (payment_settings.last_name.$invalid || paypalError)),\n                    }"> <label class=form__row__label> {{::\'global_text_last-name\' | translate}} </label> <div class=form__row__inputs> <input class="form__row__inputs__textinput form-control last_name text" name=last_name type=text ng-model=formValues.last_name ng-change="paypalError ? paypalError=\'\' : null" required novalidate/> </div> </li> <li class=form__row ng-class="{\n                        formRowError: formSubmitted && ((!formValues.birthDay || !formValues.birthMonth || !formValues.birthYear) || formValues.mustBe18Error),\n                    }"> <label class=form__row__label> {{::\'view_payment-settings_label_date-birth\' | translate}} <div ng-if=formValues.mustBe18Error class=form__row__label__note> {{::\'view_payment-settings_text_must_be_18\' | translate }} </div> </label> <div class="form__row__inputs form__row__inputs--date"> <div class=form__row__inputs--date__col> <ui-select class=form__row__inputs--date__select2 id=daySelect name=birthDay required ng-model=selectedValues.birthDay theme=select2 append-to-body=true on-select="options.dayOptions.selectItem($item, $model)" autofocus=true required> <ui-select-match placeholder={{options.dayOptions.placeholder}}> {{$select.selected.text}} </ui-select-match> <ui-select-choices refresh-delay=20 refresh=options.dayOptions.refresh($select.search) repeat="item in options.dayOptions.searchable | filter: {text: $select.search}" ng-click=options.dayOptions.onClick()> <div ng-bind-html="item.text | highlight: $select.search"></div> </ui-select-choices> </ui-select> </div> <div class=form__row__inputs--date__col> <ui-select class=form__row__inputs--date__select2 id=monthSelect name=birthMonth required ng-model=selectedValues.birthMonth theme=select2 append-to-body=true on-select="options.monthOptions.selectItem($item, $model)" autofocus=true required> <ui-select-match placeholder={{options.monthOptions.placeholder}}> {{$select.selected.text}} </ui-select-match> <ui-select-choices refresh-delay=20 refresh=options.monthOptions.refresh($select.search) repeat="item in options.monthOptions.searchable | filter: {text: $select.search}" ng-click=options.monthOptions.onClick()> <div ng-bind-html="item.text | highlight: $select.search"></div> </ui-select-choices> </ui-select> </div> <div class=form__row__inputs--date__col> <ui-select class=form__row__inputs--date__select2 id=yearSelect name=birthYear required ng-model=selectedValues.birthYear theme=select2 append-to-body=true on-select="options.yearOptions.selectItem($item, $model)" autofocus=true required> <ui-select-match placeholder={{options.yearOptions.placeholder}}> {{$select.selected.text}} </ui-select-match> <ui-select-choices refresh-delay=20 refresh=options.yearOptions.refresh($select.search) repeat="item in options.yearOptions.searchable | filter: {text: $select.search}" ng-click=options.monthOptions.onClick()> <div ng-bind-html="item.text | highlight: $select.search"></div> </ui-select-choices> </ui-select> </div> </div> </li> <li class=form__row ng-show="formValues.is_business == \'business\'" ng-class="{formRowError: ((payment_settings.legal_name.$touched || formSubmitted) &&  payment_settings.legal_name.$invalid)}"> <label class=form__row__label> {{::\'view_payment-settings_label_business-name\' | translate}} </label> <div class=form__row__inputs> <input name=legal_name type=text class=form__row__inputs__textinput ng-model=formValues.legal_name ng-required=required novalidate/> </div> </li> <li class=form__row ng-show="formValues.is_business == \'business\'" ng-class="{\n                        formRowError: ((payment_settings.vat_code.$touched || formSubmitted) &&  payment_settings.vat_code.$invalid),\n                    }"> <label class=form__row__label> {{::\'view_payment-settings_label_vat-identifier\' | translate}} </label> <div class=form__row__inputs> <input name=vat_code type=text class=form__row__inputs__textinput ng-model=formValues.vat_code ng-required=required novalidate/> </div> </li> <li class=form__row ng-show="formValues.country === \'US\'" ng-class="{\n                        formRowError: ((payment_settings.tax_code.$touched || formSubmitted) &&  payment_settings.tax_code.$invalid),\n                    }"> <label class=form__row__label> {{::\'view_payment-settings_label_tax-identifier\' | translate}} </label> <div class=form__row__inputs> <input name=tax_code type=text class=form__row__inputs__textinput ng-model=formValues.tax_code ng-required=required novalidate/> </div> </li> </ul> </section> <section class="form__section box-list"> <header class=form__section__header> <p class=form__section__header__title> {{::\'view_payment-settings_header_billing-address\' | translate}} </p> <p class=form__section__header__note> {{::\'view_payment-settings_text_your-address\' | translate}} </p> </header> <ul class=form__rows> <li class=form__row ng-class="{\n                        formRowError: ((payment_settings.address1.$touched || formSubmitted) &&  payment_settings.address1.$invalid),\n                    }"> <label class=form__row__label> {{::\'global_text_address\' | translate}} </label> <div class=form__row__inputs> <input name=address1 type=text class=form__row__inputs__textinput ng-model=formValues.address1 required novalidate/> </div> </li> <li class=form__row ng-show="formValues.address1 !== \'\' && formValues.address1.length > 0"> <div class=form__row__inputs> <input name=address2 type=text class=form__row__inputs__textinput ng-model=formValues.address2 novalidate/> </div> </li> <li class=form__row ng-show="formValues.address2 !== \'\' && formValues.address2.length > 0"> <div class=form__row__inputs> <input name=address3 type=text class=form__row__inputs__textinput ng-model=formValues.address3 novalidate/> </div> </li> <li class=form__row ng-show="formValues.address3 !== \'\' && formValues.address3.length > 0"> <div class=form__row__inputs> <input name=address4 type=text class=form__row__inputs__textinput ng-model=formValues.address4 novalidate/> </div> </li> <li class=form__row> <label class=form__row__label> {{::\'view_payment-settings_label_postal-code\' | translate}} </label> <div class=form__row__inputs> <input name=postcode type=text class=form__row__inputs__textinput ng-model=formValues.postcode novalidate/> </div> </li> <li class=form__row ng-class="{\n                        formRowError: ((payment_settings.city.$touched || formSubmitted) && payment_settings.city.$invalid),\n                    }"> <label class=form__row__label> {{::\'view_payment-settings_label_city\' | translate}} </label> <div class=form__row__inputs> <input name=city type=text class=form__row__inputs__textinput ng-model=formValues.city required novalidate/> </div> </li> <li class=form__row ng-class="{\n                        formRowError: ((payment_settings.region.$touched || formSubmitted) && payment_settings.region.$invalid),\n                    }"> <label class=form__row__label> {{::\'view_payment-settings_label_state\' | translate}} </label> <div class=form__row__inputs> <input name=region type=text class=form__row__inputs__textinput ng-model=formValues.region ng-required="formValues.country === \'CA\' || formValues.country === \'US\'" novalidate/> </div> </li> </ul> </section> <section class="form__section box-list"> <header class=form__section__header> <p class=form__section__header__title> {{::\'global_text_terms-conditions\' | translate}} </p> </header> <cms-page class="form__frame revenues__setup__terms" hide-footer=true page=legal/partner-agreement flex-layout=true></cms-page> <ul> <li class="form__row revenues__setup__form__accept" id=termsAndConditions ng-class="{\n                        formRowError: ((payment_settings.acceptTerms.$touched || formSubmitted) && (payment_settings.acceptTerms.$invalid || !formValues.acceptedTerms)),\n                    }"> <toggle-checkbox ng-model=formValues.acceptedTerms label="{{::\'global_text_read-terms\' | translate}}" ng-required name=acceptTerms data-dark-background=true></toggle-checkbox> </li> <li class="form__row revenues__setup__form__password" ng-class="{\n                        formRowError: ((payment_settings.password.$touched || formSubmitted) && (payment_settings.password.$invalid || invalidPwdError)),\n                    }"> <label class=form__row__label>{{::\'global_text_password\' | translate}}</label> <div class=form__row__inputs> <input name=password type=password class=form__row__inputs__textinput ng-class="{\n                                error: hbCtrl.error.user_password,\n                            }" placeholder="" ng-model=formValues.user_password ng-change=hbCtrl.verifyPassword() required=true /> <p class=error-block ng-show=payment_settings.$error.wrong_password> {{::\'view_payment-settings_error_must-password\' | translate}}</p> </div> </li> </ul> </section> <div class=form__buttons> <htbx-button data-type=button data-variant=cancel data-on-select=cancelFormChanges()> {{::\'global_text_cancel\' | translate}} </htbx-button> <htbx-button data-type=submit data-variant=ok data-disabled="payment_settings.$invalid || !formValues.acceptedTerms" data-loading=sendingForm> {{::\'global_button_continue\' | translate}} </htbx-button> </div> </form> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(15)),r=a(n(2791)),s=a(n(2792)),l=a(n(2793)),c=a(n(2794)),u=a(n(2795)),d=a(n(2797)),f=a(n(2799)),p=a(n(2801));t.default=i.default.module("htbx.permission",[o.default]).service("accessRights",r.default).service("contextBasedPermission",s.default).service("permissionParser",l.default).service("stateBasedPermission",c.default).component("accessDenied",u.default).component("accessGranted",d.default).component("htbxAuthorize",f.default).component("unauthenticated",p.default).name},function(e,t,n){"use strict";function a(e,t,n,a,i,o){var r=this;return this.can=function(i,s,l){return e(function(e,c){var u=function(e,t){var n=a.partition(e);if(n.primaryAction){if(r["check_"+n.primaryAction]){var i=r["check_"+n.primaryAction].bind(r);return delete n.primaryAction,i(n,t)?null:"denied"}return o.checkDenial(n.primaryAction,n,t)}return"unknown"}(i,s);u?(n.error("Access denied to",i),c(u)):e(i),l&&t.$apply()})},this.check_view=function(e,t){var n=!1;switch(e.primaryTopic){case"chat":case"video":case"live":n=!0;break;default:n=i.check(e.primaryTopic,t)}return n},this}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$q","$rootScope","$log","permissionParser","stateBasedPermission","contextBasedPermission"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return this.checkDenial=function(){return""},this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return this.partition=function(e){var t=e.split("_");return{primaryAction:t[0]?t[0]:"",primaryTopic:t[1]?t[1]:""}},this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return this.check=function(e){return"admin"!==e.split(".")[0]},this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2796));t.default={transclude:!0,templateUrl:a.default,require:{htbxAuthorize:"^htbx-authorize"},controller:function(){var e=this;this.$onInit=function(){e.htbxAuthorize.setAccessDenied(e)}}}},function(e,t,n){var a="/src/js/permission/components/access-denied.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-if=$ctrl.show ng-transclude class=access-denied></div> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2798));t.default={transclude:!0,templateUrl:a.default,require:{htbxAuthorize:"^htbx-authorize"},controller:function(){var e=this;this.$onInit=function(){e.htbxAuthorize.setAccessGranted(e)}}}},function(e,t,n){var a="/src/js/permission/components/access-granted.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-if=$ctrl.show ng-transclude class=access-granted></div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,l){function c(){m&&(a.isAuthenticated()?(o.default.isDefined(p.permissionChecking)?p.permissionChecking?n.resolve(p.permissionChecking):n.reject("denied"):i.can(p.permission)).then(d).catch(f):h.unauthenticated&&(u(),h.unauthenticated.show=!0))}function u(){for(var e in h)if(h.hasOwnProperty(e)){var t=h[e];null!=t&&(t.show=!1)}}function d(){h.accessGranted&&(u(),h.accessGranted.show=!0)}function f(){h.accessDenied&&(u(),h.accessDenied.show=!0)}var p=this,m=!1,h={accessDenied:null,accessGranted:null,unauthenticated:null};this.children=h,e.$on("login-is-successful",function(){t(function(){var e=c();p.onceSignedIn&&e.then(p.onceSignedIn)})}),e.$on("logout-is-successful",c),e.$on("permission-change",c),this.setActionSource=function(e){p.instanceUuid=e},this.loginActionIsFromInstance=function(e){return p.instanceUuid===e},this.$postLink=function(){t(function(){m=!0,c()})},this.$onChanges=function(e){(0,r.default)(e.permissionChecking)||c()},this.requestLoginDialog=function(){l.dispatch((0,s.showSignup)(p.signinPurpose))},this.setUnauthenticated=function(e){h.unauthenticated=e},this.setAccessGranted=function(e){h.accessGranted=e},this.setAccessDenied=function(e){h.accessDenied=e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(129)),s=n(42),l=a(n(2800));i.$inject=["$scope","$timeout","$q","loggedUser","accessRights","$ngRedux"],t.default={transclude:!0,templateUrl:l.default,bindings:{permission:"@",permissionChecking:"<?",signinPurpose:"@"},controller:i}},function(e,t,n){var a="/src/js/permission/components/authorize.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=permission-switch> <div class=permission-switch-content> <div ng-transclude></div> </div> <div ng-if=!$ctrl.children.unauthenticated> {{$ctrl.signinPurpose}} </div> </div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e,t){function n(){a.htbxAuthorize.loginActionIsFromInstance(i)&&a.onceSignedIn&&e(a.onceSignedIn)}var a=this,i=o+=1;this.$onInit=function(){a.htbxAuthorize.setUnauthenticated(a),a.onceSignedIn&&t.$on("login-is-successful",n)},this.clicked=function(){a.htbxAuthorize.setActionSource(i),a.onClick?a.onClick():a.htbxAuthorize.requestLoginDialog()}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2802));a.$inject=["$timeout","$scope"];var o=0;t.default={transclude:!0,templateUrl:i.default,bindings:{onClick:"&?",onceSignedIn:"&?"},require:{htbxAuthorize:"^htbx-authorize"},controller:a}},function(e,t,n){var a="/src/js/permission/components/unauthenticated.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div ng-if=$ctrl.show ng-click=$ctrl.clicked() ng-transclude class=missing-signin></div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a){function i(a){t.debug("Push Notifications: User keys saved"),n.put({authToken:e.getToken(),data:JSON.stringify(a)})}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(function(o){t.debug("Service Worker is registered"),e.whenUserLoggedIn().then(function(){e.isAuthenticated()&&"PushManager"in window&&o.pushManager.getSubscription().then(function(s){if(function(e){new Promise(function(t,n){var a=new MessageChannel;a.port1.onmessage=function(e){e.data.error?n(e.data.error):t(e.data)},navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage&&navigator.serviceWorker.controller.postMessage(e,[a.port2])})}({command:"language",text:{title:a.instant("global_text_push-notification-title"),game:a.instant("global_text_push-notification-game")}}),null!==s){if(r.default.get("smashcast.push")===s.endpoint)return void t.debug("Push Notifications: already subscribed");(function(t){return n.delete({authToken:e.getToken(),endpoint:t}).$promise})(s.endpoint).then(function(){t.debug("Push Notifications: renewing subscription"),i(s),r.default.set("smashcast.push",s.endpoint)})}else{var l=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(t),a=new Uint8Array(n.length),i=0;i<n.length;++i)a[i]=n.charCodeAt(i);return a}(c);o.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:l}).then(function(e){i(e)}).catch(function(e){t.debug("Push Notifications: Failed to subscribe the user: ",e)})}})})}).catch(function(e){t.debug("Service Worker Error",e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.APPLICATION_PUBLIC_KEY=void 0;var o=a(n(0)),r=a(n(16)),s=a(n(15)),l=a(n(2804));i.$inject=["loggedUser","$log","PushNotification","$translate"];var c=t.APPLICATION_PUBLIC_KEY="BBIWGUQ4pB7q2zweCrzuQme1_WoVu1EPy88XpJuEMymfJomI8N4WLjmq5-sE3HFDHfPboxVsFb5GniEV3PGRtaY";t.default=o.default.module("htbx.pushNotification",[s.default]).factory("PushNotification",l.default).run(i).name},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/desktopnotification",{},{put:{method:"PUT",params:t,isArray:!1},delete:{method:"DELETE",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=n(2806);t.default=a.default.module("htbx.revenues",[]).factory("Revenues",i.RevenuesFactory).factory("RevenuePlans",i.RevenuePlansFactory).factory("RevenueSettings",i.RevenueSettingsFactory).name},function(e,t,n){"use strict";function a(e){return e(r.default.apiUri+"/revenues/:type/:user",{type:"@type",user:"@user"},{get:{method:"GET",params:{}}})}function i(e){var t={};return e(r.default.apiUri+"/revenueplans/:type/:id",{type:"@type",id:"@id"},{get:{method:"GET",params:t},add:{method:"POST",params:t},delete:{method:"DELETE",params:t}})}function o(e){var t={};return e(r.default.apiUri+"/revenuesettings/:user_name",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:t},set:{method:"POST",params:t}})}Object.defineProperty(t,"__esModule",{value:!0}),t.RevenueSettingsFactory=t.RevenuePlansFactory=t.RevenuesFactory=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2));o.$inject=["$resource"],i.$inject=["$resource"],a.$inject=["$resource"],t.RevenuesFactory=a,t.RevenuePlansFactory=i,t.RevenueSettingsFactory=o},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(2808)),r=a(n(2811));t.default=i.default.module("htbx.search",[]).component("smashSearchInput",o.default).component("smashSearchResults",r.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(11)),r=a(n(2809));n(2810);var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=t,this.$timeout=n,this.searchString=""}return e.$inject=["$element","$timeout"],i(e,[{key:"$onInit",value:function(){(0,o.default)(this.variant)&&(this.variant="default"),this.$input=this.$element.find("input")}},{key:"focus",value:function(){this.$input.focus()}},{key:"onInputChange",value:function(){this.onChange&&this.onChange({search:this.searchString})}},{key:"reset",value:function(){this.searchString="",this.onInputChange(),this.focus()}}]),e}();t.default={bindings:{variant:"@?",showReset:"<?",onChange:"&?"},templateUrl:r.default,controller:s}},function(e,t,n){var a="/src/js/search/components/search-input.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="smash-search-input smash-search-input--variant-{{::$ctrl.variant}}"> <input type=search ng-model=$ctrl.searchString ng-model-options="{ debounce: 500 }" ng-change=$ctrl.onInputChange() placeholder="{{::\'global_header_search-for\' | translate}}" class=smash-search-input__input /> <button ng-click=$ctrl.onInputChange() type=button class=smash-search-input__submit> <smash-icon icon=search size=24 center=true class=smash-search-input__submit__icon></smash-icon> </button> <htbx-button-close ng-if="$ctrl.showReset && $ctrl.searchString" on-select=$ctrl.reset() class=smash-search-input__reset></htbx-button-close> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2812));n(2813),t.default={bindings:{search:"<"},templateUrl:a.default}},function(e,t,n){var a="/src/js/search/components/search-results.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <div ng-if=$ctrl.search class=main-nav-search-results> <div class="main-nav-search-results__header results-columns"> <h3 class=main-nav-search-results__header__title> {{::\'global_header_live-now\' | translate}} </h3> <h3 class=main-nav-search-results__header__title> {{::\'global_text_channels\' | translate}} </h3> <h3 class=main-nav-search-results__header__title> Games </h3> <h3 class=main-nav-search-results__header__title> {{::\'global_text_teams\' | translate}} </h3> <h3 class=main-nav-search-results__header__title> {{::\'global_text_videos\' | translate}} </h3> </div> <htbx-scrollable class=main-nav-search-results__content-container> <div class="main-nav-search-results__content results-columns"> <div class="main-nav-search-results__content__item main-nav-search-results__content__item--type-live"> <h3 class=main-nav-search-results__content__title> {{:: \'global_header_live-now\' | translate}} </h3> <media-list-grid limit=60 filter="{searchCriteria: $ctrl.search}" order-by="\'popular\'"></media-list-grid> </div> <div class="main-nav-search-results__content__item main-nav-search-results__content__item--type-channels"> <h3 class=main-nav-search-results__content__title> {{:: \'global_text_channels\' | translate}} </h3> <htbx-user-list search=$ctrl.search vertical-list=true is-media=true></htbx-user-list> </div> <div class="main-nav-search-results__content__item main-nav-search-results__content__item--type-games"> <h3 class=main-nav-search-results__content__title> Games </h3> <htbx-game-list type=list search=$ctrl.search limit=100 liveonly=true> </htbx-game-list> </div> <div class="main-nav-search-results__content__item main-nav-search-results__content__item--type-teams"> <h3 class=main-nav-search-results__content__title> {{:: \'global_text_teams\' | translate}} </h3> <teamlist search=$ctrl.search></teamlist> </div> <div class="main-nav-search-results__content__item main-nav-search-results__content__item--type-videos"> <h3 class=main-nav-search-results__content__title> {{:: \'global_menu_recordings\' | translate}} </h3> <media-list-grid type=video limit=20 filter="{searchCriteria: $ctrl.search}" order-by="\'popular\'" media-template=list></media-list-grid> </div> </div> </htbx-scrollable> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=s.ROUTING_CONFIG.accessLevels,a=Object.assign({},{lazyload:["angularLoad",function(e){return e.loadScript(r.default.staticUrl+"/js/lazyload.js")}]},t);e.state("statistics",{url:"/statistics/:user",resolve:a,section:"statistics",title:'{{"global_menu_statistics" | translate}}',parent:"nav",tab:"livestreams",views:{"viewMain@":{template:"<smash-statistics></smash-statistics>"}},layoutVariant:"settings",access:n.admin,requiresAuth:!0})}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(2)),s=n(15),l=a(s),c=a(n(190)),u=n(2815),d=a(n(2816)),f=a(n(2817)),p=a(n(2820));i.$inject=["$stateProvider","mediaExistsResolve"],t.default=o.default.module("htbx.statistics",[l.default,c.default]).factory("StreamStats",u.StreamStatsFactory).factory("StreamOverallStats",u.StreamOverallStatsFactory).factory("StreamedHours",u.StreamedHoursFactory).controller("StatisticsCtrl",d.default).directive("smashStatistics",f.default).directive("viewerChart",p.default).config(i).name},function(e,t,n){"use strict";function a(e){return e(r.default.apiUri+"/streamstats/:channel/:startDate/:endDate/:range",{authToken:"@authToken",channel:"@channel",startDate:"@startDate",endDate:"@endDate",range:"@range"},{get:{method:"GET",params:{},isArray:!1}})}function i(e){return e(r.default.apiUri+"/streamoverallstats/:channel/:startDate/:endDate",{authToken:"@authToken",channel:"@channel",startDate:"@startDate",endDate:"@endDate"},{get:{method:"GET",params:{},isArray:!1}})}function o(e){return e(r.default.apiUri+"/streamedseconds/:channel/:startDate/:endDate",{authToken:"@authToken",channel:"@channel",startDate:"@startDate",endDate:"@endDate"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.StreamedHoursFactory=t.StreamOverallStatsFactory=t.StreamStatsFactory=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2));o.$inject=["$resource"],i.$inject=["$resource"],a.$inject=["$resource"],t.StreamStatsFactory=a,t.StreamOverallStatsFactory=i,t.StreamedHoursFactory=o},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,c,u,d,f,p,m,h,g){e.showMonths=3,e.endDate=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T23:59:59+00:00").subtract(1,"days").unix(),e.startDate=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T00:00:00+00:00").subtract(32,"days").unix(),e.charts={series:[],rangeCallback:function(t,n){t=Math.round(t/1e3),n=Math.round(n/1e3),e.rangeCallback(t,n)},streamstats:{series:[]},streamstatsupdate:{series:[]},revenuestats:{series:[{name:"Daily",data:[],type:"line"},{name:"Total",data:[],yAxis:1,type:"line"}]},step:864e5,hasRevenues:void 0,processing:0},e.stats={revenues:{},overall:{}},e.selected_stats_series=l.default.get("stats.selected_stats_series"),e.selected_stats_series||(e.selected_stats_series={viewer:!0,viewer_avg:!1,follower:!1,subscriber:!1,registered:!1,embed:!1,android:!1,revenues_total:!1,revenues_ads:!0,revenues_subs:!0,ios:!1,chromecast:!1,web:!1,views:!1,ads:!0}),e.selected_labels={viewer:h.instant("view_statistics-settings_text_peak-viewers"),viewer_avg:h.instant("view_statistics-settings_text_avg-viewers"),follower:h.instant("global_text_followers"),registered:h.instant("global_text_registered"),embed:h.instant("view_statistics-settings_text_embed"),subscriber:h.instant("global_text_subscriber"),android:h.instant("global_menu_mobile"),revenues_total:h.instant("view_statistics-settings_text_revenues-sum"),revenues_ads:h.instant("view_statistics-settings_text_revenues-ads"),revenues_subs:h.instant("view_statistics-settings_text_revenues-subs"),ios:!1,chromecast:!1,web:!1,views:!1,ads:h.instant("view_statistics_text_ads-played")},e.reloadStartDate=e.startDate,e.reloadEndDate=e.endDate,e.rangeUpdate={min:1e3*e.startDate,max:1e3*e.endDate},e.data={revenues:{},streamstats:{},overallstats:{},min:0,max:0},e.hasData=!1,e.noRevenues=void 0,e.worldmapRevenues=null,e.worldmapOverall=null,e.stats.overall.totalUniques="-",e.stats.overall.totalViews="-",e.stats.overall.totalViewtime="-",e.stats.totalStreamedHours="-",e.stats.revenues.total=c.trustAsHtml("-"),e.firstRun=!0,e.$watch("[reloadStartDate, reloadEndDate]",function(t,n){t!=n&&e.reloadData(e.reloadStartDate,e.reloadEndDate)},!0),e.$watch("[startDate, endDate]",function(t,n){t!=n&&e.getStreamStats()},!0),e.$watch("selected_stats_series",function(t,n){t&&t!=n&&e.setSelectedStatsSeries()},!0),e.$watch("charts.processing",function(t,n){0==t&&t!=n&&e.setSelectedStatsSeries()}),e.rangeButton=function(t){e.reloadStartDate=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T00:00:00+00:00").subtract(t,"days").unix(),e.reloadEndDate=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T23:59:59+00:00").subtract(1,"days").unix();var n=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T00:00:00+00:00").subtract(t,"days").toDate(),a=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T23:59:59+00:00").subtract(1,"days").toDate();e.datepicker.DatePickerSetDate([n,a],!0),e.daterangeSetText(n,a),m.trackEvent("stats","rangeButtonClicked",t)},e.rangeToday=function(){e.reloadStartDate=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T00:00:00+00:00").unix(),e.reloadEndDate=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T23:59:59+00:00").unix();var t=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T00:00:00+00:00").toDate(),n=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T23:59:59+00:00").toDate();e.datepicker.DatePickerSetDate([t],!0),e.daterangeSetText(t,n),m.trackEvent("stats","rangeTodayClicked")},e.rangeYesterday=function(){e.reloadStartDate=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T00:00:00+00:00").subtract(1,"days").unix(),e.reloadEndDate=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T23:59:59+00:00").subtract(1,"days").unix();var t=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T00:00:00+00:00").subtract(1,"days").toDate(),n=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T23:59:59+00:00").subtract(1,"days").toDate();e.datepicker.DatePickerSetDate([t],!0),e.daterangeSetText(t,n),m.trackEvent("stats","rangeYesterdayClicked")},e.rangeThisMonth=function(){e.reloadStartDate=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T00:00:00+00:00").startOf("month").unix(),e.reloadEndDate=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T23:59:59+00:00").unix();var t=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T00:00:00+00:00").startOf("month").toDate(),n=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T23:59:59+00:00").toDate();e.datepicker.DatePickerSetDate([t,n],!0),e.daterangeSetText(t,n),m.trackEvent("stats","rangeThisMonthClicked")},e.rangeLastMonth=function(){e.reloadStartDate=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T00:00:00+00:00").startOf("month").subtract(1,"days").startOf("month").unix(),e.reloadEndDate=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T23:59:59+00:00").startOf("month").subtract(1,"days").unix();var t=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T00:00:00+00:00").startOf("month").subtract(1,"days").startOf("month").toDate(),n=s.default.utc(s.default.utc().format("YYYY-MM-DD")+"T23:59:59+00:00").startOf("month").subtract(1,"days").toDate();e.datepicker.DatePickerSetDate([t,n],!0),e.daterangeSetText(t,n),m.trackEvent("stats","rangeLastMonthClicked")},e.rangeCallback=function(t,n){e.$apply(function(){e.reloadStartDate=t,e.reloadEndDate=n})},e.reloadData=function(t,n){e.daterangeHide(),e.charts.streamstats.series=[],e.firstRun=!1,e.charts.processing=2,e.stats.overall.totalUniques="-",e.stats.overall.totalViews="-",e.stats.overall.totalViewtime="-",e.stats.totalStreamedHours="-",e.stats.revenues.total=c.trustAsHtml("-"),e.data.streamstats.totalads="-",e.getStreamStats(t,n,e.charts.streamstats),e.getRevenuesStats(t,n,e.charts.streamstats,!0),e.getOverallStats(t,n),e.getStreamedHours(t,n)},e.setSelectedStatsSeries=function(){l.default.set("stats.selected_stats_series",e.selected_stats_series);for(var t=e.charts.streamstats,n=0;n<t.series.length;n++)o.default.isDefined(t.series[n])&&o.default.isDefined(e.selected_stats_series[t.series[n].name])&&(t.series[n].visible=e.selected_stats_series[t.series[n].name])},e.getStats=function(){e.charts.processing=2,e.data.min=e.startDate,e.data.max=e.endDate,e.getStreamStats(e.startDate,e.endDate,e.charts.streamstats),e.getRevenuesStats(e.startDate,e.endDate,e.charts.streamstats,!0),e.getOverallStats(e.startDate,e.endDate),e.getStreamedHours(e.startDate,e.endDate)},e.getStreamStats=function(n,i,o){var r={channel:t.user,authToken:g.getToken(),startDate:1e3*n,endDate:1e3*i};u.get(r,function(t){var r=[];e.charts.step=t.step,t.timeline.ads||(t.timeline={ads:[],android:[],chromecast:[],embed:[],follower:[],ios:[],registered:[],subscriber:[],viewer:[],viewer_avg:[],views:[],web:[]}),t=e.fillDataWithZeros(t),e.data.streamstats=t;var s=0,l=1e3*n,c=1e3*i;if(e.data.streamstats.timeline.ads)for(var u=0;u<e.data.streamstats.timeline.ads.length;u++)e.data.streamstats.timeline.ads[u][0]>=l&&e.data.streamstats.timeline.ads[u][0]<=c&&(s+=e.data.streamstats.timeline.ads[u][1]);e.data.streamstats.totalads=s;var d=0;for(var f in e.data.streamstats.timeline)"ads"===f?r[d]={name:f,data:e.data.streamstats.timeline[f],type:"column",yAxis:1}:"viewer"===f?(e.hasData=!0,r[d]={name:f,data:e.data.streamstats.timeline[f],type:"spline",yAxis:2}):r[d]={name:f,data:e.data.streamstats.timeline[f],type:"spline",yAxis:2},d+=1;r.length||(r=e.createEmptyData(r));for(var p=0;p<r.length;p++)o.series[p]=r[p];a(function(){e.charts.processing-=1},1)},function(){a(function(){e.charts.processing-=1},1)})},e.getStatsCSV=function(){var n={viewer:"Peak Viewers",viewer_avg:"Avg. Viewers",follower:"Followers",subscriber:"Subscriber",registered:"Registered",embed:"Embed",android:"Mobile",ios:!1,chromecast:!1,web:!1,ads:"Commercial Breaks",views:!1,revenues:"Revenues",revenues_total:!1},a="MMMM Do YYYY",i="";s.default.utc(e.charts.streamstats.series[0].data[0][0]).format("MMMM Do YYYY")===s.default.utc(e.charts.streamstats.series[0].data[1][0]).utc().format("MMMM Do YYYY")&&(a="MMMM Do YYYY, HH:mm",n.revenues=!1);for(var o=[[t.user],["Viewer Statistics"],[s.default.utc(1e3*e.reloadStartDate).format("MMMM Do YYYY")+" - "+s.default.utc(1e3*e.reloadEndDate).utc().format("MMMM Do YYYY")]],r=["Date"],l=[],c=0;c<e.charts.streamstats.series.length;c++)if(n[e.charts.streamstats.series[c].name]){r.push(n[e.charts.streamstats.series[c].name]);for(var u=0;u<e.charts.streamstats.series[c].data.length;u++)l[u]||(l[u]=[s.default.utc(e.charts.streamstats.series[c].data[u][0]).format(a)]),l[u].push(e.charts.streamstats.series[c].data[u][1].toString().replace(".",",")||i)}if(e.currency&&(i="0"),e.currency&&n.revenues){r.push("Currency");for(var d=0;d<e.charts.streamstats.series[0].data.length;d++)l[d].length===r.length-1?l[d].push(e.currency):(l[d].push(0),l[d].push(e.currency))}o.push(r),(o=o.concat(l)).push([],[],[t.user],["Viewer Statistics by Country"],[s.default.utc(1e3*e.reloadStartDate).format("MMMM Do YYYY")+" - "+s.default.utc(1e3*e.reloadEndDate).format("MMMM Do YYYY")]),e.currency&&o.push(["Last Revenue Update: "+e.stats.revenues.last_updated]),o.push(["Country","Unique Viewers","Views","View Time in Hours"]),e.currency&&o[o.length-1].push("Revenues","Currency");var f=e.topCountriesMapData;for(var m in e.overallCountriesMapData)Object.prototype.hasOwnProperty.call(e.overallCountriesMapData,m)&&(o.push([p.getCountryName(m),e.stats.overall.countries[m].uniques,e.stats.overall.countries[m].views,Math.round(e.stats.overall.countries[m].viewtime/3600,2).toString().replace(".",","),(f[m]||i).toString().replace(".",","),e.currency||""]),delete f[m]);for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&o.push([p.getCountryName(h)||"Unknown",0,0,0,(f[h]||i).toString().replace(".",","),e.currency||""]);return o},e.createEmptyData=function(t){for(var n=1e3*e.reloadEndDate,a=1e3*e.reloadStartDate,i=[];a<n;)i.push([a,0]),a+=e.charts.step;for(var o=e.charts.streamstats.series,r=0;r<o.length;r++)t[r]={name:o[r].name,data:i,type:o[r].type,visible:o[r].visible,yAxis:o[r].yAxis};return t},e.fillDataWithZeros=function(t){var n={},a=1e3*e.reloadEndDate;for(var i in t.timeline){var o=1e3*e.reloadStartDate;n[i]=[];for(var r=0;r<t.timeline[i].length;r++){for(;o<t.timeline[i][r][0];)n[i].push([o,0]),o+=e.charts.step;n[i].push(t.timeline[i][r]),o+=e.charts.step}for(;o<a;)n[i].push([o,0]),o+=e.charts.step}return t.timeline=n,t},e.getOverallStats=function(n,a){var i={channel:t.user,authToken:g.getToken(),startDate:n,endDate:a};d.get(i,function(t){e.data.overallstats=t,e.stats.overall=t,e.stats.overall.totalViewtime/=3600,e.setupOverallStatsData(t)})},e.getStreamedHours=function(n,a){var i={channel:t.user,authToken:g.getToken(),startDate:n,endDate:a};f.get(i,function(t){e.stats.totalStreamedHours=t.streamed_seconds/3600})};var _=!0;e.getRevenuesStats=function(o,r,l,u){var d=s.default.unix(o).utcOffset(0).format("YYYY-MM-DD"),f=s.default.unix(r).utcOffset(0).format("YYYY-MM-DD"),p={type:"channel",user:t.user,authToken:g.getToken(),startDate:d,endDate:f};n.get(p,function(t){if(e.data.revenues=t.revenues,e.setupRevenuesStatsData(t),!t.revenues||!t.revenues.timeline||0==t.revenues.summary.total_earnings||null==t.revenues.summary.max_earnings)return _&&(e.noRevenues=!0,e.charts.hasRevenues=!1,e.selected_stats_series.ads=!1,e.selected_stats_series.revenues_ads=!1,e.selected_stats_series.revenues_subs=!1,e.selected_stats_series.revenues_total=!1,e.selected_labels.ads=!1,e.selected_labels.revenues_ads=!1,e.selected_labels.revenues_subs=!1,e.selected_labels.revenues_total=!1),void a(function(){e.charts.processing-=1},1);e.noRevenues=!1,e.charts.hasRevenues=!0,e.selected_stats_series.ads=!0,e.selected_stats_series.revenues_ads=!0,e.selected_stats_series.revenues_subs=!0,e.selected_stats_series.revenues_total=!1,e.selected_labels={viewer:h.instant("view_statistics-settings_text_peak-viewers"),viewer_avg:h.instant("view_statistics-settings_text_avg-viewers"),follower:h.instant("global_text_followers"),subscriber:h.instant("global_text_subscribers"),registered:h.instant("global_text_registered"),embed:h.instant("view_statistics-settings_text_embed"),android:h.instant("global_menu_mobile"),revenues_total:h.instant("view_statistics-settings_text_revenues"),revenues_ads:h.instant("view_statistics-settings_text_revenues-ads"),revenues_subs:h.instant("view_statistics-settings_text_revenues-subs"),ios:!1,chromecast:!1,web:!1,views:!1,ads:h.instant("view_statistics_text_ads-played")},e.hasData=!0,u&&(l.series[12]={name:"revenues_total",data:[],type:"spline",visible:!1},l.series[13]={name:"revenues_ads",data:t.revenues.timeline_ads,type:"spline",visible:!0},l.series[14]={name:"revenues_subs",data:t.revenues.timeline_subs,type:"spline",visible:!0});var n=0,s=1e3*o;_=!1;for(var d=1e3*r,f=0;f<t.revenues.timeline.length;f++)t.revenues.timeline[f][0]>=s&&t.revenues.timeline[f][0]<=d&&(n+=t.revenues.timeline[f][1],u&&l.series[12].data.push([t.revenues.timeline[f][0],n]));e.stats.revenues.total=c.trustAsHtml(i("toMoney")(n,e.currency,!0));for(var p in e.data.revenues.summary.groups)e.data.revenues.summary.groups[p].total_earnings_html=c.trustAsHtml(i("toMoney")(e.data.revenues.summary.groups[p].total_earnings,e.currency));a(function(){e.charts.processing-=1},1)},function(){_&&(e.noRevenues=!0,e.charts.hasRevenues=!1,e.selected_stats_series.ads=!1,e.selected_stats_series.revenues_ads=!1,e.selected_stats_series.revenues_subs=!1,e.selected_stats_series.revenues_total=!1,e.selected_labels.ads=!1,e.selected_labels.revenues_subs=!1,e.selected_labels.revenues_ads=!1,e.selected_labels.revenues_total=!1),a(function(){e.charts.processing-=1},1)})},e.setupOverallStatsData=function(t){var n=t.countries;e.overallCountriesMapData=[];for(var o in n){var s=o;"NULL"!=s&&(e.overallCountriesMapData[s]=n[o].views)}e.worldmapOverall?(e.worldmapOverall.series.regions[0].clear(),e.worldmapOverall.series.regions[0].setValues(e.overallCountriesMapData)):e.worldmapOverall=new jvm.WorldMap({map:"world_mill_en",container:(0,r.default)("#worldmap_countries_overall"),backgroundColor:"transparent",series:{regions:[{values:e.overallCountriesMapData,scale:["#E0EFFE","#1584F3"],normalizeFunction:"polynomial",min:1,hoverOpacity:.6,hoverColor:!1}]},regionStyle:{initial:{fill:"#eee",stroke:"none"},hover:{"fill-opacity":.6}},onRegionLabelShow:function(t,n,a){try{e.stats.overall.countries[a]&&e.stats.overall.countries[a].views?n.html('<div><div class="value"><div>'+p.getCountryName(a)+"</div><div>Views: "+i("number")(e.stats.overall.countries[a].views)+"</div><div>Uniques: "+i("number")(e.stats.overall.countries[a].uniques)+"</div><div>Viewtime: "+i("number")(e.stats.overall.countries[a].viewtime/3600,2)+"h</div></div></div>"):n.html("")}catch(e){}}}),a(function(){e.worldmapOverall.setSize()},1e3)},e.setupRevenuesStatsData=function(t){if(e.worldmapRevenues&&e.worldmapRevenues.series.regions[0].clear(),e.earned_total=0,e.earned_max=0,e.topCountriesMapData=[],e.topCountries=[],!t||!t.revenues||!t.revenues.summary)return e.contents=[],e.contents.live={percent:0,earnings:0,earnings_html:c.trustAsHtml(i("toMoney")(0,e.currency))},e.contents.video={percent:0,earnings:0,earnings_html:c.trustAsHtml(i("toMoney")(0,e.currency))},void(e.noSubscriptions||(e.contents.subscriptions={percent:0,earnings:0,earnings_html:c.trustAsHtml(i("toMoney")(0,e.currency))}));e.stats.revenues.last_updated=s.default.utc(t.revenues.summary.last_updated).utcOffset(0).add(-1,"days").format("MMM D"),t.revenues&&t.revenues.summary&&t.revenues.summary.currency&&(e.currency=t.revenues.summary.currency),e.hasData=!0;var n=t.revenues.timeline,o=0,l=0,u=void 0;if(n)for(var d=0;d<n.length;d++)o+=u=n[d][1],u>l&&(l=u);e.earned_total=o,e.earned_max=l,e.stats.max=e.earned_max_html,e.stats.sum=e.earned_total_html,e.stats.label_max=" "+h.instant("view_statistics-settings_label_highest-daily"),e.stats.label_sum=h.instant("global_text_total-revenue");var f=t.revenues.top.countries,m=[];e.topCountriesMapData=[];for(var g in f)if(Object.prototype.hasOwnProperty.call(f,g)){var _=p.getCountryCode(g);"United Kingdom"===g&&(_=p.getCountryCode("Great Britain")),100*f[g]/100>0&&(e.topCountriesMapData[_]=f[g],m.push({country:g,earnings:f[g],percent:100/e.earned_total*f[g],earnings_html:c.trustAsHtml(i("toMoney")(f[g],e.currency))}))}e.topCountries=m,e.countryListLimit=3,e.videosListLimit=6,e.contents=t.revenues.top.content,e.contents.live?(e.contents.live.percent=100/e.earned_total*e.contents.live.earnings,e.contents.live.earnings_html=c.trustAsHtml(i("toMoney")(e.contents.live.earnings,e.currency))):e.contents.live={percent:0,earnings:0,earnings_html:c.trustAsHtml(i("toMoney")(0,e.currency))},e.contents.video?(e.contents.video.percent=100/e.earned_total*e.contents.video.earnings,e.contents.video.earnings_html=c.trustAsHtml(i("toMoney")(e.contents.video.earnings,e.currency))):e.contents.video={percent:0,earnings:0,earnings_html:c.trustAsHtml(i("toMoney")(0,e.currency))},e.noSubscriptions=!1,e.contents.subscriptions&&e.contents.subscriptions.earnings>0?(e.contents.subscriptions.percent=100/e.earned_total*e.contents.subscriptions.earnings,e.contents.subscriptions.earnings_html=c.trustAsHtml(i("toMoney")(e.contents.subscriptions.earnings,e.currency))):e.noSubscriptions=!0,e.worldmapRevenues?(e.worldmapRevenues.series.regions[0].clear(),e.worldmapRevenues.series.regions[0].setValues(e.topCountriesMapData)):e.worldmapRevenues=new jvm.WorldMap({map:"world_mill_en",container:(0,r.default)("#worldmap_countries_revenues"),backgroundColor:"transparent",series:{regions:[{values:e.topCountriesMapData,scale:["#E0EFFE","#1584F3"],normalizeFunction:"polynomial",hoverOpacity:.6,hoverColor:!1}]},regionStyle:{initial:{fill:"#eee",stroke:"none"},hover:{"fill-opacity":.6}},onRegionLabelShow:function(t,n,a){e.topCountriesMapData[a]&&e.topCountriesMapData[a]>0?n.html('<div><div class="value">'+i("toMoney")(e.topCountriesMapData[a],e.currency)+"</div>"+n.html()+"<div>"):n.html("")}}),a(function(){e.worldmapRevenues.setSize()},1e3)},e.getStats()}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(13)),s=a(n(5)),l=a(n(16));i.$inject=["$scope","$stateParams","Revenues","$timeout","$filter","$sce","StreamStats","StreamOverallStats","StreamedHours","CountryService","Analytics","$translate","loggedUser"],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2818));n(2819),t.default=function(){return{restrict:"E",templateUrl:a.default}}},function(e,t,n){var a="/src/js/statistics/directives/statistics.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<htbx-layout data-variant=settings> <htbx-layout-navigation> <htbx-sub-nav data-active-section={{$root.section}}></htbx-sub-nav> </htbx-layout-navigation> <htbx-layout-content> <div class="statistics-content statistics__content statistics__content--{{tab}}" autoscroll> <div class=statistics> <div ng-controller=StatisticsCtrl class=statistics__content> <div ng-show="hasData || charts.processing"> <div class="statistics__daterange nono"> <daterange></daterange> <smash-button-csv-download ng-hide="charts.processing || !charts.streamstats.series.length" tooltip-placement="auto left" uib-tooltip="{{ \'view_statistics-settings_tooltip_download-statistic\' | translate }}" tooltip-append-to-body=true get-data=getStatsCSV filename="\'statistics.csv\'" class=statistics__csv-download></smash-button-csv-download> </div> <div class="box statistics__metrics"> <div class="statistics__metrics__metric viewers"> <div class=statistics__metrics__metric__value> {{stats.overall.totalUniques | number:0}} </div> <div class=statistics__metrics__metric__title> {{::\'view_statistics-settings_header_unique-visitors\' | translate}} </div> </div> <div class="statistics__metrics__metric views-total"> <div class=statistics__metrics__metric__value> {{stats.overall.totalViews | number:0}} </div> <div class=statistics__metrics__metric__title translate=global_text_view-views translate-values="{ COUNT: stats.overall.totalViews }" translate-interpolation=messageformat></div> </div> <div class="statistics__metrics__metric viewed-hours"> <div class=statistics__metrics__metric__value> {{stats.overall.totalViewtime | videoDuration:false:true}} </div> <div class=statistics__metrics__metric__title> {{::\'view_statistics-settings_header_viewed-hours\' | translate}} </div> </div> <div class="statistics__metrics__metric streamed-hours"> <div class=statistics__metrics__metric__value> {{stats.totalStreamedHours | videoDuration:false:true}} </div> <div class=statistics__metrics__metric__title> {{::\'view_statistics-settings_header_streamed-hours\' | translate}} </div> </div> <div class="statistics__metrics__metric commercials" ng-if=!noRevenues> <div class=statistics__metrics__metric__value> {{data.streamstats.totalads | number:0}} </div> <div class=statistics__metrics__metric__title> {{::\'view_statistics_text_ads-played\' | translate}} </div> </div> <div class="statistics__metrics__metric revenues" ng-if=!noRevenues> <div class=statistics__metrics__metric__value ng-bind-html=stats.revenues.total></div> <div class=statistics__metrics__metric__title> <span class=statistics__metrics__metric__title__text> {{::\'global_menu_revenues\' | translate}} </span> <span class=statistics__metrics__metric__title__note ng-show=stats.revenues.last_updated tooltip-placement="bottom left" uib-tooltip="{{:: \'view_statistics_tooltip_data-until\' | translate }}: {{stats.revenues.last_updated}}" tooltip-append-to-body=true> <smash-icon icon=info size=16></smash-icon> </span> </div> </div> <div class="statistics__metrics__metric team-revenues" ng-if="!noRevenues && data.revenues.summary.groups"> <div class="values cf" ng-repeat="group in data.revenues.summary.groups"> <span class=team-name> {{group.group_name}} </span>: <span class=statistics__metrics__metric__value ng-bind-html=group.total_earnings_html></span> </div> <div class=statistics__metrics__metric__title> <span class=statistics__metrics__metric__title__text> {{::\'global_text_team-revenues\' | translate}} </span> <span class=statistics__metrics__metric__title__note ng-show=stats.revenues.last_updated tooltip-placement="bottom left" uib-tooltip="{{ \'view_statistics_tooltip_data-until\' | translate }}: {{stats.revenues.last_updated}}" tooltip-append-to-body=true> <smash-icon icon=info size=16></smash-icon> </span> </div> </div> </div> <div class="statistics__chart box"> <div class=statistics__chart__toggles> <toggle-checkbox class="statistics__chart__toggles__toggle statistics__chart__toggles__toggle__{{key}}" ng-repeat="(key, prop) in selected_stats_series track by key" ng-hide="selected_labels[key] === false || selected_labels[key] === undefined" ng-model=selected_stats_series[key] label={{selected_labels[key]}} ng-if="$index < 7"></toggle-checkbox> </div> <div class=statistics__chart__revenue-titles ng-if=charts.hasRevenues> <span class="statistics__chart__revenue-titles__title statistics__chart__revenue-titles__title--ads"> {{::\'view_statistics-settings_text_revenues-ads\' | translate}} </span> <span class="statistics__chart__revenue-titles__title statistics__chart__revenue-titles__title--breaks"> {{::\'view_statistics_text_ads-played\' | translate}} </span> <span class="statistics__chart__revenue-titles__title statistics__chart__revenue-titles__title--subs"> {{::\'view_statistics-settings_text_revenues-subs\' | translate}} </span> </div> <div class="statistics__chart__chart chart-content"> <div viewer-chart series=charts.streamstats.series update=charts.streamstatsupdate.series min=data.min max=data.max range-callback="charts.rangeCallback(min, max)" revenues=charts.hasRevenues processing={{charts.processing}} groups=data.revenues.groups revenues-ads=data.revenues.live revenues-subs=data.revenues.subs revenues-total=data.revenues.total labels=selected_labels currency={{currency}}></div> </div> <htbx-alert ng-if=!charts.processing data-type=info data-size=small> {{::\'component_statistics_utc-notice\' | translate}} </htbx-alert> </div> </div> <div class=statistics__lower ng-show="hasData || charts.processing"> <div class=cf> <div class="statistics__map box"> <div class=box__title> {{::\'view_statistics-settings_text_viewer-map\' | translate}} </div> <div class=box__content ng-show=charts.processing> <smash-spinny data-center=true data-size="\'medium\'"></smash-spinny> </div> <div class="box__content worldmap-wrap" ng-hide=charts.processing> <div id=worldmap_countries_overall class=worldmap></div> </div> </div> <div class="box statistics__revenues" ng-hide="noRevenues || charts.processing"> <div class=box__title> {{::\'global_menu_revenues\' | translate}} </div> <div class="box__content cf" ng-show=!charts.processing> <div class="content-list-wrap fltL"> <ul class="list content-list chart-content"> <li> <ul class=cf> <li class=title> {{::\'view_statistics-settings_label_advertising\' | translate}} </li> <li class=percent> {{contents[\'live\'].percent | number:2}}% </li> <li class=value> <span ng-bind-html=\'contents["live"].earnings_html\'></span> </li> </ul> <div class=bar ng-style="{\'width\' : contents[\'live\'].percent + \'%\'}"></div> </li> <li ng-hide=noSubscriptions> <ul class=cf> <li class=title> {{::\'global_header_subscriptions\' | translate}} </li> <li class="change green"></li> <li class=percent> {{contents[\'subscriptions\'].percent | number:2}}% </li> <li class=value> <span ng-bind-html=\'contents["subscriptions"].earnings_html\'></span> </li> </ul> <div class=bar ng-style="{\'width\' : contents[\'subscriptions\'].percent + \'%\'}"></div> </li> <li class=videos-total> <ul class=cf> <li class=title> {{::\'global_text_videos\' | translate}} </li> <li class="change green"></li> <li class=percent> {{contents[\'video\'].percent | number:2}}% </li> <li class=value> <span ng-bind-html=\'contents["video"].earnings_html\'></span> </li> </ul> <div class=bar ng-style="{\'width\' : contents[\'video\'].percent + \'%\'}"></div> </li> </ul> </div> <div class="content-list-wrap fltR"> <ul class="list country-list chart-content"> <li ng-repeat="top in (filteredCountries = (topCountries | orderBy:\'earnings\':true | limitTo:countryListLimit))"> <ul class=cf> <li class=title> {{top.country}} </li> <li class=percent> {{top.percent | number:2}}% </li> <li class=value> <span ng-bind-html=top.earnings_html></span> </li> </ul> <div class=bar ng-style="{\'width\' : top.percent + \'%\'}"></div> </li> <li class=content-list-wrap__show-more ng-hide="countryListLimit>3" ng-click="countryListLimit=150"> {{::\'global_button_showmore\' | translate}} </li> <li class=content-list-wrap__show-more ng-show="countryListLimit>3" ng-click="countryListLimit=3"> {{::\'global_button_showless\' | translate}} </li> </ul> </div> </div> </div> </div> </div> <div class=inner ng-show="!hasData && !charts.processing"> {{::\'view_statistics-settings_text_no-data\' | translate}} </div> </div> </div> </div> </htbx-layout-content> </htbx-layout> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return{restrict:"AE",scope:{series:"=",min:"@",max:"@",rangeCallback:"&",update:"=",revenues:"=",processing:"@",groups:"=",revenuesAds:"=",revenuesSubs:"=",revenuesTotal:"=",labels:"=",currency:"@"},templateUrl:u.default,link:function(n){n.style={height:600},n.chart=null,n.updated=!1,n.settingExtremes=!1;var a=!0;n.$watch("[series]",function(e,t){e&&e!==t&&n.initChart()},!0),n.$watch("processing",function(e){"0"===e&&(n.chart&&n.chart.hideLoading(),(0,r.default)("#date-range-field").removeAttr("disabled"))});var i=[{labels:{align:"left",x:3},min:0,tickColor:"transparent"}],u=[{labels:{align:"right",x:20,formatter:function(){return t("toMoney")(this.value,n.currency)}},min:0,top:"75%",height:"25%",lineWidth:3,tickColor:"transparent"},{opposite:!1,min:0,top:"75%",height:"25%",y:40,lineWidth:1,tickColor:"transparent"},{labels:{align:"right",x:3},min:0,height:"50%",lineWidth:3,tickColor:"transparent"}];n.yAxis=u,n.$watch("revenues",function(e){o.default.isDefined(e)&&(e?(n.yAxis=u,n.style.height=450):(n.yAxis=i,n.style.height=260),n.initChart())}),n.$watch("processing",function(t,i){"0"===t&&t!==i?(a=!1,n.chart&&n.chart.hideLoading()):t>0&&t!==i&&n.chart&&n.chart.showLoading(e.instant("global_text_loading-data"))}),n.$watch("update",function(e,t){if(e&&e!==t){n.updated=!0;for(var a=0;a<n.update.length;a++)n.chart.series[a]&&n.update[a]&&(n.chart.series[a].setData(n.update[a].data,!1,!1,!1),n.chart.series[a].setVisible(n.update[a].visible,!1));if(!1===n.revenues)for(var i=0;i<n.series.length;i++)1===n.series[i].yAxis&&(n.series[i].yAxis=0),2===n.series[i].yAxis&&(n.series[i].yAxis=0)}},!0),n.initChart=(0,l.default)(function(){if(!n.updated){var i=n.series.map(function(e){return Object.assign({},e)});if(!1===n.revenues)for(var o=0;o<i.length;o++)1===i[o].yAxis&&(i[o].yAxis=0,i[o].visible=!1),2===i[o].yAxis&&(i[o].yAxis=0);var r={viewer:"#208efc",viewer_avg:"#133c65",follower:"#00bff3",registered:"#70cc84",embed:"#cca164",subscriber:"#eb5055",android:"#f8a235",ios:"#f8a235",chromecast:"#f8a235",web:"#f8a235",ads:"#3a0",views:"#270",revenues_total:"#270",revenues_ads:"#270",revenues_subs:"#eb5055"};i.forEach(function(e){e.color=r[e.name]});var l={global:{useUTC:!0},chart:{renderTo:"chartContainerViewer",spacing:0,marginRight:25,marginTop:0,style:{fontFamily:'"Lato", sans-serif',fontSize:"16px"},plotBackgroundColor:"transparent",backgroundColor:"transparent",pinchType:"none",height:n.style.height,panning:!1},rangeSelector:{enabled:!1},navigator:{adaptToUpdatedData:!1,baseSeries:0,enabled:!1},xAxis:{type:"datetime",maxPadding:0,minPadding:0,dateTimeLabelFormats:{month:"%e. %b",year:"%b"},events:{afterSetExtremes:function(e){n.processing>0||n.rangeCallback({min:e.min,max:e.max})}},tickColor:"transparent"},yAxis:n.yAxis,tooltip:{enabled:!0,crosshairs:!1},series:i,plotOptions:{series:{marker:{enabled:!0,radius:3,fillColor:"#fff",lineWidth:2,lineColor:null,symbol:"circle"},dataLabels:{enabled:!1},dataGrouping:{approximation:"high"}},column:{stacking:"normal",dataLabels:{enabled:!0,inside:!1}}},scrollbar:{liveRedraw:!1,enabled:!1},credits:{enabled:!1}};Highcharts.setOptions({global:{useUTC:!0},plotOptions:{spline:{lineWidth:3},column:{stacking:"normal"}},chart:{},xAxis:{gridLineColor:"transparent",gridLineWidth:1,labels:{style:{color:"#666"}},lineColor:"transparent",tickColor:"transparent"},yAxis:{gridLineColor:"#eee",x:-20,labels:{style:{color:"#ccc"}},lineColor:"transparent",minorTickInterval:null,tickColor:"hsl(0,0%,50%)",tickWidth:1},loading:{style:{position:"absolute",backgroundColor:"#fff",opacity:1,textAlign:"center"}},tooltip:{backgroundColor:null,borderWidth:0,shadow:!1,useHTML:!0,style:{padding:0},formatter:function(){var a="<b>"+(0,c.default)(this.x).utc().format("dddd, MMM D, YYYY")+"</b><br/><br/>";if(a+="<table>",n.groups&&n.groups[this.x]&&null!=n.groups[this.x][1]&&(a+="<tr><td>"+n.groups[this.x][1]+"</td><td>"+e.instant("global_text_team")+"</td></tr>"),this.points.forEach(function(e){var i="revenues_ads"===e.series.name||"revenues_subs"===e.series.name,o=Math.round(100*e.y)/100,r=i?t("toMoney")(o,n.currency,!0):t("number")(o);a+='<tr class="highcharts-tooltip__'+e.series.name+'"><td style="color:'+e.series.color+'"> '+n.labels[e.series.name]+'</td><td style="color:'+e.series.color+'">'+r+"</td></tr>"}),n.revenues&&n.revenuesTotal&&(0,s.default)(n.revenuesTotal[this.x])){var i=Math.round(100*n.revenuesTotal[this.x])/100;a+='<tr class="highcharts-tooltip__total-revenue"><td>'+e.instant("global_text_total-revenue")+"</td><td>"+t("toMoney")(i,n.currency,!0)+"</td></tr>"}return a+="</table>"}}}),n.chart=new Highcharts.StockChart(l),a&&n.chart.showLoading(e.instant("global_text_loading-data"))}},1e3)}}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(13)),s=a(n(240)),l=a(n(43)),c=a(n(5)),u=a(n(2821));i.$inject=["$translate","$filter"],t.default=i},function(e,t,n){var a="/src/js/statistics/directives/statistics-charts.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div id=chartContainerViewer></div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=n(15),r=a(o),s=a(n(2823)),l=a(n(2864)),c=a(n(190)),u=a(n(695)),d=a(n(138)),f=a(n(683)),p=a(n(2876)),m=a(n(2877)),h=a(n(2878)),g=a(n(2879)),_=a(n(2880)),v=a(n(2881)),b=a(n(2882)),y=a(n(2884)),w=a(n(2885)),$=a(n(2886)),x=a(n(2887)),k=a(n(2889)),S=a(n(2892));t.default=i.default.module("htbx.studio",[r.default,s.default,l.default,c.default,u.default,"htbx.ui-elements.alert","infinite-scroll",d.default,f.default]).factory("Recordings",p.default).factory("TranscodingCheck",m.default).factory("Commercials",h.default).factory("UploadYT",g.default).factory("MediaTranscodeProgress",_.default).factory("GameAccounts",v.default).filter("videoDuration",b.default).filter("relevance",y.default).filter("videoDate",w.default).filter("videoTimeRemaining",$.default).component("smashStudioPage",x.default).component("htbxLivestreamSetup",k.default).component("htbxMediaDelaySettings",S.default).config(["$stateProvider","$urlRouterProvider",function(e,t){var n=o.ROUTING_CONFIG.accessLevels;e.state("studio",{url:"/studio/:user",section:"studio",title:"",resolve:{mediaExists:["IntendedState","Auth","$rootScope","$state","$stateParams","medias","loggedUser",function(e,t,n,a,i,o,r){return new Promise(function(e,t){o.get(i.user,"live").then(e).catch(function(){if(r.getName().toLowerCase()===i.user.toLowerCase())return a.go("studio.livestreamSetup",{user:i.user}),void e();a.go("404"),t()})})}],canAccessStudio:["IntendedState","Auth","$stateParams","$state",function(e,t,a,i){return new Promise(function(o,r){t.authorize({accessLevel:n.admin,resource:"livestreams",resource_id:a.user||-1}).then(function(e){if(!e)return i.go("home.root"),void r();o()}).catch(function(){e.setIntended("studio",a),i.go("login"),r()})})}]},views:{viewNav:{template:"<htbx-main-nav></htbx-main-nav>"},"viewMain@":{template:"<smash-studio-page>"}},secure:!0}).state("studio.dashboard",{url:"/live",section:"dashboard",title:"",template:"<htbx-dashboard-page></htbx-dashboard-page>",access:n.admin,tab:"livestreams",secure:!0,layoutPage:"dashboard",layoutVariant:"full",layoutShowFooter:!1,layoutHideNavigation:!0}).state("studio.livestreamSetup",{url:"/welcome",section:"dashboard",title:'{{"global_text_welcome" | translate}}',template:"<htbx-livestream-setup></htbx-livestream-setup>",access:n.admin,tab:"livestreams",secure:!0}).state("studio.admin",{url:"/admin",section:"dashboard",title:"",template:"<htbx-studio-admin></htbx-studio-admin>",resolve:{superadmin:["loggedUser","$q","$state",function(e,t,n){return e.isSuperAdmin()?t.when(!0):(n.go("home"),t.reject())}]},access:n.admin,tab:"livestreams",secure:!0,layoutVariant:"full"}),t.when(/dashboard\/(.*)/i,"/studio/$1")}]).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(651)),r=a(n(362)),s=a(n(2824)),l=a(n(2825)),c=a(n(2826)),u=a(n(2827)),d=a(n(2830)),f=a(n(2836)),p=a(n(2838)),m=a(n(2841)),h=a(n(2844)),g=a(n(2847)),_=a(n(2850)),v=a(n(2853)),b=a(n(2856)),y=a(n(2859));t.default=i.default.module("htbx.studio.dashboard",[o.default,r.default]).factory("Hosters",s.default).service("DashboardPopout",l.default).directive("focusOn",c.default).directive("htbxStudioDashboardStreamSettings",u.default).directive("htbxDashboardPage",d.default).directive("htbxDashboardChat",f.default).directive("smashDashboardChatHeader",["reactDirective","$rootScope","userList","chatModOptions","chatOptions","$ngRedux",function(e,t,n,a,i,o){return e(y.default,["onClickBlacklist","newChatMessage","section","stateHref","onTabToggle"],{},{store:o,$rootScope:t,chatModOptions:a,chatOptions:i})}]).component("htbxDashboardNavigation",g.default).component("htbxStudioDashboardStreamInfo",_.default).component("htbxStudioDashboardStreamPreview",v.default).component("htbxStudioDashboardStreamTitle",b.default).component("htbxHostModeSettings",m.default).component("htbxCommercialBreakSettings",h.default).component("htbxSocialMediaForm",p.default).name},function(e,t,n){"use strict";function a(e,t,n){var a={};return n.isAuthenticated()&&(a={authToken:n.getToken()}),t(i.default.apiUri+"/hosters/:user_name",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:a,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$rootScope","$resource","loggedUser"],t.default=a},function(e,t,n){"use strict";function a(e,t){this.$window=e,this.$location=t}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$window","$location"],a.prototype.popout=function(e){this.$window.open("https://"+this.$location.host()+"/studio/"+e+"/live?popout=1","","width=1360,height=740")},t.default=a},function(e,t,n){"use strict";function a(e){return{link:function(t,n,a){t.$on(a.focusOn,function(){e(function(){n[0].focus()},50)})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,a.$inject=["$timeout"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=this;n.loggedUser=t,n.templateUrlGameList=s.default,n.showkey=!1,n.templateUrlPopoverRevenue=r.default,n.updateStreamTitle=function(){n.canUpdateStreamTitle()&&e.updateDashboard()},n.isValidStreamTitle=function(){return e.media&&e.media.media_status&&""!==e.media.media_status.trim()},n.canUpdateStreamTitle=function(){return n.isValidStreamTitle()},n.isPartner=function(){return!!(e.media&&e.media.channel&&e.media.channel.partner_type)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(2828)),r=a(n(2829)),s=a(n(621));i.$inject=["$scope","loggedUser"],t.default=function(){return{restrict:"E",templateUrl:o.default,controller:i,controllerAs:"streamSettings"}}},function(e,t,n){var a="/src/js/studio/dashboard/directives/stream-settings.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section class="dash__section dash__section__meta" ng-class="{\n        islive: mediastatus.media_is_live == 1,\n    }\n"> <div> <form accept-charset=UTF-8 class="form_enclosed formL" name=livestreamForm novalidate> <div class=dash__input> <div class=dash__input__label> {{::\'view_dashboard_label_stream-title\' | translate}} </div> <textarea class="dash__input__input dash__input__input__stream-title" name=media_status placeholder="{{:: \'view_dashboard_placeholder_stream-title\' | translate }}" ng-model=media.media_status ui-keypress="{enter: \'blur($event)\'}" ng-blur=streamSettings.updateStreamTitle() ng-disabled=saveInProgress() ng-class="{bigger: (media.media_status.length > 65)}" msd-elastic></textarea> <div ng-if=!streamSettings.isValidStreamTitle() uib-tooltip="{{:: \'view_dashboard_tooltip_stream-title_invalid\' | translate }}" tooltip-placement="auto right" tooltip-append-to-body=true class="dash__section__icon dash__section__icon--error"> <smash-icon icon=error size=24></smash-icon> </div> </div> <div class=dash__input> <div class=dash__input__label> <span> {{::\'view_dashboard_label_game-played\' | translate}} </span> </div> <htbx-typeahead input-class=dash__input__input ng-model=select2.selected_game.category_name ng-disabled=saveInProgress() loading=gameLoading debounce-time=250 on-select="selectSelectGame($item, $model, $label, $event);updateDashboard();" on-refresh=refreshSelectGame($viewValue) no-results=noGameResults typeahead-item-template={{::streamSettings.templateUrlGameList}}></htbx-typeahead> <div ng-if=gameLoading class=dash__input__bouncy> <bouncy bouncy-size=6></bouncy> </div> <div ng-if=noGameResults class=dash__input__note> <htbx-feedback-modal-trigger subject="Missing Game: {{select2.selected_game.category_name}}" category="Game Request"> {{::\'view_dashboard_game_game-not-found\'|translate}} </htbx-feedback-modal-trigger> </div> </div> <div ng-if="media.media_category_id == 1"> <div class=dash__input> <div class=dash__input__label>LoL {{::\'view_dashboard_label_lol-summoner\' | translate}}</div> <input class=dash__input__input placeholder="{{:: \'view_dashboard_placeholder_lol-summoner-name\' | translate }}" type=text ng-model=game_accounts.lol_account ng-disabled=saveInProgress() ui-keypress="{enter: \'blur($event)\'}" ng-blur=saveLol() /> </div> <div class=dash__input> <div class=dash__input__label> LoL {{::\'global_text_region\' | translate}} </div> <div ng-show=!lol_error uib-tooltip="{{:: \'view_dashboard_tooltip_lol-enter-region\' | translate }}" tooltip-placement="auto right" tooltip-append-to-body=true class=dash__section__icon> <smash-icon icon=info size=24></smash-icon> </div> <div ng-show="lol_error == \'api_error\'" uib-tooltip="{{:: \'view_dashboard_tooltip_lol-error-region\' | translate }}" tooltip-placement="auto right" tooltip-append-to-body=true class="dash__section__icon dash__section__icon--error"> <smash-icon icon=error size=24></smash-icon> </div> <div ng-show="lol_error == \'summoner_not_found\'" uib-tooltip="{{:: \' view_dashboard_tooltip_lol-region-dont-match\' | translate }}" tooltip-placement="auto right" tooltip-append-to-body=true class="dash__section__icon dash__section__icon--error"> <smash-icon icon=error size=24></smash-icon> </div> <ui-select ng-model=game_accounts.lol_region theme=select2 append-to-body=true on-select=saveLol(); ng-disabled=saveInProgress() search-enabled=false autofocus=true> <ui-select-match placeholder="{{:: \'view_dashboard_placeholder_select-region\' | translate }}"> {{$select.selected | uppercase}} </ui-select-match> <ui-select-choices repeat="region in lol_regions track by $index"> <div>{{region | uppercase}}</div> </ui-select-choices> </ui-select> </div> </div> <div class=dash__input ng-if="media.media_category_id == 424"> <div class=dash__input__label> WoT {{::\'view_dashboard_label_wot-account\' | translate}} </div> <input class=dash__input__input placeholder="{{:: \'view_dashboard_placeholder_wot-account-name\' | translate }}" type=text ng-model=game_accounts.wot_account ng-disabled=saveInProgress() ui-keypress="{enter: \'blur($event)\'}" ng-blur=saveWot() /> </div> <div class=dash__input ng-class={secondCountry:secondCountry}> <div class=dash__input__label> {{::\'view_dashboard_label_your-language\' | translate}} </div> <htbx-typeahead input-class=dash__input__input ng-model=select2.selected_countries.text on-select=setLanguage($item);updateDashboard() debounce-time=0 trigger-on-focus=true ng-disabled=saveInProgress() on-refresh=getCountries($viewValue)></htbx-typeahead> </div> </form> </div> </section> <htbx-studio-dashboard-stream-info ng-if="mediastatus.media_is_live == 1" data-media-is-live=!!mediastatus.media_is_live data-media-id=media.media_id data-collapsed=collapse.streamInfo data-on-collapse="onCollapseComponent(\'streamInfo\', collapsed)" class=dash__section></htbx-studio-dashboard-stream-info> <htbx-alert type=warning ng-if="media && mediastatus.media_is_live == 1 && media.media_recording != 1" size=small data-alert-title="{{::\'component_dashboard_recordings-disabled\' | translate }}"> <span translate=component_dashboard_recordings-disabled-description translate-values="{ user: media.media_user_name }" translate-compile></span> </htbx-alert> <a ng-if=streamSettings.loggedUser.isSuperAdmin() ui-sref=^.admin> <h3 class=dash__go-to-admin> <span class=dash__go-to-admin__text> Admin Settings </span> <logo use-icon=true class=dash__go-to-admin__icon></logo> </h3> </a> <htbx-host-mode-settings data-on-host=setHostMode(hosting) data-collapsed=collapse.hostMode data-on-collapse="onCollapseComponent(\'hostMode\', collapsed)" class=dash__section></htbx-host-mode-settings> <div class="dash__separator dash__separator__hostmode" ng-class="{\n        \'dashSepShow\': collapse.hostMode\n    }"></div> <section ng-if="isSuperAdmin && media.user_banned" class="dash__section banned-section animate"> <div class=banned-box> <span class=wrap> <span class=banned-text> <span class=banned-tooltip uib-tooltip="BanID: {{media.user_banned}}" tooltip-append-to-body=true>Banned</span> by <a ui-sref="detail.feed({ channel: media.ban_admin})">{{media.ban_admin}}</a> <span uib-tooltip={{media.ban_since}} tooltip-append-to-body=true class=banned-tooltip>{{media.ban_since | timeAgo}}</span> <span ng-if=media.ban_until>and will be unbanned <span uib-tooltip={{media.ban_until}} tooltip-append-to-body=true class=banned-tooltip> {{media.ban_until | timeAgo}}</span> again</span> | Reason: {{media.ban_comment}}</span> </span> </div> </section> <htbx-alert data-type=info data-size=small ng-if=selected_team class=dashboard-team-revenue> <section generic-popover gp-width=200 gp-template-url={{::streamSettings.templateUrlPopoverRevenue}} gp-position=bottom gp-classes=\'["nono"]\' gp-on=click class=dashboard-team-revenue__title> <span class=dashboard-team-revenue__title__text> {{::\'view_dashboard_text_revenues-goto\' | translate}} <span class=dashboard-team-revenue__title__team-name> {{selected_team}} </span> </span> <span class=dashboard-team-revenue__title__icon> <smash-icon data-icon=arrow-down data-size=16 data-center=true></smash-icon> </span> </section> </htbx-alert> <htbx-commercial-break-settings ng-if=streamSettings.isPartner() class=dash__section></htbx-commercial-break-settings> <htbx-social-media-form data-default-message=getDefaultSocialMediaMessage() data-user-name=getUserName() data-collapsed=collapse.social data-on-collapse="onCollapseComponent(\'social\', collapsed)" class=dash__section></htbx-social-media-form> <div class=dash__separator ng-class="{\n        \'dashSepShow\': collapse.social && collapse.motd,\n    }"></div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/studio/dashboard/views/popover-revenue-selector.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<ul class=navigation> <li class=navigation__item ng-repeat="team in revenue_settings.teams"> <a class=navigation__item__link ng-click="selectRevenueTeam(team); remove_tooltip()">{{team.group_name}}</a> </li> </ul> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,g,v,b,y,w,$,x,k,S,C,M,E,T,P,O,j,A,I,L,U,D,N,R){function F(){t.select2.selected_game={category_id:t.media.category_id,category_name:t.media.category_name}}function B(){var e=t.media.media_countries;e&&e.length>0&&(t.select2.selected_countries={id:e[0],text:q.getLanguage(e[0])})}var z=null,H=null,V=null,q=new h.default;t.hostMode=!1,t.raffleRunning=!1,t.pollRunning=!1,t.user={username:i.user},t.lol_regions=["na","euw","eune","br","tr","ru","lan","las","oce"],t.streamDetail=!1,t.ready=!1,t.actionId={},t.limit=10,t.loaded=!1,a.editor={},t.countries=[],t.hadMedia=!1,t.save={save_status:"saved"},t.revenue_settings={selected:null,teams:!1,available:!1},t.selected_team=null,t.settingsTab=_,a.partner&&(t.isPartner=!0),t.isSuperAdmin=b.isSuperAdmin(),t.$watch("revenue_settings.selected.group_name",function(e,n){e!==n&&(t.selected_team="Myself"!==e?"Team "+e:e)}),t.getUserName=function(){return i.user},t.getRevenueSettings=function(){var e={authToken:b.getToken(),user_name:i.user,nocache:!0};P.get(e,function(e){if(e&&e.teams&&e.teams.length&&1!==e.teams.length){t.revenue_settings={selected:null,teams:e.teams,available:!0};for(var n=null,a=0;a<e.teams.length;a++)e.selected.group_id===e.teams[a].group_id&&(t.revenue_settings.selected=e.teams[a],t.revenue_settings.selected.revenues=e.selected.date,n=e.selected.date);n=(0,p.default)(n).utc();var i=(0,p.default)().utc().hour(23).minute(59).second(59).diff(n,"hours");i<24&&(t.revenue_settings.available=!1,t.revenue_settings.available_hours=i)}})},t.getRevenueSettings(),t.game_accounts={},t.getGameAccounts=function(){O.get({user_name:i.user,authToken:b.getToken(),nocache:!0},function(e){e.gameaccounts&&e.gameaccounts.length&&(e.gameaccounts[0].lol_account&&(t.game_accounts.lol_account=e.gameaccounts[0].lol_account,t.game_accounts.lol_region=e.gameaccounts[0].lol_region,t.getLolStats()),e.gameaccounts[0].wot_account&&(t.game_accounts.wot_account=e.gameaccounts[0].wot_account,t.getWotStats()),H=(0,s.default)(t.game_accounts))})},t.getGameAccounts(),t.lol_error=!1,t.getLolStats=function(){t.lol_error=!1;var e={user_name:i.user};j.get(e,function(){},function(e){"summoner_not_found"===e.data.error_msg?t.lol_error="summoner_not_found":t.lol_error="api_error"})},t.getWotStats=function(){t.wot_error=!1;var e={user_name:i.user};I.get(e,function(){},function(e){"account_not_found"===e.data.error_msg?t.wot_error="account_not_found":t.wot_error="api_error"})},t.alertMsgBox=function(e){var t=A.instant("view_dashboard_error_team-change-failed"),n=A.instant("view_dashboard_error_change-team-once",{time:e}),a=[{result:!0,label:A.instant("global_text_ok"),variant:"ok"}];new v(t,n,a).open()},t.selectRevenueTeam=function(e){var n=A.instant("view_dashboard_header_switch-revenue"),a=A.instant("view_dashboard_text_switch-revenues-to",{teamname:e.group_name}),o=[{result:!1,label:A.instant("global_text_cancel")},{result:!0,label:A.instant("global_button_confirm"),variant:"ok"}];new v(n,a,o).open().then(function(n){if(n){var a={authToken:b.getToken(),user_name:i.user,group_id:e.group_id};P.set(a,function(n){n.success?(t.revenue_settings.selected=e,t.getRevenueSettings()):n.time_left&&t.alertMsgBox(n.time_left)})}})},t.params={media_name:i.user,media_type:"live",authToken:b.getToken(),showHidden:!0,liveonly:!1,nocache:!0},t.share_link="//smashcast.tv/"+t.getUserName().toLowerCase(),t.collapse={streamInfo:m.default.get("studio.collapse.streamInfo",!0),hostMode:m.default.get("studio.collapse.hostMode",!0),social:m.default.get("studio.collapse.social",!0),poll:m.default.get("studio.collapse.poll",!0),motd:m.default.get("studio.collapse.motd",!0),raffle:m.default.get("studio.collapse.raffle",!0),settings:m.default.get("studio.collapse.settings",!1)},t.$watch("collapse",function(){(0,f.default)(t.collapse,function(e,t){m.default.set("studio.collapse."+t,e)})},!0),t.feedbackTimeout=null,t.displaySavedFeedback=function(){null===t.feedbackTimeout&&(t.save.save_status="saved")};var G=function(e){if("resourceUpdate"===e.type)if(t.saveInitiator)t.saveInitiator=null;else{var n=e.text.media;t.$apply(function(){Object.assign(t.media,n),F(),B()})}};t.getMedia=function(){y.get(i.user,"live").then(function(n){n?(t.media=n,null===t.media.media_hidden&&(t.media.media_hidden=!1),"1"===t.media.media_hidden&&(t.media.media_hidden=!0),z=(0,s.default)(t.media),L.set(t.media.media_user_name+"'s Dashboard"),t.select2.selected_countries={},t.isCountrySelected=function(e){return t.select2.selected_countries.id===e.id},B(),n&&F(),k.get(t.media.media_user_name,function(){t.getSubMedia()}),t.hadMedia=!0,t.select2Country={placeholder:"",allowClear:!1,multiple:!0,maximumSelectionSize:2,data:function(){return{results:t.countries}},initSelection:function(e,n){for(var a=t.media.media_countries,i=[],o=0;o<a.length;o++)i.push({id:a[o],text:q.getLanguage(a[o])});n(i)}},t.countries=q.getLanguages(),t.detailMedia=new R(i.user,"live"),t.detailMedia.fetchMedia().then(function(e){return t.detailMedia.storeMedia(e,!1)})):e.go("404")},function(e){U.debug("Media.get error:",e),t.ready=!0,t.media={}})},t.getSubMedia=function(){var e={channel:i.user};S.get(e).then(function(e){t.subEmotes=e.icons}),C.get(e,function(e){t.subBadges=e.badges})},t.delayMedia=function(){V=n(function(){t.getMedia()},800)},t.delayMedia(),t.titleEditTimeout=null,t.initUpdate=function(){null===t.titleEditTimeout?(t.save.save_status="none",t.titleEditTimeout=n(function(){n.cancel(t.titleEditTimeout),t.titleEditTimeout=null,t.updateDashboard()},1e3)):(n.cancel(t.titleEditTimeout),t.save.save_status="none",t.titleEditTimeout=n(function(){n.cancel(t.titleEditTimeout),t.titleEditTimeout=null,t.updateDashboard()},1e3))},t.updateDashboard=function(){"saving"!==t.save.save_status&&t.media&&(t.media.media_countries=[t.select2.selected_countries.id],(0,u.default)(t.media,z)?U.debug("Media has not changed, preventing update..."):(U.debug("Media has changed, updating dashboard"),t.save.save_status="saving",t.saveInitiator=!0,t.update()))},t.update=function(){y.update(t.media).then(function(){E.get({id:"https://"+T.host()+"/"+t.getUserName().toLowerCase(),authToken:b.getToken()}),t.save.save_status="saved",Array.isArray(t.media.media_countries)||(t.media.media_countries=[t.media.media_countries]),z=(0,s.default)(t.media)}).catch(function(){t.save.save_status="error"})};var W=void 0;t.watchMedia=function(){t.mediaWatcher=t.$watch("media",(0,l.default)(function(e,n){e&&t.media.media_id&&e!==n&&(t.mediaWatcher(),W={media_id:t.media.media_id},t.onMediaPoller(),t.startMediaPoller(),t.watchMedia())},2e3),!0)},t.watchMedia(),t.onMediaPoller=function(){x.get(W,function(e){t.mediastatus=e})},t.mediaPoller=void 0,t.startMediaPoller=function(){o.default.isDefined(t.mediaPoller)&&M.cancel(t.mediaPoller),t.mediaPoller=M(t.onMediaPoller,3e4)},t.stopMediaPoller=function(){o.default.isDefined(t.mediaPoller)&&(M.cancel(t.mediaPoller),t.mediaPoller=void 0)},t.gameFormatResult=function(e){return e.category_name},t.gameFormatSelection=function(e){return e.category_name},t.$watch("media.media_category_id",function(e){e&&isNaN(e)&&e.category_id&&(t.media.media_category_id=e.category_id)}),t.searchGames=[],t.select2={selected_game:{},selected_countries:{}},t.refreshSelectGame=function(e){if(e){var t={q:e,limit:100};return $.get(t).$promise.then(function(e){return e.categories?e.categories:[]}).catch(function(e){U.debug("refreshSelectGame error: ",e)})}},t.selectSelectGame=function(e,n,a,i){i&&i.preventDefault(),t.select2.selected_game.category_name=e.category_name,t.media.media_category_id=e.category_id,t.searchGames=[]},t.getCountries=function(e){return t.countries?t.countries.map(function(e){return e.text}).sort(function(t,n){var a=t.match(new RegExp("^"+e,"i"))||[],i=n.match(new RegExp("^"+e,"i"))||[];return a.length!==i.length?i.length-a.length:t>n?1:-1}):[]},t.setLanguage=function(e){t.select2.selected_countries=o.default.copy((0,c.default)(t.countries,["text",e]))},t.$on("$destroy",function(){n.cancel(t.feedbackTimeout),n.cancel(t.titleEditTimeout),n.cancel(t.onTimeout),n.cancel(V),t.stopMediaPoller(),t.detailMedia&&t.detailMedia.onDestroy()}),r.default.on("chat.serverMsg",G),t.$on("$destroy",function(){t.stopMediaPoller(),r.default.off("chat.serverMsg",G)}),t.blur=function(e){e.preventDefault(),n(function(){e.target.blur()},!1)},t.saveInProgress=function(){return"saving"===t.save.save_status},t.saveFailed=function(){return"error"===t.save.save_status},t.saveLol=function(){"saving"!==t.save.save_status&&t.game_accounts.lol_region&&((0,u.default)(t.game_accounts,H)?U.debug("LoL game_accounts has not changed, preventing update..."):(U.debug("LoL game_accounts has changed, updating dashboard"),t.save.save_status="saving",t.saveInitiator=!0,O.post({lol_account:t.game_accounts.lol_account,user_name:i.user,authToken:b.getToken(),lol_region:t.game_accounts.lol_region},function(){t.save.save_status="saved",t.getLolStats(),H=(0,s.default)(t.game_accounts)},function(){t.save.save_status="error"})))},t.saveWot=function(){"saving"!==t.save.save_status&&((0,u.default)(t.game_accounts,H)?U.debug("WoT game_accounts has not changed, preventing update..."):(U.debug("WoT game_accounts has changed, updating dashboard"),t.save.save_status="saving",t.saveInitiator=!0,O.post({wot_account:t.game_accounts.wot_account,user_name:i.user,authToken:b.getToken()},function(){t.save.save_status="saved",t.getWotStats(),H=(0,s.default)(t.game_accounts)},function(){t.save.save_status="error"})))},t.onDashboardNavigationChange=function(e){t.settingsTab=e},t.setHostMode=function(e){t.hostMode=e},t.getDefaultSocialMediaMessage=function(){return t.media&&t.media?t.media.media_display_name+" - "+t.media.media_status+" https://smashcast.tv/"+i.user:""},t.onCollapseComponent=function(e,n){(0,d.default)(t.collapse[e])||(t.collapse[e]=n)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(12)),s=a(n(2831)),l=a(n(43)),c=a(n(32)),u=a(n(370)),d=a(n(11)),f=a(n(2832)),p=a(n(5)),m=a(n(16)),h=a(n(2833));n(2834);var g=a(n(2835));i.$inject=["$state","$scope","$timeout","$rootScope","$stateParams","$uibModal","HtbxModal","loggedUser","medias","Media","GameSearch","MediaStatus","SubscriptionInfo","SubscriberEmotesStore","SubscriberBadges","$interval","FacebookResetCache","$location","RevenueSettings","GameAccounts","LolStats","$translate","WotStats","pageTitle","$log","authSigninStateDiagram","AuthSigninAction","DetailMedia"];var _="stream";t.default=function(){return{restrict:"E",templateUrl:g.default,controller:i}}},function(e,t,n){var a=n(526);e.exports=function(e){return a(e,5)}},function(e,t,n){var a=n(213),i=n(510),o=n(55);e.exports=function(e,t){var n={};return t=o(t,3),i(e,function(e,i,o){a(n,t(e,i,o),e)}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=[{id:"aa",text:"Afar"},{id:"ab",text:"Abkhazian"},{id:"ae",text:"Avestan"},{id:"af",text:"Afrikaans"},{id:"ak",text:"Akan"},{id:"am",text:"Amharic"},{id:"an",text:"Aragonese"},{id:"ar",text:"Arabic"},{id:"as",text:"Assamese"},{id:"av",text:"Avaric"},{id:"ay",text:"Aymara"},{id:"az",text:"Azerbaijani"},{id:"ba",text:"Bashkir"},{id:"be",text:"Belarusian"},{id:"bg",text:"Bulgarian"},{id:"bh",text:"Bihari languages"},{id:"bi",text:"Bislama"},{id:"bm",text:"Bambara"},{id:"bn",text:"Bengali"},{id:"bo",text:"Tibetan"},{id:"br",text:"Breton"},{id:"bs",text:"Bosnian"},{id:"ca",text:"Catalan; Valencian"},{id:"ce",text:"Chechen"},{id:"ch",text:"Chamorro"},{id:"co",text:"Corsican"},{id:"cr",text:"Cree"},{id:"cs",text:"Czech"},{id:"cu",text:"Church Slavic; Old Slavonic; Church Slavonic; Old Bulgarian; Old Church Slavonic"},{id:"cv",text:"Chuvash"},{id:"cy",text:"Welsh"},{id:"da",text:"Danish"},{id:"de",text:"German"},{id:"dv",text:"Divehi; Dhivehi; Maldivian"},{id:"dz",text:"Dzongkha"},{id:"ee",text:"Ewe"},{id:"el",text:"Greek, Modern (1453-)"},{id:"en",text:"English"},{id:"eo",text:"Esperanto"},{id:"es",text:"Spanish; Castilian"},{id:"et",text:"Estonian"},{id:"eu",text:"Basque"},{id:"fa",text:"Persian"},{id:"ff",text:"Fulah"},{id:"fi",text:"Finnish"},{id:"fj",text:"Fijian"},{id:"fo",text:"Faroese"},{id:"fr",text:"French"},{id:"fy",text:"Western Frisian"},{id:"ga",text:"Irish"},{id:"gd",text:"Gaelic; Scottish Gaelic"},{id:"gl",text:"Galician"},{id:"gn",text:"Guarani"},{id:"gu",text:"Gujarati"},{id:"gv",text:"Manx"},{id:"ha",text:"Hausa"},{id:"he",text:"Hebrew"},{id:"hi",text:"Hindi"},{id:"ho",text:"Hiri Motu"},{id:"hr",text:"Croatian"},{id:"ht",text:"Haitian; Haitian Creole"},{id:"hu",text:"Hungarian"},{id:"hy",text:"Armenian"},{id:"hz",text:"Herero"},{id:"ia",text:"Interlingua (International Auxiliary Language Association)"},{id:"id",text:"Indonesian"},{id:"ie",text:"Interlingue; Occidental"},{id:"ig",text:"Igbo"},{id:"ii",text:"Sichuan Yi; Nuosu"},{id:"ik",text:"Inupiaq"},{id:"io",text:"Ido"},{id:"is",text:"Icelandic"},{id:"it",text:"Italian"},{id:"iu",text:"Inuktitut"},{id:"ja",text:"Japanese"},{id:"jv",text:"Javanese"},{id:"ka",text:"Georgian"},{id:"kg",text:"Kongo"},{id:"ki",text:"Kikuyu; Gikuyu"},{id:"kj",text:"Kuanyama; Kwanyama"},{id:"kk",text:"Kazakh"},{id:"kl",text:"Kalaallisut; Greenlandic"},{id:"km",text:"Central Khmer"},{id:"kn",text:"Kannada"},{id:"ko",text:"Korean"},{id:"kr",text:"Kanuri"},{id:"ks",text:"Kashmiri"},{id:"ku",text:"Kurdish"},{id:"kv",text:"Komi"},{id:"kw",text:"Cornish"},{id:"ky",text:"Kirghiz; Kyrgyz"},{id:"la",text:"Latin"},{id:"lb",text:"Luxembourgish; Letzeburgesch"},{id:"lg",text:"Ganda"},{id:"li",text:"Limburgan; Limburger; Limburgish"},{id:"ln",text:"Lingala"},{id:"lo",text:"Lao"},{id:"lt",text:"Lithuanian"},{id:"lu",text:"Luba-Katanga"},{id:"lv",text:"Latvian"},{id:"mg",text:"Malagasy"},{id:"mh",text:"Marshallese"},{id:"mi",text:"Maori"},{id:"mk",text:"Macedonian"},{id:"ml",text:"Malayalam"},{id:"mn",text:"Mongolian"},{id:"mr",text:"Marathi"},{id:"ms",text:"Malay"},{id:"mt",text:"Maltese"},{id:"my",text:"Burmese"},{id:"na",text:"Nauru"},{id:"nb",text:"Bokml, Norwegian; Norwegian Bokml"},{id:"nd",text:"Ndebele, North; North Ndebele"},{id:"ne",text:"Nepali"},{id:"ng",text:"Ndonga"},{id:"nl",text:"Dutch; Flemish"},{id:"nn",text:"Norwegian Nynorsk; Nynorsk, Norwegian"},{id:"no",text:"Norwegian"},{id:"nr",text:"Ndebele, South; South Ndebele"},{id:"nv",text:"Navajo; Navaho"},{id:"ny",text:"Chichewa; Chewa; Nyanja"},{id:"oc",text:"Occitan (post 1500); Provenal"},{id:"oj",text:"Ojibwa"},{id:"om",text:"Oromo"},{id:"or",text:"Oriya"},{id:"os",text:"Ossetian; Ossetic"},{id:"pa",text:"Panjabi; Punjabi"},{id:"pi",text:"Pali"},{id:"pl",text:"Polish"},{id:"ps",text:"Pushto; Pashto"},{id:"pt",text:"Portuguese"},{id:"qu",text:"Quechua"},{id:"rm",text:"Romansh"},{id:"rn",text:"Rundi"},{id:"ro",text:"Romanian; Moldavian; Moldovan"},{id:"ru",text:"Russian"},{id:"rw",text:"Kinyarwanda"},{id:"sa",text:"Sanskrit"},{id:"sc",text:"Sardinian"},{id:"sd",text:"Sindhi"},{id:"se",text:"Northern Sami"},{id:"sg",text:"Sango"},{id:"si",text:"Sinhala; Sinhalese"},{id:"sk",text:"Slovak"},{id:"sl",text:"Slovenian"},{id:"sm",text:"Samoan"},{id:"sn",text:"Shona"},{id:"so",text:"Somali"},{id:"sq",text:"Albanian"},{id:"sr",text:"Serbian"},{id:"ss",text:"Swati"},{id:"st",text:"Sotho, Southern"},{id:"su",text:"Sundanese"},{id:"sv",text:"Swedish"},{id:"sw",text:"Swahili"},{id:"ta",text:"Tamil"},{id:"te",text:"Telugu"},{id:"tg",text:"Tajik"},{id:"th",text:"Thai"},{id:"ti",text:"Tigrinya"},{id:"tk",text:"Turkmen"},{id:"tl",text:"Tagalog"},{id:"tn",text:"Tswana"},{id:"to",text:"Tonga (Tonga Islands)"},{id:"tr",text:"Turkish"},{id:"ts",text:"Tsonga"},{id:"tt",text:"Tatar"},{id:"tw",text:"Twi"},{id:"ty",text:"Tahitian"},{id:"ug",text:"Uighur; Uyghur"},{id:"uk",text:"Ukrainian"},{id:"ur",text:"Urdu"},{id:"uz",text:"Uzbek"},{id:"ve",text:"Venda"},{id:"vi",text:"Vietnamese"},{id:"vo",text:"Volapk"},{id:"wa",text:"Walloon"},{id:"wo",text:"Wolof"},{id:"xh",text:"Xhosa"},{id:"yi",text:"Yiddish"},{id:"yo",text:"Yoruba"},{id:"za",text:"Zhuang; Chuang"},{id:"zh",text:"Chinese"},{id:"zu",text:"Zulu"}],o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lookup={};for(var t=0;t<i.length;t++)this.lookup[i[t].id]=i[t]}return a(e,[{key:"getLanguage",value:function(e){return e&&this.lookup[e.toLowerCase()]?this.lookup[e.toLowerCase()].text:null}},{key:"getLanguages",value:function(){return i}}]),e}();t.default=o},function(e,t){},function(e,t,n){var a="/src/js/studio/dashboard/directives/dashboard.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <div class="dash dash--active-settings-tab-{{settingsTab}}"> <htbx-dashboard-navigation data-on-select=onDashboardNavigationChange></htbx-dashboard-navigation> <div class=dash__columns> <div class="dash__column dash__column--column-stream-actions"> <div class="dash__column__stream-actions-header dash__column__header"> <htbx-saving-indicator data-saving=saveInProgress() data-error=saveFailed() class=dash__saving></htbx-saving-indicator> <htbx-studio-dashboard-stream-title data-mediastatus=mediastatus data-livestream=media></htbx-studio-dashboard-stream-title> </div> <div class=dash__column--column-stream-actions__bottom-gradient></div> <htbx-scrollable class="dash__column__content dash__column__scrollable dash__column__scrollable--column-stream-actions"> <div class="dash__column dash__column--column-stream"> <div class="dash__column__stream-header dash__column__header"> <htbx-saving-indicator data-saving=saveInProgress() data-error=saveFailed() class=dash__saving></htbx-saving-indicator> <htbx-studio-dashboard-stream-title data-mediastatus=mediastatus data-livestream=media></htbx-studio-dashboard-stream-title> </div> <htbx-scrollable class="dash__column__content dash__column__scrollable dash__column__scrollable--column-stream"> <htbx-studio-dashboard-stream-settings></htbx-studio-dashboard-stream-settings> </htbx-scrollable> </div> <div class="dash__column dash__column--column-actions"> <h3 class=dash__column__header> {{::\'component_feed_feed\'|translate}} </h3> <htbx-scrollable class="dash__column__content dash__column__scrollable dash__column__scrollable--column-actions"> <smash-spinny ng-if=!media data-size="\'medium\'"></smash-spinny> <feed ng-if=media data-compact-mode=true data-show-new-post=true data-user-data="::{\n                                channelName: media.media_name,\n                                name: media.media_display_name,\n                                logo: media.channel.user_logo_small\n                            }"></feed> </htbx-scrollable> </div> </htbx-scrollable> </div> <div class="dash__column dash__column--column-chat"> <htbx-dashboard-chat></htbx-dashboard-chat> </div> <div class="dash__column dash__column--column-viewers"> <div class=dash__column__content> <h3 class=dash__column__header> {{::\'global_text_viewers\' | translate}} </h3> <chat-user-list class="chat-userlist dash-userlist"></chat-user-list> </div> </div> </div> </div> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(685)),r=n(8),s=a(n(2837)),l=function(e){var t=e.channel;return{subEnabled:(0,r.subscriptionsAllowed)(t)}},c=function(){function e(t,n,a,i,r){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.toggleActivityLog=function(){s.showActivityLog=!s.showActivityLog},this.onClickBlacklist=function(){var e={animation:!0,backdrop:!0,keyboard:!0,windowClass:"modal-blacklist",template:'<chat-blacklist-dialog on-save="$ctrl.close()" on-close="$ctrl.close()"></chat-blacklist-dialog>',controller:o.default,controllerAs:"$ctrl"};s.$uibModal.open(e)},this.$state=t,this.$stateParams=n,this.chatMessages=a,this.$uibModal=i,this.$ngRedux=r,this.subEnabled=!1,this.showActivityLog=!1}return e.$inject=["$state","$stateParams","chatMessages","$uibModal","$ngRedux"],i(e,[{key:"$onInit",value:function(){this.newChatMessage=this.chatMessages.newMessage,this.unsubscribeReduxConnection=this.$ngRedux.connect(l)(this)}},{key:"$onDestroy",value:function(){this.unsubscribeReduxConnection&&this.unsubscribeReduxConnection()}}]),e}();t.default=function(){return{restrict:"E",templateUrl:s.default,controller:c,controllerAs:"$ctrl"}}},function(e,t,n){var a="/src/js/studio/dashboard/directives/dashboard-chat.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <div ng-controller=ChatCtrl class=dash__column__content> <smash-dashboard-chat-header on-click-blacklist=$ctrl.onClickBlacklist new-chat-message=$ctrl.newChatMessage section=$ctrl.$state.current.section state-href=$ctrl.$state.href on-tab-toggle=$ctrl.toggleActivityLog></smash-dashboard-chat-header> <div ng-show=!$ctrl.showActivityLog> <div class=dashboard__chat__chat-wrapper ng-class="{\n                \'dashboard__chat__chat-wrapper--mod-settings-sub\' : $ctrl.subEnabled,\n            }"> <div class="chat-table flex-column"> <chat-messages class=detail-chat__chat-messages></chat-messages> <chat-input-wrap></chat-input-wrap> </div> </div> </div> <div ng-show=$ctrl.showActivityLog class=dashboard__chat__activity-log-wrapper> <htbx-scrollable class="dash__column__content dash__column__scrollable dash__column__scrollable--activityLog"> <chat-log-messages></chat-log-messages> </htbx-scrollable> </div> </div> ')}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(16)),r=a(n(11)),s=a(n(2839));n(2840);var l=!0,c=function(){function e(t,n,a,i,s,l,c,u,d,f,p){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$location:t,$timeout:n,FacebookResetCache:a,loggedUser:i,FacebookPages:s,FacebookPost:l,TwitterAccount:c,TwitterPost:u,SocialDiscord:d,DiscordPost:f,$log:p}),(0,r.default)(this.collapsed)&&(this.collapsed=!0);var m=o.default.get("studio.socialPost.facebook",!0),h=o.default.get("studio.socialPost.twitter",!0),g=o.default.get("studio.socialPost.discord",!0);this.shoutout={facebook:{enabled:!1,active:m},twitter:{enabled:!1,active:h,error:!1},discord:{enabled:!1,active:g,error:!1},message:"",loading:0,autopost:!1}}return e.$inject=["$location","$timeout","FacebookResetCache","loggedUser","FacebookPages","FacebookPost","TwitterAccount","TwitterPost","SocialDiscord","DiscordPost","$log"],i(e,[{key:"$onInit",value:function(){this.loggedUser.isAuthenticated()?function(){var e=this,t=this.loggedUser.getToken(),n={user_name:this.userName,authToken:t};this.FacebookPages.get(n).$promise.then(function(t){t.pages&&t.pages.length>0&&(e.shoutout.facebook.enabled=!0)}).catch(function(){e.setActive("facebook",!1)}),this.TwitterAccount.get(n).$promise.then(function(){e.shoutout.twitter.enabled=!0}).catch(function(){e.setActive("twitter",!1)}),this.getDiscordGuilds()}.call(this):this.$log.debug("Auth required to use htbxSocialMediaForm Component")}},{key:"hasTwitterError",value:function(){return this.shoutout.twitter.error}},{key:"hasDiscordError",value:function(){return this.shoutout.discord.error}},{key:"resetErrors",value:function(){this.shoutout.twitter.error=!1}},{key:"initShoutout",value:function(){l&&(l=!1,this.shoutout.message=this.defaultMessage)}},{key:"shoutOut",value:function(){var e=this,t=this.shoutout.message,n=this.loggedUser.getToken();this.shoutout.loading=0,this.shoutout.facebook.enabled&&this.shoutout.facebook.active&&(this.shoutout.loading+=1,this.FacebookResetCache.get({id:"https://"+this.$location.host()+"/"+this.userName.toLowerCase(),authToken:n}),this.FacebookPost.post({user_name:this.userName,authToken:n,message:t}).$promise.finally(function(){e.shoutout.loading-=1})),this.shoutout.twitter.enabled&&this.shoutout.twitter.active&&(this.shoutout.loading+=1,this.TwitterPost.post({user_name:this.userName,authToken:n,message:t}).$promise.finally(function(){e.shoutout.loading-=1}).catch(function(){e.shoutout.twitter.error=!0})),this.shoutout.discord.enabled&&this.shoutout.discord.active&&(this.shoutout.loading+=1,this.DiscordPost.post({user_name:this.userName,authToken:n,content:t}).$promise.finally(function(){e.shoutout.loading-=1}).catch(function(){e.shoutout.discord.error=!0}))}},{key:"collapse",value:function(e){var t=this;this.$timeout(function(){t.collapsed=e,t.onCollapse&&t.onCollapse({collapsed:t.collapsed})})}},{key:"getDiscordGuilds",value:function(){var e=this;this.SocialDiscord.get({user_name:this.userName,authToken:this.loggedUser.getToken()}).$promise.then(function(t){e.shoutout.discord.enabled=t.settings.length>0}).catch(function(){e.shoutout.discord.enabled=!1,e.setActive("discord",!1)})}},{key:"toggleActive",value:function(e){o.default.set("studio.socialPost."+e,!this.shoutout[e].active),this.shoutout[e].active=!this.shoutout[e].active}},{key:"setActive",value:function(e,t){o.default.set("studio.socialPost."+e,t),this.shoutout[e].active=t}}]),e}();t.default={bindings:{defaultMessage:"<",userName:"<",collapsed:"=?",onCollapse:"&?",onSave:"&?"},templateUrl:s.default,controller:c}},function(e,t,n){var a="/src/js/studio/dashboard/components/social-media-form.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <htbx-collapsible data-variant=default data-title="{{::\'view_dashboard_header_social-media\' | translate}}" data-collapsed=$ctrl.collapsed data-on-collapse=$ctrl.collapse(collapsed) class=social-media-form> <form accept-charset=UTF-8 ng-submit=$ctrl.shoutOut() novalidate> <div class="social-media-form__message dash__input"> <textarea class="dash__input__input dash__input__input--nolabel" name=message placeholder="{{:: \'view_dashboard_placeholder_social-post\' | translate}}" autocomplete=off spellcheck=false maxlength=280 ng-model=$ctrl.shoutout.message ng-class="{bigger: $ctrl.shoutout.message.length > 65}" msd-elastic ng-change=$ctrl.resetErrors() ng-click=$ctrl.initShoutout()>\n            </textarea> </div> <div class="social-media-form__buttons dash__input__buttons"> <div class=social-media-form__icons> <a class="social-media-form__icon social-media-form__icon--fb social-media-form__icon--disabled" ng-if=!$ctrl.shoutout.facebook.enabled tooltip-placement=top uib-tooltip="{{:: \'view_dashboard_tooltip_connect-facebook\' | translate }}" tooltip-append-to-body=true ui-sref="settings.connections({user: $ctrl.userName})" target=_blank rel=noopener> <smash-icon icon=facebook size=32 center=true></smash-icon> </a> <div class="social-media-form__icon social-media-form__icon--fb" ng-if=$ctrl.shoutout.facebook.enabled ng-class="{\'social-media-form__icon--disabled\': !$ctrl.shoutout.facebook.active}" ng-disabled=!$ctrl.shoutout.facebook.enabled ng-click="$ctrl.toggleActive(\'facebook\')"> <smash-icon icon=facebook size=32 center=true></smash-icon> </div> <a class="social-media-form__icon social-media-form__icon--tw social-media-form__icon--disabled" ng-if=!$ctrl.shoutout.twitter.enabled tooltip-placement=top uib-tooltip="{{:: \'view_dashboard_tooltip_connect-twitter\' | translate }}" tooltip-append-to-body=true ui-sref="settings.connections({user: $ctrl.userName})" target=_blank rel=noopener> <smash-icon icon=twitter size=32 center=true></smash-icon> </a> <div class="social-media-form__icon social-media-form__icon--tw" ng-if=$ctrl.shoutout.twitter.enabled uib-tooltip="{{:: \'view_dashboard_tooltip_twitter-post-failed\' | translate }}" tooltip-append-to-body=true tooltip-enable=$ctrl.hasTwitterError() ng-class="{\'social-media-form__icon--disabled\': !$ctrl.shoutout.twitter.active || $ctrl.hasTwitterError(), \'social-media-form__icon--has-error\': $ctrl.hasTwitterError()}" ng-disabled=!$ctrl.shoutout.twitter.enabled ng-click="$ctrl.toggleActive(\'twitter\')"> <smash-icon icon=twitter size=32 center=true></smash-icon> </div> <a ng-if=!$ctrl.shoutout.discord.enabled class="social-media-form__icon social-media-form__icon--discord social-media-form__icon--disabled" tooltip-placement=top uib-tooltip="{{:: \'view_dashboard_tooltip_connect-discord\' | translate }}" tooltip-append-to-body=true ui-sref="settings.connections({user: $ctrl.userName})" target=_blank rel=noopener> <smash-icon icon=discord size=32></smash-icon> </a> <div ng-if=$ctrl.shoutout.discord.enabled class="social-media-form__icon social-media-form__icon--discord" uib-tooltip="{{:: \'view_dashboard_tooltip_discord-post-failed\' | translate }}" tooltip-append-to-body=true tooltip-enable=$ctrl.hasDiscordError() ng-class="{ \'social-media-form__icon--disabled\': !$ctrl.shoutout.discord.active, \'social-media-form__icon--has-error\': $ctrl.hasDiscordError() }" ng-click="$ctrl.toggleActive(\'discord\')"> <smash-icon icon=discord size=32></smash-icon> </div> </div> <htbx-button data-type=submit data-variant=ok data-size=small data-disabled="(!$ctrl.shoutout.facebook.active && !$ctrl.shoutout.twitter.active && !$ctrl.shoutout.discord.active) || $ctrl.hasTwitterError() || !$ctrl.shoutout.message.length" data-loading="$ctrl.shoutout.loading > 0"> {{::\'global_button_post\' | translate}} </htbx-button> </div> </form> </htbx-collapsible> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(12)),r=n(0),s=a(n(2842));n(2843);var l=void 0,c=void 0,u=function(){function e(t,n,a,i,o,s,c,u,d,f,p){var m=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.host={status:"off",hoster:"",error:!1},this.hosters={list:[],moreList:[],moreCount:""},this.updateHost=function(e){if("hostModeUpdate"===e.type){var t=e,n=t.text.media.livestream[0].media_hosted_media;m.host.status=t.mode,m.host.hoster="off"===m.host.status?"":t.text.media.livestream[0].media_user_name,m.host.hoster_live_status=n&&n.livestream[0].media_is_live}},this.getMedia=function(){l=m.Media.get({media_name:m.$stateParams.user,media_type:"live",authToken:m.loggedUser.getToken(),showHidden:!0,nocache:!0,filter:"newfirst",liveonly:!1},function(e){m.media=e,e.livestream[0].media_hosted_id&&(m.host.hoster=e.livestream[0].media_hosted_media.livestream[0].media_name,m.host.hoster_live_status=e.livestream[0].media_hosted_media.livestream[0].media_is_live,m.host.status="on",m.onHost&&m.onHost({hosting:!0}))},function(e){m.$log.warn(e)})},Object.assign(this,{$element:t,loggedUser:n,$stateParams:a,Media:i,User:o,Users:s,$translate:c,$log:u,Hosters:d,$interval:f,$timeout:p}),(0,r.isUndefined)(this.collapsed)&&(this.collapsed=!0)}return e.$inject=["$element","loggedUser","$stateParams","Media","User","Users","$translate","$log","Hosters","$interval","$timeout"],i(e,[{key:"$onInit",value:function(){function e(){var e=this;this.Hosters.get({user_name:this.$stateParams.user,authToken:this.loggedUser.getToken()},function(t){e.hosters.list=t.hosters||[]})}var t=this;this.getMedia(),e.call(this),c=this.$interval(function(){e.call(t)},6e4),o.default.on("chat.serverMsg",this.updateHost)}},{key:"$onDestroy",value:function(){this.$interval.cancel(c),o.default.off("chat.serverMsg",this.updateHost)}},{key:"collapse",value:function(e){var t=this;this.$timeout(function(){t.collapsed=e,e||t.hasStarted()||t.$element.find(".host-mode-settings__input").focus(),t.onCollapse&&t.onCollapse({collapsed:t.collapsed})})}},{key:"hasStarted",value:function(){return"on"===this.host.status}},{key:"startHosting",value:function(){var e=this;""!==this.host.hoster&&("on"!==this.host.status?this.User.get({user_name:this.host.hoster},function(){e.media.livestream[0].media_hosted_name=e.host.hoster,e.update(),e.onHost&&e.onHost({hosting:!0}),e.host.status="on"},function(t){e.$log.warn(t),e.host.status="off",e.host.error=e.$translate.instant("global_error_user-not-found")}):this.stopHosting())}},{key:"stopHosting",value:function(){var e=this;this.media.livestream[0].media_hosted_name="off",this.update().then(function(){e.host.status="off",e.onHost&&e.onHost({hosting:!1})})}},{key:"update",value:function(){var e=this;return l.livestream=this.media.livestream,l.$update({media_name:this.$stateParams.user,media_type:"live",authToken:this.loggedUser.getToken(),showHidden:!0,nocache:!0,filter:"newfirst",liveonly:!1},function(){e.getMedia()},function(t){e.$log.warn(t)})}},{key:"getUsers",value:function(e){return this.Users.get({q:e,media:!0}).$promise.then(function(e){return e.map(function(e){return e.user_name})})}}]),e}();t.default={bindings:{collapsed:"=?",onCollapse:"&?",onHost:"&?"},templateUrl:s.default,controller:u}},function(e,t,n){var a="/src/js/studio/dashboard/components/host-mode-settings.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-collapsible data-variant=\"{{($ctrl.host.status == 'on') ? 'default-active' : 'default'}}\" data-collapsed=$ctrl.collapsed data-on-collapse=$ctrl.collapse(collapsed) class=\"host-mode-settings host {{$ctrl.host.status}}\" ng-class=\"{\n        'host-mode-settings--is-active': $ctrl.host.status == 'on',\n    }\"> <htbx-collapsible-title class=host-mode-settings__header> <div class=host-mode-settings__header__title> {{::'global_text_hosting' | translate}} <span ng-if=\"$ctrl.host.status === 'on' && $ctrl.host.hoster && $ctrl.host.hoster_live_status\"> <a ng-show=\"$ctrl.host.hoster_live_status === '1'\" ng-click=$event.stopPropagation() class=\"host-mode-settings__hosted host-mode-settings__hosted--live\" ui-sref=\"detail.feed({channel: $ctrl.host.hoster})\" target=_blank rel=noopener> <live-dot></live-dot> {{$ctrl.host.hoster}} </a> <span ng-show=\"$ctrl.host.hoster_live_status === '0'\" class=\"host-mode-settings__hosted host-mode-settings__hosted--offline\"> |&nbsp;&nbsp; <a ui-sref=\"detail.feed({channel: $ctrl.host.hoster})\" target=_blank ng-click=$event.stopPropagation() rel=noopener> {{$ctrl.host.hoster}} </a> <span class=host-mode-settings__hosted--offline__note> {{::'global_text_is-offline' | translate}} </span> </span> </span> </div> <div ng-if=$ctrl.hosters.list.length class=host-mode-settings__header__hosted-by> <span> {{::'view_dashboard_text_currently-hosted' | translate}} </span> <span ng-click=$event.stopPropagation() ng-repeat=\"hoster in $ctrl.hosters.list\"> <a ui-sref=\"detail.feed({ channel: hoster.user_name})\" target=_blank rel=noopener> {{hoster.user_name}} </a><span ng-if=!$last>,&nbsp;</span> </span> </div> </htbx-collapsible-title> <form ng-submit=$ctrl.startHosting()> <div class=dash__input> <div ng-show=\"$ctrl.host.status == 'off'\" class=dash__input__label> {{::'view_dashboard_label_channel-to-host' | translate}} </div> <div ng-show=\"$ctrl.host.status == 'on'\" class=dash__input__label> {{::'view_dashboard_text_you-are-hosting' | translate}} </div> <htbx-typeahead input-class=\"host-mode-settings__input dash__input__input\" ng-model=$ctrl.host.hoster ng-change=\"$ctrl.host.error = false\" ng-disabled=\"$ctrl.host.status == 'on'\" loading=$ctrl.loading placeholder=\"{{:: 'view_dashboard_placeholder_hitbox-username' | translate }}\" on-refresh=$ctrl.getUsers($viewValue)></htbx-typeahead> <div ng-if=$ctrl.loading class=dash__input__bouncy> <bouncy bouncy-size=6></bouncy> </div> </div> <div class=dash__input__buttons> <htbx-button data-type=submit data-disabled=\"!$ctrl.host.hoster || $ctrl.hostLoading\" data-variant=\"{{($ctrl.host.status == 'off' ? 'ok' : 'warning') }}\" data-loading=$ctrl.hostLoading data-loading-spinny=true> {{($ctrl.host.status == 'off' ? 'global_text_start-hosting' : 'global_text_stop-hosting') | translate}} </htbx-button> </div> </form> </htbx-collapsible> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(12)),r=a(n(5)),s=a(n(2845));n(2846);var l="",c=void 0,u=void 0,d=!1,f=null,p=null,m=void 0,h=function(){function e(t,n,a,i,o,s,l,c){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.comBreakCallback=function(e){"comBreak"===e.type&&(d?d=!1:(u.ads=e.count,u.counter=30*e.count,u.adRunning=!0,u.startTimer(),u.agoCounter=0))},this.onAgoTimeout=function(){u.agoCounter=u.agoCounter+1,u.agoCounterFormated=(0,r.default)().subtract(u.agoCounter,"seconds").fromNow(!0),p=u.$timeout(u.onAgoTimeout,1e3)},Object.assign(this,{$scope:t,$rootScope:n,loggedUser:a,Commercials:i,$stateParams:o,$timeout:s,$translate:l,Analytics:c}),this.counter=90,this.agoCounter=0,this.ads=3,m=this}return e.$inject=["$scope","$rootScope","loggedUser","Commercials","$stateParams","$timeout","$translate","Analytics"],i(e,[{key:"$onInit",value:function(){var e=this;o.default.on("chat.serverMsg",this.comBreakCallback),this.loggedUser.isAuthenticated()&&(l=this.loggedUser.getToken()),c={channel:this.$stateParams.user,count:this.ads,authToken:l},u={channel:this.$stateParams.user,authToken:l},this.Commercials.last(u,function(t){e.agoCounter=parseInt(t.seconds_ago,10)||0,e.agoCounter>7200&&(e.agoCounter=0),t.timeout>0?(e.adRunning=!0,e.startTimer(),e.counter=t.timeout):e.adRunning=!1,e.agoCounter>0&&e.startAgoTimer()}),this.$scope.$watch(function(){return e.ads},function(t){t&&(e.counter=30*e.ads,c.count=e.ads)}),this.tooManyBreaks=!1}},{key:"$onDestroy",value:function(){this.errorTimeout&&this.$timeout.cancel(this.errorTimeout),o.default.off("chat.serverMsg",this.comBreakCallback)}},{key:"commercialBreak",value:function(){var e=this;this.tooManyBreaks=!1,this.adRunning=!0,d=!0,this.Commercials.trigger(c,function(){e.agoCounter=0,e.startTimer()},function(t){e.adRunning=!1,t.data&&t.data.params&&!t.data.params.error?e.tooManyBreaks=e.$translate.instant({"too many ads per hour":"view_dashboard_text_too-many-ads","ad break still running":"view_dashboard_ad-break-still-running"}[t.data.params.error]||"global_error_error-occured"):e.tooManyBreaks=e.$translate.instant("global_error_error-occured"),e.errorTimeout=e.$timeout(function(){e.tooManyBreaks=!1},6e4),e.Analytics.trackEvent("advertising","tooManyAds")})}},{key:"decAds",value:function(){this.ads>1&&(this.ads-=1)}},{key:"incAds",value:function(){this.ads<10&&(this.ads+=1)}},{key:"startTimer",value:function(){this.$timeout(this.onTimeout,1e3)}},{key:"onTimeout",value:function(){m.counter-=1,f=m.$timeout(m.onTimeout,1e3),m.counter<=0&&(m.counter=30*m.ads,m.adRunning=!1,m.agoCounter=0,m.$timeout.cancel(f),m.$timeout.cancel(p),m.startAgoTimer())}},{key:"startAgoTimer",value:function(){this.$timeout.cancel(p),this.$timeout(this.onAgoTimeout,1e3)}}]),e}();t.default={templateUrl:s.default,controller:h}},function(e,t,n){var a="/src/js/studio/dashboard/components/commercial-break-settings.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section ng-class="[\n        \'commercial-break-settings\',\n        \'nono\',\n        {\n            commRunning: $ctrl.adRunning,\n        },\n    ]"> <div ng-show=!$ctrl.adRunning ng-class="[\n            \'commercial-break-settings__card1\',\n            {\n                pushy: ($ctrl.agoCounter > 1200 && !$ctrl.adRunning && !$ctrl.tooManyBreaks),\n            },\n        ]"> <div class=commercial-break-settings__card1__button> <div class="commercial-break-settings__card1__button__plus-minus commercial-break-settings__card1__button__plus-minus--minus" ng-click=$ctrl.decAds() ng-disabled="$ctrl.ads < 2"> <smash-icon icon=subtracting size=24 center=true></smash-icon> </div> <button class=commercial-break-settings__card1__button__button ng-click=$ctrl.commercialBreak() translate=view_dashboard_label_run-ad-ads translate-values="{ COUNT: $ctrl.ads }" translate-interpolation=messageformat></button> <div class="commercial-break-settings__card1__button__plus-minus commercial-break-settings__card1__button__plus-minus--plus" ng-click=$ctrl.incAds() ng-disabled="$ctrl.ads > 9"> <smash-icon icon=add size=24 center=true></smash-icon> </div> </div> <div class=commercial-break-settings__card1__note ng-hide="$ctrl.agoCounter <= 60 || $ctrl.tooManyBreaks" ng-class="{pushy: $ctrl.agoCounter >= 900}"> <span translate=view_dashboard_text_last-commercial-break translate-values="{time: $ctrl.agoCounterFormated}"></span> </div> <div class=commercial-break-settings__card1__note ng-show=$ctrl.tooManyBreaks> <span>{{$ctrl.tooManyBreaks}}</span> </div> </div> <div class=commercial-break-settings__card2 ng-show=$ctrl.adRunning> {{::\'view_dashboard_label_commercial-break\' | translate}} {{$ctrl.counter}} {{::\'view_dashboard_label_seconds\' | translate}} </div> </section> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(57)),r=a(n(2848));n(2849);var s=["stream","feed","chat","viewers"],l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selectedItem=s[0]}return i(e,[{key:"selectItem",value:function(e){(0,o.default)(s,e)?this.selectedItem=e:this.selectedItem=s[0],this.onSelect(this.selectedItem)}}]),e}();t.default={bindings:{onSelect:"<"},templateUrl:r.default,controller:l}},function(e,t,n){var a="/src/js/studio/dashboard/components/navigation.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<ul class=dashboard-navigation> <li ng-class=\"[\n            'dashboard-navigation__item',\n            {\n                'dashboard-navigation__item--active': $ctrl.selectedItem === 'stream',\n            },\n        ]\"> <button ng-click=\"$ctrl.selectItem('stream')\" type=button title=Stream class=dashboard-navigation__link> <smash-icon data-icon=live data-size=32 data-center=true></smash-icon> </button> </li> <li ng-class=\"[\n            'dashboard-navigation__item',\n            {\n                'dashboard-navigation__item--active': $ctrl.selectedItem === 'feed',\n            },\n        ]\"> <button ng-click=\"$ctrl.selectItem('feed')\" type=button title=Feed class=dashboard-navigation__link> <smash-icon data-icon=feed data-size=32 data-center=true></smash-icon> </button> </li> <li ng-class=\"[\n            'dashboard-navigation__item',\n            {\n                'dashboard-navigation__item--active': $ctrl.selectedItem === 'chat',\n            },\n        ]\"> <button ng-click=\"$ctrl.selectItem('chat')\" type=button title=Chat class=dashboard-navigation__link> <smash-icon data-icon=chat-2 data-size=32 data-center=true></smash-icon> </button> </li> <li ng-class=\"[\n            'dashboard-navigation__item',\n            {\n                'dashboard-navigation__item--active': $ctrl.selectedItem === 'viewers',\n            },\n        ]\"> <button ng-click=\"$ctrl.selectItem('viewers')\" type=button title=Viewers class=dashboard-navigation__link> <smash-icon data-icon=viewers data-size=32 data-center=true></smash-icon> </button> </li> </ul> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function a(){e.get({media_id:i.mediaId},function(e){var o=e.mediainfo;switch(i.mediaInfo={quality:0},o.height>=720&&o.height<=1080?i.mediaInfo.height={value:o.height,quality:0}:o.height>=480&&o.height<720?(i.mediaInfo.height={value:o.height,quality:1},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,1)):(i.mediaInfo.height={value:o.height,quality:2},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,2)),"h264"===o.vcodec?i.mediaInfo.vcodec={value:o.vcodec,quality:0}:(i.mediaInfo.vcodec={value:o.vcodec,quality:2},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,2)),2===o.kf_interval||"2"===o.kf_interval?i.mediaInfo.kf_interval={value:o.kf_interval,quality:0}:(i.mediaInfo.kf_interval={value:o.kf_interval,quality:2},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,2)),"aac"===o.acodec?i.mediaInfo.acodec={value:o.acodec,quality:0}:"mp3"===o.acodec?(i.mediaInfo.acodec={value:o.acodec,quality:1},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,1)):(i.mediaInfo.acodec={value:o.acodec,quality:2},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,2)),o.vbitrate=Math.floor(o.vbitrate/1024),o.vbitrate>=2e3&&o.vbitrate<=3500?i.mediaInfo.vbitrate={value:o.vbitrate,quality:0}:o.vbitrate>=1e3&&o.vbitrate<2e3||o.vbitrate>3500?(i.mediaInfo.vbitrate={value:o.vbitrate,quality:1},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,1)):0===o.vbitrate||"0"===o.vbitrate?(i.mediaInfo.vbitrate={value:"Unknown",quality:1},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,1)):(i.mediaInfo.vbitrate={value:o.vbitrate,quality:2},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,2)),o.abitrate=Math.floor(o.abitrate/1024),o.abitrate>=96&&o.abitrate<=320?i.mediaInfo.abitrate={value:o.abitrate,quality:0}:o.abitrate>=64&&o.abitrate<96||o.abitrate>320?(i.mediaInfo.abitrate={value:o.abitrate,quality:1},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,1)):0===o.abitrate||"0"===o.abitrate?(i.mediaInfo.abitrate={value:"Unknown",quality:1},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,1)):(i.mediaInfo.abitrate={value:o.abitrate,quality:2},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,2)),o.fps>=25&&o.fps<=60?i.mediaInfo.fps={value:o.fps,quality:0}:o.fps>30&&o.fps<=60?(i.mediaInfo.fps={value:o.fps,quality:1},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,1)):(i.mediaInfo.fps={value:o.fps,quality:2},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,2)),"High"===o.profile?i.mediaInfo.profile={value:o.profile,quality:0}:"Main"===o.profile?(i.mediaInfo.profile={value:o.profile,quality:1},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,1)):(i.mediaInfo.profile={value:o.profile,quality:2},i.mediaInfo.quality=Math.max(i.mediaInfo.quality,2)),i.mediaInfo.width={value:o.width,quality:0},i.mediaInfo.last_updated=(0,r.default)(o.log_date).format("HH:MM - DD.MM.YY"),i.mediaInfo.quality>0&&(i.streamDetail=!0),i.mediaInfo.quality){case 0:i.mediaInfo.quality_text=t.instant("global_text_good");break;case 1:i.mediaInfo.quality_text=t.instant("global_text_ok");break;case 2:default:i.mediaInfo.quality_text=t.instant("global_text_bad")}s||(s=n(a,l))})}var i=this,s=!1;i.mediaInfo={},i.previewCollapsed=!0,(0,o.default)(i.collapsed)&&(i.collapsed=!0),i.$onInit=function(){if(!i.mediaId)throw new Error("component requires mediaId")},i.$onDestroy=function(){n.cancel(s),s=!1},i.$onChanges=function(e){e.mediaIsLive&&(e.mediaIsLive.currentValue?a():(n.cancel(s),s=!1))},i.collapse=function(e){n(function(){i.collapsed=e,i.collapsed&&(i.previewCollapsed=!0),i.onCollapse&&i.onCollapse({collapsed:i.collapsed})})},i.collapsePreview=function(e){n(function(){i.previewCollapsed=e})}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(11)),r=a(n(5)),s=a(n(2851));n(2852),i.$inject=["MediaInfo","$translate","$timeout"];var l=6e4;t.default={bindings:{mediaIsLive:"<",mediaId:"<",collapsed:"<?",onCollapse:"&?"},templateUrl:s.default,controller:i}},function(e,t,n){var a="/src/js/studio/dashboard/components/stream-info.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<htbx-collapsible data-variant=default data-collapsed=$ctrl.collapsed data-on-collapse=$ctrl.collapse(collapsed) ng-class="{\n        \'studio-dashboard-stream-info--quality-warning\': ($ctrl.mediaInfo.quality == 1),\n        \'studio-dashboard-stream-info--quality-bad\': ($ctrl.mediaInfo.quality == 2),\n    }" class="studio-dashboard-stream-info config"> <htbx-collapsible-title> {{::\'view_dashboard_header_video-input\' | translate}} <span class=studio-dashboard-stream-info__quality-text> {{$ctrl.mediaInfo.quality_text}} </span> </htbx-collapsible-title> <div class=studio-dashboard-stream-info__content> <div class="studio-dashboard-stream-info__category studio-dashboard-stream-info__category--video"> <h4 class=studio-dashboard-stream-info__category__title> {{::\'global_text_video\' | translate}} </h4> <div class=label> <div>{{::\'view_dashboard_label_mode\' | translate}}</div> <div>{{::\'view_dashboard_label_keyframe-interval\' | translate}}</div> <div>{{::\'global_text_resolution\' | translate}}</div> <div>{{::\'global_label_bitrate\' | translate}}</div> <div>{{::\'global_text_fps\' | translate}}</div> <div>{{::\'view_dashboard_label_codec\' | translate}}</div> <div>{{::\'view_dashboard_label_encoding-profile\' | translate}}</div> </div> <div class=values> <div uib-tooltip="{{:: \'view_dashboard_tooltip_encoding-cbr\' | translate }}" tooltip-placement="auto right" tooltip-append-to-body=true class="studio-dashboard-stream-info__category__value studio-dashboard-stream-info__category__value--emphasize"> <span class=studio-dashboard-stream-info__category__value__text> {{::\'view_dashboard_label_always-use\' | translate}} {{::\'view_dashboard_label_cbr\' | translate}} </span> </div> <div uib-tooltip="Keyframe Interval must be 2 seconds" tooltip-placement="auto right" tooltip-append-to-body=true class=studio-dashboard-stream-info__category__value ng-class="{\n                        \'studio-dashboard-stream-info__category__value--warning\': $ctrl.mediaInfo.kf_interval.quality == 1,\n                        \'studio-dashboard-stream-info__category__value--error\': $ctrl.mediaInfo.kf_interval.quality == 2,\n                    }"> <span class=studio-dashboard-stream-info__category__value__text> {{$ctrl.mediaInfo.kf_interval.value}} </span> <smash-icon ng-if="$ctrl.mediaInfo.kf_interval.quality == 1" icon=info size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> <smash-icon ng-if="$ctrl.mediaInfo.kf_interval.quality == 2" icon=error size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> </div> <div uib-tooltip="{{:: \'view_dashboard_tooltip_video-height\' | translate }}" tooltip-placement="auto right" tooltip-append-to-body=true class=studio-dashboard-stream-info__category__value ng-class="{\n                        \'studio-dashboard-stream-info__category__value--warning\': $ctrl.mediaInfo.height.quality == 1,\n                        \'studio-dashboard-stream-info__category__value--error\': $ctrl.mediaInfo.height.quality == 2,\n                    }"> <span class=studio-dashboard-stream-info__category__value__text> {{$ctrl.mediaInfo.width.value}}x{{$ctrl.mediaInfo.height.value}}px </span> <smash-icon ng-if="$ctrl.mediaInfo.height.quality == 1" icon=info size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> <smash-icon ng-if="$ctrl.mediaInfo.height.quality == 2" icon=error size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> </div> <div uib-tooltip="{{:: \'view_dashboard_tooltip_video-bitrate\' | translate }}" tooltip-placement="auto right" tooltip-append-to-body=true class=studio-dashboard-stream-info__category__value ng-class="{\n                        \'studio-dashboard-stream-info__category__value--warning\': $ctrl.mediaInfo.vbitrate.quality == 1,\n                        \'studio-dashboard-stream-info__category__value--error\': $ctrl.mediaInfo.vbitrate.quality == 2,\n                    }"> <span class=studio-dashboard-stream-info__category__value__text> {{$ctrl.mediaInfo.vbitrate.value}} </span> <smash-icon ng-if="$ctrl.mediaInfo.vbitrate.quality == 1" icon=info size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> <smash-icon ng-if="$ctrl.mediaInfo.vbitrate.quality == 2" icon=error size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> </div> <div uib-tooltip="{{:: \'view_dashboard_tooltip_framerate\' | translate }}" tooltip-placement="auto right" tooltip-append-to-body=true class=studio-dashboard-stream-info__category__value ng-class="{\n                        \'studio-dashboard-stream-info__category__value--warning\': $ctrl.mediaInfo.fps.quality == 1,\n                        \'studio-dashboard-stream-info__category__value--error\': $ctrl.mediaInfo.fps.quality == 2,\n                    }"> <span class=studio-dashboard-stream-info__category__value__text> {{$ctrl.mediaInfo.fps.value}} </span> <smash-icon ng-if="$ctrl.mediaInfo.fps.quality == 1" icon=info size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> <smash-icon ng-if="$ctrl.mediaInfo.fps.quality == 2" icon=error size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> </div> <div uib-tooltip="{{:: \'view_dashboard_tooltip_video-codec\' | translate }}\'" tooltip-placement="auto right" tooltip-append-to-body=true class=studio-dashboard-stream-info__category__value ng-class="{\n                        \'studio-dashboard-stream-info__category__value--warning\': $ctrl.mediaInfo.vcodec.quality == 1,\n                        \'studio-dashboard-stream-info__category__value--error\': $ctrl.mediaInfo.vcodec.quality == 2,\n                    }"> <span class=studio-dashboard-stream-info__category__value__text> {{$ctrl.mediaInfo.vcodec.value}} </span> <smash-icon ng-if="$ctrl.mediaInfo.vcodec.quality == 1" icon=info size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> <smash-icon ng-if="$ctrl.mediaInfo.vcodec.quality == 2" icon=error size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> </div> <div uib-tooltip="{{:: \'view_dashboard_tooltip_encoding\' | translate }}\'" tooltip-placement="auto right" tooltip-append-to-body=true class=studio-dashboard-stream-info__category__value ng-class="{\n                        \'studio-dashboard-stream-info__category__value--warning\': $ctrl.mediaInfo.profile.quality == 1,\n                        \'studio-dashboard-stream-info__category__value--error\': $ctrl.mediaInfo.profile.quality == 2,\n                    }"> <span class=studio-dashboard-stream-info__category__value__text> {{$ctrl.mediaInfo.profile.value}} </span> <smash-icon ng-if="$ctrl.mediaInfo.profile.quality == 1" icon=info size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> <smash-icon ng-if="$ctrl.mediaInfo.profile.quality == 2" icon=error size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> </div> </div> </div> <div class="studio-dashboard-stream-info__category studio-dashboard-stream-info__category--audio"> <h4 class=studio-dashboard-stream-info__category__title> {{::\'global_text_audio\' | translate}} </h4> <div> <div class=label> <div>{{::\'global_label_bitrate\' | translate}}</div> <div>{{::\'view_dashboard_label_codec\' | translate}}</div> </div> <div class=values> <div uib-tooltip="{{:: \'view_dashboard_tooltip_audio-bitrate\' | translate }}" tooltip-placement="auto right" tooltip-append-to-body=true class=studio-dashboard-stream-info__category__value ng-class="{\n                            \'studio-dashboard-stream-info__category__value--warning\': $ctrl.mediaInfo.abitrate.quality == 1,\n                            \'studio-dashboard-stream-info__category__value--error\': $ctrl.mediaInfo.abitrate.quality == 2,\n                        }"> <span class=studio-dashboard-stream-info__category__value__text> {{$ctrl.mediaInfo.abitrate.value}} </span> <smash-icon ng-if="$ctrl.mediaInfo.abitrate.quality == 1" icon=info size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> <smash-icon ng-if="$ctrl.mediaInfo.abitrate.quality == 2" icon=error size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> </div> <div uib-tooltip="{{:: \'view_dashboard_tooltip_audio-codec\' | translate }}" tooltip-placement="auto right" tooltip-append-to-body=true class=studio-dashboard-stream-info__category__value ng-class="{\n                            \'studio-dashboard-stream-info__category__value--warning\': $ctrl.mediaInfo.acodec.quality == 1,\n                            \'studio-dashboard-stream-info__category__value--error\': $ctrl.mediaInfo.acodec.quality == 2,\n                        }"> <span class=studio-dashboard-stream-info__category__value__text> {{$ctrl.mediaInfo.acodec.value}} </span> <smash-icon ng-if="$ctrl.mediaInfo.acodec.quality == 1" icon=info size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> <smash-icon ng-if="$ctrl.mediaInfo.acodec.quality == 2" icon=error size=16 class=studio-dashboard-stream-info__category__value__icon></smash-icon> </div> </div> </div> </div> <div class="studio-dashboard-stream-info__category studio-dashboard-stream-info__category--extra"> <p class=studio-dashboard-stream-info__category__info> {{::\'view_dashboard_text_update-restart-stream\' | translate}} </p> <a class=studio-dashboard-stream-info__category__help href=https://help.smashcast.tv/customer/en/portal/topics/1065839-livestreaming/articles target=_blank rel=noopener> <smash-icon icon=question size=24></smash-icon> <span> {{::\'view_dashboard_link_how-to-stream\' | translate}} </span> </a> </div> <htbx-studio-dashboard-stream-preview data-media-id=$ctrl.mediaId data-collapsed=$ctrl.previewCollapsed data-on-collapse=$ctrl.collapsePreview(collapsed)></htbx-studio-dashboard-stream-preview> </div> </htbx-collapsible> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=this;(0,o.default)(this.collapsed)&&(t.collapsed=!0),t.collapse=function(n){e(function(){t.collapsed=n,t.onCollapse&&t.onCollapse({collapsed:t.collapsed})})}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(11)),r=a(n(2854));n(2855),i.$inject=["$timeout"],t.default={bindings:{mediaId:"<",collapsed:"<?",onCollapse:"&?"},templateUrl:r.default,controller:i}},function(e,t,n){var a="/src/js/studio/dashboard/components/stream-preview.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-collapsible data-variant=default data-title=\"{{::'global_text_preview' | translate}}\" data-collapsed=$ctrl.collapsed data-on-collapse=$ctrl.collapse(collapsed) class=studio-dashboard-stream-preview> <div class=studio-dashboard-stream-preview__video> <media-player ng-if=!$ctrl.collapsed media-type=live media-id=$ctrl.mediaId></media-player> </div> </htbx-collapsible> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2857));n(2858),t.default={bindings:{mediastatus:"=",livestream:"="},templateUrl:a.default}},function(e,t,n){var a="/src/js/studio/dashboard/components/stream-title.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<h3 class=studio-dashboard-stream-title> <span ng-if="$ctrl.mediastatus.media_is_live != 1"> {{::\'global_text_offline\' | translate}} </span> <span ng-if="$ctrl.mediastatus.media_is_live == 1"> <media-player-stream-time media=$ctrl.livestream class=studio-dashboard-stream-title__status></media-player-stream-time> <media-viewers media="{media_views: $ctrl.mediastatus.media_views, media_type_id: \'1\'}"></media-viewers> </span> </h3> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2860));t.default=a.default},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),l=a(s),c=(a(n(3)),n(227)),u=n(110),d=a(n(591)),f=a(n(2861)),p=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={settingsIsOpen:!1},a.onOpenSettings=function(){a.state.settingsIsOpen||a.setState({settingsIsOpen:!0})},a.onCloseSettings=function(){a.state.settingsIsOpen&&a.setState({settingsIsOpen:!1})},a.onClickBlacklist=function(){var e=a.props.onClickBlacklist;a.onCloseSettings(),e&&e()},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.store,n=e.newChatMessage,a=e.section,i=e.stateHref,r=e.chatOptions,s=e.chatModOptions,c=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["store","newChatMessage","section","stateHref","chatOptions","chatModOptions"]),p=this.state.settingsIsOpen;return l.default.createElement(u.Provider,{store:t},l.default.createElement(f.default,o({},c,{onOpenSettings:this.onOpenSettings,onCloseSettings:this.onCloseSettings,settingsIsOpen:p}),l.default.createElement(d.default,{onClickBlacklist:this.onClickBlacklist,newChatMessage:n,section:a,stateHref:i,chatOptions:r,chatModOptions:s,onCloseSettings:this.onCloseSettings})))}}]),t}();p.defaultProps={section:null,stateHref:null,onClickBlacklist:null},t.default=(0,c.hot)(e)(p)}).call(t,n(44)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2862));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),s=a(r),l=(a(n(3)),n(358)),c=n(26),u=a(n(614)),d=a(n(616)),f=n(2863),p=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={activityLog:!1,settingsIsOpen:!1},a.toggleSettings=function(){var e=a.props,t=e.onOpenSettings,n=e.onCloseSettings,i=a.state.settingsIsOpen;!i&&t&&t(),i&&n&&n(),a.setState({settingsIsOpen:!i})},a.toggleActivityLog=function(){var e=a.props.onTabToggle,t=a.state.activityLog;e&&e(!t),a.setState({activityLog:!t})},a.closeSettings=function(){var e=a.props.onCloseSettings;e&&e(),a.setState({settingsIsOpen:!1})},o=n,i(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),o(t,[{key:"componentWillReceiveProps",value:function(e){void 0!==e.settingsIsOpen&&e.settingsIsOpen!==this.state.settingsIsOpen&&this.setState({settingsIsOpen:e.settingsIsOpen})}},{key:"render",value:function(){var e=this,t=this.props.children,n=this.state,a=n.activityLog,i=n.settingsIsOpen;return s.default.createElement(l.Manager,null,s.default.createElement(f.StyledComponent,null,s.default.createElement(f.StyledHeader,null,s.default.createElement(f.StyledHeaderLink,{active:!a,onClick:this.toggleActivityLog},(0,c.getTranslation)("global_text_chat"))),s.default.createElement(f.StyledHeader,null,s.default.createElement(f.StyledHeaderLink,{active:a,onClick:this.toggleActivityLog},(0,c.getTranslation)("global_menu_activity-log"))),s.default.createElement(f.StyledSettings,null,s.default.createElement(l.Target,{component:u.default,innerRef:function(t){e.popperTrigger=t},onClick:this.toggleSettings}))),s.default.createElement(d.default,{trigger:this.popperTrigger,isOpen:i,onClose:this.closeSettings,placement:"bottom",modifiers:{offset:{offset:"0, 15"}},style:{width:220}},t))}}]),t}();p.defaultProps={settingsIsOpen:!1,onTabToggle:null,onOpenSettings:null,onCloseSettings:null,children:null},t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledSettings=t.StyledHeaderLink=t.StyledHeader=t.StyledComponent=void 0;var i=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        margin: 0;\n    "],["\n        margin: 0;\n    "]),o=a(n(3)),r=a(n(10)),s=n(20),l=n(40),c=(t.StyledComponent=r.default.div.withConfig({displayName:"ChatTabsstyles__StyledComponent",componentId:"an6yzk-0"})(["display:flex;margin:0 ","px;line-height:","px;",""],l.gutter,50,l.mediaQueries.greaterThan("mobile")(i)),t.StyledHeader=r.default.h3.withConfig({displayName:"ChatTabsstyles__StyledHeader",componentId:"an6yzk-1"})(["display:block;margin-bottom:0;border-bottom:0;padding-left:","px;&:first-child{padding-left:0;}"],l.gutter),t.StyledHeaderLink=r.default.a.withConfig({displayName:"ChatTabsstyles__StyledHeaderLink",componentId:"an6yzk-2"})(["position:relative;display:block;height:","px;line-height:","px;font-size:16px;font-weight:bold;color:",";white-space:nowrap;&:hover{color:",";}&:after{content:'';position:absolute;bottom:0;right:0;left:0;height:2px;background-color:",";transition:transform .2s ease-in-out;transform:scaleX(0);}",""],50,50,s.text,s.primary,s.primary,function(e){return e.active?"\n        color: "+s.primary+";\n\n        &:after {\n            transform: scaleX(1);\n        }\n    ":null}));c.propTypes={active:o.default.bool},c.defaultProps={active:!1},t.StyledSettings=r.default.div.withConfig({displayName:"ChatTabsstyles__StyledSettings",componentId:"an6yzk-3"})(["display:flex;justify-content:flex-end;align-items:center;flex:1;margin-left:10px;width:34px;height:50px;"])},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(657)),r=a(n(2865)),s=a(n(2866)),l=a(n(2869)),c=a(n(2872));t.default=i.default.module("htbx.studio.admin",[o.default]).factory("cdnService",r.default).directive("htbxStudioAdmin",s.default).component("studioAdminCdnSettings",l.default).component("htbxAdminBroadcastLog",c.default).name},function(e,t,n){"use strict";function a(e){return e(i.default.apiUri+"/delivery/cdn",{authToken:"@authToken"},{get:{method:"GET",params:{},isArray:!1},save:{method:"POST",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e,t,n,a){var i=this,o={media_name:t.user,media_type:"live",authToken:n.getToken(),showHidden:!0,liveonly:!1},r=void 0;r=e.get(o,function(e){i.media=e},a.error),i.updateMedia=function(){r.$update(o,angular.noop,a.error)}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2867));n(2868),a.$inject=["Media","$stateParams","loggedUser","$log"],t.default=function(){return{templateUrl:i.default,controller:a,controllerAs:"studioAdminCtrl"}}},function(e,t,n){var a="/src/js/studio/admin/directives/studio-admin.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <div class=studio-admin-page> <div class=studio__admin> <section class=studio__admin__settings> <div class=studio__admin__settings__transcodings ng-repeat="media in studioAdminCtrl.media.livestream track by media.media_id"> <toggle-checkbox data-dark-background=true ng-model=media.media_transcoding ng-change=studioAdminCtrl.updateMedia() label=Transcodings></toggle-checkbox> </div> <studio-admin-cdn-settings></studio-admin-cdn-settings> </section> <section class=studio__admin__log> <div class=studio__admin__log__header>Broadcast Log</div> <div ng-repeat="media in studioAdminCtrl.media.livestream track by media.media_id"> <htbx-admin-broadcast-log user-name=media.media_name></htbx-admin-broadcast-log> </div> </section> </div> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2870));n(2871);var o=function(){function e(t,n,a,i,o,r,s,l,c,u){var d=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.createOptions=function(e){return{placeholder:"cdns",connectWith:".apps-container",start:function(t,n){d.cdnList.length-1!=0||"B"!==e?(d.$scope.$apply(function(){"A"===e&&(d.listADragging=!0),"B"===e&&(d.listBDragging=!0)}),d.$log.debug("list "+e+": start")):n.item.sortable.cancel()},stop:function(){d.$scope.$apply(function(){"A"===e&&(d.listADragging=!1),"B"===e&&(d.listBDragging=!1)}),d.$log.debug("list "+e+": stop")},update:function(){1!==d.cdnList.length?d.cdnList.forEach(function(e){e.locked&&(e.locked=!1)}):d.cdnList[0].locked=!0},items:".studio__admin__settings__cdn__box__item:not(.disabled)"}},this.init=function(e){d.loading=!0,d.params={media_name:d.$stateParams.user,media_type:"live",list:"list",authToken:d.loggedUser.getToken(),nocache:!0,showHidden:!0,filter:"newfirst"},e&&(d.countries=d.countries.concat(e)),d.medias.get(d.$stateParams.user).then(function(e){d.media=e,d.params={media_id:e.media_id,authToken:d.loggedUser.getToken()},d.cdnService.get(d.params).$promise.then(function(e){if(d.cdns=e.cdns.available,d.cdnList=e.cdns.enabled,0===d.cdnList.length)return d.cdns[0].locked=!0,d.cdnList.push(d.cdns[0]),d.cdns.splice(0,1),void(d.showCdnWarning=!0);d.cdnList.forEach(function(e){e.selected_countries=[],e.cdn_countries.split(",").forEach(function(t){"*"===t?e.selected_countries.push({code:"*",name:d.$translate.instant("global_text_global")}):d.countries.forEach(function(n){t===n.code&&e.selected_countries.push(n)})})})}).catch(function(){}).finally(function(){d.loading=!1})}).catch(function(){})},Object.assign(this,{$scope:t,loggedUser:n,$state:a,cdnService:i,$stateParams:o,medias:r,DBCountryService:s,CountryService:l,$translate:c,$log:u}),this.loading=!0,this.cdnList=[{cdn_id:1,cdn_name:"hitbox RTMP (Flash)"}],this.sortingLog=[],this.countries=[{code:"*",name:"Global"}],this.sortableOptionsList=[this.createOptions("A"),this.createOptions("B")],this.DBCountryService.getCountries().then(this.init),this.showCdnWarning=!1}return e.$inject=["$scope","loggedUser","$state","cdnService","$stateParams","medias","DBCountryService","CountryService","$translate","$log"],a(e,[{key:"update",value:function(){var e=this;this.cdnList.forEach(function(e){var t="",n=[];e.selected_countries?(e.selected_countries.forEach(function(e){n.push(e.code)}),t=n.join(",")):t="*",e.cdn_countries=t});var t={available:this.cdns,enabled:this.cdnList,media_id:this.media.media_id,media_name:this.media.media_name,authToken:this.loggedUser.getToken()};this.cdnService.save(t).$promise.then(function(){e.showCdnWarning=!1,e.init()})}}]),e}();t.default={templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/studio/admin/components/studio-admin-cdn-settings.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=studio__admin__settings__cdn> <form accept-charset=UTF-8 ng-submit=$ctrl.update()> <div class=studio__admin__settings__cdn__flex-wrap> <div class=studio__admin__settings__cdn__flex-box> <div class=studio__admin__settings__cdn__header>CDNs available</div> <section class=studio__admin__settings__cdn__box> <div class=studio__admin__settings__cdn__loader ng-if=$ctrl.loading> <smash-spinny data-center=true></smash-spinny> </div> <div ui-sortable=$ctrl.sortableOptionsList[0] class=apps-container ng-class="{ \'studio__admin__settings__cdn__box--dragging\': $ctrl.listBDragging }" ng-model=$ctrl.cdns> <div class=studio__admin__settings__cdn__box__item ng-repeat="cdn in $ctrl.cdns" ng-show=!cdn.used> {{cdn.cdn_name}} </div> </div> </section> </div> <div class=studio__admin__settings__cdn__flex-box> <div class=studio__admin__settings__cdn__header>CDNs enabled</div> <section class=studio__admin__settings__cdn__box> <div class=studio__admin__settings__cdn__loader ng-if=$ctrl.loading> <smash-spinny data-center=true></smash-spinny> </div> <div ui-sortable=$ctrl.sortableOptionsList[1] class=apps-container ng-class="{ \'studio__admin__settings__cdn__box--dragging\': $ctrl.listADragging }" ng-model=$ctrl.cdnList> <div class="studio__admin__settings__cdn__box__item studio__admin__settings__cdn__box__item-enabled" ng-class="{ disabled: cdn.locked }" ng-repeat="cdn in $ctrl.cdnList" ng-if=cdn.cdn_id> {{cdn.cdn_name}} <ui-select multiple=multiple ng-model=cdn.selected_countries theme=select2 append-to-body=false> <ui-select-match placeholder=Country>{{$item.name}}</ui-select-match> <ui-select-choices repeat="country in $ctrl.countries | propsFilter: {name: $select.search}"> <div value={{country}}>{{country.name}}</div> </ui-select-choices> </ui-select> </div> </div> </section> </div> </div> <htbx-alert ng-if=$ctrl.showCdnWarning data-alert-title="No enabled CDNs" data-type=error data-size=small> This user doesn\'t have any enabled CDNs! Please click the save button to save the default CDN and / or add more CDNs if needed! </htbx-alert> <htbx-button data-type=submit data-variant=ok data-disabled="$ctrl.cdnList.length === 0 || $ctrl.loading"> {{::\'global_button_save\' | translate}} </htbx-button> </form> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e,t,n){var a=this;a.$onInit=function(){!function(){var i={authToken:t.getToken(),channel:a.userName};e.get(i,function(e){a.logs=e.log},n.error)}()},a.logs=null}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2873));n(2874),a.$inject=["AdminBroadcastLog","loggedUser","$log"],t.default={bindings:{userName:"<"},templateUrl:i.default,controller:a}},function(e,t,n){var a="/src/js/studio/admin/components/broadcast-log.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class=broadcast-log> <ul class=broadcast-log__header> <li> <div style=width:20%>Date</div> <div style=width:10%>resolution</div> <div style=width:8%>vbitrate</div> <div style=width:11%>abitrate</div> <div style=width:6%>vcodec</div> <div style=width:6%>acodec</div> <div style=width:6%>profile</div> <div style=width:7%>level</div> <div style=width:5%>fps</div> <div style=width:5%>kf</div> <div style=width:11%>host</div> <div style=width:5%>loc</div> </li> </ul> <ul class=broadcast-log__content> <li ng-repeat="log in $ctrl.logs track by $index"> <div class=studio__admin__log__content__date style=width:20%>{{::log.log_date}}</div> <div style=width:10%>{{::log.width}}x{{::log.height}}&nbsp;</div> <div style=width:8%>{{::log.vbitrate}}&nbsp;</div> <div style=width:11%>{{::log.abitrate}}&nbsp;</div> <div style=width:6%>{{::log.vcodec}}&nbsp;</div> <div style=width:6%>{{::log.acodec}}&nbsp;</div> <div style=width:6%>{{::log.profile}}&nbsp;</div> <div style=width:7%>{{::log.level}}&nbsp;</div> <div style=width:5%>{{::log.fps}}&nbsp;</div> <div style=width:5%>{{::log.kf_interval}}&nbsp;</div> <div style=width:11%>{{::log.hostname}}&nbsp;</div> <div style=width:5%>{{::log.location}}&nbsp;</div> </li> </ul> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0,t=null,n=!1;this.cancelConfirm=function(){e=0,t=null,n=!1},this.getConfirmType=function(){return t},this.isConfirmWaiting=function(t){return e===t||n},this.openConfirm=function(a,i){a?e=a:n=!0,t=i}}},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/recordings/:user_name",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",isArray:!1},update:{method:"PUT",params:t,isArray:!1},delete:{method:"DELETE",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e,t,n,a){return{progressInterval:[],transcodeProgressInit:function(e){this.transcodeProgressCheck(e),this.startProgressTimer(e)},startProgressTimer:function(t){var n=this;this.progressInterval[t]=e(function(){n.transcodeProgressCheck(t),n.startProgressTimer(t)},1e4)},transcodeProgressCheck:function(t){if(!t)return Promise.reject();var i=t,o=n.defer(),r=o.promise;if(1===parseInt(i.media_uploaded,10)&&1===parseInt(i.media_processing,10)){var s={token:i.media_file,duration:i.media_duration};a.get(s,function(n){(n.percent>=100||"end"===n.progress)&&(n.percent=100,e.cancel(self.progressInterval[i]),o.resolve()),t.media_progress=parseInt(n.percent,10)})}return r}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,a.$inject=["$timeout","medias","$q","MediaTranscodeProgress"]},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/ws/combreak/:channel/:count",{channel:"@channel",count:"@count"},{trigger:{method:"POST",params:t,isArray:!1},last:{method:"GET",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/media/share/youtube/:media_id",{media_id:"@media_id",showHidden:!0},{get:{method:"GET",params:t,isArray:!1},upload:{method:"POST",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e(i.default.uploadApiUri+"/mediatranscoderlog/:token",{token:"@token"},{get:{method:"GET",params:{},isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/gameaccounts/:user_name",{user_name:"@user_name",authToken:"@authToken"},{get:{method:"GET",params:t,isArray:!1},post:{method:"POST",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"],t.default=a},function(e,t,n){"use strict";function a(e){return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=void 0;o=(t=i.default.duration(parseFloat(t,10),a?"hours":"seconds")).asHours()<1?a?"m[m] ":"mm":a?"H[h] m[m] ":"HH:mm",n&&(o=a?o+"s[s]":o+":ss");var r=t.format(o,{trim:!1});return a?r.replace(/(\d+)h/,function(t,n){return e(parseInt(n,10),0)+"h"}):r}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(5));n(2883),a.$inject=["numberFilter"]},function(e,t,n){!function(e,t){function a(e){var t="";if(!(e=parseInt(e,10))||e<1)return t;for(;e;)t+="0",e-=1;return t}function i(e,t,n){return null==e&&(e=""),e=""+e,(n?e:"")+a(t-e.length)+(n?"":e)}function o(e,t){var n,a=0,i=e.length;for("function"!=typeof t&&(n=t,t=function(e){return e===n});a<i;){if(t(e[a]))return e[a];a+=1}}function r(e,t){var n=0,a=e.length;if(e&&a)for(;n<a;){if(!1===t(e[n],n))return;n+=1}}function s(e,t){var n=0,a=e.length,i=[];if(!e||!a)return i;for(;n<a;)i[n]=t(e[n],n),n+=1;return i}function l(e,t){return s(e,function(e){return e[t]})}function c(e){var t=[];return r(e,function(e){o(t,e)||t.push(e)}),t}function u(e,t){var n=[];return r(e,function(a,i){if(!t(a))return n=e.slice(i),!1}),n}function d(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var f;try{f=n(5)}catch(e){}if(!f&&e.moment&&(f=e.moment),!f)throw"Moment Duration Format cannot find Moment.js";f.duration.fn.format=function(){var e,t,n,p,m,h,g=[].slice.call(arguments),_=d({},this.format.defaults),v=f.duration(this);return _.duration=this,r(g,function(e){"string"!=typeof e&&"function"!=typeof e?"number"!=typeof e?function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)&&d(_,e):_.precision=e:_.template=e}),n=_.types=function(e){return"[object Array]"===Object.prototype.toString.call(e)}(_.types)?_.types:_.types.split(" "),"function"==typeof _.template&&(_.template=_.template.apply(_)),e=new RegExp(s(n,function(e){return _[e].source}).join("|"),"g"),p=function(e){return o(n,function(t){return _[t].test(e)})},t=s(_.template.match(e),function(e,t){var n=p(e);return{index:t,length:e.length,token:"escape"===n?e.replace(_.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}}),(m=function(e,t){var n=[];return r(e,function(e){r(t,function(t){e===t&&n.push(e)})}),c(n)}(n,c(function(e){var t=[];return r(e,function(e){e&&t.push(e)}),t}(l(t,"type"))))).length?(r(m,function(e,n){var a,i,o,s,l;a=v.as(e),i=a>0?Math.floor(a):Math.ceil(a),o=a-i,s=n+1===m.length,l=!n,r(t,function(t){t.type===e&&(d(t,{value:a,wholeValue:i,decimalValue:o,isLeast:s,isMost:l}),l&&null==_.forceLength&&t.length>1&&(_.forceLength=!0))}),v.subtract(i,e)}),_.trim&&(t=("left"===_.trim?u:function(e,t){return u(e.slice().reverse(),t).reverse()})(t,function(e){return!(e.isLeast||null!=e.type&&e.wholeValue)})),h=!1,"right"===_.trim&&t.reverse(),t=s(t,function(e){var t,n;if(!e.type)return e.token;if(t=e.isLeast&&_.precision<0?(Math.floor(e.wholeValue*Math.pow(10,_.precision))*Math.pow(10,-_.precision)).toString():e.wholeValue.toString(),t=t.replace(/^\-/,""),e.length>1&&(h||e.isMost||_.forceLength)&&(t=i(t,e.length)),e.isLeast&&_.precision>0)switch((n=e.decimalValue.toString().replace(/^\-/,"").split(/\.|e\-/)).length){case 1:t+="."+i(n[0],_.precision,!0).slice(0,_.precision);break;case 2:t+="."+i(n[1],_.precision,!0).slice(0,_.precision);break;case 3:t+="."+i(a(+n[2]-1)+(n[0]||"0")+n[1],_.precision,!0).slice(0,_.precision);break;default:throw"Moment Duration Format: unable to parse token decimal value."}return e.isMost&&e.value<0&&(t="-"+t),h=!0,t}),"right"===_.trim&&t.reverse(),t.join("")):l(t,"token").join("")},f.duration.fn.format.defaults={escape:/\[(.+?)\]/,years:/[Yy]+/,months:/M+/,weeks:/[Ww]+/,days:/[Dd]+/,hours:/[Hh]+/,minutes:/m+/,seconds:/s+/,milliseconds:/S+/,general:/.+?/,types:"escape years months weeks days hours minutes seconds milliseconds general",trim:"left",precision:0,forceLength:null,template:function(){var e=this.types,t=this.duration;switch(function(e,t){for(var n=e.length;n-=1;)if(function(e){return t._data[e]}(e[n]))return e[n]}(e)){case"seconds":return"h:mm:ss";case"minutes":return"d[d] h:mm";case"hours":return"d[d] h[h]";case"days":return"M[m] d[d]";case"weeks":return"y[y] w[w]";case"months":return"y[y] M[m]";case"years":return"y[y]";default:return"y[y] M[m] d[d] h:mm:ss"}}}}(this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){return function(t,n){var a=t.match(new RegExp("^"+e,"i"))||[],i=n.match(new RegExp("^"+e,"i"))||[];return a.length!==i.length?i.length-a.length:t>n?1:-1}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(5));t.default=function(){return function(e){return a.default.utc(e).local().format("MMMM D, YYYY HH:mm")}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(5)),o=a(n(684));t.default=function(){return function(e){return e=parseInt(e,10),(0,o.default)(e)?"":i.default.duration(e,"seconds").humanize()}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(11)),r=a(n(2888)),s=function(){function e(t,n,a,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.redirectOnAbstractState=function(){o.$state.is("studio")&&o.$state.go("studio.dashboard",{user:o.userName}),o.setLayout()},this.$state=t,this.$scope=n,this.$stateParams=a,this.loggedUser=i,this.userName=this.$stateParams.user||this.loggedUser.getName(),n.$on("$stateChangeSuccess",this.redirectOnAbstractState),this.redirectOnAbstractState()}return e.$inject=["$state","$scope","$stateParams","loggedUser"],i(e,[{key:"setLayout",value:function(){this.layoutVariant=this.$state.current.layoutVariant?this.$state.current.layoutVariant:"",this.layoutPage=this.$state.current.layoutPage?this.$state.current.layoutPage:"",this.layoutDesign=this.$state.current.layoutDesign?this.$state.current.layoutDesign:"",this.layoutShowFooter=!!(0,o.default)(this.$state.current.layoutShowFooter)||this.$state.current.layoutShowFooter,this.layoutHideNavigation=!(0,o.default)(this.$state.current.layoutHideNavigation)&&this.$state.current.layoutHideNavigation}}]),e}();t.default={templateUrl:r.default,controller:s}},function(e,t,n){var a="/src/js/studio/components/studio-page.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-layout data-design={{$ctrl.layoutDesign}} data-page={{$ctrl.layoutPage}} data-variant={{$ctrl.layoutVariant}} data-show-footer=$ctrl.layoutShowFooter> <htbx-layout-navigation ng-if=!$ctrl.layoutHideNavigation> <htbx-sub-nav data-active-section={{$root.section}}></htbx-sub-nav> </htbx-layout-navigation> <htbx-layout-content ui-view autoscroll></htbx-layout-content> </htbx-layout> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,r,d,f,p){var m=this;this.$rootScope=e,this.$stateParams=n,this.$translate=a,this.$log=i,this.loggedInUserService=r,this.mediaFactory=d,this.mediasService=f,this.stateUserName=n.user,this.hasLivestream=!1,this.isPartner=!1,this.step=0,this.loading=!1,this.error={msg:""},this.data={reSentInformation:"",loading:!0,emailVerified:!0},this.logos={obsStudio:l.default,avermedia:s.default,xsplitBroadcaster:c.default,xsplitGamecaster:u.default},this.$onInit=function(){var e={user:n.user};p.get(e,function(e){m.step=1,m.data.emailVerified=!((0,o.default)(e)||"1"!==e.user.user_activated),m.data.emailVerified?f.get(n.user).then(function(e){e?(e&&(m.hasLivestream=!0),e&&null!==e.channel.partner_type&&(m.isPartner=!0),m.hasLivestream&&m.isPartner?t.go("studio.dashboard"):m.hasLivestream&&!m.isPartner&&(m.livestream=e,m.step=4)):m.step=3}).catch(function(e){404===e.status&&(m.step=3)}):(m.data.loading=!1,m.step=2)},function(){m.step=1,m.data.loading=!1,m.error.msg=a.instant("global_error_try-again")})},this.resendEmail=function(){var e={user:n.user,authToken:r.getToken(),return:t.href(t.current.name,t.params),title:a.instant("component_unverified-email_email-verification")};p.resendVerificationEmail(e,function(){m.data.reSentInformation=a.instant("view_earnings-settings_text_sent-email")})}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(11)),r=a(n(16)),s=a(n(624)),l=a(n(625)),c=a(n(626)),u=a(n(627));n(2890);var d=a(n(2891));i.$inject=["$rootScope","$state","$stateParams","$translate","$log","loggedUser","Media","medias","UserVerification"],i.prototype.createLivestream=function(){var e=this,t=this,n={user_name:this.$stateParams.user,authToken:this.loggedInUserService.getToken(),media_type:"live",media_description:"",media_status:this.$translate.instant("view_dashboard_text_first-livestream"),media_name:this.$stateParams.user,media_category_id:""};this.loading=!0,this.error.msg="",this.mediaFactory.create(n,function(e){t.step+=1,t.loading=!1,t.livestream={media_name:t.loggedInUserService.getName().toLowerCase(),media_key:e.media_key},r.default.set("user.hasLiveStream",!0)},function(n){e.$log.error(n),t.error.msg=t.$translate.instant("global_error_try-again"),t.loading=!1})},t.default={bindings:{},templateUrl:d.default,transclude:!0,controller:i}},function(e,t){},function(e,t,n){var a="/src/js/studio/components/livestream-setup.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=livestream-setup> <section class=livestream-setup__section ng-if=\"$ctrl.step === 1 && !$ctrl.data.loading\"> <htbx-alert ng-if=$ctrl.error.msg type=error> {{$ctrl.error.msg}} </htbx-alert> </section> <section class=\"livestream-setup__section hitbox-alert hitbox-alert--warning\" ng-if=\"$ctrl.step === 2 && !$ctrl.data.loading\"> <div ng-if=!$ctrl.data.emailVerified> <div class=hitbox-alert__title> {{::'view_earnings-settings_text_verify-email' | translate}} </div> <div class=hitbox-alert__message> {{::'view_earnings-settings_text_check-email' | translate}} </div> <br/> <button ng-if=!$ctrl.data.reSentInformation ng-click=$ctrl.resendEmail() class=\"button button--size-default button--ok\"> {{::'view_earnings-settings_button_resend-verification-email' | translate}} </button> </div> <div class=box-header> {{$ctrl.data.reSentInformation}} </div> </section> <section class=\"livestream-setup__section livestream-setup__welcome box\" ng-if=\"$ctrl.step === 3\"> <h1 class=livestream-setup__welcome__title> {{'view_livestream-setup_header_welcome' | translate}} </h1> <div class=livestream-setup__welcome__text> <p>{{'view_livestream-setup_text_welcome-1' | translate}}</p> <p>{{'view_livestream-setup_text_welcome-2' | translate}}</p> </div> <htbx-button data-variant=ok data-loading=$ctrl.loading data-on-select=$ctrl.createLivestream() class=livestream-setup__welcome__button> {{::'global_button_continue' | translate}} ... </htbx-button> <htbx-alert ng-if=$ctrl.error.msg type=error> {{$ctrl.error.msg}} </htbx-alert> </section> <section ng-if=\"$ctrl.step === 4\" class=livestream-setup__setup> <htbx-page-title> {{:: 'view_livestream-setup_header_setup-app' | translate}} <p> {{:: 'view_livestream-setup_header_noob' | translate}} <a href=https://help.smashcast.tv/customer/en/portal/topics/1065839 target=_blank rel=noopener> {{:: 'global_text_read-this' | translate}} </a> </p> </htbx-page-title> <div class=box> <div class=box__title> {{:: 'view_livestream-setup_header_get-app' | translate}} <a class=livestream-setup__setup-info__header__help ng-href=\"{{:: 'link_help-article_livestream-setup' | translate}}\" target=_blank rel=noopener> <smash-icon icon=question size=20></smash-icon> {{:: 'global_text_help' | translate}} </a> </div> <ul class=box__content> <li class=box__row> <htbx-broadcast-tool data-title=\"OBS Studio\" data-urls=\"{\n                            image: $ctrl.logos.obsStudio,\n                            cta: 'https://obsproject.com/download',\n                            setup: 'https://help.smashcast.tv/customer/en/portal/articles/2780022-obs-studio-setup',\n                            project: 'https://obsproject.com',\n                        }\"> </htbx-broadcast-tool> </li> <li class=box__row> <htbx-broadcast-tool data-title=\"XSplit Gamecaster\" data-urls=\"{\n                            image: $ctrl.logos.xsplitGamecaster,\n                            cta: 'https://www.xsplit.com/hitbox/signup',\n                            setup: 'https://help.smashcast.tv/customer/en/portal/articles/2780025-xsplit-setup',\n                            project: 'https://www.xsplit.com',\n                        }\"> </htbx-broadcast-tool> </li> <li class=box__row> <htbx-broadcast-tool data-title=\"XSplit Broadcaster\" data-urls=\"{\n                            image: $ctrl.logos.xsplitBroadcaster,\n                            cta: 'https://www.xsplit.com/hitbox/signup',\n                            setup: 'https://help.smashcast.tv/customer/en/portal/articles/2780025-xsplit-setup',\n                            project: 'https://www.xsplit.com',\n                        }\"> </htbx-broadcast-tool> </li> <li class=box__row> <htbx-broadcast-tool data-title=\"AVerMedia Live Gamer Extreme\" data-cta=Get data-urls=\"{\n                            image: $ctrl.logos.avermedia,\n                            cta: 'http://www.avermedia.com/gaming/product/game_capture/live_gamer_extreme',\n                            setup: 'https://help.smashcast.tv/customer/en/portal/articles/2780258-avermedia-recentral-v1-setup',\n                            project: 'http://www.avermedia.com',\n                        }\"> </htbx-broadcast-tool> </li> </ul> </div> <div class=\"livestream-setup__setup-info box\"> <div class=box__title> {{::'view_livestream-setup_text_configure-manually' | translate}} <a class=livestream-setup__setup-info__header__help ng-href=\"{{:: 'link_help-article_livestream-setup' | translate}}\" target=_blank rel=noopener> <smash-icon icon=question size=20></smash-icon> {{:: 'global_text_help' | translate}} </a> </div> <div class=box__content> <div class=\"box__row livestream-setup__setup-info__options\"> <dl class=livestream-setup__setup-info__option> <dt class=livestream-setup__setup-info__option__label><abbr title=\"Constant Bit Rate\">CBR</abbr> </dt> <dd class=livestream-setup__setup-info__option__value>ON</dd> </dl> <dl class=livestream-setup__setup-info__option> <dt class=livestream-setup__setup-info__option__label>Keyframe Interval</dt> <dd class=livestream-setup__setup-info__option__value>2</dd> </dl> <dl class=livestream-setup__setup-info__option> <dt class=livestream-setup__setup-info__option__label>Audio Codec</dt> <dd class=livestream-setup__setup-info__option__value>AAC</dd> </dl> <dl class=livestream-setup__setup-info__option> <dt class=livestream-setup__setup-info__option__label>Preset</dt> <dd class=livestream-setup__setup-info__option__value>veryfast</dd> </dl> </div> </div> </div> <div class=box> <div class=box__title> {{::'view_livestream-settings_label_stream-key' | translate}} </div> <div class=\"box__content ingest-info\"> <htbx-settings-stream-ingest media=$ctrl.livestream with-generate=false></htbx-settings-stream-ingest> </div> </div> <div class=livestream-setup__setup__buttons> <div> <a ui-sref=\"studio.dashboard({ user: $ctrl.stateUserName})\" class=\"button button--size-default\"> {{::'global_button_continue' | translate}} </a> </div> </div> </section> </div> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(){this.templateUrlMediaDelay=s.default,(0,o.default)(this.delay)&&(this.delay=0),(0,o.default)(this.disabled)&&(this.disabled=!1)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(11)),r=a(n(2893)),s=a(n(2894));n(2895),i.prototype.updateDelay=function(e){this.disabled||this.onChange&&this.onChange({delay:e})},t.default={bindings:{disabled:"<?",delay:"<?",onChange:"&?"},templateUrl:r.default,controller:i}},function(e,t,n){var a="/src/js/studio/components/media-delay-settings.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=media-delay-settings ng-class=\"{\n        'media-delay-settings--is-disabled': $ctrl.disabled,\n    }\"> <div class=media-delay-settings__input> <button generic-popover gp-width=150 gp-template-url={{::$ctrl.templateUrlMediaDelay}} gp-position=bottom gp-classes='[\"nono\"]' gp-on=click class=\"button button--size-default button--variant-default\"> <span class=media-delay-settings__input__text> {{($ctrl.delay > 0) ? ($ctrl.delay / 60) + ' min' : 'No delay'}} </span> <span class=media-delay-settings__input__icon> <smash-icon icon=arrow-down size=16 center=true></smash-icon> </span> </button> </div> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/studio/views/media-delay-list.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<ul class=navigation> <li class=navigation__item> <a class=navigation__item__link ng-click=\"$ctrl.updateDelay(0); remove_tooltip()\"> {{:: 'global_link_no-delay' | translate }} </a> </li> <li class=navigation__item> <a class=navigation__item__link ng-click=\"$ctrl.updateDelay(60); remove_tooltip()\"> 1 {{:: 'global_text_minutes' | translate }} </a> </li> <li class=navigation__item> <a class=navigation__item__link ng-click=\"$ctrl.updateDelay(120); remove_tooltip()\"> 2 {{:: 'global_text_minutes' | translate }} </a> </li> <li class=navigation__item> <a class=navigation__item__link ng-click=\"$ctrl.updateDelay(300); remove_tooltip()\"> 5 {{:: 'global_text_minutes' | translate }} </a> </li> <li class=navigation__item> <a class=navigation__item__link ng-click=\"$ctrl.updateDelay(600); remove_tooltip()\"> 10 {{:: 'global_text_minutes' | translate }} </a> </li> <li class=navigation__item> <a class=navigation__item__link ng-click=\"$ctrl.updateDelay(900); remove_tooltip()\"> 15 {{:: 'global_text_minutes' | translate }} </a> </li> <li class=navigation__item> <a class=navigation__item__link ng-click=\"$ctrl.updateDelay(1800); remove_tooltip()\"> 30 {{:: 'global_text_minutes' | translate }} </a> </li> </ul> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){e.state("styleguide",{url:"/styleguide",resolve:{superAdmin:["$state","loggedUser",function(e,t){return t.isSuperAdmin()?Promise.resolve():(e.go("home.root"),Promise.reject())}]},views:{"viewMain@":{templateUrl:p.default,controller:["$state","$scope",function(e,t){function n(){e.is("styleguide")&&e.go("styleguide.branding"),a.layoutVariant=e.current.layoutVariant?e.current.layoutVariant:"",a.layoutPage=e.current.layoutPage?e.current.layoutPage:"",a.layoutDesign=e.current.layoutDesign?e.current.layoutDesign:"",a.layoutShowFooter=!!(0,l.default)(e.current.layoutShowFooter)||e.current.layoutShowFooter}var a=this;t.$on("$stateChangeSuccess",n),n()}],controllerAs:"styleguideCtrl"}},parent:"nav",section:"styleguide"}).state("styleguide.branding",{url:"/branding",section:"branding",views:o({state:"styleguide.branding",stateRedirectTo:"styleguide.branding.logo"})}).state("styleguide.branding.logo",{url:"/logo",section:"branding",template:"<smash-logo-styleguide></smash-logo-styleguide>"}).state("styleguide.branding.colors",{url:"/colors",section:"branding",template:"<smash-colors-styleguide></smash-colors-styleguide>"}).state("styleguide.branding.fonts",{url:"/fonts",section:"branding",template:"<smash-fonts-styleguide></smash-fonts-styleguide>"}).state("styleguide.branding.cta-banner",{url:"/cta-banner",section:"branding",template:"<div ng-include=\"'"+m.default+"'\"></div>"}).state("styleguide.browse",{url:"/browse",section:"browse",views:o({state:"styleguide.browse",stateRedirectTo:"styleguide.browse.links"})}).state("styleguide.sg-chat",{url:"/sg-chat",section:"sg-chat",views:o({state:"styleguide.sg-chat",stateRedirectTo:"styleguide.sg-chat.user-card"})}).state("styleguide.sg-chat.user-card",{url:"/user-card",section:"sg-chat",template:"<div ng-include=\"'"+h.default+"'\"></div>"}).state("styleguide.feed",{url:"/feed",section:"feed",views:o({state:"styleguide.feed",stateRedirectTo:"styleguide.feed.header"})}).state("styleguide.feed.header",{url:"/header",section:"feed",template:"<div ng-include=\"'"+_.default+"'\"></div>"}).state("styleguide.feed.item",{url:"/item",section:"feed",template:"<div ng-include=\"'"+g.default+"'\"></div>"}).state("styleguide.feed.new-item",{url:"/new-item",section:"feed",template:"<div ng-include=\"'"+v.default+"'\"></div>"}).state("styleguide.device",{url:"/device",section:"device",views:o({state:"styleguide.device",stateRedirectTo:"styleguide.device.device-check"})}).state("styleguide.device.device-check",{url:"/device-check",section:"device",template:"<div ng-include=\"'"+b.default+"'\"></div>"}).state("styleguide.follow",{url:"/follow",section:"follow",views:o({state:"styleguide.follow",stateRedirectTo:"styleguide.follow.follow-button"})}).state("styleguide.follow.follow-button",{url:"/follow-button",section:"follow",template:"<div ng-include=\"'"+y.default+"'\"></div>"}).state("styleguide.icons",{url:"/icons",section:"icons",views:o({state:"styleguide.icons",stateRedirectTo:"styleguide.icons.smashcast-icons"})}).state("styleguide.icons.smashcast-icons",{url:"/smashcast-icons",section:"icons",template:'<smash-icons-styleguide data-icons="$ctrl.icons"></smash-icons-styleguide>',controller:function(){this.icons=c.ICONS_NAMES},controllerAs:"$ctrl"}).state("styleguide.language",{url:"/language",section:"language",views:o({state:"styleguide.language",stateRedirectTo:"styleguide.language.language-menu"})}).state("styleguide.language.language-menu",{url:"/language-menu",section:"language",template:"<div ng-include=\"'"+w.default+"'\"></div>"}).state("styleguide.language.language-switch",{url:"/language-switch",section:"language",template:"<div ng-include=\"'"+$.default+"'\"></div>"}).state("styleguide.ui-elements",{url:"/ui-elements",section:"ui-elements",views:o({state:"styleguide.ui-elements",stateRedirectTo:"styleguide.ui-elements.alert"})}).state("styleguide.ui-elements.alert",{url:"/alert",section:"ui-elements",template:"<div ng-include=\"'"+x.default+"'\"></div>"}).state("styleguide.ui-elements.app-links",{url:"/app-links",section:"ui-elements",template:"<div ng-include=\"'"+k.default+"'\"></div>"}).state("styleguide.ui-elements.button",{url:"/button",section:"ui-elements",template:"<div ng-include=\"'"+S.default+"'\"></div>"}).state("styleguide.ui-elements.button-close",{url:"/button-close",section:"ui-elements",template:"<div ng-include=\"'"+C.default+"'\"></div>"}).state("styleguide.ui-elements.button-csv",{url:"/button-csv",section:"ui-elements",template:"<div ng-include=\"'"+M.default+"'\"></div>"}).state("styleguide.ui-elements.button-remove",{url:"/button-remove",section:"ui-elements",template:"<div ng-include=\"'"+E.default+"'\"></div>"}).state("styleguide.ui-elements.button-show-more",{url:"/button-show-more",section:"ui-elements",template:"<div ng-include=\"'"+T.default+"'\"></div>"}).state("styleguide.ui-elements.checkboxes",{url:"/checkboxes",section:"ui-elements",template:"<div ng-include=\"'"+P.default+"'\"></div>"}).state("styleguide.ui-elements.collapsible",{url:"/collapsible",section:"ui-elements",template:"<div ng-include=\"'"+O.default+"'\"></div>"}).state("styleguide.ui-elements.inputs",{url:"/inputs",section:"ui-elements",template:"<div ng-include=\"'"+j.default+"'\"></div>"}).state("styleguide.ui-elements.input-group",{url:"/input-group",section:"ui-elements",template:"<div ng-include=\"'"+A.default+"'\"></div>"}).state("styleguide.ui-elements.loaders",{url:"/loaders",section:"ui-elements",template:"<div ng-include=\"'"+I.default+"'\"></div><smash-spinny-styleguide></smash-spinny-styleguide>"}).state("styleguide.ui-elements.page-title",{url:"/page-title",section:"ui-elements",template:"<div ng-include=\"'"+L.default+"'\"></div>"}).state("styleguide.ui-elements.pagination",{url:"/pagination",section:"ui-elements",template:"<smash-carousel-pagination-styleguide></smash-carousel-pagination-styleguide>"}).state("styleguide.ui-elements.radiobutton",{url:"/radiobutton",section:"ui-elements",template:"<div ng-include=\"'"+U.default+"'\"></div>"}).state("styleguide.ui-elements.table",{url:"/table",section:"ui-elements",template:"<div ng-include=\"'"+D.default+"'\"></div>",controller:function(){this.itemTpl=N.default},controllerAs:"$ctrl"}).state("styleguide.hashtags",{url:"/home",section:"home",views:o({state:"styleguide.hashtags",stateRedirectTo:"styleguide.hashtags.hashtag-list"})}).state("styleguide.hashtags.hashtag-list",{url:"/hashtag-list",section:"hashtags",template:"<div ng-include=\"'"+R.default+"'\"></div>"}).state("styleguide.search",{url:"/search",section:"search",views:o({state:"styleguide.search",stateRedirectTo:"styleguide.search.search-input"})}).state("styleguide.search.search-input",{url:"/search-input",section:"search",template:"<div ng-include=\"'"+F.default+"'\"></div>"}).state("styleguide.search.search-results",{url:"/app-links",section:"search",template:"<div ng-include=\"'"+B.default+"'\"></div>"})}function o(e){function t(e,t){function i(){t.is(n)&&t.go(a)}e.$on("$stateChangeSuccess",i),i()}t.$inject=["$scope","$state"];var n=e.state,a=e.stateRedirectTo;return{"viewMain@":{templateUrl:p.default,controller:t}}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),s=a(n(102)),l=a(n(11)),c=n(451),u=a(n(189)),d=a(n(2897)),f=a(n(2899)),p=a(n(2901)),m=a(n(2902)),h=a(n(2903)),g=a(n(2904)),_=a(n(2905)),v=a(n(2906)),b=a(n(2907)),y=a(n(2908)),w=a(n(2909)),$=a(n(2910)),x=a(n(2911)),k=a(n(2912)),S=a(n(2913)),C=a(n(2914)),M=a(n(2915)),E=a(n(2916)),T=a(n(2917)),P=a(n(2918)),O=a(n(2919)),j=a(n(2920)),A=a(n(2921)),I=a(n(2922)),L=a(n(2923)),U=a(n(2924)),D=a(n(2925)),N=a(n(2926)),R=a(n(2927)),F=a(n(2928)),B=a(n(2929));n(2930),i.$inject=["$stateProvider"],t.default=r.default.module("htbx.styleguide",[s.default,u.default]).component("htbxStyleguideNavigation",d.default).directive("htbxStyleguideMobileNav",["reactDirective",function(e){return e(f.default,["stateCurrentName","stateHref","stateIncludes","modules"])}]).config(i).name},function(e,t,n){"use strict";function a(e){this.$state=e,this.modules=[{title:"Branding",route:"branding",components:[{title:"Logo",route:"logo"},{title:"Colors",route:"colors"},{title:"Fonts",route:"fonts"},{title:"CTA-Banner",route:"cta-banner"}]},{title:"Chat",route:"sg-chat",components:[{title:"User-Card",route:"user-card"}]},{title:"Device",route:"device",components:[{title:"Device-Check",route:"device-check"}]},{title:"Feed",route:"feed",components:[{title:"Header",route:"header"},{title:"Item",route:"item"},{title:"New Item",route:"new-item"}]},{title:"Follow",route:"follow",components:[{title:"Follow-Button",route:"follow-button"}]},{title:"Hashtags",route:"hashtags",components:[{title:"Hashtag-List",route:"hashtag-list"}]},{title:"Icons",route:"icons",components:[{title:"Smashcast-Icons",route:"smashcast-icons"}]},{title:"Language",route:"language",components:[{title:"Language-Menu",route:"language-menu"},{title:"Language-Switch",route:"language-switch"}]},{title:"Search",route:"search",components:[{title:"Search Input",route:"search-input"},{title:"Search Results",route:"search-results"}]},{title:"UI Elements",route:"ui-elements",components:[{title:"Alert",route:"alert"},{title:"App-Links",route:"app-links"},{title:"Buttons",route:"button"},{title:"Button-Close",route:"button-close"},{title:"Button-CSV",route:"button-csv"},{title:"Button-Remove",route:"button-remove"},{title:"Button-Show-More",route:"button-show-more"},{title:"Checkboxes",route:"checkboxes"},{title:"Collapsible",route:"collapsible"},{title:"Inputs",route:"inputs"},{title:"Input Group",route:"input-group"},{title:"Loaders",route:"loaders"},{title:"Page Title",route:"page-title"},{title:"Pagination",route:"pagination"},{title:"Radiobutton",route:"radiobutton"},{title:"Table",route:"table"}]}]}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2898));a.$inject=["$state"],t.default={bindings:{activeSection:"@?"},templateUrl:i.default,controller:a}},function(e,t,n){var a="/src/js/styleguide/components/styleguide-navigation.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <device-check show-if-mobile=true show-if-tablet=false show-if-desktop=false> <htbx-styleguide-mobile-nav data-state-current-name=$ctrl.$state.current.name data-state-href=$ctrl.$state.href data-state-includes=$ctrl.$state.includes data-modules=$ctrl.modules></htbx-styleguide-mobile-nav> </device-check> <device-check show-if-mobile=false show-if-tablet=true show-if-desktop=true> <div class=\"sub-nav sub-nav--variant-default\"> <htbx-sub-nav-section data-is-active=\"$ctrl.activeSection === module.route\" data-router-ui-sref=\"'styleguide.' + module.route\" ng-repeat=\"module in $ctrl.modules\"> <htbx-sub-nav-section-category> {{module.title}} </htbx-sub-nav-section-category> <htbx-sub-nav-section-content> <ul class=sub-nav__section> <li ng-repeat=\"component in module.components\" ng-class=\"[\n                        'sub-nav__item',\n                        {\n                            'sub-nav__item--is-active': $ctrl.$state.is('styleguide.' + module.route + '.' + component.route),\n                        },\n                    ]\"> <a ui-sref=\"{{'styleguide.' + module.route + '.' + component.route}}\" class=sub-nav__link> {{component.title}} </a> </li> </ul> </htbx-sub-nav-section-content> </htbx-sub-nav-section> </div> </device-check> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2900));t.default=a.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=(a(n(3)),a(n(139))),r=a(n(188)),s=function(e){var t=e.stateCurrentName,n=e.stateIncludes,a=e.stateHref,s=e.modules;return i.default.createElement("div",null,i.default.createElement(o.default,null,s.map(function(e){var t="styleguide."+e.route;return i.default.createElement(r.default,{key:t,href:a(t),isActive:n(t)},e.title)})),s.map(function(e){return n("styleguide."+e.route)?i.default.createElement(o.default,null,e.components.map(function(n){var o="styleguide."+e.route+"."+n.route;return i.default.createElement(r.default,{key:o,href:a(o),isActive:t===o},n.title)})):null}))};s.defaultProps={stateCurrentName:null,stateHref:null,stateIncludes:null,modules:[]},t.default=s},function(e,t,n){var a="/src/js/styleguide/views/styleguide-page.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-layout data-design={{styleguideCtrl.layoutDesign}} data-page={{styleguideCtrl.layoutPage}} data-variant={{styleguideCtrl.layoutVariant}} data-show-footer=styleguideCtrl.layoutShowFooter> <htbx-layout-navigation> <htbx-styleguide-navigation data-active-section={{$root.section}}></htbx-styleguide-navigation> </htbx-layout-navigation> <htbx-layout-content ui-view autoscroll></htbx-layout-content> </htbx-layout> ")}]),e.exports=a},function(e,t,n){var a="/src/js/branding/call-to-action-banner/call-to-action-banner.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <section class=styleguide> <h1 class=styleguide__title>Call To Action Banner</h1> <div class=styleguide__row> <call-to-action-banner> Lorem Ipsum </call-to-action-banner> <pre>\n            <code class=language-html>\n                &lt;call-to-action-banner&gt;\n                    Lorem Ipsum\n                &lt;/call-to-action-banner&gt;\n            </code>\n        </pre> </div> </section> ")}]),e.exports=a},function(e,t,n){var a="/src/js/chat/user-card/user-card.module.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <section class=styleguide> <h1 class=styleguide__title>User-Card</h1> <div class=styleguide__row> <h2 class=\"styleguide__title styleguide__title--weight-2\">Default (Current user)</h2> <user-card></user-card> </div> <div class=styleguide__row> <h2 class=\"styleguide__title styleguide__title--weight-2\">Default</h2> <user-card data-user=\"{'followers': 4,'user_id': 4431328,'user_name': 'wh4z4p','user_cover':'/static/img/channel/cover_57bc579b7f811.jpg','user_logo_small':'/static/img/channel/wh4z4p_57d00d5f76766_small.png','partner_type':'self'}\"></user-card> <h3 class=\"styleguide__title styleguide__title--weight-3\">with verified-badge</h3> <user-card data-user=\"{'followers': 4,'user_id': 373271,'user_name': 'karlus','user_cover':'/static/img/channel/cover_57bc579b7f811.jpg','user_logo_small':'/static/img/channel/karlus_543fb1ac7a623_small.png','partner_type':'premium'}\"></user-card> </div> <div class=styleguide__row> <h2 class=\"styleguide__title styleguide__title--weight-2\">follow-button</h2> <user-card data-user=\"{'followers': 4,'user_id': 4431328,'user_name': 'wh4z4p','user_cover':'/static/img/channel/cover_57bc579b7f811.jpg','user_logo_small':'/static/img/channel/wh4z4p_57d00d5f76766_small.png','partner_type':'self'}\" data-follow-button=true></user-card> <h3 class=\"styleguide__title styleguide__title--weight-3\">with verified-badge</h3> <user-card data-user=\"{'followers': 4,'user_id': 373271,'user_name': 'karlus','user_cover':'/static/img/channel/cover_57bc579b7f811.jpg','user_logo_small':'/static/img/channel/karlus_543fb1ac7a623_small.png','partner_type':'premium'}\" data-follow-button=true></user-card> </div> <h1 class=styleguide__title>Variant=Sidebar</h1> <div class=styleguide__row> <h2 class=\"styleguide__title styleguide__title--weight-2\">is-following &amp; is-subscribed</h2> <user-card data-follow-button=false data-hide-follow-count=true data-variant=sidebar data-is-following=true data-is-subscribed=true></user-card> </div> <div class=styleguide__row> <h2 class=\"styleguide__title styleguide__title--weight-2\">is-following</h2> <user-card data-follow-button=false data-hide-follow-count=true data-variant=sidebar data-is-following=true></user-card> </div> <div class=styleguide__row> <h2 class=\"styleguide__title styleguide__title--weight-2\">is-subscribed</h2> <user-card data-follow-button=false data-hide-follow-count=true data-variant=sidebar data-is-subscribed=true></user-card> </div> </section> ")}]),e.exports=a},function(e,t,n){var a="/src/js/feed/feed.module.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <section class=styleguide> <h1 class=styleguide__title>Feed-Item</h1> <div class=styleguide__row> <h2 class=\"styleguide__title styleguide__title--weight-2\">Post</h2> <p>Sadly this does not work as i hoped, because of too many dependencies (one beeing the channel.service) :(</p> <feed-item item=\"{\n                type: 'post',\n                data: {\n                    text: 'lorem ipsum :D test :( tralala',\n                },\n                time: 1489995989,\n            }\" user-data=\"{\n                name: 'wh4z4p',\n                logo: '/static/img/channel/wh4z4p_57d00d5f76766_small.png',\n            }\"></feed-item> </div> </section> ")}]),e.exports=a},function(e,t,n){var a="/src/js/feed/components/feed-item-header/feed-item-header.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>Feed-Item-Header</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <feed-item-header logo=/static/img/channel/wh4z4p_57d00d5f76766_small.png name=wh4z4p time=12345 deleteable=true></feed-item-header> <pre>\n            <code class=language-html>\n                &lt;feed-item-header\n                    logo="url.."\n                    name="name"\n                    time="[12345]"\n                    deleteable="[true]"\n                &gt;&lt;/feed-item-header&gt;\n            </code>\n        </pre> <h2 class="styleguide__title styleguide__title--weight-2">Hosting</h2> <feed-item-header logo=/static/img/channel/lookapanda_586bd662e53a8_small.jpg name=lookapanda hosting=wh4z4p></feed-item-header> <pre>\n            <code class=language-html>\n                &lt;feed-item-header\n                    variant="new-feed-item"\n                    logo="url.."\n                &gt;&lt;/feed-item-header&gt;\n            </code>\n        </pre> <h2 class="styleguide__title styleguide__title--weight-2">Streaming</h2> <feed-item-header logo=/static/img/channel/wh4z4p_57d00d5f76766_small.png name=wh4z4p streaming=wh4z4p streaming-url=starcraft-ii-legacy-of-the-void streaming-name="Starcraft II" streaming-title="StarCraft II: Legacy of the Void"></feed-item-header> <pre>\n            <code class=language-html>\n                &lt;feed-item-header\n                    variant="new-feed-item"\n                    logo="url.."\n                &gt;&lt;/feed-item-header&gt;\n            </code>\n        </pre> <h2 class="styleguide__title styleguide__title--weight-2">New-Feed-Item</h2> <feed-item-header variant=new-feed-item logo=/static/img/channel/wh4z4p_57d00d5f76766_small.png></feed-item-header> <div style=clear:both></div> <pre>\n            <code class=language-html>\n                &lt;feed-item-header\n                    variant="new-feed-item"\n                    logo="url.."\n                &gt;&lt;/feed-item-header&gt;\n            </code>\n        </pre> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Compact-Mode</h2> <h3 class="styleguide__title styleguide__title--weight-2">Default</h3> <feed-item-header compact-mode=true logo=/static/img/channel/wh4z4p_57d00d5f76766_small.png name=wh4z4p time=12345 deleteable=true></feed-item-header> <pre>\n            <code class=language-html>\n                &lt;feed-item-header\n                    compact-mode="true"\n                    logo="url.."\n                    name="name"\n                    time="[12345]"\n                    deleteable="[true]"\n                &gt;&lt;/feed-item-header&gt;\n            </code>\n        </pre> <h3 class="styleguide__title styleguide__title--weight-2">Hosting</h3> <feed-item-header compact-mode=true logo=/static/img/channel/lookapanda_586bd662e53a8_small.jpg name=lookapanda hosting=wh4z4p></feed-item-header> <pre>\n            <code class=language-html>\n                &lt;feed-item-header\n                    compact-mode="true"\n                    variant="new-feed-item"\n                    logo="url.."\n                &gt;&lt;/feed-item-header&gt;\n            </code>\n        </pre> <h3 class="styleguide__title styleguide__title--weight-2">Streaming</h3> <feed-item-header compact-mode=true logo=/static/img/channel/wh4z4p_57d00d5f76766_small.png name=wh4z4p streaming=wh4z4p streaming-url=starcraft-ii-legacy-of-the-void streaming-name="Starcraft II" streaming-title="StarCraft II: Legacy of the Void"></feed-item-header> <pre>\n            <code class=language-html>\n                &lt;feed-item-header\n                    compact-mode="true"\n                    variant="new-feed-item"\n                    logo="url.."\n                &gt;&lt;/feed-item-header&gt;\n            </code>\n        </pre> <h3 class="styleguide__title styleguide__title--weight-2">New-Feed-Item</h3> <feed-item-header compact-mode=true variant=new-feed-item logo=/static/img/channel/wh4z4p_57d00d5f76766_small.png></feed-item-header> <div style=clear:both></div> <pre>\n            <code class=language-html>\n                &lt;feed-item-header\n                    compact-mode="true"\n                    variant="new-feed-item"\n                    logo="url.."\n                &gt;&lt;/feed-item-header&gt;\n            </code>\n        </pre> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/feed/components/new-feed-item/new-feed-item.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>New Feed Item</h1> <div class=styleguide__row> <p>TODO</p> </div> </section> <section class=styleguide> <h1 class=styleguide__title>New Feed Item Button</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Different icons</h2> <new-feed-item-button data-icon=post data-is-active=false data-is-disabled=false> Button </new-feed-item-button> <new-feed-item-button data-icon=poll data-is-active=false data-is-disabled=false> Button </new-feed-item-button> <new-feed-item-button data-icon=giveaway data-is-active=false data-is-disabled=false> Button </new-feed-item-button> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Active</h2> <new-feed-item-button data-icon=giveaway data-is-active=true data-is-disabled=false> Active </new-feed-item-button> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Disabled</h2> <new-feed-item-button data-icon=giveaway data-is-active=false data-is-disabled=true> Disabled </new-feed-item-button> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/device/device.module.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>Device-check</h1> <div class=styleguide__row> <div style="margin:0 0 20px;padding:20px;background-color:#ccc"> <device-check show-if-mobile=true show-if-tablet=false show-if-desktop=false> is-mobile </device-check> <device-check show-if-mobile=false show-if-tablet=true show-if-desktop=false> is-tablet </device-check> <device-check show-if-mobile=false show-if-tablet=false show-if-desktop=true> is-desktop </device-check> </div> <pre>\n            <code class=language-html>\n                &lt;device-check\n                    show-if-mobile="true"\n                    show-if-tablet="false"\n                    show-if-desktop="false"\n                &gt;\n                    mobile only content\n                &lt;/device-check&gt;\n            </code>\n        </pre> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/follow/follow.module.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>Follow-Buttons</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <follow-button follow-id="\'4431328\'" follow-name="\'wh4z4p\'" follow-count="\'999\'"></follow-button> <h2 class="styleguide__title styleguide__title--weight-2">Compact</h2> <follow-button follow-id="\'4431328\'" follow-name="\'wh4z4p\'" follow-count="\'999\'" variant=compact></follow-button> <h2 class="styleguide__title styleguide__title--weight-2">Primary</h2> <follow-button follow-id="\'4431328\'" follow-name="\'wh4z4p\'" follow-count="\'999\'" variant=primary></follow-button> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/language/components/language-menu.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>Language Menu</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <language-menu></language-menu> <pre>\n            <code class=language-html>\n                &lt;language-menu&gt;&lt;/language-menu&gt;\n            </code>\n        </pre> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Vertical</h2> <language-menu variant=vertical></language-menu> <pre>\n            <code class=language-html>\n                &lt;language-menu\n                    variant="vertical"\n                &gt;&lt;/language-menu&gt;\n            </code>\n        </pre> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/language/components/language-switch.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>Language Switch</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <smash-language-switch></smash-language-switch> <pre>\n            <code class=language-html>\n                &lt;smash-language-switch&gt;&lt;/smash-language-switch&gt;\n            </code>\n        </pre> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Active</h2> <smash-language-switch data-active=true></smash-language-switch> <pre>\n            <code class=language-html>\n                &lt;smash-language-switch\n                    data-active="true"\n                &gt;&lt;/smash-language-switch&gt;\n            </code>\n        </pre> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Abbreviation</h2> <smash-language-switch data-children="\':-)\'"></smash-language-switch> <pre>\n            <code class=language-html>\n                &lt;smash-language-switch\n                    data-children="\':-)\'"\n                &gt;&lt;/smash-language-switch&gt;\n            </code>\n        </pre> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/alert/components/alert.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section class=styleguide> <h1 class=styleguide__title>Alerts</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <h3 class="styleguide__title styleguide__title--weight-3">Success</h3> <htbx-alert data-type=success> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-alert> <h3 class="styleguide__title styleguide__title--weight-3">Info</h3> <htbx-alert data-type=info> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-alert> <h3 class="styleguide__title styleguide__title--weight-3">Warning</h3> <htbx-alert data-type=warning> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-alert> <h3 class="styleguide__title styleguide__title--weight-3">Error</h3> <htbx-alert data-type=error> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-alert> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">dismissable=&quot;true&quot;</h2> <h3 class="styleguide__title styleguide__title--weight-3">Success</h3> <htbx-alert data-type=success data-dismissable=true> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-alert> <h3 class="styleguide__title styleguide__title--weight-3">Info</h3> <htbx-alert data-type=info data-dismissable=true> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-alert> <h3 class="styleguide__title styleguide__title--weight-3">Warning</h3> <htbx-alert data-type=warning data-dismissable=true> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-alert> <h3 class="styleguide__title styleguide__title--weight-3">Error</h3> <htbx-alert data-type=error data-dismissable=true> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-alert> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">alert-title=&quot;Title&quot; &amp; dismissable=&quot;true&quot;</h2> <h3 class="styleguide__title styleguide__title--weight-3">Success</h3> <htbx-alert data-type=success data-alert-title="Alert Title" data-dismissable=true> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-alert> <h3 class="styleguide__title styleguide__title--weight-3">Info</h3> <htbx-alert data-type=info data-alert-title="Alert Title" data-dismissable=true> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-alert> <h3 class="styleguide__title styleguide__title--weight-3">Warning</h3> <htbx-alert data-type=warning data-alert-title="Alert Title" data-dismissable=true> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-alert> <h3 class="styleguide__title styleguide__title--weight-3">Error</h3> <htbx-alert data-type=error data-alert-title="Alert Title" data-dismissable=true> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-alert> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/app-links/app-links.module.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>App-Links</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default (For dark backgrounds)</h2> <div style=padding:20px;background:#444> <htbx-ui-app-links data-ios=https://www.google.com data-android=https://www.google.com></htbx-ui-app-links> </div> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default (For dark backgrounds) - with title</h2> <div style=padding:20px;background:#444> <htbx-ui-app-links data-title="{{:: \'view_popover-mobile_header_get-hitbox-app\' | translate}}:" data-ios=https://www.google.com data-android=https://www.google.com></htbx-ui-app-links> </div> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">For light backgrounds</h2> <htbx-ui-app-links data-ios=https://www.google.com data-android=https://www.google.com data-color-dark=true></htbx-ui-app-links> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">For light backgrounds - with title</h2> <htbx-ui-app-links data-title="{{:: \'view_popover-mobile_header_get-hitbox-app\' | translate}}:" data-ios=https://www.google.com data-android=https://www.google.com data-color-dark=true></htbx-ui-app-links> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">CTA</h2> <htbx-ui-app-links data-ios=https://www.google.com data-android=https://www.google.com data-cta=true></htbx-ui-app-links> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">CTA - with title</h2> <htbx-ui-app-links data-title="Watch Smashcast anywhere" data-ios=https://www.google.com data-android=https://www.google.com data-cta=true></htbx-ui-app-links> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/buttons/components/button.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section class=styleguide> <h1 class=styleguide__title>Buttons</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <htbx-button-group> <htbx-button-group-item> <htbx-button>Default</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-variant=ok>Ok</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-variant=cancel>Cancel</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-variant=icon>Icon</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-variant=warning>Warning</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-variant=outline>Outline</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-variant=no-link>No-Link</htbx-button> </htbx-button-group-item> </htbx-button-group> <pre>\n            <code class=language-html>\n                &lt;htbx-button&gt;Button&lt;/htbx-button&gt;\n                &lt;htbx-button\n                    data-variant="ok"\n                &gt;\n                    Button\n                &lt;/htbx-button&gt;\n                &lt;htbx-button\n                    data-variant="icon"\n                &gt;\n                    Button\n                &lt;/htbx-button&gt;\n                &lt;htbx-button\n                    data-variant="warning"\n                &gt;\n                    Button\n                &lt;/htbx-button&gt;\n                &lt;htbx-button\n                    data-variant="outline"\n                &gt;\n                    Button\n                &lt;/htbx-button&gt;\n                &lt;htbx-button\n                    data-variant="no-link"\n                &gt;\n                    Button\n                &lt;/htbx-button&gt;\n            </code>\n        </pre> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">loading=&quot;true&quot;</h2> <htbx-button-group> <htbx-button-group-item> <htbx-button data-loading=true>Default</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-loading=true data-variant=ok>Ok</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-loading=true data-variant=cancel>Cancel</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-loading=true data-variant=icon>Icon</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-loading=true data-variant=warning>Warning</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-loading=true data-variant=outline>Outline</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-loading=true data-variant=no-link>No-Link</htbx-button> </htbx-button-group-item> </htbx-button-group> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">disabled=&quot;true&quot;</h2> <htbx-button-group> <htbx-button-group-item> <htbx-button data-disabled=true>Default</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-disabled=true data-variant=ok>Ok</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-disabled=true data-variant=cancel>Cancel</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-disabled=true data-variant=icon>Icon</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-disabled=true data-variant=warning>Warning</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-disabled=true data-variant=outline>Outline</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-disabled=true data-variant=no-link>No-Link</htbx-button> </htbx-button-group-item> </htbx-button-group> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">size=&quot;small&quot;</h2> <htbx-button-group> <htbx-button-group-item> <htbx-button data-size=small>Default</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-size=small data-variant=ok>Ok</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-size=small data-variant=cancel>Cancel</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-size=small data-variant=icon>Icon</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-size=small data-variant=warning>Warning</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-size=small data-variant=outline>Outline</htbx-button> </htbx-button-group-item> <htbx-button-group-item> <htbx-button data-size=small data-variant=no-link>No-Link</htbx-button> </htbx-button-group-item> </htbx-button-group> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/buttons/components/button-close.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section class=styleguide> <h1 class=styleguide__title>Button-Close</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <htbx-button-close></htbx-button-close> <pre>\n            <code class=language-html>\n                &lt;htbx-button-close&gt;&lt;/htbx-button-close&gt;\n            </code>\n        </pre> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/buttons/components/button-csv-download.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section class=styleguide> <h1 class=styleguide__title>Button-CSV-Download</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <smash-button-csv-download filename="\'csv-file\'"></smash-button-csv-download> <pre>\n            <code class=language-html>\n                &lt;smash-button-csv-download\n                    get-data="$ctrl.getDataFunction"\n                    filename="\'csv-filename\'"\n                &gt;&lt;/smash-button-csv-download&gt;\n            </code>\n        </pre> <p>"get-data" needs to be a function reference, which will then be called when clicked</p> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Icon Only</h2> <smash-button-csv-download icon-only=true></smash-button-csv-download> <pre>\n            <code class=language-html>\n                &lt;smash-button-csv-download\n                    icon-only="true"\n                &gt;&lt;/smash-button-csv-download&gt;\n            </code>\n        </pre> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/buttons/components/button-remove.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section class=styleguide> <h1 class=styleguide__title>Button-Remove</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <htbx-button-remove></htbx-button-remove> <pre>\n            <code class=language-html>\n                &lt;htbx-button-remove&gt;&lt;/htbx-button-remove&gt;\n            </code>\n        </pre> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Change label</h2> <htbx-button-remove data-label="My Label"></htbx-button-remove> <pre>\n            <code class=language-html>\n                &lt;htbx-button-remove\n                    data-label="My Label"\n                &gt;&lt;/htbx-button-remove&gt;\n            </code>\n        </pre> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/buttons/components/button-show-more.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<section class=styleguide> <h1 class=styleguide__title>Button-Show-More</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <htbx-button-show-more></htbx-button-show-more> <pre>\n            <code class=language-html>\n                &lt;htbx-button-show-more&gt;&lt;/htbx-button-show-more&gt;\n            </code>\n        </pre> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/toggle-checkbox/components/toggle-checkbox.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>Checkboxes</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <toggle-checkbox ng-model=tcb1></toggle-checkbox> <h3 class="styleguide__title styleguide__title--weight-2">Disabled</h3> <toggle-checkbox data-is-disabled=true ng-model=tcb10 ng-disabled=true></toggle-checkbox> <h2 class="styleguide__title styleguide__title--weight-2">For dark backgrounds</h2> <toggle-checkbox data-dark-background=true ng-model=tcb20></toggle-checkbox> <h3 class="styleguide__title styleguide__title--weight-2">Disabled</h3> <toggle-checkbox data-dark-background=true data-is-disabled=true ng-model=tcb30 ng-disabled=true></toggle-checkbox> <h2 class="styleguide__title styleguide__title--weight-2">Inverse mode</h2> <toggle-checkbox data-inverse-mode=true ng-model=tcb40></toggle-checkbox> <h3 class="styleguide__title styleguide__title--weight-2">Disabled</h3> <toggle-checkbox data-is-disabled=true data-inverse-mode=true ng-model=tcb50 ng-disabled=true></toggle-checkbox> <h2 class="styleguide__title styleguide__title--weight-2">With label</h2> <toggle-checkbox data-label="Checkbox Label" ng-model=tcb60></toggle-checkbox> <h3 class="styleguide__title styleguide__title--weight-2">Disabled</h3> <toggle-checkbox data-label="Checkbox Label" data-is-disabled=true ng-model=tcb70 ng-disabled=true></toggle-checkbox> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/collapsible/components/collapsible.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>Collapsible</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <h3 class="styleguide__title styleguide__title--weight-3">Collapsed</h3> <htbx-collapsible data-variant=default data-title="Collapsible Title" data-collapsed=true> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-collapsible> <h3 class="styleguide__title styleguide__title--weight-3">Open</h3> <htbx-collapsible data-variant=default data-title="Collapsible Title" data-collapsed=false> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-collapsible> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Active</h2> <h3 class="styleguide__title styleguide__title--weight-3">Collapsed</h3> <htbx-collapsible data-variant=default-active data-title="Collapsible Title" data-collapsed=true> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-collapsible> <h3 class="styleguide__title styleguide__title--weight-3">Open</h3> <htbx-collapsible data-variant=default-active data-title="Collapsible Title" data-collapsed=false> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam </htbx-collapsible> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/inputs/inputs.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>Inputs</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <input type=text /> <h2 class="styleguide__title styleguide__title--weight-2">With placeholder</h2> <input type=text placeholder=Placeholder /> <h2 class="styleguide__title styleguide__title--weight-2">Readonly</h2> <input type=text placeholder=Placeholder readonly=readonly /> <h2 class="styleguide__title styleguide__title--weight-2">Disabled</h2> <input type=text placeholder=Placeholder disabled=disabled /> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/input-group/components/input-group.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>Input Group</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <htbx-input-group input-value="Input Group"></htbx-input-group> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">With htbx-input-group-addon</h2> <htbx-input-group input-readonly=true input-value="Input Group"> <htbx-input-group-addon input-click-action=clipboard data-tooltip-text="{{::\'global_button_copy-to-clipboard\' | translate}}"> {{::\'global_text_copy\' | translate}} </htbx-input-group-addon> </htbx-input-group> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/loaders/bouncy/components/bouncy.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <section class=styleguide> <h1 class=styleguide__title>Bouncy</h1> <div class=styleguide__row> <bouncy></bouncy> <bouncy data-on-light=true></bouncy> </div> <div class=styleguide__row> <bouncy data-bouncy-size=15></bouncy> <bouncy data-bouncy-size=15 data-on-light=true></bouncy> </div> <div class=styleguide__row> <bouncy data-bouncy-size=20></bouncy> <bouncy data-bouncy-size=20 data-on-light=true></bouncy> </div> </section> ")}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/page-title/components/page-title.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>Page Titles</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <htbx-page-title> Page Title <p>Sub Title <a>Link</a></p> </htbx-page-title> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/radiobutton/radiobutton.module.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>Radiobuttons</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <htbx-radiobutton data-name=name data-value=value> Label 1 </htbx-radiobutton> <htbx-radiobutton data-name=name data-value=value> Label 2 </htbx-radiobutton> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/table/components/table.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a," <section class=styleguide> <h1 class=styleguide__title>Tables</h1> <div class=styleguide__row> <h2 class=\"styleguide__title styleguide__title--weight-2\">Default</h2> <htbx-table list=\"[{ id: 1, text: 'Lorem Ipsum' }, { id: 2, text: 'Lorem Ipsum' }, { id: 3, text: 'Lorem Ipsum' }, { id: 4, text: 'Lorem Ipsum' }, { id: 5, text: 'Lorem Ipsum' }, { id: 6, text: 'Lorem Ipsum' }]\" track-by=id order-by=id item-tpl={{::$ctrl.itemTpl}} loading=$ctrl.loading items-per-page=20 has-pagination=false> <ul class=table__list--header> <li class=table__list__row> <div class=col-1></div> <div class=\"table__list__row--sorts col-2\"> Table Head </div> </li> </ul> </htbx-table> <h2 class=\"styleguide__title styleguide__title--weight-2\">With pagination</h2> <htbx-table list=\"[{ id: 1, text: 'Lorem Ipsum1' }, { id: 2, text: 'Lorem Ipsum2' }, { id: 3, text: 'Lorem Ipsum3' }, { id: 4, text: 'Lorem Ipsum4' }, { id: 5, text: 'Lorem Ipsum5' }, { id: 6, text: 'Lorem Ipsum6' }]\" track-by=id order-by=id item-tpl={{::$ctrl.itemTpl}} loading=$ctrl.loading items-per-page=2> <ul class=table__list--header> <li class=table__list__row> <div class=col-1></div> <div class=\"table__list__row--sorts col-2\"> Table Head </div> </li> </ul> </htbx-table> </div> </section> ")}]),e.exports=a},function(e,t,n){var a="/src/js/ui-elements/table/views/list.table.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=col-1></div> <div class=col-2> {{item.text}} </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/hashtags/components/hashtag-list.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>Hashtags</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <hashtag-list></hashtag-list> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Vertical</h2> <hashtag-list variant=vertical></hashtag-list> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/search/components/search-input.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>Search Input</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <smash-search-input></smash-search-input> <pre>\n            <code class=language-html>\n                &lt;smash-search-input&gt;&lt;/smash-search-input&gt;\n            </code>\n        </pre> </div> <div class=styleguide__row> <h3 class="styleguide__title styleguide__title--weight-3">Show reset button</h3> <smash-search-input show-reset=true></smash-search-input> <pre>\n            <code class=language-html>\n                &lt;smash-search-input\n                    show-reset="true"\n                &gt;&lt;/smash-search-input&gt;\n            </code>\n        </pre> </div> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Compact</h2> <smash-search-input variant=compact></smash-search-input> <pre>\n            <code class=language-html>\n                &lt;smash-search-input\n                    variant="compact"\n                &gt;&lt;/smash-search-input&gt;\n            </code>\n        </pre> </div> <div class=styleguide__row> <h3 class="styleguide__title styleguide__title--weight-3">Show reset button</h3> <smash-search-input variant=compact show-reset=true></smash-search-input> <pre>\n            <code class=language-html>\n                &lt;smash-search-input\n                    variant="compact"\n                    show-reset="true"\n                &gt;&lt;/smash-search-input&gt;\n            </code>\n        </pre> </div> </section> ')}]),e.exports=a},function(e,t,n){var a="/src/js/search/components/search-results.component.styleguide.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <section class=styleguide> <h1 class=styleguide__title>Search Results</h1> <div class=styleguide__row> <h2 class="styleguide__title styleguide__title--weight-2">Default</h2> <smash-search-results data-search="\'test\'" style=height:400px></smash-search-results> <pre>\n            <code class=language-html>\n                &lt;smash-search-results\n                    data-search="\'test\'"\n                    style="height: 400px"\n                &gt;&lt;/smash-search-results&gt;\n            </code>\n        </pre> </div> </section> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=s.ROUTING_CONFIG.accessLevels;e.state("teammanager",{url:"/teammanager/:team",resolve:{lazyload:["angularLoad",function(e){return e.loadScript(r.default.staticUrl+"/js/lazyload.js")}]},views:{viewNav:{template:"<htbx-main-nav></htbx-main-nav>"},viewMain:{template:"<htbx-team-manager-page></htbx-team-manager-page>"}},access:t.anon,section:"teammanager",title:'{{"global_menu_team-manager" | translate}}'})}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(2)),s=n(15),l=a(n(2932)),c=a(n(2933)),u=a(n(2934)),d=a(n(2937));i.$inject=["$stateProvider"],t.default=o.default.module("htbx.team-manager",[]).factory("Team",l.default).factory("Teams",c.default).directive("teamChart",d.default).directive("htbxTeamManagerPage",u.default).config(i).name},function(e,t,n){"use strict";function a(e,t){var n={};return e(i.default.apiUri+"/team/:team_name/:user_name",{team_name:"@team_name",user_name:"@user_name",authToken:t.getToken()},{get:{method:"GET",params:n,isArray:!1},create:{method:"POST",params:n},update:{method:"PUT",params:n,isArray:!1},acceptMember:{method:"UPDATE",params:n,isArray:!1},removeMember:{method:"DELETE",params:n,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource","loggedUser"]},function(e,t,n){"use strict";function a(e){var t={};return e(i.default.apiUri+"/teams/:user_name",{user_name:"@user_name"},{get:{method:"GET",params:t,isArray:!1},update:{method:"PUT",params:t,isArray:!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));a.$inject=["$resource"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,s,l,c){e.loggedUser=c,e.processing=!1,e.team={};var u="YYYY-MM-DD";e.showMonths=3,c.isAuthenticated()||(l.error("Access denied"),i.url("/401")),e.user=t.user||c.getName(),e.team_name=t.team,e.$watch("reloadStartDate",function(t,n){t&&t!==n&&!e.processing&&(e.button_selection=0,e.getDate(e.reloadStartDate,e.reloadEndDate))}),e.$watch("reloadEndDate",function(t,n){t&&t!==n&&!e.processing&&(e.button_selection=0,e.getDate(e.reloadStartDate,e.reloadEndDate))}),e.rangeButton=function(t){var n=o.default.utc(o.default.utc().format("YYYY-MM-DD")+"T00:00:00+00:00").subtract(t,"days").format(u),a=o.default.utc(o.default.utc().format("YYYY-MM-DD")+"T23:59:59+00:00").subtract(1,"days").format(u);e.getTeamStats(n,a)},e.rangeThisMonth=function(){var t=(0,o.default)((0,o.default)().format("YYYY-MM-DD")+"T12:00:00+00:00").utc().startOf("month").format(u),n=(0,o.default)((0,o.default)().format("YYYY-MM-DD")+"T12:00:00+00:00").utc().format(u);e.getTeamStats(t,n)},e.rangeLastMonth=function(){var t=(0,o.default)((0,o.default)().format("YYYY-MM-DD")+"T12:00:00+00:00").utc().startOf("month").subtract(1,"days").startOf("month").format(u),n=(0,o.default)((0,o.default)().format("YYYY-MM-DD")+"T12:00:00+00:00").utc().startOf("month").subtract(1,"days").format(u);e.getTeamStats(t,n)},e.rangeToday=function(){var t=o.default.utc(o.default.utc().format("YYYY-MM-DD")+"T00:00:00+00:00").format(u),n=o.default.utc(o.default.utc().format("YYYY-MM-DD")+"T23:59:59+00:00").format(u);e.getTeamStats(t,n)},e.rangeYesterday=function(){var t=o.default.utc(o.default.utc().format("YYYY-MM-DD")+"T00:00:00+00:00").subtract(1,"days").format(u),n=o.default.utc(o.default.utc().format("YYYY-MM-DD")+"T23:59:59+00:00").subtract(1,"days").format(u);e.getTeamStats(t,n)},e.getDate=function(t,n){t=(0,o.default)(1e3*t).utc().format(u),n=(0,o.default)(1e3*n).utc().format(u),e.getTeamStats(t,n)},e.getLast31Days=function(){var t=(0,o.default)((0,o.default)().format("YYYY-MM-DD")+"T12:00:00+00:00").utc().subtract(32,"days").format(u),n=(0,o.default)((0,o.default)().format("YYYY-MM-DD")+"T12:00:00+00:00").utc().subtract(1,"days").format(u);e.getTeamStats(t,n)},e.getLast90Days=function(){var t=(0,o.default)((0,o.default)().format("YYYY-MM-DD")+"T12:00:00+00:00").utc().subtract(90,"days").format(u),n=(0,o.default)((0,o.default)().format("YYYY-MM-DD")+"T12:00:00+00:00").utc().format(u);e.getTeamStats(t,n)},e.xFunction=function(){return function(e){return e[0]}},e.yFunction=function(){return function(e){return e[1]}},e.getStatsCSV=function(){var t=1e3*e.reloadStartDate,n=1e3*e.reloadEndDate;e.reloadStartDate||(t=(0,o.default)().utc().subtract(32,"days"),n=(0,o.default)().subtract(1,"days"));var a=[[e.team.info.group_display_name],["Team Statistics"],[(0,o.default)(t).utc().format("MMMM Do YYYY")+" - "+(0,o.default)(n).utc().format("MMMM Do YYYY")]];e.currency&&a.push(["Total Revenues",e.revenue_sum.toString().replace(".",",")||0]);for(var i in e.team.members)if(a.push([],[e.team.members[i].user_name]),a.push(["Email",e.team.members[i].user_email]),a.push(["Followers",e.team.members[i].followers]),a.push(["Sub Earnings",e.team.members[i].revenues.summary.sub_earnings.toString().replace(".",",")||0,e.currency]),a.push(["Live Earnings",e.team.members[i].revenues.summary.live_earnings.toString().replace(".",",")||0,e.currency]),a.push(["Video Earnings",e.team.members[i].revenues.summary.video_earnings.toString().replace(".",",")||0,e.currency]),a.push(["Revenues",e.team.members[i].revenues.summary.total_earnings.toString().replace(".",",")||0,e.currency]),e.team.members[i].revenues_sum&&e.team.members[i].revenues_sum>0){a.push(["Date","Revenues","Currency"]);for(var r=0;r<e.team.members[i].revenues.timeline.length;r++)a.push([(0,o.default)(e.team.members[i].revenues.timeline[r][0]).format("MMMM Do YYYY"),e.team.members[i].revenues.timeline[r][1].toString().replace(".",",")||0,e.currency])}return a},e.yAxisTickFormat=function(){return function(t){return a("toMoney")(t,e.currency)}},e.xAxisTickFormat=function(){return function(t){return e.xAxisTickValues[t.toString()]}},e.max_revenues=0,e.getTeamStats=function(t,u){e.daterangeSetText&&(e.daterangeSetText(new Date(t),new Date(u)),e.datepicker.DatePickerSetDate([new Date(t),new Date(u)],!0)),e.processing=!0,e.dates={startDate:(0,o.default)(t).utc(),endDate:(0,o.default)(u).utc()};var d={user:e.team_name,authToken:c.getToken(),type:"team",startDate:t,endDate:u};n.get(d,function(t){if((0,r.default)("#date-range-field").removeAttr("disabled"),!t||!t.team||!t.team.members)return e.processing=!1,e.revenue_sum=0,e.revenue_sum_html=s.trustAsHtml(a("toMoney")(0,e.currency)),e.team.revenues={currency:e.currency},void(e.team.members=[]);e.xAxisTickKeys=[],e.xAxisTickValues=[],e.team=t.team;for(var n=!0,i=0,l=0;l<e.team.members.length;l++){var c=[];e.team.members[l].revenues&&null!==e.team.members[l].revenues&&403!==e.team.members[l].revenues&&e.team.members[l].revenues.summary?(e.currency=e.team.summary.currency,e.team.members[l].revenues_sum=e.team.members[l].revenues.summary.total_earnings,e.team.members[l].revenues.summary.total_earnings_html=s.trustAsHtml(a("toMoney")(e.team.members[l].revenues.summary.total_earnings,e.currency))):(e.team.members[l].revenues_sum=0,e.team.members[l].revenues={summary:{total_earnings_html:s.trustAsHtml(a("toMoney")(0,e.currency))}}),null===e.team.members[l].followers&&(e.team.members[l].followers=0),e.team.members[l].followers=parseInt(e.team.members[l].followers,10);var u=[{key:"",color:"hsla(75,100%,38%,.2)",useInteractiveGuideline:!0,values:[]}],d=e.team.members[l],f=0;if(null!==d.revenues&&403!==d.revenues){n&&(e.currency=d.revenues.summary.currency);for(var p in d.revenues.daily){var m=(0,o.default)(p+"T12:00:00+00:00").utc().unix();c.push([m,d.revenues.daily[p].earnings]),n&&(e.xAxisTickKeys.push(m),e.xAxisTickValues[m.toString()]=(0,o.default)(p+"T12:00:00+00:00").format("dddd, MMM D")),f+=d.revenues.daily[p].earnings,u[0].values.push([m,d.revenues.daily[p].earnings]),e.max_revenues<d.revenues.daily[p].earnings&&(e.max_revenues=d.revenues.daily[p].earnings)}}d.chart={series:c},e.xAxisTickKeys.length&&(n=!1),0===f&&(u=!1),i+=f}e.revenue_sum=i,e.revenue_sum_html=s.trustAsHtml(a("toMoney")(e.revenue_sum,e.currency)),e.team.revenues={currency:e.currency},e.processing=!1},function(){l.error("Access denied"),i.url("/401")})},e.getLastMonth=function(){var t=(0,o.default)().date(1).subtract(1,"month").format(u),n=(0,o.default)().date(1).subtract(1,"days").format(u);e.getTeamStats(t,n)},e.sort="revenues_sum",e.reverse=!0,e.changeSortUserName=function(){e.changeSort("user_name")},e.changeSortFollowers=function(){e.changeSort("followers")},e.changeSortRevenuesSum=function(){e.changeSort("revenues_sum")},e.changeSort=function(t){e.sort!==t?(e.sort=t,e.reverse="revenues_sum"===t):e.reverse=!e.reverse},e.barColor=function(){return function(){return"hsla(75,100%,36%,.6)"}},e.toolTipContentFunction=function(){return function(e,t,n){return'<div class="value">'+n+"</div><div>"+t+"</div>"}},e.getLast31Days(),e.button_selection=1}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(5)),r=a(n(13)),s=a(n(2935));n(2936),i.$inject=["$scope","$stateParams","Revenues","$filter","$location","$sce","$log","loggedUser"],t.default=function(){return{templateUrl:s.default,controller:i}}},function(e,t,n){var a="/src/js/team-manager/directives/team-manager-page.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<htbx-layout data-page=team-manager data-variant=full> <htbx-layout-content> <div class=team-manager ng-class="{\n                \'statsLoading\': processing,\n            }"> <div class="date-range-bar nono" ng-show=!processing> <daterange></daterange> </div> <div class=header ng-show=!processing> <div class="logoWrap round"> <div class=logoError ng-show=errors.team_logo> {{errors.team_logo}} </div> <div ng-if=userIsAdmin class="uploadWrap round"> <upload-drop-area uda-image={{::config.imgUrl}}{{team.info.group_logo_large}} uda-success-callback=cblogosuccess(data) class="logo round" uda-data-name=file uda-url={{config.apiUri}}/upload/team/ uda-delete-callback=cbdeletelogo() uda-name=Logo uda-fallback-image={{::config.imgUrl}}{{config.fallbackImages.teamLogo}}></upload-drop-area> </div> <div ng-if=!userIsAdmin> <a ui-sref="team({team: team.info.group_name})"> <div ng-if=team.info.group_logo_large class="logo round" back-img={{::config.imgUrl}}{{team.info.group_logo_large}} back-img-fallback={{::$root.config.fallbackImages.teamLogo}}></div> </a> </div> </div> <div class=cf> <div class=title> <a class=name ui-sref="team({team: team.info.group_name})"> {{team.info.group_display_name}} </a> </div> <div class=revenue> <span class=revenue__title> {{::\'global_text_total-revenue\' | translate}}: </span> <span ng-bind-html=revenue_sum_html></span> </div> </div> <div> <div class=second-line> <a class=edit ui-sref="community.teams({user: loggedUser.getName()})"> {{::\'global_text_edit\' | translate}} </a> <smash-button-csv-download ng-hide=!team.members tooltip-placement=bottom uib-tooltip="{{ \'view_team-manager_tooltip_download-statistic\' | translate }}" tooltip-append-to-body=true get-data=getStatsCSV filename="\'team.csv\'" class=team-manager__csv-download></smash-button-csv-download> </div> </div> </div> <div class=content> <div class=processing-anim ng-show=processing> <bouncy class=""></bouncy> <div>{{::\'view_team-manager_text_loading-statistics\' | translate}}</div> </div> <div ng-show=!processing> <ul class=list-header> <li> <div class=col-1></div> <div class=col-2> <smash-sort data-sort="((sort == \'user_name\') && reverse) ? \'asc\' : \'desc\'" data-active="sort == \'user_name\'" data-on-sort=::changeSortUserName data-children="::\'global_text_name\' | translate"></smash-sort> <smash-sort data-sort="((sort == \'followers\') && reverse) ? \'asc\' : \'desc\'" data-active="sort == \'followers\'" data-on-sort=::changeSortFollowers data-children="::\'global_text_followers\' | translate"></smash-sort> </div> <div class=col-3></div> <div class=col-4> <smash-sort data-sort="((sort == \'revenues_sum\') && reverse) ? \'asc\' : \'desc\'" data-active="sort == \'revenues_sum\'" data-on-sort=::changeSortRevenuesSum data-children="::\'global_text_revenues\' | translate"></smash-sort> </div> </li> </ul> <ul class=list-content> <li ng-repeat="member in team.members | orderBy:sort:reverse"> <div class=col-1> <a ui-sref="detail.feed({channel: member.user_name})" target=_blank rel=noopener> <img class="user-logo round" ng-src={{::config.imgUrl}}{{member.user_logo}} /> </a> </div> <div class=col-2> <a ui-sref="detail.feed({channel: member.user_name})" class=name> {{member.user_name}} </a> <div class="followers text-small"> <span class=followers__icon> <smash-icon icon=heart-filled size=16 center=true></smash-icon> </span> <span class=follower__count> {{member.followers}} </span> </div> </div> <div class=col-3> <div> <div team-chart series=member.chart.series id={{$index}}></div> </div> </div> <div class=col-4> <div class=revenue> <span ng-bind-html=member.revenues.summary.total_earnings_html></span> </div> <a class="button button--size-default button--outline" ui-sref="statistics({user: member.user_name})" target=_blank rel=noopener> {{::\'global_button_show-details\' | translate}} </a> </div> </li> </ul> </div> </div> </div> </htbx-layout-content> </htbx-layout> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(13)),o=a(n(5)),r=a(n(2938));t.default=function(){function e(e){e.style={height:150},e.chart=null,e.updated=!1,e.settingExtremes=!1,e.$watch("series",function(){e.initChart()},!0),e.yAxis=[{labels:{align:"right",x:-3},title:{text:null,rotation:0,align:"high",x:0,y:0},offset:0,min:0}],e.finalseries=[{name:"Revenues",type:"line",visible:!0,yAxis:0,data:[]}];for(var t=0;t<e.series.length;t++)e.finalseries[0].data.push([1e3*e.series[t][0],e.series[t][1]]);e.initChart=function(){var t={global:{useUTC:!0},chart:{renderTo:"chartContainerViewer"+e.id,spacing:0,marginRight:0,marginTop:0,pinchType:"none",width:350,panning:!1},rangeSelector:{enabled:!1},navigator:{adaptToUpdatedData:!1,baseSeries:0,enabled:!1},title:{},xAxis:{type:"datetime",maxPadding:0,minPadding:0,dateTimeLabelFormats:{month:"%e. %b",year:"%b"},title:{},tickColor:"transparent"},yAxis:e.yAxis,tooltip:{crosshairs:[!0]},series:e.finalseries,plotOptions:{area:{fillOpacity:"0.3"},series:{dataLabels:{enabled:!1},dataGrouping:{approximation:"high"}}},scrollbar:{liveRedraw:!1,enabled:!1},credits:{enabled:!1}};Highcharts.setOptions({global:{useUTC:!0},colors:["hsla(75,100%,50%,.5)","hsla(200,50%,40%,.5)","hsla(200,80%,40%,.5)","hsla(25,80%,40%,.5)","hsla(180,80%,30%,.5)","hsla(200,50%,25%,.5)","hsla(25,50%,40%,.5)","hsla(75,100%,50%,.5)"],plotOptions:{area:{fillOpacity:"0.35"},areaspline:{fillOpacity:"0.35"},column:{borderRadius:1}},chart:{style:{fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSize:"16px"},plotBackgroundColor:"transparent",backgroundColor:"transparent"},xAxis:{gridLineColor:"transparent",gridLineWidth:1,labels:{style:{color:"hsl(0,0%,50%)"}},lineColor:"transparent",tickColor:"transparent",title:{style:{color:"hsl(0,0%,50%)",fontWeight:"bold",fontSize:"14px",fontFamily:'"Helvetica Neue", Helvetica, sans-serif'}}},yAxis:{gridLineColor:"hsl(0,0%,25%)",labels:{style:{color:"hsl(0,0%,70%)"}},lineColor:"transparent",minorTickInterval:null,tickColor:"hsl(0,0%,50%)",tickWidth:1,title:{style:{color:"hsl(0,0%,80%)",fontWeight:"bold",fontSize:"16px",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',textAlign:"left",transform:"translate(-400px, 8px)"}}},loading:{style:{position:"absolute",backgroundColor:"transparent",opacity:1,textAlign:"center"}},tooltip:{borderColor:"rgba(0,0,0, 0.1)",style:{padding:"10px 20px 20px 20px",fontSize:"14px",fontFamily:'"Helvetica Neue", Helvetica, sans-serif'},formatter:function(){var e="<b>"+(0,o.default)(this.x).utc().format("dddd, MMM D, YYYY")+"</b>";return i.default.each(this.points,function(t,n){e+='<br/><span style="color:'+n.series.color+'"></span>: '+n.series.name+": "+n.y}),e}}}),e.chart=new Highcharts.StockChart(t)}}return e.$inject=["$scope"],{restrict:"AE",scope:{series:"=",min:"@",max:"@",processing:"@",id:"@"},templateUrl:r.default,link:e}}},function(e,t,n){var a="/src/js/team-manager/directives/team-manager-charts.directive.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div id=chartContainerViewer{{id}} style=width:400px;height:100px></div>")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=n(15),r=a(n(189)),s=a(n(694)),l=a(n(2940));t.default=i.default.module("htbx.team",[s.default,r.default]).component("teamPage",l.default).config(["$stateProvider",function(e){var t=o.ROUTING_CONFIG.accessLevels;e.state("team",{url:"/team/:team",views:{viewNav:{template:"<htbx-main-nav></htbx-main-nav>"},viewMain:{template:"<team-page></team-page>"}},access:t.anon,section:"team"})}]).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(11)),r=a(n(2941));n(2942);var s=function(){function e(t,n,a,i,o,r,s,l,c){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.coverUploadSuccess=function(e){e.cover?(u.team.info.group_cover=e.cover,u.teamParams.team_name=u.team.info.group_name,u.teamParams.nocache=!0,u.teamResource.$update(u.teamParams,function(){u.getTeam(!0)},function(){u.errors.teamCover=u.$translate.instant("view_team-settings_error_new-cover_image")})):u.errors.teamCover=u.$translate.instant("view_team-settings_error_new-cover")},this.logoUploadSuccess=function(e){e.small&&e.large?(u.team.info.group_logo_small=e.small,u.team.info.group_logo_large=e.large,u.teamParams.team_name=u.team.info.group_name,u.teamParams.nocache=!0,u.teamResource.$update(u.teamParams,function(){u.getTeam(!0)},function(){u.errors.teamLogo=u.$translate.instant("view_team-settings_error_new-logo")})):u.errors.team_logo=u.$translate.instant("view_team-settings_error_new-logo")},this.coverDelete=function(){u.teamParams.team_name=u.team.info.group_name;var e={authToken:u.teamParams.authToken,action:"delete_logo",team_name:u.teamParams.team_name,user_name:u.teamParams.user_name};u.teamResource.$update(e,function(){u.getTeam(!0)},function(){u.errors.teamLogo=u.$translate.instant("view_team-settings_error_delete-logo")})},this.userListCallback=function(e){for(var t=0;t<u.team.media.livestream.length;t++)if(u.team.media.livestream[t].media_name===e.user_name){u.media=u.team.media.livestream[t];break}u.teamNameFilter=null},this.logoDelete=function(){u.teamParams.team_name=u.team.info.group_name;var e={authToken:u.teamParams.authToken,action:"delete_cover",team_name:u.teamParams.team_name,user_name:u.teamParams.user_name};u.teamResource.$update(e,function(){u.getTeam(!0)},function(){u.errors.teamCover=u.$translate.instant("view_team-settings_error_delete-cover")})},this.$scope=t,this.$stateParams=n,this.Team=a,this.medias=i,this.$location=o,this.DisplayService=r,this.$translate=s,this.pageTitle=l,this.loggedUser=c,this.teamParams={},this.deviceSize=r.deviceSize,this.deviceSize.update(),this.errors={},this.lists={liveCount:0,videoCount:0},this.loading={live:!0,video:!1},this.videoFilter="recent",this.userIsAdmin=!1}return e.$inject=["$scope","$stateParams","Team","medias","$location","DisplayService","$translate","pageTitle","loggedUser"],i(e,[{key:"$onInit",value:function(){var e=this;(this.$stateParams.user||this.loggedUser.isAuthenticated())&&(this.user=this.$stateParams.user||this.loggedUser.getName(),this.teamParams.authToken=this.loggedUser.getToken(),this.teamParams.user_name=this.user),!this.team_name&&this.$stateParams.channel?this.medias.get(this.$stateParams.channel).then(function(t){t.team_name&&(e.team_name=t.team_name,e.teamNameFilter=e.team_name,e.getTeam())}):(this.team_name=this.$stateParams.team,this.teamNameFilter=this.team_name,this.getTeam())}},{key:"getTeam",value:function(e){var t=this,n={team_name:this.team_name};e&&(n.nocache=!0),this.teamResource=this.Team.get(n,function(e){if((0,o.default)(e.info))t.$location.url("/404");else{t.team=e,t.$stateParams.channel||t.pageTitle.set(t.team.info.group_name);for(var n=0;n<e.members.length;n++)if(e.members[n].user_name===t.user&&"admin"===e.members[n].group_role){t.userIsAdmin=!0;break}}})}}]),e}();t.default={templateUrl:r.default,controller:s}},function(e,t,n){var a="/src/js/team/components/team-page.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <htbx-layout data-page=team data-variant=full> <htbx-layout-content> <div class="page team-page"> <div class=team-header> <div ng-if=$ctrl.userIsAdmin class=uploadWrap> <div ng-show=$ctrl.errors.teamCover class=coverError> {{$ctrl.errors.teamCover}} </div> <upload-drop-area uda-name=TeamCover uda-data-name=file uda-image={{::$root.config.imgUrl}}{{$ctrl.team.info.group_cover}} uda-success-callback=$ctrl.coverUploadSuccess(data) uda-url={{::$root.config.apiUri}}/upload/team/ uda-delete-callback=$ctrl.coverDelete() uda-fallback-image={{::$root.config.fallbackImages.teamCover}} class=cover></upload-drop-area> </div> <div ng-if=!$ctrl.userIsAdmin> <div back-img={{::$root.config.imgUrl}}{{$ctrl.team.info.group_cover}} back-img-fallback={{::$root.config.fallbackImages.teamCover}} class=cover></div> </div> </div> <div class=team-content-wrap> <div class="team-infobox-title cf"> <div ng-if=$ctrl.userIsAdmin class=uploadWrap> <div class=logoError ng-show=$ctrl.errors.teamLogo> {{$ctrl.errors.teamLogo}} </div> <upload-drop-area uda-name=Logo uda-data-name=file uda-image={{::$root.config.imgUrl}}{{$ctrl.team.info.group_logo_large}} uda-success-callback=$ctrl.logoUploadSuccess(data) uda-url={{::$root.config.apiUri}}/upload/team/ uda-delete-callback=$ctrl.logoDelete() uda-fallback-image={{::$root.config.fallbackImages.teamLogo}} class=team-logo></upload-drop-area> </div> <div ng-if=!$ctrl.userIsAdmin> <div back-img={{::$root.config.imgUrl}}{{$ctrl.team.info.group_logo_large}} back-img-fallback={{::$root.config.fallbackImages.teamLogo}} class=team-logo></div> </div> <div class=name> {{$ctrl.team.info.group_display_name}} </div> </div> <div class=team-infobox> <section class=description> {{$ctrl.team.info.group_text}} </section> <section class=members> <htbx-user-list team=$ctrl.team show-user-options=false sort=live type=team vertical-list=true callback=$ctrl.userListCallback(user) paginate=true></htbx-user-list> </section> </div> <div class=team-content> <section> <media-list-grid data-title="{{::\'global_header_live-now\' | translate}}" lines=6 list-length=$ctrl.lists.liveCount filter="{\n                                team: $ctrl.teamNameFilter,\n                            }"></media-list-grid> </section> <section> <div class=media-list-title> <h1> {{::\'global_text_videos\' | translate}} </h1> <div class=media-list-title__filter> <span ng-click="$ctrl.videoFilter = \'recent\'" ng-class="{\n                                        active: $ctrl.videoFilter == \'recent\',\n                                    }" class=media-list-title__filter__item> {{::\'global_text_newest\' | translate}} </span> <span ng-click="$ctrl.videoFilter = \'popular\'" ng-class="{\n                                        active: $ctrl.videoFilter == \'popular\',\n                                    }" class=media-list-title__filter__item> {{::\'global_text_most-popular\' | translate}} </span> </div> </div> <media-list-grid type=video lines=6 filter="{\n                                team: $ctrl.teamNameFilter,\n                            }" order-by=$ctrl.videoFilter show-more=true></media-list-grid> </section> </div> </div> </div> </htbx-layout-content> </htbx-layout> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(321)),r=a(n(2944)),s=a(n(2948));t.default=i.default.module("htbx.upload",[o.default,"ngFileUpload"]).component("uploadDropArea",r.default).component("cropModal",s.default).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=a(n(2)),s=a(n(2945)),l=a(n(2946));n(2947);var c=["image/png","image/jpg","image/jpeg","image/gif"],u=function(){function e(t,n,a,i,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$uibModal:t,$translate:n,HtbxModal:a,loggedUser:i,Upload:o,$stateParams:r}),this.templateUrlMenu=l.default}return e.$inject=["$uibModal","$translate","HtbxModal","loggedUser","Upload","$stateParams"],i(e,[{key:"$onInit",value:function(){this.showButton=!1,this.showDelete=this.udaDelete||!1,this.uploading=!1,this.areaType=this.udaCropType&&"circle"===this.udaCropType?"circle":"square",this.imageFile=null,this.allowedMimeTypes=c.join(","),this.validateConfig={size:{max:"500KB"},width:{min:"Cover"===this.udaName?1600:200},height:{min:"Cover"===this.udaName?900:200},pattern:this.allowedMimeTypes}}},{key:"$onChanges",value:function(e){var t=e.udaImage;this.hasImage=!(!t||t.currentValue&&t.currentValue===r.default.imgUrl),this.uploading=e.isLoading}},{key:"onError",value:function(e){if(e.$error){var t="Cover"===this.udaName?"1600x900px":"200x200px",n=this.validateConfig.size.max;switch(e.$error){case"minWidth":case"minHeight":new this.HtbxModal(this.$translate.instant("component_upload-drop-area_error-min-dimension",{minDimension:t})).open();break;case"maxSize":new this.HtbxModal(this.$translate.instant("component_upload-drop-area_error-max-size",{maxSize:n})).open();break;case"pattern":new this.HtbxModal(this.$translate.instant("component_upload-drop-area_error-invalid-file")).open();break;default:new this.HtbxModal(this.$translate.instant("global_error_try-again")).open()}}}},{key:"uploadDrop",value:function(e,t){e?c.includes(e.type)&&(this.imageFile=e,this.udaCrop?this.showCropDialog():this.upload(e)):t&&t.length&&this.onError(t[0])}},{key:"getImageFile",value:function(e){return function(e,t){var n=e;return n.lastModifiedDate=new Date,n.name="upload_file.jpg",e}(function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],a=[],i=0;i<t.length;i++)a.push(t.charCodeAt(i));return new Blob([new Uint8Array(a)],{type:n})}(e))}},{key:"setIsUploading",value:function(e){(0,o.isUndefined)(this.isUploading)||(this.isUploading=e)}},{key:"upload",value:function(e){var t=this,n=this.udaUserName||this.$stateParams.user||this.loggedUser.getName(),a=this.loggedUser.getToken(),i={};this.uploading=!0,this.setIsUploading(this.uploading),i[this.udaDataName]=e,"GameBGCover"===this.udaName&&(i.isBackground=!0),"TeamCover"!==this.udaName&&"Cover"!==this.udaName&&"Settings"!==this.udaName||(i.type="cover"),this.Upload.upload({url:this.udaUrl+n+"/"+a,method:"POST",data:i}).then(function(e,n){t.uploading=!1,t.setIsUploading(t.uploading),t.udaSuccessCallback({data:e.data,status:n})}).catch(function(e){t.uploading=!1,t.setIsUploading(t.uploading),t.udaErrorCallback(e)})}},{key:"showCropDialog",value:function(){var e=this;this.openCropDialog({animation:!0,backdrop:"static",keyboard:!0,windowClass:"modal-uploadcrop",component:"cropModal",resolve:{img:function(){return e.imageFile},width:function(){return e.udaCropWidth},height:function(){return e.udaCropHeight},areaType:function(){return e.areaType}}})}},{key:"openCropDialog",value:function(e){var t=this;this.$uibModal.open(e).result.then(function(e){"upload"===e.action&&t.upload(t.getImageFile(e.image)),"restart"===e.action&&t.alertMsgBox()})}},{key:"alertMsgBox",value:function(){var e=this.$translate.instant("view_modal-imageupload-error_header"),t=this.udaCropWidth+"x"+this.udaCropHeight,n=this.$translate.instant("view_modal-imageupload-error_message",{size:t}),a=[{result:!0,label:this.$translate.instant("global_button_continue"),variant:"ok"}];return new this.HtbxModal(e,n,a).open()}},{key:"deleteImage",value:function(){var e=this,t=this.$translate.instant("view_chat_text_remove-image"),n=[{result:!1,label:this.$translate.instant("global_text_cancel")},{result:!0,label:this.$translate.instant("global_text_remove"),variant:"warning"}];return new this.HtbxModal(t,"",n).open().then(function(t){t&&e.udaDeleteCallback()})}},{key:"toggleButton",value:function(){this.showButton=!this.showButton}},{key:"simulateUpload",value:function(e){(0,o.element)(e.currentTarget).next().click()}}]),e}();t.default={bindings:{udaUrl:"@",udaProgressCallback:"&",udaSuccessCallback:"&",udaDeleteCallback:"&",udaErrorCallback:"&",udaMethod:"@",udaDataName:"@",udaImage:"@udaImage",udaName:"@",udaFallbackImage:"@",udaUserName:"@",udaDelete:"<?",udaCropWidth:"@",udaCropHeight:"@",udaCrop:"<?",udaCropType:"@",isUploading:"=?",isLoading:"<?"},templateUrl:s.default,controller:u}},function(e,t,n){var a="/src/js/upload/components/upload-drop-area.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="upload-drop-area uploadImg" ngf-drop=$ctrl.uploadDrop($file) ngf-drag-over-class=uploadDragOver ng-class="{\'uploadLoading\': $ctrl.uploading}" ng-mouseenter="$ctrl.showButton = true" ng-mouseleave="$ctrl.showButton = false"> <div ng-if="$ctrl.hasImage && $ctrl.udaName === \'Settings\'"> <button ngf-select=$ctrl.uploadDrop($file) class="button button--size-default"> {{::\'global_button_change\'|translate}} </button> </div> <div ng-if="!$ctrl.hasImage || $ctrl.udaName !== \'Settings\'"> <div ng-if="!$ctrl.hasImage && $ctrl.udaName == \'Cover\'" class="addImage add-cover"> <button class="button button--size-default button--variant-default" ngf-select=$ctrl.uploadDrop($file) tooltip-placement="auto top" uib-tooltip="{{:: \'view_modal-upload_tooltip_jpg-format\' | translate }}" tooltip-append-to-body=true> {{:: \'global_text_add-cover\' | translate }} </button> <input type=file id=uploadElementManual ngf-select=uploadDrop($file) /> </div> <div ng-if="!$ctrl.hasImage && $ctrl.udaName == \'TeamCover\'" class="addImage add-cover"> <button class="button button--size-default button--variant-ok" ngf-select=$ctrl.uploadDrop($file) tooltip-placement="auto top" uib-tooltip="{{:: \'view_modal-upload_tooltip_jpg-teamcover\' | translate }}" tooltip-append-to-body=true> {{::\'global_text_add-cover\'|translate}} </button> </div> <div ng-if="!$ctrl.hasImage && $ctrl.udaName == \'Logo\'"> <div class=add-logo> <div class=add-logo__button ngf-select=$ctrl.uploadDrop($file) tooltip-placement="auto top" uib-tooltip="{{:: \'view_modal-upload_tooltip_jpg-max\' | translate }}" tooltip-append-to-body=true> {{:: \'global_text_add-image\' | translate }} </div> </div> </div> <div ng-if="!$ctrl.hasImage && $ctrl.udaName == \'GameBoxCover\'"> <div class=add-logo> <div class=add-logo__button ngf-select=$ctrl.uploadDrop($file) tooltip-placement="auto top" back-img={{::$root.config.fallbackImages.gameBoxCover}} uib-tooltip="{{:: \'view_modal-upload_tooltip_jpg\' | translate }}" tooltip-append-to-body=true></div> <div class=add-logo__text> Add Box Cover </div> </div> </div> <div ng-if="!$ctrl.hasImage && $ctrl.udaName == \'GameBGCover\'"> <div class=add-logo> <div class=add-logo__button ngf-select=$ctrl.uploadDrop($file) tooltip-placement="auto top" back-img={{::$root.config.fallbackImages.gameCover}} uib-tooltip="{{:: \'view_modal-upload_tooltip_jpg\' | translate }}" tooltip-append-to-body=true></div> <div class=add-logo__text> Add Background </div> </div> </div> <div ng-if="!$ctrl.hasImage && $ctrl.udaName == \'Backdrop\'"> <div class=add-logo> <div class=add-logo__button ng-click=$ctrl.simulateUpload($event) tooltip-placement="auto top" uib-tooltip="{{:: \'view_modal-upload_tooltip_jpg-min\' | translate }}" tooltip-append-to-body=true> {{:: \'global_text_add-image\' | translate }} </div> <input type=file id=uploadElementManual ngf-select=$ctrl.uploadDrop($file) /> </div> </div> <ul> <li ng-if=$ctrl.hasImage class="dropdown changeImage" ng-show=$ctrl.showButton> <button generic-popover gp-width=220 gp-height=200 gp-position=bottom gp-template-url={{::$ctrl.templateUrlMenu}} gp-on=click gp-classes=\'["nono","changeImage"]\' class=dropdown-toggle> <smash-icon icon=edit size=24 center=true></smash-icon> </button> </li> </ul> <div class=loadAnim> <smash-spinny data-size="\'medium\'" data-variant="\'light\'" data-center=true></smash-spinny> </div> <div class=dashedLine></div> <div ng-if=$ctrl.udaFallbackImage class=image back-img={{$ctrl.udaImage}} back-img-fallback={{::$ctrl.udaFallbackImage}} use-as-loading=false></div> <div ng-if=!$ctrl.udaFallbackImage class=image back-img={{$ctrl.udaImage}}></div> </div> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/upload/components/uda-menu.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<ul class=\"uda-menu navigation\"> <li class=navigation__item> <a class=navigation__item__link ng-click=$ctrl.simulateUpload($event)> {{:: 'global_text_upload' | translate }} </a> <input style=display:none type=file id=uploadElementManual ngf-select=\"$ctrl.uploadDrop($file, $invalidFiles);remove_tooltip()\" ngf-model-invalid=$ctrl.invalidFiles ngf-validate=$ctrl.validateConfig ngf-accept=$ctrl.allowedMimeTypes /> <div class=tip> <span>JPG, PNG, GIF</span> <span>{{:: 'view_modal-upload_text_max-500' | translate }}</span> <span>{{:: 'global_text_min' | translate }}. {{$ctrl.udaName=='Cover' ? '1600x900' : '200x200'}}px</span> </div> </li> <li ng-if=$ctrl.showDelete class=navigation__item> <a class=\"navigation__item__link navigation__item__link--red\" ng-click=$ctrl.deleteImage();remove_tooltip() ng-if=$ctrl.showButton> {{:: 'global_text_remove' | translate }} </a> </li> </ul> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2949));n(2950);var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$timeout:t,Upload:n})}return e.$inject=["$timeout","Upload"],a(e,[{key:"$onInit",value:function(){var e=this,t=this.resolve.img,n=this.resolve.width,a=this.resolve.height;this.errors={small_image:!1},this.cropper={},this.cropper.sourceImage=null,this.cropper.croppedImage=null,this.cropper.width=parseInt(n,10),this.cropper.height=parseInt(a,10),this.cropper.areaType=this.resolve.areaType,this.cropper.ar=n.toString()+"x"+a.toString(),this.Upload.imageDimensions(t).then(function(n){n.width<e.cropper.width||n.height<e.cropper.height?e.restart():e.Upload.dataUrl(t,!1).then(function(t){e.cropper.sourceImage=t})})}},{key:"dismissModal",value:function(){this.close({$value:{action:"cancel"}})}},{key:"restart",value:function(){this.close({$value:{action:"restart"}})}},{key:"upload",value:function(){this.close({$value:{action:"upload",image:this.cropper.croppedImage}})}}]),e}();t.default={bindings:{resolve:"<",close:"&",dismiss:"&"},templateUrl:i.default,controller:o}},function(e,t,n){var a="/src/js/upload/components/crop-modal.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div id=imagecrop> <div class=headline>{{::'view_image-upload_text_adjust-image' | translate}}</div> <htbx-button-close data-variant=modal-fixed data-on-select=$ctrl.dismissModal()></htbx-button-close> <div class=loader> <bouncy></bouncy> </div> <div> <img-crop result-image-aspect={{$ctrl.cropper.ar}} area-min-size=$ctrl.cropper.width original-data=$ctrl.cropper.sizeinfo maximize-crop=false result-image-size=$ctrl.cropper.width area-type={{$ctrl.cropper.areaType}} image=$ctrl.cropper.sourceImage result-image=$ctrl.cropper.croppedImage result-image-format=image/jpeg> </img-crop> </div> <div class=buttons> <htbx-button class=htbx-modal__footer__button data-type=button data-variant=cancel data-on-select=$ctrl.dismissModal()> {{::'global_button_cancel' | translate}} </htbx-button> <htbx-button class=htbx-modal__footer__button data-type=button data-variant=ok data-on-select=$ctrl.upload()> {{::'global_button_save' | translate}} </htbx-button> </div> </div> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=n(15),r=a(o),s=a(n(695)),l=a(n(190)),c=a(n(2952)),u=a(n(2954)),d=a(n(2957)),f=a(n(2963));t.default=i.default.module("htbx.videoManager",[r.default,s.default,l.default]).config(["$stateProvider","mediaExistsResolve",function(e,t){var n=o.ROUTING_CONFIG.accessLevels;e.state("videomanager",{url:"/video-manager/:user",section:"videoManager",resolve:t,parent:"nav",title:'{{"global_text_videos" | translate}}',views:{"viewMain@":{template:"<video-manager-page></video-manager-page>"}},access:n.admin,tab:"livestreams",requiresAuth:!0,layoutVariant:"settings"}).state("videomanager.videos",{url:"/videos",section:"videos",title:"",template:'<video-manager ng-if="$ctrl.livestream" livestream="$ctrl.livestream"></video-manager>',access:n.admin,tab:"livestreams",requiresAuth:!0,layoutVariant:"settings"}).state("videomanager.recordings",{url:"/recordings",section:"recordings",title:"",template:'<video-manager livestream="$ctrl.livestream" use-recordings="true"></video-manager>',access:n.admin,tab:"livestreams",requiresAuth:!0,layoutVariant:"settings"}).state("videomanager.videoEditor",{url:"/video/:id",section:"videos",title:"",template:"<video-editor></video-editor>",access:n.admin,tab:"livestreams",requiresAuth:!0,layoutVariant:"full",layoutHideNavigation:!0}).state("videomanager.recordingsEditor",{url:"/recording/:id",section:"videos",title:"",template:'<video-editor is-recording="true"></video-editor>',access:n.admin,tab:"livestreams",requiresAuth:!0,layoutVariant:"full",hideNavigation:!0}).state("videomanager.upload",{url:"/videos/upload",section:"videos",title:"",template:'<video-editor is-upload-form="true"></video-editor>',access:n.admin,tab:"livestreams",requiresAuth:!0})}]).component("videoManagerPage",c.default).component("videoEditor",u.default).component("videoManager",d.default).component("videoManagerNavigation",f.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2953)),r=function(){function e(t,n,a,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.redirectOnAbstractState=function(){o.$state.is("videomanager")&&o.$state.go("videomanager.videos"),(o.$state.is("videomanager.videoEditor")||o.$state.is("videomanager.recordingsEditor"))&&(o.isEditor=!0)},this.$state=t,this.$stateParams=n,this.$scope=a,this.medias=i}return e.$inject=["$state","$stateParams","$scope","medias"],a(e,[{key:"$onInit",value:function(){var e=this;this.layoutVariant=this.$state.current.layoutVariant?this.$state.current.layoutVariant:"",this.layoutPage=this.$state.current.layoutPage?this.$state.current.layoutPage:"",this.layoutDesign=this.$state.current.layoutDesign?this.$state.current.layoutDesign:"",this.layoutShowFooter=!!(0,i.isUndefined)(this.$state.current.layoutShowFooter)||this.$state.current.layoutShowFooter,this.layoutHideNavigation=!(0,i.isUndefined)(this.$state.current.layoutHideNavigation)&&this.$state.current.layoutHideNavigation,this.$scope.$on("$stateChangeSuccess",this.redirectOnAbstractState),this.redirectOnAbstractState(),this.medias.get(this.$stateParams.user,"live").then(function(t){e.livestream=t})}}]),e}();t.default={templateUrl:o.default,controller:r}},function(e,t,n){var a="/src/js/video-manager/components/video-manager-page.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<htbx-layout data-design={{$ctrl.layoutDesign}} data-page={{$ctrl.layoutPage}} data-variant={{$ctrl.layoutVariant}} data-show-footer=$ctrl.layoutShowFooter> <htbx-layout-navigation> <htbx-sub-nav data-active-section={{$root.section}}></htbx-sub-nav> </htbx-layout-navigation> <htbx-layout-content> <div class=video-manager> <div ui-view class=video-manager__content--{{tab}}></div> </div> </htbx-layout-content> </htbx-layout> ")}]),e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(0)),r=a(n(43)),s=a(n(361)),l=a(n(2)),c=a(n(2955));n(2956);var u=function(){function e(t,n,a,i,o,s,l,c,u,d,f,p,m,h,g){var _=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{$log:t,$interval:n,$rootScope:a,$state:i,$stateParams:o,$timeout:s,$translate:l,confirmStore:c,GameSearch:u,loggedUser:d,medias:f,Media:p,Recordings:m,TranscodingCheck:h,videoDurationFilter:g}),this.openConfirm=c.openConfirm,this.isConfirmWaiting=c.isConfirmWaiting,this.cancelConfirm=c.cancelConfirm,this.loading=!1,this.games=[],this.selectedGame={},this.isRecording&&(this.timeRange=[0,100],this.rangeFormat=[]),this.isUploadForm&&(this.rand=Math.random().toString(36).slice(2),this.uploading=!1,this.processing=!1,this.videoProcessed=!1,this.item={}),this.error={title:"",msg:""},this.seekTo=(0,r.default)(function(e,t){t&&null===t.handle.nextSibling||_.$rootScope.$broadcast("player.seekTo",_.calculateClippedSeconds(_.timeRange[0]))},300)}return e.$inject=["$log","$interval","$rootScope","$state","$stateParams","$timeout","$translate","confirmStore","GameSearch","loggedUser","medias","Media","Recordings","TranscodingCheck","videoDurationFilter"],i(e,[{key:"$onInit",value:function(){this.isRecording?this.getRecording():this.isUploadForm||this.getVideo()}},{key:"$onDestroy",value:function(){this.cancelConfirm(),this.isUploadForm&&this.$flow.isUploading()&&this.cancelFlowUpload(this.$flow)}},{key:"getVideo",value:function(e){var t=this;this.loading=!0,this.medias.get(this.$stateParams.id||e,"video").then(function(e){e&&(t.item=e,t.videoTitle=t.item.media_status,t.videoDescription=t.item.media_description,t.selectedGame.category_id=t.item.category_id,t.selectedGame.category_name=t.item.category_name),t.loading=!1})}},{key:"getRecording",value:function(){var e=this,t={user_name:this.$stateParams.user,rec_id:this.$stateParams.id,authToken:this.loggedUser.getToken(),nocache:!0};this.loading=!0,this.Recordings.get(t,function(t){t.recordings&&(e.item=t.recordings[0],e.videoTitle=e.item.rec_title,e.selectedGame.category_id=e.item.rec_category_id,e.selectedGame.category_name=e.item.category_name,e.updateRangeFormat(),e.loading=!1)},function(){e.loading=!1})}},{key:"videoFinished",value:function(){return this.videoProcessed}},{key:"saveVideo",value:function(e){var t=this;if(this.isRecording)this.createVideo();else{this.loading=!0;var n=function(){var e=this,t=void 0;"1"===this.item.media_uploaded&&"1"===this.item.media_processing&&(t=this.$interval(function(){e.TranscodingCheck.transcodeProgressCheck(e.item).then(function(){e.$timeout(function(){e.medias.refresh(e.item.media_id,"video",{cacheBuster:Number(new Date)}).then(function(n){e.item=n,e.processing=!1,e.videoProcessed=!0,e.$interval.cancel(t)})},1e4)})},1e4),this.processing=!0,this.uploading=!1)}.bind(this),a=function(){this.loading=!1,this.uploading&&(this.uploading=!1),parseInt(this.item.media_progress,10)>=100&&(this.processing=!1),e&&e.$setPristine()}.bind(this);this.isRecording||(this.item.media_status=this.videoTitle,this.item.media_description=this.videoDescription,this.medias.update(this.item,"video").then(function(e){t.isUploadForm?t.medias.get(t.item.media_id,"video").then(function(e){t.item=e,n(),t.loading=!1}):(t.item=e,a(),t.$state.go("videomanager.videos",{user:t.$stateParams.user}))},function(){a()}))}}},{key:"selectGame",value:function(e){this.selectedGame=e,this.isRecording?this.item.rec_category_id=e.category_id:this.item.media_category_id=e.category_id,this.games=[]}},{key:"searchGames",value:function(e){var t=this;return e?this.GameSearch.get({limit:100,q:e},function(e){t.games=e.categories}).$promise:(this.games=[],!1)}},{key:"cancel",value:function(){this.isUploadForm&&this.$flow.isUploading()&&this.cancelFlowUpload(this.$flow),this.isRecording?this.$state.go("videomanager.recordings",{user:this.$stateParams.user}):this.$state.go("videomanager.videos",{user:this.$stateParams.user})}},{key:"cancelFlowUpload",value:function(e){this.$timeout(function(){e.cancel()},0,!1)}},{key:"cancelProcessing",value:function(e){var t=this;if(this.uploading)this.cancel(e);else{var n={media_id:this.item.media_id,media_name:this.$stateParams.user,media_type:"video",list:"list",authToken:this.loggedUser.getToken(),nocache:!0,showHidden:!0,liveonly:!1};this.Media.delete(n,function(){t.cancel()},function(){t.error.msg=t.$translate.instant("global_error_try-again")})}}},{key:"getThumbnails",value:function(){var e=this;if(!this.item)return!1;var t=[],n=this.item.rec_session.substring(0,3),a=0;return(0,s.default)(10,function(){t.push(l.default.imgUrl+"/static/img/media/videos/"+n+"/"+e.item.rec_session+"_small_00"+a+".jpg"),a+=1}),t}},{key:"updateTimeRange",value:function(e,t){this.timeRange[e]=t?this.timeRange[e]+this.rangeSteps:this.timeRange[e]-this.rangeSteps,0===e&&this.seekTo(),this.updateRangeFormat()}},{key:"durationToSeconds",value:function(e){for(var t=e.toString().split(":"),n=0,a=1;t.length>0;)n+=a*parseInt(t.pop(),10),a*=60;return n}},{key:"updateStartTime",value:function(e){e.preventDefault();var t=this.rangeSteps*this.durationToSeconds(this.rangeFormat[0]);(isNaN(t)||t>this.rec_duration_sec||t<0)&&(t=0),t>this.timeRange[1]&&(t=this.timeRange[1]-this.rangeSteps),this.timeRange[0]=t,this.rangeFormat[0]=this.videoDurationFilter(this.calculateClippedSeconds(this.timeRange[0])),this.updateRangeFormat(),this.seekTo()}},{key:"updateEndTime",value:function(e){e.preventDefault();var t=this.rangeSteps*this.durationToSeconds(this.rangeFormat[1]);(isNaN(t)||t>100)&&(t=100),t<this.timeRange[0]&&(t=this.timeRange[0]+this.rangeSteps),this.timeRange[1]=t,this.rangeFormat[1]=this.videoDurationFilter(this.calculateClippedSeconds(this.timeRange[1])),this.updateRangeFormat()}},{key:"updateRangeFormat",value:function(){var e=this.calculateClippedSeconds(this.timeRange[0]),t=this.calculateClippedSeconds(this.timeRange[1]),n=t-e;this.clipDuration=n,this.original=0===this.timeRange[0]&&100===this.timeRange[1],this.clipStart=e,this.rangeFormat[0]=this.videoDurationFilter(e),this.rangeFormat[1]=this.videoDurationFilter(t),this.rangeSteps=100/this.item.rec_duration_sec}},{key:"calculateClippedSeconds",value:function(e){return Math.round(this.item.rec_duration_sec*e/100)}},{key:"createVideo",value:function(){var e=this,t={user_name:this.$stateParams.user,authToken:this.loggedUser.getToken(),media_type:"video",media_description:this.videoDescription,media_title:this.videoTitle,media_status:this.videoTitle,media_name:this.$stateParams.user,media_hidden:this.item.media_hidden,media_category_id:this.item.rec_category_id,clip_duration:this.clipDuration,clip_start:this.clipStart,rec_session:this.item.rec_session,original:this.original};this.loading=!0,this.Media.create(t,function(){e.loading=!1,e.$state.go("videomanager.recordings",{user:e.$stateParams.user})},function(t){e.$log.debug("MediaCreateError",t),e.loading=!1,t.data&&"media_already_exists"===t.data.error_msg?(e.error.title=e.$translate.instant("global_error_error-occured"),e.error.msg=e.$translate.instant("view_editor-recording-settings_error_already-exists")):(e.error.title=e.$translate.instant("global_error_error-occured"),e.error.msg=e.$translate.instant("view_editor-recording-settings_error_not-saved"))})}},{key:"uploadConfig",value:function(){return{target:"https://upload.vie.hitbox.tv/mediaupload/"+this.rand,simultaneousUploads:3,singleFile:!0,query:{user_name:this.$stateParams.user,authToken:this.loggedUser.getToken()}}}},{key:"uploadSuccess",value:function(e){var t=o.default.fromJson(e);this.item.media_name=t.vod_session,this.item.media_user_name=this.$stateParams.user,this.item.media_id=t.media_id,this.saveVideo()}},{key:"uploadStarted",value:function(e){return e.file&&-1!==e.file.type.indexOf("video/")?(this.resetError(),this.videoTitle=e.name.replace(/\.[^\/.]+$/,""),this.uploading=!0,!0):(this.error.msg="The file you were trying to upload is not a valid video file.",!1)}},{key:"resetError",value:function(){this.error={title:"",msg:""}}},{key:"setDragging",value:function(e){this.dragging=e}},{key:"isDragging",value:function(){return this.dragging}}]),e}();t.default={bindings:{isRecording:"<?",isUploadForm:"<?"},templateUrl:c.default,controller:u}},function(e,t,n){var a="/src/js/video-manager/components/video-editor.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,'<div class="video-editor box" flow-init=$ctrl.uploadConfig() flow-name=$ctrl.$flow flow-file-added="$ctrl.uploadStarted($file, $event, $flow)" flow-file-success=$ctrl.uploadSuccess($message) flow-files-submitted=$flow.upload()> <div class=box__title> <span ng-if="!$ctrl.isConfirmWaiting($ctrl.item.media_id) || !$ctrl.isUploadForm"> <a ng-if="(!$ctrl.isUploadForm && !$ctrl.isRecording) || ($ctrl.isUploadForm && $ctrl.videoFinished())" ui-sref="detail.video({channel: $ctrl.item.media_user_name, id: $ctrl.item.media_id})"> {{$ctrl.videoTitle}} </a> <span ng-if="$ctrl.isRecording || ($ctrl.isUploadForm && ($ctrl.processing || $ctrl.uploading))"> {{$ctrl.videoTitle}} </span> <span ng-if="$ctrl.isUploadForm && !$ctrl.processing && !$ctrl.videoFinished() && !$ctrl.uploading"> {{::\'global_text_upload-file\' | translate}} </span> </span> <span ng-if=$ctrl.isConfirmWaiting($ctrl.item.media_id)> {{::\'view_editor-recording-settings_text_cancel-upload\' | translate}} </span> </div> <form accept-charset=UTF-8 class="form_enclosed box__content" name=videoEditorForm ng-submit=$ctrl.saveVideo(videoEditorForm) novalidate> <htbx-alert ng-if=$ctrl.error.msg type=error alert-title={{$ctrl.error.title}} dismissable=true on-dismiss=$ctrl.resetError()> {{$ctrl.error.msg}} </htbx-alert> <htbx-alert ng-if=$ctrl.processing type=success dismissable=true> {{::\'view_editor-recording-settings_text_your-video-is-being-processed\' | translate}} </htbx-alert> <div ng-if="$ctrl.isUploadForm && !$ctrl.uploading && !$ctrl.processing && !$ctrl.videoFinished()" class="video-editor__drop-area box__row" flow-drop flow-drag-enter=$ctrl.setDragging(true) flow-drag-leave=$ctrl.setDragging(false) flow-attrs="{accept:\'video/*\'}" ng-class="{\n                \'video-editor__drop-area--dragging\': $ctrl.isDragging(),\n            }"> <button type=button class="button button--size-default button--ok video-editor__drop-area__upload-button" title="{{::\'global_text_upload\' | translate}}" flow-attrs="{accept:\'video/*\'}" flow-btn> <smash-icon icon=upload size=32 center></smash-icon> </button> <div class=video-editor__drop-area__select-file> {{::\'global_text_select-video-file\' | translate}} </div> <div class=video-editor__drop-area__drop-file> {{::\'global_text_select-video-file-alternative\' | translate}} </div> </div> <div ng-if="($ctrl.isUploadForm && ($ctrl.uploading || $ctrl.processing || $ctrl.videoFinished())) || !$ctrl.isUploadForm" class=video-editor> <div class=row1> <div class=colL> <div ng-if="$ctrl.isUploadForm && ($ctrl.uploading || $ctrl.processing)" class="video-manager__upload-preview player center"> <div ng-if=!$ctrl.videoFinished() class=video-manager__upload-preview__progress-time-remaining> <span ng-if="$ctrl.uploading && ($flow.files[0].timeRemaining() | videoTimeRemaining)"> {{$flow.files[0].timeRemaining() | videoTimeRemaining}} </span> <span ng-if="$ctrl.uploading && !($flow.files[0].timeRemaining() | videoTimeRemaining)"> {{::\'global_text_upload-starting\' | translate}} </span> <span ng-if=$ctrl.processing> {{::\'view_video-settings_text_processing\' | translate}}{{$ctrl.item.media_progress || 0}}% </span> </div> <div class="video-manager__upload-preview__progress video-manager__upload-preview__progress-background" ng-class="{\n                                \'video-manager__upload-preview__progress--upload\': $ctrl.uploading,\n                                \'video-manager__upload-preview__progress--processing\': $ctrl.item.media_processing === \'1\',\n                            }"></div> <div class=video-manager__upload-preview__progress ng-class="{\n                                \'video-manager__upload-preview__progress--upload\': $ctrl.uploading,\n                                \'video-manager__upload-preview__progress--processing\': $ctrl.item.media_processing === \'1\',\n                            }" ng-style="{ width: ($ctrl.uploading ? ($flow.files[0].progress()*100) : ($ctrl.item.media_progress || 0)) + \'%\' }"></div> <div class=video-manager__upload-preview__spinner> <smash-spinny variant="\'light\'" size="\'large\'" center=true></smash-spinny> </div> <img fallback-src={{::$root.config.fallbackImages.videoMedia}} ng-src="{{::$root.config.imgUrl + $ctrl.item.media_thumbnail}}" class=video-manager__upload-preview__img alt=""/> </div> <div ng-if="($ctrl.isUploadForm && $ctrl.videoFinished()) || !$ctrl.isUploadForm" class="player fullScreenWrapper"> <media-player ng-if="(!$ctrl.isUploadForm && $ctrl.item.media_id) || ($ctrl.isUploadForm && $ctrl.item.media_id && $ctrl.videoFinished())" media-id=$ctrl.item.media_id media-type=video></media-player> <media-player ng-if=$ctrl.item.rec_name media-id=$ctrl.item.rec_name recording=$ctrl.item></media-player> </div> <div ng-if=$ctrl.isRecording class="video-editor__timeline nono"> <div class=video-editor__timeline__frames> <div ng-repeat="thumb in $ctrl.getThumbnails() track by $index" ng-style="{\'background-image\': \'url(\' + thumb + \')\'}"></div> </div> <div ui-slider="{range: true, stop: $ctrl.seekTo}" min=0 max=100 step=0.0001 use-decimals ng-change=$ctrl.updateRangeFormat() ng-model=$ctrl.timeRange></div> <div ng-if="$ctrl.timeRange[0] < $ctrl.timeRange[1]" class=video-editor__timeline__trim-limit> <div class="video-editor__timeline__trimmer video-editor__timeline__trimmer--start"> <div class=video-editor__timeline__trimmer__time> <button ng-if="$ctrl.timeRange[0] >= 1" ng-click="$ctrl.updateTimeRange(0, false)" type=button class="video-editor__timeline__trimmer__time__button video-editor__timeline__trimmer__time__button--substract"> <span class=video-editor__timeline__trimmer__time__button__icon> <smash-icon icon=arrow-right size=12 center=true></smash-icon> </span> </button> <input class=video-editor__timeline__trimmer__time__input ng-model=$ctrl.rangeFormat[0] ui-keypress="{enter:\'$ctrl.updateStartTime($event)\'}"/> <button ng-if="$ctrl.timeRange[0] <= 99" ng-click="$ctrl.updateTimeRange(0, true)" type=button class=video-editor__timeline__trimmer__time__button> <span class=video-editor__timeline__trimmer__time__button__icon> <smash-icon icon=arrow-right size=12 center=true></smash-icon> </span> </button> </div> </div> <div class="video-editor__timeline__trimmer video-editor__timeline__trimmer--end"> <div class=video-editor__timeline__trimmer__time> <button ng-if="$ctrl.timeRange[1] >= 1" ng-click="$ctrl.updateTimeRange(1, false)" type=button class="video-editor__timeline__trimmer__time__button video-editor__timeline__trimmer__time__button--substract"> <span class=video-editor__timeline__trimmer__time__button__icon> <smash-icon icon=arrow-right size=12 center=true></smash-icon> </span> </button> <input ng-model=$ctrl.rangeFormat[1] ui-keypress="{enter:\'$ctrl.updateEndTime($event)\'}" class=video-editor__timeline__trimmer__time__input /> <button ng-if="$ctrl.timeRange[1] <= 99" ng-click="$ctrl.updateTimeRange(1, true)" type=button class=video-editor__timeline__trimmer__time__button> <span class=video-editor__timeline__trimmer__time__button__icon> <smash-icon icon=arrow-right size=12 center=true></smash-icon> </span> </button> </div> </div> </div> </div> </div> <div class=colR> <div class=meta> <label> <input class=text name=videoTitle placeholder="{{::\'global_text_title\' | translate}}" ng-model=$ctrl.videoTitle required/> </label> <label> <textarea name=videoDescription placeholder="{{::\'global_text_description\' | translate}}" ng-model=$ctrl.videoDescription msd-elastic></textarea> </label> <label> <ui-select ng-model=$ctrl.selectedGame.category_name theme=select2 append-to-body=false on-select=$ctrl.selectGame($item) autofocus=true> <ui-select-match placeholder="{{ \'global_text_select-game\' | translate }}"> {{$select.selected}} </ui-select-match> <ui-select-choices refresh=$ctrl.searchGames($select.search) repeat="game in $ctrl.games"> <div> {{game.category_name}} </div> </ui-select-choices> </ui-select> </label> <toggle-checkbox data-dark-background=true ng-model=$ctrl.item.media_hidden label="{{::\'global_text_private\' | translate}}"></toggle-checkbox> <label ng-if=$ctrl.isRecording> <div> {{::\'global_text_thumbnail\' | translate}} </div> <img class=video-editor__thumbnail-small ng-src={{::$root.config.imgUrl}}{{$ctrl.item.thumbnail}} alt=""/> </label> </div> </div> </div> </div> <div class=video-editor__details-wrap> <div ng-if=$ctrl.isRecording class=video-manager__details> <dl class=video-manager__details__detail> <dt class=video-manager__details__detail__label> {{::\'view_editor-recording-settings_label_recorded\' | translate}} </dt> <dd class=video-manager__details__detail__value> {{$ctrl.item.rec_date_added}} </dd> <dt class=video-manager__details__detail__label> {{::\'view_editor-recording-settings_label_duration\' | translate}} </dt> <dd class=video-manager__details__detail__value> {{$ctrl.item.rec_duration}} </dd> </dl> <dl class=video-manager__details__detail> <dt class=video-manager__details__detail__label> {{::\'view_editor-recording-settings_label_dimensions\' | translate}} </dt> <dd class=video-manager__details__detail__value> {{$ctrl.item.rec_info.width}} x {{$ctrl.item.rec_info.height}} </dd> <dt class=video-manager__details__detail__label> <span>{{::\'global_label_bitrate\' | translate}}</span>: </dt> <dd class=video-manager__details__detail__value> {{$ctrl.item.rec_bitrate / 1000 | number:0}} kbps </dd> <dt class=video-manager__details__detail__label> {{::\'view_editor-recording-settings_label_framerate\' | translate}} </dt> <dd class=video-manager__details__detail__value> {{$ctrl.item.rec_info.r_frame_rate}} fps </dd> </dl> </div> <div ng-if=$ctrl.isConfirmWaiting($ctrl.item.media_id) class=video-editor__buttons> <htbx-button data-type=button data-variant=cancel data-on-select=$ctrl.cancelConfirm() class=video-editor__buttons__button> {{::\'global_text_cancel\' | translate}} </htbx-button> <htbx-button data-type=submit data-variant=ok data-on-select=$ctrl.cancelProcessing() class=video-editor__buttons__button> {{::\'global_button_confirm\' | translate}} </htbx-button> </div> <div ng-if="(!$ctrl.isConfirmWaiting($ctrl.item.media_id) && ($ctrl.uploading || $ctrl.processing || $ctrl.videoFinished())) || !$ctrl.isUploadForm" class=video-editor__buttons> <htbx-button ng-if="!$ctrl.isUploadForm || ($ctrl.isUploadForm && !($ctrl.uploading || $ctrl.processing))" data-type=button data-variant=cancel data-on-select=$ctrl.cancel() class=video-editor__buttons__button> {{::\'global_text_cancel\' | translate}} </htbx-button> <htbx-button ng-if="$ctrl.isUploadForm && ($ctrl.uploading || $ctrl.processing)" data-type=button data-variant=cancel data-on-select=$ctrl.openConfirm($ctrl.item.media_id) class=video-editor__buttons__button> {{::\'global_text_cancel\' | translate}} </htbx-button> <htbx-button data-type=submit data-variant=ok data-disabled="videoEditorForm.$invalid || (!$ctrl.isRecording && videoEditorForm.$pristine) || !$ctrl.selectedGame.category_name || ($ctrl.isUploadForm && $ctrl.uploading)" data-loading=$ctrl.loading class=video-editor__buttons__button> {{::\'global_button_save\' | translate}} </htbx-button> </div> </div> </form> </div> ')}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,o,c,m,h,g,_,v,b,y,w,$){function x(e){M.fullResults=(0,l.default)(M.fullResults,e),M.items=(0,l.default)(M.items,e),M.totalItemCount=M.totalItemCount-1<0?0:M.totalItemCount-1,M.useRecordings?(delete M.params.user_name,delete M.params.rec_session):delete M.params.media_id}function k(e){M.livestream.media_offline_id=e?e.media_id:null,M.mediasService.update(M.livestream).then(function(e){M.livestream=e})}function S(){var e=n.host(),a=window.open("https://"+e+"/api/youtube/login?user_name="+i.user+"&authToken="+m.getToken(),"_blank"),o=t(function(){(null==a||a.closed)&&(t.cancel(o),C())},1e3)}function C(){var e={user_name:i.user,authToken:m.getToken()};w.get(e,function(e){M.youtube.connected=!0,M.youtube.channel=e.channel,o.trackEvent("stream","YoutubeConnectOk")},function(){o.trackEvent("stream","YoutubeConnectError"),M.youtube.connected=!1})}var M=this;this.$timeout=e,this.$stateParams=i,this.loggedInUserService=m,this.mediaFactory=h,this.mediasService=g,this.recordingsFactory=_,this.$log=$,this.recordingsTableItemTpl=u.default,this.videosTableItemTpl=d.default,this.tableTemplates={listVideoActions:f.default},(0,r.default)(this,v),(0,r.default)(this,b),this.params={media_name:i.user,media_type:"video",list:"list",authToken:m.getToken(),nocache:!0,showHidden:!0,liveonly:!1,limit:p},this.ytPushing=[],this.filters=[{name:"all",label:a.instant("global_text_all"),enabled:!0},{name:"publicOnly",label:a.instant("global_text_public"),enabled:!1},{name:"hiddenOnly",label:a.instant("global_text_private"),enabled:!1},{name:"yt",label:a.instant("view_video-settings_link_pushed-youtube"),enabled:!1,separator:!0}],this.sortOptions=[{name:"recent",label:a.instant("global_text_newest"),enabled:!0},{name:"popular",label:a.instant("global_link_most-viewed"),enabled:!1}],this.actions={deleteItem:function(e){M.useRecordings?(M.params.user_name=i.user,M.params.rec_session=e.rec_session,_.delete(M.params,function(){x(e)},function(){M.error.msg=a.instant("global_error_try-again")})):(M.params.media_id=e.media_id,h.delete(M.params,function(){M.livestream.media_offline_id==e.media_id&&k(),x(e)},function(){M.error.msg=a.instant("global_error_try-again")}))},setOfflineTrailer:k,pushYT:function(e){if(M.youtube.connected&&null!==M.youtube.channel){var t={media_id:e.media_id};M.ytPushing.push(e),y.upload(t).$promise.then(function(){!function(e){g.refresh(e.media_id,"video").then(function(t){Object.assign(e,t),c.cancelConfirm()})}(e)}).catch(function(){}).finally(function(){M.ytPushing=(0,l.default)(M.ytPushing,e)}),o.trackEvent("stream","youtubePush")}else S()},isYTPushing:function(e){return M.ytPushing.includes(e)},getLivestream:function(){return M.livestream},connectYouTube:S,getYouTube:function(){return M.youtube},isConfirmWaiting:c.isConfirmWaiting,getConfirmType:c.getConfirmType,cancelConfirm:c.cancelConfirm,openConfirm:c.openConfirm,isHDAvailable:function(e){if(M.useRecordings)return e.rec_info.height>=720;var t=JSON.parse(e.media_profiles);return!!(0,s.default)(t,function(e){return parseInt(e.height,10)>=720})},is4KAvailable:function(e){if(M.useRecordings)return e.rec_info.height>=2160;var t=JSON.parse(e.media_profiles);return!!(0,s.default)(t,function(e){return parseInt(e.height,10)>=2160})}},this.youtube={connected:!1},this.search="",this.fullResults=[],this.error={title:"",msg:""},this.$onInit=function(){var e=this;if(this.useRecordings)return M.trackBy="rec_id",void this.getRecordings();M.trackBy="media_id",this.getVideos(),this.hasTranscoding=!1,this.isSuperAdmin=this.loggedInUserService.isSuperAdmin,i.user?this.stateUserName=i.user:this.stateUserName=this.loggedInUserService.getName(),g.get(i.user,"live").then(function(t){e.hasTranscoding="1"===t.media_transcoding}),C()},this.$onDestroy=function(){c.cancelConfirm()}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(43)),r=a(n(59)),s=a(n(32)),l=a(n(56)),c=a(n(2958)),u=a(n(2959)),d=a(n(2960)),f=a(n(2961));n(2962),i.$inject=["$timeout","$interval","$location","$translate","$stateParams","Analytics","confirmStore","loggedUser","Media","medias","Recordings","Sortable","TranscodingCheck","UploadYT","YoutubeAccount","$log"];var p=15;t.default={bindings:{livestream:"<",useRecordings:"<?"},templateUrl:c.default,controller:i},i.prototype.loadMore=function(){this.fullResults.length===this.params.limit&&(this.$log.debug("Load more %s",this.useRecordings?"recordings":"videos"),this.params.limit+=p,this.getVideos())},i.prototype.getVideos=function(e){var t=this;e&&(this.params=Object.assign(this.params,e)),this.useRecordings?this.getRecordings(e):(this.filters.forEach(function(e){t.params[e.name]=e.enabled}),this.sortOptions.forEach(function(e){e.enabled&&(t.params.filter=e.name)}),this.params.search=this.search.length?this.search:null,this.loading=!0,this.mediaFactory.get(this.params,function(e){t.items=e.video,t.trackBy="media_id",t.totalItemCount=e.max_results,t.search.length||(t.fullResults=e.video),t.finishedLoading(),t.items.forEach(function(e){"1"===e.media_uploaded&&"1"===e.media_processing&&t.transcodeProgressInit(e)})},function(){t.search.length&&(t.fullResults=t.items),t.items=[],t.totalItemCount=0,t.finishedLoading()}))},i.prototype.getRecordings=function(){var e=this,t={user_name:this.$stateParams.user,authToken:this.loggedInUserService.getToken(),limit:this.params.limit};this.loading=!0,this.recordingsFactory.get(t,function(t){e.trackBy="rec_id",e.items=t.recordings,e.totalItemCount=t.max_results,e.fullResults=t.recordings,e.finishedLoading()})},i.prototype.finishedLoading=function(){var e=this;this.$timeout(function(){e.loading=!1},500)},i.prototype.filterResults=(0,o.default)(function(){(this.search.length>=3||!this.search.length)&&this.getVideos()},500),i.prototype.getActiveFilter=function(){return(0,s.default)(this.filters,"enabled")},i.prototype.getActiveSort=function(){return(0,s.default)(this.sortOptions,"enabled")},i.prototype.setFilter=function(e){this.filters.forEach(function(t){t.enabled=t===e}),this.getVideos()},i.prototype.setSortOption=function(e){this.sortOptions.forEach(function(t){t.enabled=t===e}),this.getVideos()},i.prototype.resetError=function(){this.error={title:"",msg:""}}},function(e,t,n){var a="/src/js/video-manager/components/video-manager.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <htbx-alert ng-if=$ctrl.error.msg type=error alert-title={{$ctrl.error.title}} dismissable=true on-dismiss=$ctrl.resetError()> {{$ctrl.error.msg}} </htbx-alert> <div class=box> <div class=box__title> {{::($ctrl.useRecordings ? \'global_menu_recordings\' : \'global_text_videos\') | translate}} <a ng-if="!$ctrl.useRecordings && $ctrl.hasTranscoding" ui-sref="videomanager.upload({user: $ctrl.stateUserName})" class="button button--size-default button--default video-manager__upload-button"> <span class=video-manager__upload-button__text> {{::\'global_text_upload-video\' | translate}} </span> <span class=video-manager__upload-button__icon> <smash-icon icon=upload size=24 center=true></smash-icon> </span> </a> </div> <div class=box__content> <div infinite-scroll=$ctrl.loadMore() infinite-scroll-disabled=$ctrl.loading infinite-scroll-immediate-check=false> <htbx-table list=$ctrl.items track-by={{$ctrl.trackBy}} item-tpl="{{$ctrl.useRecordings ? $ctrl.recordingsTableItemTpl : $ctrl.videosTableItemTpl}}" actions=$ctrl.actions templates=$ctrl.tableTemplates class=video-manager__list> <div ng-if=!$ctrl.useRecordings class=video-manager__list__header> <label class=video-manager__list__header__search> <span class=video-manager__list__header__search__icon> <smash-icon icon=search size=16 center=true></smash-icon> </span> <input class=video-manager__list__header__search__input ng-disabled=$ctrl.loading ng-model=$ctrl.search ng-change=$ctrl.filterResults() placeholder="{{::\'global_text_search\'|translate}}"/> </label> <div class=video-manager__list__header__filters> <div uib-dropdown class="nono dropdown table__list__filter"> <div uib-dropdown-toggle class=table__list__filter__button> <span class=table__list__filter__button__text> {{$ctrl.getActiveFilter().label}} | {{$ctrl.totalItemCount || 0}} </span> <span class=table__list__filter__button__icon> <smash-icon icon=tiny-arrow center=true></smash-icon> </span> </div> <ul uib-dropdown-menu class="dropdown-menu table__list__filter__dropdown"> <li ng-class="{\n                                        \'table__list__filter__dropdown--enabled\': filter.enabled,\n                                    }" ng-repeat="filter in $ctrl.filters"> <a ng-click=$ctrl.setFilter(filter)> {{filter.label}} </a> </li> </ul> </div> <div uib-dropdown class="nono dropdown table__list__filter"> <div uib-dropdown-toggle class=table__list__filter__button> <span class=table__list__filter__button__text> {{$ctrl.getActiveSort().label}} </span> <span class=table__list__filter__button__icon> <smash-icon icon=tiny-arrow center=true></smash-icon> </span> </div> <ul uib-dropdown-menu class="dropdown-menu table__list__filter__dropdown"> <li class=navigation__item ng-class="{\n                                        \'table__list__filter__dropdown--enabled\': sortOption.enabled,\n                                    }" ng-repeat="sortOption in $ctrl.sortOptions"> <a class=navigation__item__link ng-click=$ctrl.setSortOption(sortOption)> {{sortOption.label}} </a> </li> </ul> </div> </div> </div> <div ng-if="!$ctrl.items.length && !$ctrl.loading" class=video-manager__no-videos> {{::($ctrl.useRecordings ? \'view_video-settings_header_no-recordings-found\' : \'view_video-settings_header_no-videos\') | translate}} </div> </htbx-table> </div> <smash-spinny ng-if=$ctrl.loading data-size="\'medium\'" data-center=true></smash-spinny> </div> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/studio/views/list.recordings.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<div class=video-manager__list__col-1> <div> <div class=thumbnailWrap> <div ng-if=item.rec_saved_media_id class=video-manager__list__clip-saved> <span class=video-manager__list__clip-saved__icon> <smash-icon data-icon=check data-size=16 data-center=true></smash-icon> </span> <span class=video-manager__list__clip-saved__text> {{::'view_recordings-settings_text_clip-saved' | translate}} </span> </div> <img fallback-src={{::$root.config.fallbackImages.videoMedia}} ng-src=\"{{::$root.config.imgUrl + item.thumbnail}}\"/> </div> </div> </div> <div class=video-manager__list__col-2> <div class=video-manager__list__title> {{::item.rec_title}}  </div> </div> <div class=video-manager__list__col-3> <div>{{::item.rec_duration_sec | videoDuration}}</div> <div>{{::item.rec_date_added | videoDate}}</div> </div> <div class=video-manager__list__buttons> <button ng-if=!$ctrl.actions.isConfirmWaiting(item.rec_id) type=button class=\"video-manager__list__buttons__button button button--size-super-small button--variant-ok\" ui-sref=\"^.recordingsEditor({id: item.rec_id})\"> {{::'global_text_edit' | translate}} & {{::'global_button_save' | translate}} </button> <htbx-button ng-if=!$ctrl.actions.isConfirmWaiting(item.rec_id) data-type=button data-variant=warning data-size=super-small data-on-select=\"$ctrl.actions.openConfirm(item.rec_id, 'delete')\" class=\"video-manager__list__buttons__button video-manager__list__buttons__button--delete\"> <smash-icon icon=trash size=16 center=true></smash-icon> </htbx-button> <div ng-if=$ctrl.actions.isConfirmWaiting(item.rec_id) class=video-manager__confirm-deletion> <htbx-button data-type=button data-size=super-small class=video-manager__list__buttons__button data-on-select=$ctrl.actions.cancelConfirm()> {{::'global_button_cancel' | translate}} </htbx-button> <htbx-button data-type=button data-variant=warning data-size=super-small class=video-manager__list__buttons__button data-on-select=$ctrl.actions.deleteItem(item)> {{::'global_button_delete' | translate}} </htbx-button> </div> </div> ")}]),e.exports=a},function(e,t,n){var a="/src/js/studio/views/list.videos.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,' <div class=video-manager__list__col-1> <a ui-sref="detail.video({channel: item.media_user_name, id: item.media_id})"> <div class=video-manager__upload-preview> <div ng-if="item.media_id === $ctrl.actions.getLivestream().media_offline_id" class=video-manager__list__trailer> {{::\'view_video-settings_text_cover-video\' | translate}} </div> <div ng-if="item.media_processing === \'1\'"> <div class="video-manager__upload-preview__progress video-manager__upload-preview__progress--processing" ng-style="{ width: item.media_progress + \'%\' }"></div> <div class="video-manager__upload-preview__progress video-manager__upload-preview__progress-background"></div> <div class=video-manager__upload-preview__spinner> <smash-spinny data-variant="\'light\'" data-center=true></smash-spinny> </div> </div> <div ng-if=!item.media_processing class=video-manager__upload-preview__play> <smash-icon icon=play size=32 center=true></smash-icon> </div> <img fallback-src={{::$root.config.fallbackImages.videoMedia}} ng-src="{{::$root.config.imgUrl + item.media_thumbnail}}" class=video-manager__upload-preview__img alt=""/> </div> </a> </div> <div class=video-manager__list__col-2> <div> <a ui-sref="detail.video({channel: item.media_user_name, id: item.media_id})" class=video-manager__list__title> {{::item.media_status}} </a> <div class=video-manager__list__description> {{::item.media_description}} </div> <a ui-sref="game({game_name: item.category_seo_key})" class=video-manager__list__game> {{::item.category_name}} </a> </div> <div ng-if=item.media_processing class=video-manager__list__buttons> <htbx-button ng-if=!$ctrl.actions.isConfirmWaiting(item.media_id) data-variant=warning data-on-select="$ctrl.actions.openConfirm(item.media_id, \'delete\')" class=video-manager__list__buttons__button> {{::\'global_text_cancel\' | translate}} </htbx-button> <div ng-if="$ctrl.actions.isConfirmWaiting(item.media_id) && $ctrl.actions.getConfirmType() === \'delete\'" class=video-manager__confirm-deletion> <div> {{::\'global_header_are-you-sure\' | translate}} </div> <htbx-button data-on-select=$ctrl.actions.cancelConfirm() class=video-manager__list__buttons__button> {{::\'global_button_cancel\' | translate}} </htbx-button> <htbx-button data-variant=ok data-on-select=$ctrl.actions.deleteItem(item) class=video-manager__list__buttons__button> {{::\'global_button_delete\' | translate}} </htbx-button> </div> </div> </div> <div class=video-manager__list__col-3> <span class=video-manager__list__views> <span class=video-manager__list__views__counter> {{::item.media_views | number}} </span> <translation-message-format translation=global_text_view-views value=item.media_views></translation-message-format> </span> <span class=video-manager__list__duration> {{::item.media_duration | videoDuration}} </span> <span class=video-manager__list__date> {{::item.media_date_added | videoDate}} </span> <div> <div class="video-manager__list__icon video-manager__list__icon--private" ng-if=item.media_hidden tooltip-append-to-body=true tooltip-placement="auto top" uib-tooltip="{{:: \'global_text_private\' | translate }}"> <smash-icon icon=lock size=24 keep-colors></smash-icon> </div> <span ng-if="item.media_yt_upload_status === \'0\'" class="video-manager__list__icon video-manager__list__icon--youtube-processing"> <smash-icon data-icon=youtube data-keep-colors="\'true\'" tooltip-append-to-body=true tooltip-placement="auto top" uib-tooltip="{{:: \'view_video-settings_tooltip_pushing-youtube\' | translate }}"></smash-icon> </span> <span ng-if="item.media_yt_upload_status === \'1\'" class="video-manager__list__icon video-manager__list__icon--youtube"> <smash-icon data-icon=youtube data-keep-colors="\'true\'" tooltip-append-to-body=true tooltip-placement="auto top" uib-tooltip="{{:: \'view_video-settings_link_pushed-youtube\' | translate }}"></smash-icon> </span> <span ng-if="item.media_yt_upload_status === \'2\'" class="video-manager__list__icon video-manager__list__icon--youtube-error"> <smash-icon data-icon=youtube data-keep-colors="\'true\'" tooltip-append-to-body=true tooltip-placement="auto top" uib-tooltip="{{::\'view_video-settings_error_error-youtube\' | translate}}"></smash-icon> </span> </div> </div> <div ng-if=!item.media_processing class=video-manager__list__buttons> <div ng-if=!$ctrl.actions.isConfirmWaiting(item.media_id)> <htbx-button data-type=button data-variant=outline data-size=super-small ui-sref="^.videoEditor({id: item.media_id})" class=video-manager__list__buttons__button> {{::\'global_text_edit\' | translate}} </htbx-button> <div class=video-manager__list__buttons__more generic-popover gp-position=bottom gp-width=200 gp-height=350 gp-template-url={{::$ctrl.templates.listVideoActions}} gp-classes=\'["detail-more-popover","nono"]\' gp-on=click> <smash-icon icon=dots-horizontal size=32></smash-icon> </div> </div> <div ng-if="$ctrl.actions.isConfirmWaiting(item.media_id) && $ctrl.actions.getConfirmType() === \'delete\'" class=video-manager__confirm-deletion> <htbx-button data-type=button data-variant=default data-size=super-small data-on-select=$ctrl.actions.cancelConfirm() class=video-manager__list__buttons__button> {{::\'global_button_cancel\' | translate}} </htbx-button> <htbx-button data-type=button data-variant=warning data-size=super-small data-on-select=$ctrl.actions.deleteItem(item) class=video-manager__list__buttons__button> {{::\'global_button_delete\' | translate}} </htbx-button> </div> <div ng-if="$ctrl.actions.isConfirmWaiting(item.media_id) && $ctrl.actions.getConfirmType() === \'yt\'" class=video-manager__confirm-deletion> <htbx-button data-type=button data-variant=default data-size=super-small data-on-select=$ctrl.actions.cancelConfirm() class=video-manager__list__buttons__button> {{::\'global_button_cancel\' | translate}} </htbx-button> <htbx-button data-type=button data-variant=ok data-size=super-small data-on-select=$ctrl.actions.pushYT(item) data-loading=$ctrl.actions.isYTPushing(item) data-disabled=$ctrl.actions.isYTPushing(item) class=video-manager__list__buttons__button> {{::\'global_text_upload\' | translate}} </htbx-button> </div> </div> ')}]),e.exports=a},function(e,t,n){var a="/src/js/studio/views/list.video-actions.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<ul class=navigation> <li class=navigation__item> <a ng-href={{item.media_download_link}} class=navigation__item__link target=_blank rel=noopener> {{::'global_text_download' | translate}} </a> </li> <li class=navigation__item> <a ng-if=$ctrl.actions.getYouTube().connected ng-click=\"$ctrl.actions.openConfirm(item.media_id, 'yt'); remove_tooltip()\" class=navigation__item__link> {{::'global_button_push-youtube' | translate}} </a> <a ng-if=!$ctrl.actions.getYouTube().connected ng-click=\"$ctrl.actions.connectYouTube(); remove_tooltip()\" class=navigation__item__link> {{::'global_button_push-youtube' | translate}} </a> </li> <li ng-if=\"$ctrl.actions.getLivestream().media_offline_id !== item.media_id\" class=navigation__item> <a ng-click=\"$ctrl.actions.setOfflineTrailer(item); remove_tooltip()\" class=navigation__item__link> {{::'view_video-settings_link_set-trailer' | translate}} </a> </li> <li ng-if=\"$ctrl.actions.getLivestream().media_offline_id === item.media_id\" class=navigation__item> <a ng-click=\"$ctrl.actions.setOfflineTrailer(false); remove_tooltip()\" class=navigation__item__link> {{::'view_video-settings_link_remove-trailer' | translate}} </a> </li> <li class=navigation__item> <a ng-click=\"$ctrl.actions.openConfirm(item.media_id, 'delete'); remove_tooltip()\" class=\"navigation__item__link navigation__item__link--red\"> {{::'global_button_delete' | translate}} </a> </li> </ul> ")}]),e.exports=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2964));t.default={bindings:{stateUserName:"@"},templateUrl:a.default}},function(e,t,n){var a="/src/js/video-manager/components/video-manager-navigation.component.tpl.html";n(0).module("ng").run(["$templateCache",function(e){e.put(a,"<ul class=sub-nav__section> <li ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref=\"videomanager.recordings({user: $ctrl.stateUserName})\" class=sub-nav__link> {{::'global_menu_recordings' | translate}} </a> </li> <li ui-sref-active-eq=sub-nav__item--is-active class=sub-nav__item> <a ui-sref=\"videomanager.videos({user: $ctrl.stateUserName})\" class=sub-nav__link> {{::'global_text_videos' | translate}} </a> </li> </ul> ")}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=a.default.module("htbx.XhrError",[]).config(["$httpProvider",function(e){e.interceptors.push(["$q","Analytics",function(e,t){return{responseError:function(n){return n.status&&n.status>=500&&t.trackEvent("XhrError",n.status,n.config.method+" "+n.config.url),e.reject(n)}}}])}]).name},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,i,c,u,d,f,p,m,h){h.connect(l)(e),e.$on("$stateChangeStart",function(e,n){a(function(){t.animation=n.animation},0)}),"true"===i.search().nolog&&(console.log=angular.noop),e.browser={name:u.getName().toLowerCase()},t.appSettings=s.default;var g=new o.default(window.navigator.userAgent);if(window.mobilecheck=function(){return null!=g.phone()||null!=g.tablet()||g.is("Console")||window.navigator.userAgent.match(/SmartTv/i)},window.phonecheck=function(){return null!=g.phone()},t.mobileBrowser=window.mobilecheck,t.isPhoneDevice=window.phonecheck,t.isConsole=g.is("Console"),t.isAndroid=g.is("AndroidOS"),t.isIos=g.is("iOS"),t.isWinphone=g.is("WindowsPhoneOS"),t.isBlackberry=g.is("BlackBerryOS"),m.isAuthenticated()){var _={authToken:m.getToken()};m.getAppType()&&(_.app=m.getAppType()),c.login(_).catch(function(e){if(e&&e.data&&e.data.error_msg){switch(e.data.error_msg){case"auth_failed":case"user_banned":case"no_account":break;default:return}h.dispatch((0,r.reset)(!0)),n.transitionTo(n.current,{},{reload:!0,inherit:!1,notify:!1})}})}e.go=function(e,t){t?d.open(e,"_blank"):i.path(e)},t.config=s.default,e.getTitle=p.get,e.isChatVisible=function(){return e.chatOpen},e.getCurrentLanguage=function(){return e.language.abbreviation}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(363)),r=n(74),s=a(n(2));i.$inject=["$scope","$rootScope","$state","$timeout","$location","Auth","Browser","$window","Analytics","pageTitle","loggedUser","$ngRedux"];var l=function(e){var t=e.chat,n=e.language;return{chatOpen:t.enabled,language:n}};t.default=i},function(e,t,n){"use strict";function a(e,t,n){function a(e){e.title?o.set(t(e.title)()):!(0,i.default)(e.title)&&e.parent?a(n.get(e.parent)):o.clear()}var o=this,r="";this.set=function(e){e?r=e+" - Smashcast":this.clear()},this.get=function(){return r||"Smashcast"},this.clear=function(){r=""},e.$on("$stateChangeSuccess",function(e,t){a(t)})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(66));a.$inject=["$rootScope","$interpolate","$state"],t.default=a}],[727]);
